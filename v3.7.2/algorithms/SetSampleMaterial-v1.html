<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>SetSampleMaterial v1</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.1.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.1.0/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.7.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="" href="../index.html" />
    <link rel="next" title="SetScalingPSD v1" href="SetScalingPSD-v1.html" />
    <link rel="prev" title="SetSample v1" href="SetSample-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>3.7</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://www.mantidproject.org/Documentation">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="setsamplematerial-v1">
<span id="algm-setsamplematerial"></span><span id="algm-setsamplematerial-v1"></span><h1>SetSampleMaterial v1<a class="headerlink" href="#setsamplematerial-v1" title="Permalink to this headline">¶</a></h1>
<div class="figure align-right" id="index-0">
<a class="screenshot reference internal image-reference" href="../_images/SetSampleMaterial-v1_dlg.png"><img alt="../_images/SetSampleMaterial-v1_dlg.png" class="screenshot" src="../_images/SetSampleMaterial-v1_dlg.png" style="width: 194px;" /></a>
<p class="caption"><strong>SetSampleMaterial</strong> dialog.</p>
</div>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#summary" id="id1">Summary</a></li>
<li><a class="reference internal" href="#properties" id="id2">Properties</a></li>
<li><a class="reference internal" href="#description" id="id3">Description</a><ul>
<li><a class="reference internal" href="#chemical-composition-with-examples" id="id4">Chemical Composition with Examples</a></li>
<li><a class="reference internal" href="#cross-section-calculations" id="id5">Cross Section Calculations</a></li>
<li><a class="reference internal" href="#number-density" id="id6">Number Density</a></li>
<li><a class="reference internal" href="#linear-absorption-coefficients" id="id7">Linear Absorption Coefficients</a></li>
<li><a class="reference internal" href="#normalized-laue" id="id8">Normalized Laue</a></li>
</ul>
</li>
<li><a class="reference internal" href="#references" id="id9">References</a></li>
<li><a class="reference internal" href="#source" id="id10">Source</a></li>
</ul>
</div>
<div class="section" id="summary">
<h2><a class="toc-backref" href="#id1">Summary</a><a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>Sets the neutrons information in the sample.</p>
</div>
<div class="section" id="properties">
<h2><a class="toc-backref" href="#id2">Properties</a><a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="3%" />
<col width="14%" />
<col width="6%" />
<col width="65%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Direction</th>
<th class="head">Type</th>
<th class="head">Default</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>InputWorkspace</td>
<td>InOut</td>
<td><a class="reference internal" href="../concepts/Workspace.html#workspace"><em>Workspace</em></a></td>
<td><em>Mandatory</em></td>
<td>The workspace with which to associate the sample</td>
</tr>
<tr class="row-odd"><td>ChemicalFormula</td>
<td>Input</td>
<td>string</td>
<td>&nbsp;</td>
<td>ChemicalFormula or AtomicNumber must be given.</td>
</tr>
<tr class="row-even"><td>AtomicNumber</td>
<td>Input</td>
<td>number</td>
<td>0</td>
<td>ChemicalFormula or AtomicNumber must be given</td>
</tr>
<tr class="row-odd"><td>MassNumber</td>
<td>Input</td>
<td>number</td>
<td>0</td>
<td>Mass number if ion (default is 0)</td>
</tr>
<tr class="row-even"><td>SampleNumberDensity</td>
<td>Input</td>
<td>number</td>
<td><em>Optional</em></td>
<td>Optional:  This number density of the sample in number of formulas per cubic angstrom will be used instead of calculated</td>
</tr>
<tr class="row-odd"><td>ZParameter</td>
<td>Input</td>
<td>number</td>
<td><em>Optional</em></td>
<td>Number of formula units in unit cell</td>
</tr>
<tr class="row-even"><td>UnitCellVolume</td>
<td>Input</td>
<td>number</td>
<td><em>Optional</em></td>
<td>Unit cell volume in Angstoms^3. Will be calculated from the OrientedLattice if not supplied.</td>
</tr>
<tr class="row-odd"><td>CoherentXSection</td>
<td>Input</td>
<td>number</td>
<td><em>Optional</em></td>
<td>Optional:  This coherent cross-section for the sample material in barns will be used instead of tabulated</td>
</tr>
<tr class="row-even"><td>IncoherentXSection</td>
<td>Input</td>
<td>number</td>
<td><em>Optional</em></td>
<td>Optional:  This incoherent cross-section for the sample material in barns will be used instead of tabulated</td>
</tr>
<tr class="row-odd"><td>AttenuationXSection</td>
<td>Input</td>
<td>number</td>
<td><em>Optional</em></td>
<td>Optional:  This absorption cross-section for the sample material in barns will be used instead of tabulated</td>
</tr>
<tr class="row-even"><td>ScatteringXSection</td>
<td>Input</td>
<td>number</td>
<td><em>Optional</em></td>
<td>Optional:  This total scattering cross-section (coherent + incoherent) for the sample material in barns will be used instead of tabulated</td>
</tr>
<tr class="row-odd"><td>SampleMassDensity</td>
<td>Input</td>
<td>number</td>
<td><em>Optional</em></td>
<td>Optional: Measured mass density in g/cubic cm of the sample to be used to calculate the number density.</td>
</tr>
<tr class="row-even"><td>SampleNumberDensityResult</td>
<td>Output</td>
<td>number</td>
<td>&nbsp;</td>
<td>The provided or calculated sample number density in atoms/Angstrom^3</td>
</tr>
<tr class="row-odd"><td>ReferenceWavelength</td>
<td>Output</td>
<td>number</td>
<td>&nbsp;</td>
<td>The reference wavelength in Angstroms</td>
</tr>
<tr class="row-even"><td>TotalXSectionResult</td>
<td>Output</td>
<td>number</td>
<td>&nbsp;</td>
<td>The provided or calculated total cross-section for the sample material in barns.</td>
</tr>
<tr class="row-odd"><td>IncoherentXSectionResult</td>
<td>Output</td>
<td>number</td>
<td>&nbsp;</td>
<td>The provided or calculated incoherent cross-section for the sample material in barns.</td>
</tr>
<tr class="row-even"><td>CoherentXSectionResult</td>
<td>Output</td>
<td>number</td>
<td>&nbsp;</td>
<td>The provided or calculated coherent cross-section for the sample material in barns.</td>
</tr>
<tr class="row-odd"><td>AbsorptionXSectionResult</td>
<td>Output</td>
<td>number</td>
<td>&nbsp;</td>
<td>The provided or calculated Absorption cross-section for the sample material in barns.</td>
</tr>
<tr class="row-even"><td>bAverage</td>
<td>Output</td>
<td>number</td>
<td>&nbsp;</td>
<td>The calculated average scattering length, &lt;b&gt;, for the sample material in barns.</td>
</tr>
<tr class="row-odd"><td>bSquaredAverage</td>
<td>Output</td>
<td>number</td>
<td>&nbsp;</td>
<td>The calculated average scattering length squared, &lt;b^2&gt;, for the sample material in barns.</td>
</tr>
<tr class="row-even"><td>NormalizedLaue</td>
<td>Output</td>
<td>number</td>
<td>&nbsp;</td>
<td>The (unitless) normalized Laue diffuse scattering, L.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="description">
<h2><a class="toc-backref" href="#id3">Description</a><a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>Sets the neutrons information in the sample. You can either enter
details about the chemical formula or atomic number, or you can provide
specific values for the attenuation and scattering cross sections and
the sample number density. If you decide to provide specific values you
must give values for all three (attenuation and scattering cross
sections and the sample number density), and any formula information
will be ignored. If you miss any of the three specific values then the
other will be ignored.</p>
<p>Neutron scattering lengths and cross sections of the elements and their
isotopes have been taken from
<a class="reference external" href="http://www.ncnr.nist.gov/resources/n-lengths/list.html">NIST</a>.</p>
<div class="section" id="chemical-composition-with-examples">
<h3><a class="toc-backref" href="#id4">Chemical Composition with Examples</a><a class="headerlink" href="#chemical-composition-with-examples" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">H2</span> <span class="pre">O</span></tt> - Isotopically averaged Hydrogen</li>
<li><tt class="docutils literal"><span class="pre">(H2)2</span> <span class="pre">O</span></tt> - Heavy water</li>
<li><tt class="docutils literal"><span class="pre">D2</span> <span class="pre">O</span></tt> - Another way to specify heavy water</li>
</ul>
<p>Enter a composition as a molecular formula of elements or isotopes.
For example, basic elements might be <tt class="docutils literal"><span class="pre">H</span></tt>, <tt class="docutils literal"><span class="pre">Fe</span></tt> or <tt class="docutils literal"><span class="pre">Si</span></tt>, etc.
A molecular formula of elements might be <tt class="docutils literal"><span class="pre">H4-N2-C3</span></tt>, which
corresponds to a molecule with 4 Hydrogen atoms, 2 Nitrogen atoms and
3 Carbon atoms.  Each element in a molecular formula is followed by
the number of the atoms for that element, specified <strong>without a hyphen</strong>,
because each element is separated from other elements using a hyphen.
The number of atoms can be integer or float, but must start with a
digit, e.g. 0.6 is fine but .6 is not. Isotopes may also be included
in a material composition, and can be specified alone (as in <tt class="docutils literal"><span class="pre">Li7</span></tt>),
or in a molecular formula (as in <tt class="docutils literal"><span class="pre">(Li7)2-C-H4-N-Cl6</span></tt>).  Note, however,
that No Spaces or Hyphens are allowed in an isotope symbol specification.
Also Note that for isotopes specified in a molecular expression, the
isotope must be enclosed by parenthesis, except for two special cases,
<tt class="docutils literal"><span class="pre">D</span></tt> and <tt class="docutils literal"><span class="pre">T</span></tt>, which stand for <tt class="docutils literal"><span class="pre">H2</span></tt> and <tt class="docutils literal"><span class="pre">H3</span></tt>, respectively.</p>
</div>
<div class="section" id="cross-section-calculations">
<h3><a class="toc-backref" href="#id5">Cross Section Calculations</a><a class="headerlink" href="#cross-section-calculations" title="Permalink to this headline">¶</a></h3>
<p>Each of the cross sections (<img class="math" src="../_images/math/867e88734ade43673557344be7e57c5488afba70.png" alt="\sigma" style="vertical-align: 0px"/>) are calculated according to</p>
<div class="math">
<p><img src="../_images/math/379350c620a45e531e5c565d1f5f3434b647c2a9.png" alt="\sigma = \frac{1}{N_{atoms}}\sum_{i}\sigma_{i}n_{i}"/></p>
</div><p>where <img class="math" src="../_images/math/f1f25918d0db63cce099a9cec2bdf69cf036d19d.png" alt="N_{atoms} = \sum_{i}n_{i}" style="vertical-align: -5px"/>. A concrete example for the total
cross section of <tt class="docutils literal"><span class="pre">D2</span> <span class="pre">O</span></tt></p>
<div class="math">
<p><img src="../_images/math/212d7ef02a25944cf0e7bdbc6bb3a0b687397c93.png" alt="\sigma = \frac{1}{2+1}\left( 7.64*2 + 4.232*1\right) = 6.504\ barns"/></p>
</div></div>
<div class="section" id="number-density">
<h3><a class="toc-backref" href="#id6">Number Density</a><a class="headerlink" href="#number-density" title="Permalink to this headline">¶</a></h3>
<p>The number density is defined as</p>
<div class="math">
<p><img src="../_images/math/7b29a8fba6d70685f8c67b9995cba234b9749898.png" alt="\rho_n = \frac{N_{atoms}ZParameter}{UnitCellVolume}"/></p>
</div><p>It can can be generated in one of two ways:</p>
<ol class="arabic simple">
<li>Specifying it directly with <tt class="docutils literal"><span class="pre">SampleNumberDensity</span></tt></li>
<li>Specifying the <tt class="docutils literal"><span class="pre">ZParameter</span></tt> and the <tt class="docutils literal"><span class="pre">UnitCellVolume</span></tt> (or letting
the algorithm calculate it from the OrientedLattice on the
<tt class="docutils literal"><span class="pre">InputWorkspace</span></tt>).</li>
</ol>
</div>
<div class="section" id="linear-absorption-coefficients">
<h3><a class="toc-backref" href="#id7">Linear Absorption Coefficients</a><a class="headerlink" href="#linear-absorption-coefficients" title="Permalink to this headline">¶</a></h3>
<div class="math">
<p><img src="../_images/math/66913f393418ca14ba91d8e1c5b9f7549eeb7f8a.png" alt="\mu_s = \rho_n \frac{1}{N_{atoms}}\sum_{i}s_{i}n_{i} \text{ units of 1/cm}"/></p>
</div><div class="math">
<p><img src="../_images/math/aeb6ea212ddffcae4d818002080a5b9952e5f703.png" alt="s = \sigma_{total scattering}"/></p>
</div><div class="math">
<p><img src="../_images/math/3445cbf7bbd41897abdc0801c326e1760145ebab.png" alt="\mu_a = \rho_n \frac{1}{N_{atoms}}\sum_{i}a_{i}n_{i} \text{ units of 1/cm}"/></p>
</div><div class="math">
<p><img src="../_images/math/a728036ae014be2a9000458ca4f0c28a09594fc6.png" alt="a = \sigma_{absorption} (\lambda=1.8)"/></p>
</div><p>A detailed version of this is found in [2].</p>
</div>
<div class="section" id="normalized-laue">
<h3><a class="toc-backref" href="#id8">Normalized Laue</a><a class="headerlink" href="#normalized-laue" title="Permalink to this headline">¶</a></h3>
<div class="math">
<p><img src="../_images/math/7395687b0471f2a38c4cee71cba6cc2cddf426c2.png" alt="bAverage = &lt;b&gt; = \frac{1}{N_{atoms}}\sum_{i}b_{i}"/></p>
</div><div class="math">
<p><img src="../_images/math/5d2f84f51ad7e559584b60083fcb05d685125626.png" alt="bSquaredAverage = &lt;b^2&gt; = \frac{1}{N_{atoms}}\sum_{i}b_{i}^2"/></p>
</div><div class="math">
<p><img src="../_images/math/9cb6a470ab07275914016b4835216701b51455fb.png" alt="NormalizedLaue = \frac{&lt;b^2&gt;-&lt;b&gt;^2}{&lt;b&gt;^2}"/></p>
</div></div>
</div>
<div class="section" id="references">
<h2><a class="toc-backref" href="#id9">References</a><a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h2>
<p>The data used in this algorithm comes from the following paper.</p>
<ol class="arabic simple">
<li>Varley F. Sears, <em>Neutron scattering lengths and cross sections</em>, Neutron News <strong>3:3</strong> (1992) 26
<a class="reference external" href="http://dx.doi.org/10.1080/10448639208218770">doi: 10.1080/10448639208218770</a></li>
<li>J. A. K. Howard, O. Johnson, A. J. Schultz and A. M. Stringer, <em>Determination of the neutron
absorption cross section for hydrogen as a function of wavelength with a pulsed neutron
source</em>, J. Appl. Cryst. (1987). 20, 120-122
<a class="reference external" href="http://dx.doi.org/10.1107/S0021889887087028">doi: 10.1107/S0021889887087028</a></li>
</ol>
<p><strong>Categories</strong>: <a class="reference external" href="categories/Algorithms.html">Algorithms</a> | <a class="reference external" href="categories/Sample.html">Sample</a></p>
</div>
<div class="section" id="source">
<h2><a class="toc-backref" href="#id10">Source</a><a class="headerlink" href="#source" title="Permalink to this headline">¶</a></h2>
<p>C++ source: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/fa5a1131e7c741eb04be0c8ff63502e3217916cb/Framework/DataHandling/src/SetSampleMaterial.cpp">SetSampleMaterial.cpp</a></p>
<p>C++ header: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/fa5a1131e7c741eb04be0c8ff63502e3217916cb/Framework/DataHandling/inc/MantidDataHandling/SetSampleMaterial.h">SetSampleMaterial.h</a></p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="SetSample-v1.html" title="Previous Chapter: SetSample v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm">&laquo; SetSample v1</span>
    </a>
  </li>
  <li>
    <a href="SetScalingPSD-v1.html" title="Next Chapter: SetScalingPSD v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm">SetScalingPSD v1 &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>