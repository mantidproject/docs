<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>MergeRuns v1</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.1.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.1.0/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.7.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="" href="../index.html" />
    <link rel="next" title="Min v1" href="Min-v1.html" />
    <link rel="prev" title="MergeMDFiles v1" href="MergeMDFiles-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>3.7</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://www.mantidproject.org/Documentation">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="mergeruns-v1">
<span id="algm-mergeruns"></span><span id="algm-mergeruns-v1"></span><h1>MergeRuns v1<a class="headerlink" href="#mergeruns-v1" title="Permalink to this headline">¶</a></h1>
<div class="figure align-right" id="index-0">
<a class="screenshot reference internal image-reference" href="../_images/MergeRuns-v1_dlg.png"><img alt="../_images/MergeRuns-v1_dlg.png" class="screenshot" src="../_images/MergeRuns-v1_dlg.png" style="width: 361px;" /></a>
<p class="caption"><strong>MergeRuns</strong> dialog.</p>
</div>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#summary" id="id1">Summary</a></li>
<li><a class="reference internal" href="#properties" id="id2">Properties</a></li>
<li><a class="reference internal" href="#description" id="id3">Description</a><ul>
<li><a class="reference internal" href="#restrictions-on-the-input-workspace" id="id4">Restrictions on the input workspace</a></li>
<li><a class="reference internal" href="#processing-group-workspaces" id="id5">Processing Group Workspaces</a><ul>
<li><a class="reference internal" href="#multi-period-group-workspaces" id="id6">Multi-period Group Workspaces</a></li>
<li><a class="reference internal" href="#group-workspaces-that-are-not-multiperiod" id="id7">Group Workspaces that are not multiperiod</a></li>
</ul>
</li>
<li><a class="reference internal" href="#childalgorithms-used" id="id8">ChildAlgorithms used</a></li>
</ul>
</li>
<li><a class="reference internal" href="#usage" id="id9">Usage</a></li>
<li><a class="reference internal" href="#source" id="id10">Source</a></li>
</ul>
</div>
<div class="section" id="summary">
<h2><a class="toc-backref" href="#id1">Summary</a><a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>Combines the data contained in an arbitrary number of input workspaces.</p>
</div>
<div class="section" id="properties">
<h2><a class="toc-backref" href="#id2">Properties</a><a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="7%" />
<col width="3%" />
<col width="12%" />
<col width="5%" />
<col width="73%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Direction</th>
<th class="head">Type</th>
<th class="head">Default</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>InputWorkspaces</td>
<td>Input</td>
<td>str list</td>
<td><em>Mandatory</em></td>
<td>The names of the input workspaces as a comma-separated list. You may also group workspaces using the GUI or [[GroupWorkspaces]], and specify the name of the group instead.</td>
</tr>
<tr class="row-odd"><td>OutputWorkspace</td>
<td>Output</td>
<td><a class="reference internal" href="../concepts/Workspace.html#workspace"><em>Workspace</em></a></td>
<td><em>Mandatory</em></td>
<td>Name of the output workspace</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="description">
<h2><a class="toc-backref" href="#id3">Description</a><a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>Combines the data contained in an arbitrary number of input workspaces.
If the input workspaces do not have common binning, the bins in the
output workspace will cover the entire range of all the input
workspaces, with the largest bin widths used in regions of overlap.</p>
<p>The combination of each workspace is performed using the <a class="reference internal" href="Plus-v1.html#algm-plus"><em>Plus v1</em></a> algorithm,
this does not preform any weighting based on the duration of collection, or proton charge.
If you wish to perform Merge runs that should not be equally weighted then they should be
corrected individually prior to merging.</p>
<div class="section" id="restrictions-on-the-input-workspace">
<h3><a class="toc-backref" href="#id4">Restrictions on the input workspace</a><a class="headerlink" href="#restrictions-on-the-input-workspace" title="Permalink to this headline">¶</a></h3>
<p>The input workspaces must contain histogram data with the same number of
spectra and matching units and instrument name in order for the
algorithm to succeed.</p>
<p><strong>Workspace2Ds</strong>: Each input workspace must have common binning for all
its spectra.</p>
<p><strong>EventWorkspaces</strong>: This algorithm is Event-aware; it will append
event lists from common spectra. Binning parameters need not be compatible;
the output workspace will use the first workspaces&#8217; X bin boundaries.</p>
<p><strong>WorkspaceGroups</strong>: Each nested has to be one of the above.</p>
<p>Other than this it is currently left to the user to ensure that the
combination of the workspaces is a valid operation.</p>
</div>
<div class="section" id="processing-group-workspaces">
<h3><a class="toc-backref" href="#id5">Processing Group Workspaces</a><a class="headerlink" href="#processing-group-workspaces" title="Permalink to this headline">¶</a></h3>
<div class="section" id="multi-period-group-workspaces">
<h4><a class="toc-backref" href="#id6">Multi-period Group Workspaces</a><a class="headerlink" href="#multi-period-group-workspaces" title="Permalink to this headline">¶</a></h4>
<p>Group workspaces will be merged respecting the periods within each
group. For example if you have two multiperiod group workspaces A and B
and an output workspace C. A contains matrix workspaces A_1 and A_2,
and B contains matrix workspaces B_1 and B2. Since this is multiperiod
data, A_1 and B_1 share the same period, as do A_2 and B_2. So
merging must be with respect to workspaces of equivalent periods.
Therefore, merging is conducted such that A_1 + B_1 = C_1 and A_2 +
B_2 = C_2.</p>
</div>
<div class="section" id="group-workspaces-that-are-not-multiperiod">
<h4><a class="toc-backref" href="#id7">Group Workspaces that are not multiperiod</a><a class="headerlink" href="#group-workspaces-that-are-not-multiperiod" title="Permalink to this headline">¶</a></h4>
<p>If group workspaces are provided that are not multi-period, this
algorithm will merge across all nested workspaces, to give a singe
output matrix workspace.</p>
</div>
</div>
<div class="section" id="childalgorithms-used">
<h3><a class="toc-backref" href="#id8">ChildAlgorithms used</a><a class="headerlink" href="#childalgorithms-used" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="Rebin-v1.html#algm-rebin"><em>Rebin v1</em></a> algorithm is used, if neccessary, to put all the
input workspaces onto a common binning.</p>
<p>The <a class="reference internal" href="Plus-v1.html#algm-plus"><em>Plus v1</em></a> algorithm is used to combine each of the workspaces
together one pair at a time.</p>
</div>
</div>
<div class="section" id="usage">
<h2><a class="toc-backref" href="#id9">Usage</a><a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p><strong>Example: Merge Two Workspaces</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">dataX</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="n">dataY</span> <span class="o">=</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>

<span class="n">a</span> <span class="o">=</span> <span class="n">CreateWorkspace</span><span class="p">(</span><span class="n">dataX</span><span class="p">,</span> <span class="n">dataY</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">CreateWorkspace</span><span class="p">(</span><span class="n">dataX</span><span class="p">,</span> <span class="n">dataY</span><span class="p">)</span>

<span class="n">merged</span> <span class="o">=</span> <span class="n">MergeRuns</span><span class="p">(</span><span class="n">InputWorkspaces</span><span class="o">=</span><span class="s">&quot;a, b&quot;</span><span class="p">)</span>

<span class="k">print</span> <span class="s">&quot;a      = &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="k">print</span> <span class="s">&quot;b      = &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="k">print</span> <span class="s">&quot;merged = &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">merged</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-none"><div class="highlight"><pre>a      = [  6.  15.  21.   9.]
b      = [  6.  15.  21.   9.]
merged = [ 12.  30.  42.  18.]
</pre></div>
</div>
<p><strong>Example: Merge Two GroupWorkspaces</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">dataX</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="n">dataY</span> <span class="o">=</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>

<span class="n">a</span> <span class="o">=</span> <span class="n">CreateWorkspace</span><span class="p">(</span><span class="n">dataX</span><span class="p">,</span> <span class="n">dataY</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">CreateWorkspace</span><span class="p">(</span><span class="n">dataX</span><span class="p">,</span> <span class="n">dataY</span><span class="p">)</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">CreateWorkspace</span><span class="p">(</span><span class="n">dataX</span><span class="p">,</span> <span class="n">dataY</span><span class="p">)</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">CreateWorkspace</span><span class="p">(</span><span class="n">dataX</span><span class="p">,</span> <span class="n">dataY</span><span class="p">)</span>

<span class="n">group_1</span> <span class="o">=</span> <span class="n">GroupWorkspaces</span><span class="p">(</span><span class="n">InputWorkspaces</span><span class="o">=</span><span class="s">&quot;a, b&quot;</span><span class="p">)</span>
<span class="n">group_2</span> <span class="o">=</span> <span class="n">GroupWorkspaces</span><span class="p">(</span><span class="n">InputWorkspaces</span><span class="o">=</span><span class="s">&quot;c, d&quot;</span><span class="p">)</span>

<span class="n">merged</span> <span class="o">=</span> <span class="n">MergeRuns</span><span class="p">(</span><span class="n">InputWorkspaces</span><span class="o">=</span><span class="s">&quot;group_1, group_2&quot;</span><span class="p">)</span>

<span class="k">print</span> <span class="s">&quot;group_1 = [&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">group_1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span> <span class="o">+</span> <span class="s">&quot;,&quot;</span>
<span class="k">print</span> <span class="s">&quot;           &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">group_1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span> <span class="o">+</span> <span class="s">&quot;]&quot;</span>

<span class="k">print</span> <span class="s">&quot;group_2 = [&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">group_2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span> <span class="o">+</span> <span class="s">&quot;,&quot;</span>
<span class="k">print</span> <span class="s">&quot;           &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">group_2</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span> <span class="o">+</span> <span class="s">&quot;]&quot;</span>

<span class="k">print</span> <span class="s">&quot;merged   = &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">merged</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-none"><div class="highlight"><pre>group_1 = [[  6.  15.  21.   9.],
           [  6.  15.  21.   9.]]
group_2 = [[  6.  15.  21.   9.],
           [  6.  15.  21.   9.]]
merged   = [ 24.  60.  84.  36.]
</pre></div>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/Algorithms.html">Algorithms</a> | <a class="reference external" href="categories/Transforms/Merging.html">Transforms\Merging</a></p>
</div>
<div class="section" id="source">
<h2><a class="toc-backref" href="#id10">Source</a><a class="headerlink" href="#source" title="Permalink to this headline">¶</a></h2>
<p>C++ source: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/fa5a1131e7c741eb04be0c8ff63502e3217916cb/Framework/Algorithms/src/MergeRuns.cpp">MergeRuns.cpp</a></p>
<p>C++ header: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/fa5a1131e7c741eb04be0c8ff63502e3217916cb/Framework/Algorithms/inc/MantidAlgorithms/MergeRuns.h">MergeRuns.h</a></p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="MergeMDFiles-v1.html" title="Previous Chapter: MergeMDFiles v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm">&laquo; MergeMDFiles v1</span>
    </a>
  </li>
  <li>
    <a href="Min-v1.html" title="Next Chapter: Min v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm">Min v1 &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>