<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Muon ALC</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.1.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.1.0/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.8.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="" href="../index.html" />
    <link rel="up" title="Interfaces" href="index.html" />
    <link rel="next" title="Muon Analysis" href="Muon_Analysis.html" />
    <link rel="prev" title="Indirect Tools" href="Indirect_Tools.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>3.8</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://www.mantidproject.org/Documentation">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="muon-alc">
<h1>Muon ALC<a class="headerlink" href="#muon-alc" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#overview" id="id3">Overview</a></li>
<li><a class="reference internal" href="#global-options" id="id4">Global Options</a><ul>
<li><a class="reference internal" href="#export-results" id="id5">Export Results</a></li>
<li><a class="reference internal" href="#import-results" id="id6">Import Results</a></li>
</ul>
</li>
<li><a class="reference internal" href="#description" id="id7">Description</a><ul>
<li><a class="reference internal" href="#data-loading" id="id8">Data Loading</a><ul>
<li><a class="reference internal" href="#options" id="id9">Options</a></li>
</ul>
</li>
<li><a class="reference internal" href="#baseline-modelling" id="id10">Baseline Modelling</a><ul>
<li><a class="reference internal" href="#id1" id="id11">Options</a></li>
</ul>
</li>
<li><a class="reference internal" href="#peak-fitting" id="id12">Peak Fitting</a><ul>
<li><a class="reference internal" href="#id2" id="id13">Options</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#run-the-alc-interface" id="id14">Run the ALC interface</a></li>
<li><a class="reference internal" href="#feedback-comments" id="id15">Feedback &amp; Comments</a></li>
</ul>
</div>
<div class="section" id="overview">
<h2><a class="toc-backref" href="#id3">Overview</a><a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>The Avoided Level Crossing (ALC) <img class="math" src="../_images/math/d1fa7ebc2e3dfa947a5829e25230272458a7b2a6.png" alt="\mu SR" style="vertical-align: -4px"/> technique probes the energy levels of a
muoniated radical system, and can be used to elucidate the regiochemistry of
muonium addition, dynamic processes, and reaction kinetics, through measurement
of the muon and proton hyperfine coupling interactions. Examples of how the ALC
technique can be used are presented in this <a class="reference external" href="http://www.mantidproject.org/images/3/39/Muon_level_crossing_resonance_leaflet.pdf">brochure</a>.</p>
<p>Radical systems are formed during muon thermalisation, during which a portion of
the implanted muons are able to capture electrons to form muonium (<img class="math" src="../_images/math/f21be64f64fbb47d0d1c751814d57e82c621bc7a.png" alt="\mu+e" style="vertical-align: -4px"/>). Muonium
adds to centres of unsaturation in a sample (double or triple bonds) to form a
muoniated radical species. The spins of the muon, unpaired electron, and protons
within the sample interact through the isotropic and anisotropic components of
the hyperfine interaction, forming a quantised system, described by a series of
discrete energy levels.</p>
<p>In an ALC experiment the magnetic field is incrementally scanned, recording a
specified number of positron events at each step. At certain fields, the energy
levels in the muon and sample system become nearly degenerate, and are able to
interact through the hyperfine coupling interaction. The spins oscillate between
the two energy states resulting in a dip in the polarisation, observed as a
resonance during the magnetic field scan. The three types of ALC resonance
(referred to as <img class="math" src="../_images/math/774b7a91b4c9a4be1617ed70cb53d9f22afc5cf5.png" alt="\Delta 0" style="vertical-align: 0px"/>, <img class="math" src="../_images/math/ecd2db71bd9c92ddc750c31b6969a5638eb9540f.png" alt="\Delta 1" style="vertical-align: -1px"/>, and <img class="math" src="../_images/math/ec39ae880c45669c71a4cba48304e6d9b7e65505.png" alt="\Delta 2" style="vertical-align: 0px"/> resonances) are characterised by the selection
rule <img class="math" src="../_images/math/938ce6a67366743aa02232935fd2a015f12f939a.png" alt="\Delta M=0, \pm 1, \pm 2" style="vertical-align: -4px"/>, where <img class="math" src="../_images/math/b6e6bf2d998d1a33904141106a453324f9c97b35.png" alt="M" style="vertical-align: 0px"/> is the sum of the mz quantum numbers of the spins
of the muon, electron and proton. Isotropic hyperfine coupling interactions
manifest as <img class="math" src="../_images/math/774b7a91b4c9a4be1617ed70cb53d9f22afc5cf5.png" alt="\Delta 0" style="vertical-align: 0px"/> resonances resulting from muon-nuclear spin flip-flop transitions.
The <img class="math" src="../_images/math/774b7a91b4c9a4be1617ed70cb53d9f22afc5cf5.png" alt="\Delta 0" style="vertical-align: 0px"/> resonance field is dependent on the magnitude of both the muon and proton
hyperfine interaction (<img class="math" src="../_images/math/96181d3691e97e0c8f0938cd90b266abf173873e.png" alt="A\mu" style="vertical-align: -4px"/> and <img class="math" src="../_images/math/740c2544b32e09a041799d4d32212dbcf7642527.png" alt="Ak" style="vertical-align: 0px"/>, respectively) and can occur in gaseous, liquid,
or solid phase samples. The muon spin flip transition that produces the <img class="math" src="../_images/math/ecd2db71bd9c92ddc750c31b6969a5638eb9540f.png" alt="\Delta 1" style="vertical-align: -1px"/>
resonance only arises in the presence of anisotropy. Radical systems possessing
complete anisotropy produce a single broad resonance and systems with axial or
equatorial anisotropy produce an asymmetrical resonance line shape known as a
powder pattern. The <img class="math" src="../_images/math/ec39ae880c45669c71a4cba48304e6d9b7e65505.png" alt="\Delta 2" style="vertical-align: 0px"/> resonance is also observed in radicals from anisotropic
environments. However, these are rarely observed experimentally due to their
characteristically weak intensity line shapes. The magnitude of the hyperfine
interaction is characteristic of the muon binding site, and can result in an
ALC resonance associated with each of the magnetically equivalent nuclei,
for each muoniated radical isomer.</p>
<p>The magnetic field position, the full width at half height (FWHH), and the
resonance line shape are the important parameters to be extracted from the
ALC spectrum. The field position of a resonance is related to the muon
and/or nuclear hyperfine coupling constant. They often show strong temperature
dependence and can reveal information regarding the structure of the investigated
system. The FWHH of a resonance may indicate any motional dynamics present in the
system, and can also be used to determine muonium addition rates. The anisotropic
environments experienced by radicals in solid samples can produce a variety of
&#8216;powder pattern&#8217; lineshapes, which are characteristic of the orientation of the
effective hyperfine tensors relative to the magnetic field, and can thus
indicate any reorientational motion present.</p>
<p>In order to extract these parameters accurately from an ALC spectrum it is
necessary to determine a baseline, perform a baseline subtraction and then
fit the peaks. The Muon ALC interface integrates this sequence of
operations hiding the complexity of the underlying algorithms.</p>
</div>
<div class="section" id="global-options">
<h2><a class="toc-backref" href="#id4">Global Options</a><a class="headerlink" href="#global-options" title="Permalink to this headline">¶</a></h2>
<p>Gloabl options are options visible and accesible from any step in the
interface. Currently, there are two buttons that can be used at any point during the analysis.</p>
<div class="section" id="export-results">
<h3><a class="toc-backref" href="#id5">Export Results</a><a class="headerlink" href="#export-results" title="Permalink to this headline">¶</a></h3>
<p>The &#8216;Export results...&#8217; button allows the user to export intermediate results at any step. When clicked,
it propmts the user to enter a label for the workspace group that will gather the ALC results. This
label is defaulted to &#8216;ALCResults&#8217;. In the DataLoading step, data are exported in a workspace named
&lt;Label&gt;_Loaded_Data, which contains a single spectrum. In the BaselineModelling step, data and model
are exported in a set of three workspaces: a workspace named &lt;Label&gt;_Baseline_Workspace, which contains
three spectra corresponding to the original data, model and corrected data respectively, a TableWorkspace
named &lt;Label&gt;_Baseline_Model with information on the fitting parameters, and a second TableWorkspace
named &lt;Label&gt;_Baseline_Sections containing information on the sections used to fit the baseline. When
exporting results in the PeakFitting steps, two workspaces will be created: a &lt;Label&gt;_Peaks_Workspace,
that contains at least three spectra: the corrected data (i.e., the data after the baseline model
subtraction), fitting function and difference curve. If more than one peak was fitted, individual peaks
will be stored in subsequent spectra. The &lt;Label&gt;_Peaks_FitResults TableWorkspace provides information
about the fitting parameters and errors.</p>
<p>Note that the &#8216;Export results...&#8217; button exports as much information as possible, which means that all
the data stored in the interface will be exported when clicked, regardless of the current step. For
example, if the user starts a new analysis and the button is used in the &#8216;DataLoading&#8217; step, only the
&lt;Label&gt;_Loaded_Data workspace will be created in the ADS. However, if the user proceeds with the analysis
and clicks &#8216;Export results...&#8217; at the &#8216;BaselineModelling&#8217; step, the interface will export not only the
&lt;Label&gt;_Baseline_* workspaces but also the &lt;Label&gt;_Loaded_Data workspace. In the same way, if the user
has completed the peak fitting analysis and uses the button in the PeakFitting step, not only the
&lt;Label&gt;_Peaks_* workspaces will be created, but also the &lt;Label&gt;_Baseline_* and the &lt;Label&gt;_Loaded_Data
workspaces. Also, note that if &#8216;Export results...&#8217; is used at a specific step but results from a previous
analysis exist in a subsequent stage of the analysis, the latter will be exported as well.</p>
</div>
<div class="section" id="import-results">
<h3><a class="toc-backref" href="#id6">Import Results</a><a class="headerlink" href="#import-results" title="Permalink to this headline">¶</a></h3>
<p>The &#8216;Import results...&#8217; button allows the user to load previously analysed data, ideally saved using
&#8216;Export results...&#8217;. When clicked, it propmts the user to enter a label for the workspace group from which
data will be imported, which is defaulted to &#8216;ALCResults&#8217;. The interface then searches for a workspace
corresponding to the
interface&#8217;s step from which it was called. This means that if the user is currently in the
DataLoading step, the interface will search for a workspace named &lt;Label&gt;_Loaded_Data. If
it is used from the BaselineModelling step, the workspace named &lt;Label&gt;_Baseline_Workspace
will be loaded. Finally, if PeakFitting is the current step in the analysis, the workspace
&lt;Label&gt;_Peaks_Workspaces will be imported. Note that using the &#8216;Import results...&#8217; button
at a specific step does not produce the loading of data corresponding to previous or subsequent
steps. In addition, data at subsequent steps will not be cleared. For instance, if some data
were analysed in the PeakFitting step and you went back to BaselineModelling to import a new
set of runs, previous peaks would be kept in PeakFitting. Note that at this stage of development
&#8216;Import results...&#8217; does not load fitting results or fitting sections.</p>
</div>
</div>
<div class="section" id="description">
<h2><a class="toc-backref" href="#id7">Description</a><a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>This section describes the three steps in the analysis: Data Loading, Baseline Modelling and Peak
Fitting.</p>
<div class="section" id="data-loading">
<h3><a class="toc-backref" href="#id8">Data Loading</a><a class="headerlink" href="#data-loading" title="Permalink to this headline">¶</a></h3>
<p>In the Data Loading step, a sequence of runs are loaded through the fields <strong>First</strong> and <strong>Last</strong>.
All datasets with run number between these limits will be loaded, and a warning message
will be shown if any of them is missing. Instead of selecting the <strong>Last</strong> dataset manually, the
<strong>Auto</strong> checkbox can be ticked. In this case, the text box and button are disabled and the interface
automatically selects the most recently modified file in the directory. The data will be automatically
updated when new files are added to the directory.</p>
<p>The input files must be Muon Nexus files with names beginning with at least one letter
and followed by a number. In addition, the user must supply the <strong>Log</strong> data that will
be used as X parameter from the list of available log values.
Some additional options may be specified: the <strong>Dead Time Corrections</strong>, if any, can be
loaded from the input dataset itself or from a custom file specified by the user. The
detector <strong>Grouping</strong> is defaulted to <strong>Auto</strong>, in which case the grouping information
is read from the run data, although it can be customized by setting the list of spectra
for the forward and backward groups. The user can also choose the <strong>Period</strong> number
that corresponds to the red period, and the number corresponding to the green period,
if the option <strong>Subtract</strong> is checked, and finally the type of <strong>Calculation</strong> together
with the time limits. A click on the <strong>Load</strong> button results in the calculation of the
asymmetry, displayed on the right panel.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/ALCDataLoading3.7.png"><img alt="../_images/ALCDataLoading3.7.png" src="../_images/ALCDataLoading3.7.png" style="width: 800px;" /></a>
</div>
<div class="section" id="options">
<h4><a class="toc-backref" href="#id9">Options</a><a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h4>
<dl class="docutils">
<dt>First</dt>
<dd>The path to the first nexus file in the series.</dd>
<dt>Last</dt>
<dd>The path to the last nexus file in the series.</dd>
<dt>Log</dt>
<dd>The name of the log value which will be used as the X-axis in the output workspace. The list of
possible logs is automatically populated when the first nexus file is browsed and selected. If
the run start/end time is chosen, they are plotted in seconds relative to the start time of the
first run.</dd>
<dt>Take log value at</dt>
<dd>The function to apply to the time series log: Mean/Min/Max/First/Last.</dd>
<dt>Dead Time Correction</dt>
<dd>Type of dead time corrections to apply. Options are <em>None</em>, in which case no
corrections will be applied, <em>From Data File</em>, to load corrections from
the input dataset itself, or <em>From Custom File</em>, to load corrections from a
specified nexus file.</dd>
<dt>Grouping</dt>
<dd>Detector grouping to apply. <em>Auto</em> will load the grouping information contained
in the run file, while <em>Custom</em> allows to specify the list of spectra for both the
forward and backward groups.</dd>
<dt>Periods</dt>
<dd>Period number to use as red data. The <em>Subtract</em> option, if checked, allows to
select the green period number that will be subtracted to the red data.</dd>
<dt>Calculation</dt>
<dd>Type of calculation, <em>Integral</em> or <em>Differential</em>, together with the time limits.</dd>
</dl>
<dl class="docutils">
<dt>?</dt>
<dd>Shows this help page.</dd>
<dt>Load</dt>
<dd>Computes the asymmetry according to selected options and displays it against the
chosen log value.</dd>
<dt>Loaded Data</dt>
<dd>Graph where the asymmetry as a function of the Log value is displayed. These are the
data passed to the BaselineModelling step.</dd>
</dl>
</div>
</div>
<div class="section" id="baseline-modelling">
<h3><a class="toc-backref" href="#id10">Baseline Modelling</a><a class="headerlink" href="#baseline-modelling" title="Permalink to this headline">¶</a></h3>
<p>In the Baseline Modelling step, the user can fit a baseline by selecting which
sections of the data should be used in the fit, and what the baseline fit
function should be. To select a baseline function, right-click on the <strong>Function</strong>
region, then <strong>Add function</strong> and choose among the different possibilities. Then
pick the desired fitting sections by right-clicking in the <strong>Sections</strong> area as
many times as sections to use. Sections are also displayed on the <strong>Baseline model</strong>
graph and can be easily modified by clicking and dragging the corresponding
vertical lines.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/ALCBaselineModelling.png"><img alt="../_images/ALCBaselineModelling.png" src="../_images/ALCBaselineModelling.png" style="width: 800px;" /></a>
</div>
<div class="section" id="id1">
<h4><a class="toc-backref" href="#id11">Options</a><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h4>
<dl class="docutils">
<dt>Function</dt>
<dd>Right-click on the blank area to add a baseline function.</dd>
<dt>Sections</dt>
<dd>Right-click on the blank area to add as many sections as needed to
select the different ranges to fit. Each section is coloured differently and
can be modified by dragging the vertical lines.</dd>
</dl>
<dl class="docutils">
<dt>?</dt>
<dd>Shows this help page.</dd>
<dt>Fit</dt>
<dd>Fits the data.</dd>
<dt>Baseline model</dt>
<dd>Graph where the original data and the model are displayed, together with
the fitting ranges.</dd>
<dt>Corrected data</dt>
<dd>Graph where the corrected data, i.e., the original data with the baseline
subtracted, are displayed. These are the data passed to the PeakFitting
step.</dd>
</dl>
</div>
</div>
<div class="section" id="peak-fitting">
<h3><a class="toc-backref" href="#id12">Peak Fitting</a><a class="headerlink" href="#peak-fitting" title="Permalink to this headline">¶</a></h3>
<p>In the Peak Fitting step, the data with the baseline subtracted are shown in
the right panel. The user can study the peaks of interest all with the same simple
interface. To add a new peak, right-click on the <strong>Peaks</strong> region, then select
<strong>Add function</strong> and choose among the different possibilities in the category Peak.
Add as many peaks as needed. To activate the peak picker tool, click on one of
the functions in the browser and then left-click on the graph near the peak&#8217;s
center while holding the Shift key. This will move the picker tool associated
with the highlighted function to the desired location. To set the peak width,
click and drag while holding Crtl. You can then tune the heigth by clicking on
the appropriate point in the graph while holding Shift. Repeat the same steps
with the rest of the functions in the browser and hit <strong>Fit</strong> to fit the peaks.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/ALCPeakFitting.png"><img alt="../_images/ALCPeakFitting.png" src="../_images/ALCPeakFitting.png" style="width: 800px;" /></a>
</div>
<div class="section" id="id2">
<h4><a class="toc-backref" href="#id13">Options</a><a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h4>
<dl class="docutils">
<dt>Peaks</dt>
<dd>Right-click on the blank area to add as many peak functions as needed.</dd>
</dl>
<dl class="docutils">
<dt>?</dt>
<dd>Shows this help page.</dd>
<dt>Fit</dt>
<dd>Fits the data.</dd>
<dt>Peak graph</dt>
<dd>Graph where the corrected data and the fitted peaks are displayed.</dd>
</dl>
</div>
</div>
</div>
<div class="section" id="run-the-alc-interface">
<h2><a class="toc-backref" href="#id14">Run the ALC interface</a><a class="headerlink" href="#run-the-alc-interface" title="Permalink to this headline">¶</a></h2>
<p>The interface is available from the MantidPlot Interfaces menu: Interfaces -&gt; Muon -&gt; ALC.</p>
</div>
<div class="section" id="feedback-comments">
<h2><a class="toc-backref" href="#id15">Feedback &amp; Comments</a><a class="headerlink" href="#feedback-comments" title="Permalink to this headline">¶</a></h2>
<p>If you have any questions or comments about this interface or this help page, please
contact the <a class="reference external" href="http://www.mantidproject.org/Contact">Mantid team</a> or the <a class="reference external" href="http://www.isis.stfc.ac.uk/groups/muons/muons3385.html">Muon group</a>.</p>
<p><strong>Categories</strong>: <a class="reference external" href="categories/Interfaces.html">Interfaces</a> | <a class="reference external" href="../algorithms/categories/Muon.html">Muon</a></p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="Indirect_Tools.html" title="Previous Chapter: Indirect Tools"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm">&laquo; Indirect Tools</span>
    </a>
  </li>
  <li>
    <a href="Muon_Analysis.html" title="Next Chapter: Muon Analysis"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm">Muon Analysis &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>