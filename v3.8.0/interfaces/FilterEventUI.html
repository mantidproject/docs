<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Filter Events Interface</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.1.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.1.0/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.8.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="" href="../index.html" />
    <link rel="up" title="Interfaces" href="index.html" />
    <link rel="next" title="HFIR Powder Reduction Interface" href="HFIRPowderReduction.html" />
    <link rel="prev" title="Engineering Diffraction Testing" href="Engineering_Diffraction_TestGuide.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>3.8</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://www.mantidproject.org/Documentation">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="filter-events-interface">
<h1>Filter Events Interface<a class="headerlink" href="#filter-events-interface" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#description" id="id1">Description</a></li>
<li><a class="reference internal" href="#layout" id="id2">Layout</a></li>
<li><a class="reference internal" href="#data-loading" id="id3">Data Loading</a></li>
<li><a class="reference internal" href="#plotting" id="id4">Plotting</a></li>
<li><a class="reference internal" href="#output-storing-event-splitters" id="id5">Output &amp; Storing Event Splitters</a></li>
<li><a class="reference internal" href="#advanced-setup" id="id6">Advanced Setup</a></li>
</ul>
</div>
<div class="section" id="description">
<h2><a class="toc-backref" href="#id1">Description</a><a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>The Filter Events interface provides aid to users in order to set up event filter with different
<a class="reference internal" href="../algorithms/GenerateEventsFilter-v1.html#functionalities-generateeventfilter-ref"><em>Functionalities</em></a>. This interface utilises the algorithm
<a class="reference internal" href="../algorithms/GenerateEventsFilter-v1.html#algm-generateeventsfilter"><em>GenerateEventsFilter</em></a> which is able to generate event splitters
according to user’s requirement for filtering events.
The generated time splitters are stored either in a SplittersWorkspace or a
<a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><em>MatrixWorkspace</em></a>. Both of them will be used by algorithm
<a class="reference internal" href="../algorithms/FilterEvents-v1.html#algm-filterevents"><em>FilterEvents</em></a> which filters the events from a EventWorkspace to one or
multiple EventWorkspaces according to an input <a class="reference internal" href="../api/python/mantid/api/ISplittersWorkspace.html#splittersworkspace"><em>Splitters Workspace</em></a>
containing a series of splitters.</p>
<p>On the bottom section the user has an option of <a class="reference internal" href="../algorithms/GenerateEventsFilter-v1.html#filterbylogv-generateeventfilter-ref"><em>Generate event filters by sample log value</em></a>
or <a class="reference internal" href="../algorithms/GenerateEventsFilter-v1.html#filterbytime-generateeventfilter-ref"><em>Generate event filters by time</em></a>. User also has an option of filtering events using
<a class="reference internal" href="#advsetup-filtereventui-ref"><em>Advanced Setup</em></a>.</p>
</div>
<div class="section" id="layout">
<h2><a class="toc-backref" href="#id2">Layout</a><a class="headerlink" href="#layout" title="Permalink to this headline">¶</a></h2>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/FilterEventsGUI.png"><img alt="../_images/FilterEventsGUI.png" src="../_images/FilterEventsGUI.png" style="width: 400px;" /></a>
</div>
</div>
<div class="section" id="data-loading">
<h2><a class="toc-backref" href="#id3">Data Loading</a><a class="headerlink" href="#data-loading" title="Permalink to this headline">¶</a></h2>
<p>For the data loading step, MantidPlot provides an interface in which the user shall select the
appropriate file via <em>Browse</em> button or by entering an integer as a valid run number in the
<em>File/Run</em> field, if the instrument name is set up in Mantid. The user must provide a file,
which contains valid sample logs
for splitting and <a class="reference internal" href="../concepts/EventWorkspace.html#eventworkspace"><em>EventWorkspace</em></a>. The data will be loaded once the user
has clicked upon the <em>Load</em> button.
With the help of <em>drop-down</em> list, user is be able to load more than one file and then click
on the <em>Use</em> button which will load the selected
file. If the file cannot be found in the <em>drop-down</em> list then user can click <cite>Refresh</cite> button
which should update
the <em>drop-down</em> list and enable user to select any browsed file.</p>
</div>
<div class="section" id="plotting">
<h2><a class="toc-backref" href="#id4">Plotting</a><a class="headerlink" href="#plotting" title="Permalink to this headline">¶</a></h2>
<p>Once the file has been selected then the Interface would automatically generate the plot using
the provided file. If the user wish to plot another file then that could be achieved by selecting
another file from <em>drop-down</em> list and clicking on the <em>Use</em> button, which will automatically
plot the new graph generated from the selected file.</p>
</div>
<div class="section" id="output-storing-event-splitters">
<h2><a class="toc-backref" href="#id5">Output &amp; Storing Event Splitters</a><a class="headerlink" href="#output-storing-event-splitters" title="Permalink to this headline">¶</a></h2>
<p>The output will be one or multiple workspaces according to the number of index in splitters. The
output workspace name is the combination of parameter OutputWorkspaceBaseName and the index in
splitter. The <em>Splitter Title</em> field is used as title of output splitters workspace and information
workspace. An event splitter used in Mantid contains start time, stop time and target workspace. Any
data structure that has the above 3 properties can serve as an event splitter. There are two types of
output workspaces for storing event splitters that are supported by
<a class="reference internal" href="../algorithms/GenerateEventsFilter-v1.html#algm-generateeventsfilter"><em>GenerateEventsFilter</em></a> algorithm.</p>
<ul class="simple">
<li><a class="reference internal" href="../api/python/mantid/api/ISplittersWorkspace.html#splittersworkspace"><em>Splitters Workspace</em></a>: It is a
<a class="reference internal" href="../concepts/TableWorkspaces.html#table-workspaces"><em>TableWorkspace</em></a> that has 3 columns for start time,
stop time and target workspace for events within start time and stop time. This type of workspace is
appropriate for the case that the amount of generated event splitters are not huge.</li>
<li><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><em>MatrixWorkspace</em></a>: It uses X-axis to store time stamp in total nanoseconds
and Y-axis to store target workspace. For example, <img class="math" src="../_images/math/b65e716985f1f78dedc8b6015ba5464a039c6aa5.png" alt="[x_i, x_i+1]" style="vertical-align: -5px"/> and <img class="math" src="../_images/math/5f069aed0ea39978c994bc933a6c0174a86cf673.png" alt="[y_i]" style="vertical-align: -5px"/> construct
an event filter as start time is <img class="math" src="../_images/math/c26c0426a3a6625a8d9172f3b84b3cbfeaedf86e.png" alt="[x_i]" style="vertical-align: -5px"/>, stop time is <img class="math" src="../_images/math/1066ec5b133208de257bb81a33f2efbe0e5b48cb.png" alt="[x_i+1]" style="vertical-align: -5px"/>, and target workspace
is <img class="math" src="../_images/math/147b1b5ad5ca41a3c218f64d2f30fb70f7e0a8ab.png" alt="[y_i-th]" style="vertical-align: -5px"/> workspace. If <img class="math" src="../_images/math/5f069aed0ea39978c994bc933a6c0174a86cf673.png" alt="[y_i]" style="vertical-align: -5px"/>, is less than 0, then it means
that all events between time <img class="math" src="../_images/math/c26c0426a3a6625a8d9172f3b84b3cbfeaedf86e.png" alt="[x_i]" style="vertical-align: -5px"/> and <img class="math" src="../_images/math/1066ec5b133208de257bb81a33f2efbe0e5b48cb.png" alt="[x_i+1]" style="vertical-align: -5px"/> will be discarded. This type of
workspace is appropriate for the case that the amount of generated event splitters are huge, because
processing a <a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><em>MatrixWorkspace</em></a> is way faster than a
<a class="reference internal" href="../concepts/TableWorkspaces.html#table-workspaces"><em>TableWorkspace</em></a> in Mantid.</li>
</ul>
</div>
<div class="section" id="advanced-setup">
<span id="advsetup-filtereventui-ref"></span><h2><a class="toc-backref" href="#id6">Advanced Setup</a><a class="headerlink" href="#advanced-setup" title="Permalink to this headline">¶</a></h2>
<p>The <strong>Advanced Setup</strong> section on the bottom of the interface provides access to the following
functionality:</p>
<table border="1" class="docutils">
<colgroup>
<col width="24%" />
<col width="76%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Action</th>
<th class="head">Effect</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>TOF Correction
To Sample</td>
<td>Type of correction on neutron events to sample time from
detector time.</td>
</tr>
<tr class="row-odd"><td>Fast Log</td>
<td>Fast log will make output workspace to be a maxtrix
workspace.</td>
</tr>
<tr class="row-even"><td>Generate Filter
In Parallel</td>
<td>Use multiple cores to generate events filter by log
values. Default as Serial which uses a single core and
Parallel uses multiple cores.</td>
</tr>
<tr class="row-odd"><td>Spectrum without
Detector</td>
<td>Approach to deal with spectrum without detectors.</td>
</tr>
<tr class="row-even"><td>Filter By Pulse
Time</td>
<td>Filter the event by its pulse time only for slow sample
environment log.This option can make execution of
algorithm faster. But it lowers precision.</td>
</tr>
<tr class="row-odd"><td>Output Workspace
Indexed From 1</td>
<td>If selected, the minimum output workspace is indexed
from 1 and continuous.</td>
</tr>
<tr class="row-even"><td>Group Output
Workspace</td>
<td>Option to group all the output workspaces.</td>
</tr>
<tr class="row-odd"><td>Split Sample
Log</td>
<td>If selected, all sample logs will be splitted by the
event splitters. It is not recommended for fast event
log splitters.</td>
</tr>
</tbody>
</table>
<p><strong>Categories</strong>: <a class="reference external" href="categories/Interfaces.html">Interfaces</a> | <a class="reference external" href="categories/FilterEventUI.html">FilterEventUI</a></p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="Engineering_Diffraction_TestGuide.html" title="Previous Chapter: Engineering Diffraction Testing"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm">&laquo; Engineering Diff...</span>
    </a>
  </li>
  <li>
    <a href="HFIRPowderReduction.html" title="Next Chapter: HFIR Powder Reduction Interface"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm">HFIR Powder Redu... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>