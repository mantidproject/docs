<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>MaskBins v1</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.1.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.1.0/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.8.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="" href="../index.html" />
    <link rel="next" title="MaskBinsFromTable v1" href="MaskBinsFromTable-v1.html" />
    <link rel="prev" title="MaskBTP v1" href="MaskBTP-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>3.8</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://www.mantidproject.org/Documentation">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="maskbins-v1">
<span id="algm-maskbins"></span><span id="algm-maskbins-v1"></span><h1>MaskBins v1<a class="headerlink" href="#maskbins-v1" title="Permalink to this headline">¶</a></h1>
<div class="figure align-right" id="index-0">
<a class="screenshot reference internal image-reference" href="../_images/MaskBins-v1_dlg.png"><img alt="../_images/MaskBins-v1_dlg.png" class="screenshot" src="../_images/MaskBins-v1_dlg.png" style="width: 358px;" /></a>
<p class="caption"><strong>MaskBins</strong> dialog.</p>
</div>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#summary" id="id1">Summary</a></li>
<li><a class="reference internal" href="#properties" id="id2">Properties</a></li>
<li><a class="reference internal" href="#description" id="id3">Description</a></li>
<li><a class="reference internal" href="#usage" id="id4">Usage</a></li>
<li><a class="reference internal" href="#related-algorithms" id="id5">Related Algorithms</a><ul>
<li><a class="reference internal" href="#removebins" id="id6">RemoveBins</a></li>
</ul>
</li>
<li><a class="reference internal" href="#source" id="id7">Source</a></li>
</ul>
</div>
<div class="section" id="summary">
<h2><a class="toc-backref" href="#id1">Summary</a><a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>Marks bins in a workspace as being masked.</p>
</div>
<div class="section" id="properties">
<h2><a class="toc-backref" href="#id2">Properties</a><a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="5%" />
<col width="2%" />
<col width="12%" />
<col width="3%" />
<col width="79%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Direction</th>
<th class="head">Type</th>
<th class="head">Default</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>InputWorkspace</td>
<td>Input</td>
<td><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><em>MatrixWorkspace</em></a></td>
<td><em>Mandatory</em></td>
<td>The name of the input workspace. Must contain histogram data.</td>
</tr>
<tr class="row-odd"><td>OutputWorkspace</td>
<td>Output</td>
<td><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><em>MatrixWorkspace</em></a></td>
<td><em>Mandatory</em></td>
<td>The name of the Workspace containing the masked bins.</td>
</tr>
<tr class="row-even"><td>XMin</td>
<td>Input</td>
<td>number</td>
<td><em>Mandatory</em></td>
<td>The value to start masking from.</td>
</tr>
<tr class="row-odd"><td>XMax</td>
<td>Input</td>
<td>number</td>
<td><em>Mandatory</em></td>
<td>The value to end masking at.</td>
</tr>
<tr class="row-even"><td>SpectraList</td>
<td>Input</td>
<td>int list</td>
<td>&nbsp;</td>
<td>Optional: A list of individual which spectra to mask (specified using the workspace index). If not set, all spectra are masked. Can be entered as a comma-seperated list of values, or a range (such as &#8216;a-b&#8217; which will include spectra with workspace index of a to b inclusively).</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="description">
<h2><a class="toc-backref" href="#id3">Description</a><a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>Masks bins in a workspace. Masked bins should properly be regarded as
having been completely removed from the workspace. Bins falling within
the range given (even partially) are masked, i.e. their data and error
values are set to zero and the bin is added to the list of masked bins.
This range is masked for all spectra in the workspace (though the
workspace does not have to have common X values in all spectra).</p>
<p>At present, although the zeroing of data will obviously be &#8216;seen&#8217; by all
downstream algorithms. Only
<a class="reference internal" href="DiffractionFocussing-v2.html#algm-diffractionfocussing"><em>DiffractionFocussing v2</em></a> (version 2) and
<a class="reference internal" href="Q1D-v2.html#algm-q1d"><em>Q1D v2</em></a> have been modified to take account of masking. Several
algorithms (e.g. <a class="reference internal" href="Rebin-v1.html#algm-rebin"><em>Rebin v1</em></a>, <a class="reference internal" href="CropWorkspace-v1.html#algm-cropworkspace"><em>CropWorkspace v1</em></a>)
have been modified to properly propagate the masking.</p>
</div>
<div class="section" id="usage">
<h2><a class="toc-backref" href="#id4">Usage</a><a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p><strong>Masking of a small workspace</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># Create workspace with 10 bins of width 10</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">(</span><span class="n">BankPixelWidth</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">Xmax</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">BinWidth</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

<span class="c"># Mask a range of X-values</span>
<span class="n">wsMasked</span> <span class="o">=</span> <span class="n">MaskBins</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span><span class="n">XMin</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span><span class="n">XMax</span><span class="o">=</span><span class="mi">32</span><span class="p">)</span>

<span class="c"># Show Y values in workspaces</span>
<span class="k">print</span> <span class="s">&quot;Before masking:&quot;</span><span class="p">,</span> <span class="n">ws</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&quot;After masking:&quot;</span><span class="p">,</span><span class="n">wsMasked</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none"><div class="highlight"><pre>Before masking: [  0.3   0.3   0.3   0.3   0.3  10.3   0.3   0.3   0.3   0.3]
After masking: [  0.3   0.    0.    0.    0.3  10.3   0.3   0.3   0.3   0.3]
</pre></div>
</div>
</div>
<div class="section" id="related-algorithms">
<h2><a class="toc-backref" href="#id5">Related Algorithms</a><a class="headerlink" href="#related-algorithms" title="Permalink to this headline">¶</a></h2>
<div class="section" id="removebins">
<h3><a class="toc-backref" href="#id6">RemoveBins</a><a class="headerlink" href="#removebins" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="RemoveBins-v1.html#algm-removebins"><em>RemoveBins v1</em></a> can work in several ways, if the bins are at
the edges of the workspace they will be removed, and that will in many
ways act like Masking the bins. If the bins are in the middle of the
workspace then the effect depends on the type of interpolation, but
importantly these bins will continue to influence future algorithms as
opposed to masked bins. For example, with no interpolation
<a class="reference internal" href="RemoveBins-v1.html#algm-removebins"><em>RemoveBins v1</em></a> sets the bin values to 0. This 0 values will
be included in the summing performed in DiffractionFocussing, pushing
down the values in that region. MaskBins is more clever. While if you
look at the data, it will appear that it has simply set the values to 0.
It has also set a series of flags inside that mark those bins to not be
included in further claculations. This means that when you Focus the
data these values are simply missed out of the summing that is
performed.</p>
<p><strong>Categories</strong>: <a class="reference external" href="categories/Algorithms.html">Algorithms</a> | <a class="reference external" href="categories/Transforms/Masking.html">Transforms\Masking</a></p>
</div>
</div>
<div class="section" id="source">
<h2><a class="toc-backref" href="#id7">Source</a><a class="headerlink" href="#source" title="Permalink to this headline">¶</a></h2>
<p>C++ source: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/c46a67d64e22c52f6c639900deb1c2a0efa0aa66/Framework/Algorithms/src/MaskBins.cpp">MaskBins.cpp</a></p>
<p>C++ header: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/c46a67d64e22c52f6c639900deb1c2a0efa0aa66/Framework/Algorithms/inc/MantidAlgorithms/MaskBins.h">MaskBins.h</a></p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="MaskBTP-v1.html" title="Previous Chapter: MaskBTP v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm">&laquo; MaskBTP v1</span>
    </a>
  </li>
  <li>
    <a href="MaskBinsFromTable-v1.html" title="Next Chapter: MaskBinsFromTable v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm">MaskBinsFromTabl... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>