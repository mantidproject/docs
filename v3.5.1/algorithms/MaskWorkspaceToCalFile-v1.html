<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>MaskWorkspaceToCalFile v1</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.1.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.1.0/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.5.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="" href="../index.html" />
    <link rel="next" title="Max v1" href="Max-v1.html" />
    <link rel="prev" title="MaskPeaksWorkspace v1" href="MaskPeaksWorkspace-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>3.5</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://www.mantidproject.org/Documentation">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="maskworkspacetocalfile-v1">
<span id="algm-maskworkspacetocalfile"></span><span id="algm-maskworkspacetocalfile-v1"></span><h1>MaskWorkspaceToCalFile v1<a class="headerlink" href="#maskworkspacetocalfile-v1" title="Permalink to this headline">¶</a></h1>
<div class="figure align-right" id="index-0">
<a class="screenshot reference internal image-reference" href="../_images/MaskWorkspaceToCalFile-v1_dlg.png"><img alt="../_images/MaskWorkspaceToCalFile-v1_dlg.png" class="screenshot" src="../_images/MaskWorkspaceToCalFile-v1_dlg.png" style="width: 428px;" /></a>
<p class="caption"><strong>MaskWorkspaceToCalFile</strong> dialog.</p>
</div>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#summary" id="id1">Summary</a></li>
<li><a class="reference internal" href="#properties" id="id2">Properties</a></li>
<li><a class="reference internal" href="#description" id="id3">Description</a></li>
<li><a class="reference internal" href="#usage" id="id4">Usage</a><ul>
<li><a class="reference internal" href="#output" id="id5">Output</a></li>
</ul>
</li>
<li><a class="reference internal" href="#source" id="id6">Source</a></li>
</ul>
</div>
<div class="section" id="summary">
<h2><a class="toc-backref" href="#id1">Summary</a><a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>Saves the masking information in a workspace to a Cal File.</p>
</div>
<div class="section" id="properties">
<h2><a class="toc-backref" href="#id2">Properties</a><a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="11%" />
<col width="4%" />
<col width="29%" />
<col width="8%" />
<col width="48%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Direction</th>
<th class="head">Type</th>
<th class="head">Default</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>InputWorkspace</td>
<td>Input</td>
<td><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><em>MatrixWorkspace</em></a></td>
<td><em>Mandatory</em></td>
<td>The workspace containing the Masking to extract.</td>
</tr>
<tr class="row-odd"><td>OutputFile</td>
<td>Input</td>
<td>string</td>
<td><em>Mandatory</em></td>
<td>The file for the results. Allowed values: [&#8216;cal&#8217;]</td>
</tr>
<tr class="row-even"><td>Invert</td>
<td>Input</td>
<td>boolean</td>
<td>False</td>
<td>If True, masking is inverted in the input workspace. Default: False</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="description">
<h2><a class="toc-backref" href="#id3">Description</a><a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>This algorithms writes a cal file with the selection column set to the
masking status of the workspaces provided. The offsets and grouping
details of the cal file are not completed, so you would normally use
MargeCalFiles afterwards to import these values from another file.</p>
</div>
<div class="section" id="usage">
<h2><a class="toc-backref" href="#id4">Usage</a><a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">os</span>

<span class="c"># Create a workspace containing some data.</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">()</span>

<span class="c"># Mask two detectors by specifying detector IDs 101 and 103</span>
<span class="n">MaskDetectors</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span><span class="n">DetectorList</span><span class="o">=</span><span class="p">[</span><span class="mi">101</span><span class="p">,</span><span class="mi">103</span><span class="p">])</span>

<span class="c"># Create a file path in the user home directory</span>
<span class="n">calFilePath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s">&#39;~/MantidUsageExample_CalFile.cal&#39;</span><span class="p">)</span>

<span class="c"># Save the masking in a cal file.</span>
<span class="n">MaskWorkspaceToCalFile</span><span class="p">(</span> <span class="n">ws</span><span class="p">,</span> <span class="n">calFilePath</span> <span class="p">);</span>

<span class="c"># Read the saved file back</span>
<span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span> <span class="n">calFilePath</span><span class="p">,</span> <span class="s">&#39;r&#39;</span> <span class="p">)</span>
<span class="n">calFile</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="c"># Print out first 10 lines of the file</span>
<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">calFile</span><span class="p">[:</span><span class="mi">10</span><span class="p">]:</span>
  <span class="k">print</span> <span class="n">line</span>
</pre></div>
</div>
<div class="section" id="output">
<h3><a class="toc-backref" href="#id5">Output</a><a class="headerlink" href="#output" title="Permalink to this headline">¶</a></h3>
<div class="highlight-none"><div class="highlight"><pre># basic_rect detector file
# Format: number      UDET       offset       select    group
        0             100       0.0000000        1        1
        1             101       0.0000000        0        0
        2             102       0.0000000        1        1
        3             103       0.0000000        0        0
        4             104       0.0000000        1        1
        5             105       0.0000000        1        1
        6             106       0.0000000        1        1
        7             107       0.0000000        1        1
</pre></div>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/Algorithms.html">Algorithms</a> | <a class="reference external" href="categories/DataHandling.html">DataHandling</a> | <a class="reference external" href="categories/Text.html">Text</a> | <a class="reference external" href="categories/Diffraction.html">Diffraction</a> | <a class="reference external" href="categories/PythonAlgorithms.html">PythonAlgorithms</a></p>
</div>
</div>
<div class="section" id="source">
<h2><a class="toc-backref" href="#id6">Source</a><a class="headerlink" href="#source" title="Permalink to this headline">¶</a></h2>
<p>Python: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/940f1ec8a966df9d8a015c4c28a17c27d88e0d63/Code/Mantid/Framework/PythonInterface/plugins/algorithms/MaskWorkspaceToCalFile.py">MaskWorkspaceToCalFile.py</a></p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="MaskPeaksWorkspace-v1.html" title="Previous Chapter: MaskPeaksWorkspace v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm">&laquo; MaskPeaksWorkspa...</span>
    </a>
  </li>
  <li>
    <a href="Max-v1.html" title="Next Chapter: Max v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm">Max v1 &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>