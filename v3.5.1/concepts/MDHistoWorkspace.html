<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>MD Histogram Workspace</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.1.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.1.0/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.5.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="" href="../index.html" />
    <link rel="up" title="Concepts" href="index.html" />
    <link rel="next" title="Multi dimensional neutron scattering data normalization" href="MDNorm.html" />
    <link rel="prev" title="Lattice" href="Lattice.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>3.5</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://www.mantidproject.org/Documentation">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="md-histogram-workspace">
<span id="mdhistoworkspace"></span><h1>MD Histogram Workspace<a class="headerlink" href="#md-histogram-workspace" title="Permalink to this headline">¶</a></h1>
<p>The MD Histogram Workspace[MDHistoWorkspace] is a simple multi-dimensional workspace. In
contrast to the <a class="reference internal" href="MDWorkspace.html#mdworkspace"><em>MDWorkspace</em></a>, which contains
points in space, the MDHistoWorkspace consists of a signal and error
spread around space on a regular grid.</p>
<p>In a way, the MDHistoWorkspace is to a
<a class="reference internal" href="MDWorkspace.html#mdworkspace"><em>MDWorkspace</em></a> is what the
<a class="reference internal" href="Workspace2D.html#workspace2d"><em>Workspace2D</em></a> is to the
<a class="reference internal" href="EventWorkspace.html#eventworkspace"><em>EventWorkspace</em></a>.</p>
<div class="section" id="creating-a-mdhistoworkspace">
<h2>Creating a MDHistoWorkspace<a class="headerlink" href="#creating-a-mdhistoworkspace" title="Permalink to this headline">¶</a></h2>
<p>MDHistoWorkspaces typically have 3 or 4 dimensions, although they can be
created in up to 9 dimensions.</p>
<ul class="simple">
<li>You can bin a <a class="reference internal" href="MDWorkspace.html#mdworkspace"><em>MDWorkspace</em></a> to a
MDHistoWorkspace using the <a class="reference internal" href="../algorithms/BinMD-v1.html#algm-binmd"><em>BinMD</em></a> algorithm.<ul>
<li>You can use <a class="reference internal" href="../algorithms/CreateMDWorkspace-v1.html#algm-createmdworkspace"><em>CreateMDWorkspace</em></a> to create a
blank MDWorkspace first, if you do not have data to bin.</li>
</ul>
</li>
<li>Paraview and the <a class="reference external" href="http://www.mantidproject.org/VatesSimpleInterface">Vates Simple
Interface</a> will create a MDHistoWorkspace
from a <a class="reference internal" href="MDWorkspace.html#mdworkspace"><em>MDWorkspace</em></a> when rebinning on a regular
grid.</li>
</ul>
</div>
<div class="section" id="viewing-a-mdhistoworkspace">
<h2>Viewing a MDHistoWorkspace<a class="headerlink" href="#viewing-a-mdhistoworkspace" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>MDHistoWorkspaces can be created and visualized directly within
Paraview and the <a class="reference external" href="http://www.mantidproject.org/VatesSimpleInterface">Vates Simple
Interface</a> when rebinning along a regular
grid.</li>
<li>You can right-click on the workspace and select:<ul>
<li><strong>Plot MD</strong>: to perform a 1D plot of the signal in the workspace
(only works on 1D MDHistoWorkspaces).</li>
<li><strong>Show Slice Viewer</strong>: to open the <a class="reference external" href="http://www.mantidproject.org/MantidPlot:_SliceViewer">Slice
Viewer</a>, which shows 2D slices of the
multiple-dimension workspace.</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="arithmetic-operations">
<h2>Arithmetic Operations<a class="headerlink" href="#arithmetic-operations" title="Permalink to this headline">¶</a></h2>
<p>The following algorithms allow you to perform simple arithmetic on the
values:</p>
<ul class="simple">
<li><a class="reference internal" href="../algorithms/MinusMD-v1.html#algm-minusmd"><em>MinusMD</em></a>, <a class="reference internal" href="../algorithms/PlusMD-v1.html#algm-plusmd"><em>PlusMD</em></a>, <a class="reference internal" href="../algorithms/DivideMD-v1.html#algm-dividemd"><em>DivideMD</em></a>,
<a class="reference internal" href="../algorithms/MultiplyMD-v1.html#algm-multiplymd"><em>MultiplyMD</em></a></li>
<li><a class="reference internal" href="../algorithms/ExponentialMD-v1.html#algm-exponentialmd"><em>ExponentialMD</em></a>, <a class="reference internal" href="../algorithms/PowerMD-v1.html#algm-powermd"><em>PowerMD</em></a>,
<a class="reference internal" href="../algorithms/LogarithmMD-v1.html#algm-logarithmmd"><em>LogarithmMD</em></a></li>
</ul>
<p>These arithmetic operations propagate errors as described
<a class="reference external" href="http://en.wikipedia.org/wiki/Propagation_of_uncertainty#Example_formulas">here</a>.
The formulas used are described in each algorithm&#8217;s wiki page.</p>
<p>The basic arithmetic operators are available from python. For example:</p>
<div class="line-block">
<div class="line"><tt class="docutils literal"><span class="pre">#&nbsp;Get&nbsp;two&nbsp;workspaces</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">A&nbsp;=&nbsp;mtd['workspaceA']</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">B&nbsp;=&nbsp;mtd['workspaceB']</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">#&nbsp;Creating&nbsp;a&nbsp;new&nbsp;workspace</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">C&nbsp;=&nbsp;A&nbsp;+&nbsp;B</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">C&nbsp;=&nbsp;A&nbsp;-&nbsp;B</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">C&nbsp;=&nbsp;A&nbsp;*&nbsp;B</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">C&nbsp;=&nbsp;A&nbsp;/&nbsp;B</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">#&nbsp;Modifying&nbsp;a&nbsp;workspace&nbsp;in-place</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">C&nbsp;+=&nbsp;A</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">C&nbsp;-=&nbsp;A</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">C&nbsp;*=&nbsp;A</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">C&nbsp;/=&nbsp;A</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">#&nbsp;Operators&nbsp;with&nbsp;doubles</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">C&nbsp;=&nbsp;A&nbsp;*&nbsp;12.3</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">C&nbsp;*=&nbsp;3.45</span></tt></div>
</div>
<p>Compound arithmetic expressions can be made, e.g:</p>
<p><tt class="docutils literal"><span class="pre">E&nbsp;=&nbsp;(A&nbsp;-&nbsp;B)&nbsp;/&nbsp;(C&nbsp;-&nbsp;D)</span></tt></p>
<div class="section" id="boolean-operations">
<h3>Boolean Operations<a class="headerlink" href="#boolean-operations" title="Permalink to this headline">¶</a></h3>
<p>The MDHistoWorkspace can be treated as a boolean workspace. In this
case, 0.0 is &#8220;false&#8221; and 1.0 is &#8220;true&#8221;.</p>
<p>The following operations can create a boolean MDHistoWorkspace:</p>
<ul class="simple">
<li><a class="reference internal" href="../algorithms/LessThanMD-v1.html#algm-lessthanmd"><em>LessThanMD</em></a>, <a class="reference internal" href="../algorithms/GreaterThanMD-v1.html#algm-greaterthanmd"><em>GreaterThanMD</em></a>,
<a class="reference internal" href="../algorithms/EqualToMD-v1.html#algm-equaltomd"><em>EqualToMD</em></a></li>
</ul>
<p>These operations can combine/modify boolean MDHistoWorkspaces:</p>
<ul class="simple">
<li><a class="reference internal" href="../algorithms/NotMD-v1.html#algm-notmd"><em>NotMD</em></a>, <a class="reference internal" href="../algorithms/AndMD-v1.html#algm-andmd"><em>AndMD</em></a>, <a class="reference internal" href="../algorithms/OrMD-v1.html#algm-ormd"><em>OrMD</em></a>,
<a class="reference internal" href="../algorithms/XorMD-v1.html#algm-xormd"><em>XorMD</em></a></li>
</ul>
<p>These boolean operators are available from python. Make sure you use the
bitwise operators: &amp; | ^ ~ , not the &#8220;word&#8221; operators (and, or, not).
For example:</p>
<div class="line-block">
<div class="line"><tt class="docutils literal"><span class="pre">#&nbsp;Create&nbsp;boolean&nbsp;workspaces&nbsp;by&nbsp;comparisons</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">C&nbsp;=&nbsp;A&nbsp;&gt;&nbsp;B</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">D&nbsp;=&nbsp;B&nbsp;&lt;&nbsp;12.34</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">#&nbsp;Combine&nbsp;boolean&nbsp;workspaces&nbsp;using&nbsp;not,&nbsp;or,&nbsp;and,&nbsp;xor:</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">not_C&nbsp;=&nbsp;~C</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">C_or_D&nbsp;=&nbsp;C&nbsp;|&nbsp;D</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">C_and_D&nbsp;=&nbsp;C&nbsp;&amp;&nbsp;D</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">C_xor_D&nbsp;=&nbsp;C&nbsp;^&nbsp;D</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">C&nbsp;|=&nbsp;D</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">C&nbsp;&amp;=&nbsp;D</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">C&nbsp;^=&nbsp;D</span></tt></div>
</div>
<div class="line-block">
<div class="line"><tt class="docutils literal"><span class="pre">#&nbsp;Compound&nbsp;expressions&nbsp;can&nbsp;be&nbsp;used:</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">D&nbsp;=&nbsp;(A&nbsp;&gt;&nbsp;123)&nbsp;&amp;&nbsp;(A&nbsp;&gt;&nbsp;B)&nbsp;&amp;&nbsp;(A&nbsp;&lt;&nbsp;456)</span></tt></div>
</div>
<div class="section" id="using-boolean-masks">
<h4>Using Boolean Masks<a class="headerlink" href="#using-boolean-masks" title="Permalink to this headline">¶</a></h4>
<p>The <a class="reference internal" href="../algorithms/SetMDUsingMask-v1.html#algm-setmdusingmask"><em>SetMDUsingMask</em></a> algorithm allows you to modify
the values in a MDHistoWorkspace using a mask created using the boolean
operations above. See the <a class="reference external" href="algm-SetMDUsingMask">algorithm wiki page</a> for
more details.</p>
<p><strong>Category</strong>: <a class="reference external" href="categories/Concepts.html">Concepts</a></p>
</div>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="Lattice.html" title="Previous Chapter: Lattice"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm">&laquo; Lattice</span>
    </a>
  </li>
  <li>
    <a href="MDNorm.html" title="Next Chapter: Multi dimensional neutron scattering data normalization"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm">Multi dimensiona... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>