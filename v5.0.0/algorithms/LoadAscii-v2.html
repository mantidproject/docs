<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>LoadAscii v2</title>
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '5.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="LoadBBY v1" href="LoadBBY-v1.html" />
    <link rel="prev" title="LoadAscii v1" href="LoadAscii-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>5.0</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://docs.mantidproject.org/nightly/">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="loadascii-v2">
<span id="algm-loadascii"></span><span id="algm-loadascii-v2"></span><h1>LoadAscii v2<a class="headerlink" href="#loadascii-v2" title="Permalink to this headline">¶</a></h1>
<div class="figure align-right" id="id1">
<span id="index-0"></span><a class="screenshot reference internal image-reference" href="../_images/LoadAscii-v2_dlg.png"><img alt="../_images/LoadAscii-v2_dlg.png" class="screenshot" src="../_images/LoadAscii-v2_dlg.png" style="width: 332px;" /></a>
<p class="caption"><span class="caption-text"><strong>LoadAscii</strong> dialog.</span></p>
</div>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#summary" id="id2">Summary</a><ul>
<li><a class="reference internal" href="#see-also" id="id3">See Also</a></li>
</ul>
</li>
<li><a class="reference internal" href="#properties" id="id4">Properties</a></li>
<li><a class="reference internal" href="#description" id="id5">Description</a></li>
<li><a class="reference internal" href="#usage" id="id6">Usage</a></li>
<li><a class="reference internal" href="#source" id="id7">Source</a></li>
</ul>
</div>
<div class="section" id="summary">
<h2><a class="toc-backref" href="#id2">Summary</a><a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>Loads data from a text file and stores it in a 2D workspace or Table Workspace.</p>
<div class="section" id="see-also">
<h3><a class="toc-backref" href="#id3">See Also</a><a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="SaveAscii-v2.html#algm-saveascii"><span class="std std-ref">SaveAscii</span></a></p>
</div>
</div>
<div class="section" id="properties">
<h2><a class="toc-backref" href="#id4">Properties</a><a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="3%" />
<col width="1%" />
<col width="6%" />
<col width="2%" />
<col width="87%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Direction</th>
<th class="head">Type</th>
<th class="head">Default</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Filename</td>
<td>Input</td>
<td>string</td>
<td><em>Mandatory</em></td>
<td>The name of the text file to read, including its full or relative path. The file extension must be .txt, .dat, or .csv. Allowed values: [‘.dat’, ‘.txt’, ‘.csv’, ‘’]</td>
</tr>
<tr class="row-odd"><td>OutputWorkspace</td>
<td>Output</td>
<td><a class="reference internal" href="../concepts/Workspace.html#workspace"><span class="std std-ref">Workspace</span></a></td>
<td><em>Mandatory</em></td>
<td>The name of the workspace that will be created, filled with the read-in data and stored in the [[Analysis Data Service]].</td>
</tr>
<tr class="row-even"><td>Separator</td>
<td>Input</td>
<td>string</td>
<td>Automatic</td>
<td>The separator between data columns in the data file. The possible values are “CSV”, “Tab”, “Space”, “SemiColon”, “Colon” or a user defined value. (default: Automatic selection from comma, tab, space, semicolon or colon.). Allowed values: [‘Automatic’, ‘CSV’, ‘Tab’, ‘Space’, ‘Colon’, ‘SemiColon’, ‘UserDefined’]</td>
</tr>
<tr class="row-odd"><td>CustomSeparator</td>
<td>Input</td>
<td>string</td>
<td>&#160;</td>
<td>If present, will override any specified choice given to Separator.</td>
</tr>
<tr class="row-even"><td>CommentIndicator</td>
<td>Input</td>
<td>string</td>
<td>#</td>
<td>Character(s) found front of comment lines. Cannot contain numeric characters</td>
</tr>
<tr class="row-odd"><td>Unit</td>
<td>Input</td>
<td>string</td>
<td>Energy</td>
<td>The unit to assign to the X axis (anything known to the [[Unit Factory]] or “Dimensionless”). Allowed values: [‘Dimensionless’, ‘AtomicDistance’, ‘Degrees’, ‘DeltaE’, ‘DeltaE_inFrequency’, ‘DeltaE_inWavenumber’, ‘dSpacing’, ‘dSpacingPerpendicular’, ‘Empty’, ‘Energy’, ‘Energy_inWavenumber’, ‘Label’, ‘Momentum’, ‘MomentumTransfer’, ‘QSquared’, ‘SpinEchoLength’, ‘SpinEchoTime’, ‘Temperature’, ‘Time’, ‘TOF’, ‘Wavelength’]</td>
</tr>
<tr class="row-even"><td>SkipNumLines</td>
<td>Input</td>
<td>number</td>
<td><em>Optional</em></td>
<td>If given, skip this number of lines at the start of the file.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="description">
<h2><a class="toc-backref" href="#id5">Description</a><a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>The LoadAscii2 algorithm reads in spectra data from a text file and
stores it in a <a class="reference internal" href="../concepts/Workspace2D.html#workspace2d"><span class="std std-ref">Workspace2D</span></a> as data points, or a Table Workspace if it is table data. The data in
the file must be organized in columns separated by commas, tabs, spaces,
colons or semicolons. Only one separator type can be used throughout the
file; use the “Separator” property to tell the algorithm which to use.
The algorithm <a class="reference internal" href="SaveAscii-v2.html#algm-saveascii-v2"><span class="std std-ref">SaveAscii2</span></a> is normally able to produce
such a file.</p>
<p>The format must be (Workspace 2D):</p>
<ul class="simple">
<li>A single integer or blank line to denote a new spectra</li>
<li>For each bin, between two and four columns of delimited data in the
following order: 1st column=X, 2nd column=Y, 3rd column=E, 4th
column=DX (X error)</li>
<li>Comments can be included by prefixing the line with a non-numerical
character which must be consistent throughout the file and specified
when you load the file. Defaults to “#”</li>
<li>The number of bins is defined by the number of rows and must be
identical for each spectra</li>
</ul>
<p>The following is an example valid file of 4 spectra of 2 bins each with
no X error:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1">#. X , Y , E</span>

<span class="mi">1</span> <span class="mf">2.00000000</span><span class="p">,</span><span class="mf">2.00000000</span><span class="p">,</span><span class="mf">1.00000000</span> <span class="mf">4.00000000</span><span class="p">,</span><span class="mf">1.00000000</span><span class="p">,</span><span class="mf">1.00000000</span> <span class="mi">2</span>
<span class="mf">2.00000000</span><span class="p">,</span><span class="mf">5.00000000</span><span class="p">,</span><span class="mf">2.00000000</span> <span class="mf">4.00000000</span><span class="p">,</span><span class="mf">4.00000000</span><span class="p">,</span><span class="mf">2.00000000</span> <span class="mi">3</span>
<span class="mf">2.00000000</span><span class="p">,</span><span class="mf">3.00000000</span><span class="p">,</span><span class="mf">1.00000000</span> <span class="mf">4.00000000</span><span class="p">,</span><span class="mf">0.00000000</span><span class="p">,</span><span class="mf">0.00000000</span> <span class="mi">4</span>
<span class="mf">2.00000000</span><span class="p">,</span><span class="mf">0.00000000</span><span class="p">,</span><span class="mf">0.00000000</span> <span class="mf">4.00000000</span><span class="p">,</span><span class="mf">0.00000000</span><span class="p">,</span><span class="mf">0.00000000</span>
</pre></div>
</div>
<p>The format must be (Table Workspace):</p>
<ul class="simple">
<li>Two commented header lines</li>
<li>The first containing the column names</li>
<li>The second containing the column types (str, int, unit, long64, size_t, float, double, bool, V3D)</li>
<li>The number of column names, types and data items must match</li>
</ul>
<p>The following is an example valid file of two columns:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Instrument Name , Run Number</span>
<span class="c1"># str , int</span>
<span class="n">MUSR</span><span class="p">,</span><span class="mi">10245</span>
<span class="n">IRIS</span><span class="p">,</span><span class="mi">8465</span>
<span class="n">SANS2D</span><span class="p">,</span><span class="mi">20462</span>
</pre></div>
</div>
</div>
<div class="section" id="usage">
<h2><a class="toc-backref" href="#id6">Usage</a><a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p><strong>Example</strong></p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1">#import the os path libraries for directory functions</span>
<span class="kn">import</span> <span class="nn">os</span>

<span class="c1"># create histogram workspace</span>
<span class="n">dataX1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]</span> <span class="c1"># or use dataX1=range(0,10)</span>
<span class="n">dataY1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]</span> <span class="c1"># or use dataY1=range(0,9)</span>
<span class="n">dataE1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span> <span class="c1"># or use dataE1=[1]*9</span>

<span class="n">ws1</span> <span class="o">=</span> <span class="n">CreateWorkspace</span><span class="p">(</span><span class="n">dataX1</span><span class="p">,</span> <span class="n">dataY1</span><span class="p">,</span> <span class="n">dataE1</span><span class="p">)</span>

<span class="c1">#Create an absolute path by joining the proposed filename to a directory</span>
<span class="c1">#os.path.expanduser(&quot;~&quot;) used in this case returns the home directory of the current user</span>
<span class="n">savefile</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s2">&quot;~&quot;</span><span class="p">),</span> <span class="s2">&quot;AsciiFile.txt&quot;</span><span class="p">)</span>

<span class="c1"># perform the algorithm</span>
<span class="n">SaveAscii</span><span class="p">(</span><span class="n">InputWorkspace</span><span class="o">=</span><span class="n">ws1</span><span class="p">,</span><span class="n">Filename</span><span class="o">=</span><span class="n">savefile</span><span class="p">)</span>

<span class="c1">#Load it again - Load would work just as well as LoadAscii</span>
<span class="n">wsOutput</span> <span class="o">=</span> <span class="n">LoadAscii</span><span class="p">(</span><span class="n">savefile</span><span class="p">,</span><span class="n">Unit</span><span class="o">=</span><span class="s2">&quot;Label&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">CompareWorkspaces</span><span class="p">(</span><span class="n">ws1</span><span class="p">,</span><span class="n">wsOutput</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>

<span class="c1">#clean up the file I saved</span>
<span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">savefile</span><span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/AlgorithmIndex.html">AlgorithmIndex</a> | <a class="reference external" href="categories/DataHandling/Text.html">DataHandling\Text</a></p>
</div>
<div class="section" id="source">
<h2><a class="toc-backref" href="#id7">Source</a><a class="headerlink" href="#source" title="Permalink to this headline">¶</a></h2>
<p>C++ header: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/a412251b161c30a0be7a42eaf858d03199961661/Framework/DataHandling/inc/MantidDataHandling/LoadAscii2.h">LoadAscii2.h</a> <em>(last modified: 2019-12-20)</em></p>
<p>C++ source: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/a412251b161c30a0be7a42eaf858d03199961661/Framework/DataHandling/src/LoadAscii2.cpp">LoadAscii2.cpp</a> <em>(last modified: 2020-01-06)</em></p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="LoadAscii-v1.html" title="Previous Chapter: LoadAscii v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; LoadAscii v1</span>
    </a>
  </li>
  <li>
    <a href="LoadBBY-v1.html" title="Next Chapter: LoadBBY v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">LoadBBY v1 &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
      Last updated on 2020-03-14.<br/>
    </p>
  </div>
</footer>
  </body>
</html>