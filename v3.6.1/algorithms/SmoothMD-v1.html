<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>SmoothMD v1</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.1.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.1.0/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.6.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="" href="../index.html" />
    <link rel="next" title="SmoothNeighbours v1" href="SmoothNeighbours-v1.html" />
    <link rel="prev" title="SmoothData v1" href="SmoothData-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>3.6</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://www.mantidproject.org/Documentation">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="smoothmd-v1">
<span id="algm-smoothmd"></span><span id="algm-smoothmd-v1"></span><h1>SmoothMD v1<a class="headerlink" href="#smoothmd-v1" title="Permalink to this headline">¶</a></h1>
<div class="figure align-right" id="index-0">
<a class="screenshot reference internal image-reference" href="../_images/SmoothMD-v1_dlg.png"><img alt="../_images/SmoothMD-v1_dlg.png" class="screenshot" src="../_images/SmoothMD-v1_dlg.png" style="width: 409px;" /></a>
<p class="caption"><strong>SmoothMD</strong> dialog.</p>
</div>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#summary" id="id1">Summary</a></li>
<li><a class="reference internal" href="#properties" id="id2">Properties</a></li>
<li><a class="reference internal" href="#description" id="id3">Description</a></li>
<li><a class="reference internal" href="#usage" id="id4">Usage</a></li>
<li><a class="reference internal" href="#source" id="id5">Source</a></li>
</ul>
</div>
<div class="section" id="summary">
<h2><a class="toc-backref" href="#id1">Summary</a><a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>Smooth an MDHistoWorkspace according to a weight function</p>
</div>
<div class="section" id="properties">
<h2><a class="toc-backref" href="#id2">Properties</a><a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="15%" />
<col width="4%" />
<col width="9%" />
<col width="6%" />
<col width="66%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Direction</th>
<th class="head">Type</th>
<th class="head">Default</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>InputWorkspace</td>
<td>Input</td>
<td>IMDHistoWorkspace</td>
<td><em>Mandatory</em></td>
<td>An input MDHistoWorkspace to smooth.</td>
</tr>
<tr class="row-odd"><td>WidthVector</td>
<td>Input</td>
<td>int list</td>
<td><em>Mandatory</em></td>
<td>Width vector. Either specify the width in n-pixels for each dimension, or provide a single entry (n-pixels) for all dimensions.</td>
</tr>
<tr class="row-even"><td>Function</td>
<td>Input</td>
<td>string</td>
<td>Hat</td>
<td>Smoothing function. Defaults to Hat. Allowed values: [&#8216;Hat&#8217;]</td>
</tr>
<tr class="row-odd"><td>InputNormalizationWorkspace</td>
<td>Input</td>
<td>IMDHistoWorkspace</td>
<td>&nbsp;</td>
<td>Multidimensional weighting workspace. Optional.</td>
</tr>
<tr class="row-even"><td>OutputWorkspace</td>
<td>Output</td>
<td>IMDHistoWorkspace</td>
<td><em>Mandatory</em></td>
<td>An output smoothed MDHistoWorkspace.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="description">
<h2><a class="toc-backref" href="#id3">Description</a><a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>Provides smoothing of <a class="reference internal" href="../concepts/MDHistoWorkspace.html#mdhistoworkspace"><em>MDHistoWorkspace</em></a> in n-dimensions. The WidthVector relates to the number of pixels to include in the width for each dimension. <em>WidthVector</em> <strong>must contain entries that are odd numbers</strong>.</p>
<p>A <em>InputNormalizationWorkspace</em> may optionally be provided. Such workspaces must have exactly the same shape as the <em>InputWorkspace</em>. Where the signal values from this workspace are zero, the corresponding smoothed value will be NaN. Any un-smoothed values from the <em>InputWorkspace</em> corresponding to zero in the <em>InputNormalizationWorkspace</em> will be ignored during neighbour calculations, so effectively omitted from the smoothing altogether.
Note that the NormalizationWorkspace is not changed, and needs to be smoothed as well, using the same parameters and <em>InputNormalizationWorkspace</em> as the original data.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/PreSmooth.png"><img alt="PreSmooth.png" src="../_images/PreSmooth.png" style="width: 400px;" /></a>
<p class="caption">No smoothing</p>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/Smoothed.png"><img alt="PreSmooth.png" src="../_images/Smoothed.png" style="width: 400px;" /></a>
<p class="caption">Smooth with WidthVector=5</p>
</div>
</div>
<div class="section" id="usage">
<h2><a class="toc-backref" href="#id4">Usage</a><a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p><strong>Example - SmoothMD</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">ws</span> <span class="o">=</span> <span class="n">CreateMDWorkspace</span><span class="p">(</span><span class="n">Dimensions</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">Extents</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">],</span> <span class="n">Names</span><span class="o">=</span><span class="s">&#39;A,B&#39;</span><span class="p">,</span> <span class="n">Units</span><span class="o">=</span><span class="s">&#39;U,U&#39;</span><span class="p">)</span>
<span class="n">FakeMDEventData</span><span class="p">(</span><span class="n">InputWorkspace</span><span class="o">=</span><span class="n">ws</span><span class="p">,</span> <span class="n">PeakParams</span><span class="o">=</span><span class="s">&#39;100000,-5,0,1&#39;</span><span class="p">)</span>
<span class="n">FakeMDEventData</span><span class="p">(</span><span class="n">InputWorkspace</span><span class="o">=</span><span class="n">ws</span><span class="p">,</span> <span class="n">PeakParams</span><span class="o">=</span><span class="s">&#39;100000,5,0,1&#39;</span><span class="p">)</span>
<span class="n">histogram</span> <span class="o">=</span> <span class="n">BinMD</span><span class="p">(</span><span class="n">InputWorkspace</span><span class="o">=</span><span class="n">ws</span><span class="p">,</span> <span class="n">AlignedDim0</span><span class="o">=</span><span class="s">&#39;A,-10,10,50&#39;</span><span class="p">,</span> <span class="n">AlignedDim1</span><span class="o">=</span><span class="s">&#39;B,-10,10,50&#39;</span><span class="p">,</span> <span class="n">OutputExtents</span><span class="o">=</span><span class="s">&#39;-10,10,-10,10,-10,10&#39;</span><span class="p">,</span> <span class="n">OutputBins</span><span class="o">=</span><span class="s">&#39;10,10,10&#39;</span><span class="p">)</span>
<span class="c"># plotSlice(histogram)</span>
<span class="n">smoothed</span> <span class="o">=</span> <span class="n">SmoothMD</span><span class="p">(</span><span class="n">InputWorkspace</span><span class="o">=</span><span class="n">histogram</span><span class="p">,</span> <span class="n">WidthVector</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">Function</span><span class="o">=</span><span class="s">&#39;Hat&#39;</span><span class="p">)</span>
<span class="c"># plotSlice(smoothed)</span>

<span class="k">print</span> <span class="s">&#39;Smoothed has </span><span class="si">%i</span><span class="s"> points&#39;</span> <span class="o">%</span> <span class="n">smoothed</span><span class="o">.</span><span class="n">getNPoints</span><span class="p">()</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none"><div class="highlight"><pre>Smoothed has 2500 points
</pre></div>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/Algorithms.html">Algorithms</a> | <a class="reference external" href="categories/MDAlgorithms/Transforms.html">MDAlgorithms\Transforms</a></p>
</div>
<div class="section" id="source">
<h2><a class="toc-backref" href="#id5">Source</a><a class="headerlink" href="#source" title="Permalink to this headline">¶</a></h2>
<p>C++ source: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/939e6b7103a9dafe3e7e23581d47d06fd4669ecd/Framework/MDAlgorithms/src/SmoothMD.cpp">SmoothMD.cpp</a></p>
<p>C++ header: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/939e6b7103a9dafe3e7e23581d47d06fd4669ecd/Framework/MDAlgorithms/inc/MantidMDAlgorithms/SmoothMD.h">SmoothMD.h</a></p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="SmoothData-v1.html" title="Previous Chapter: SmoothData v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm">&laquo; SmoothData v1</span>
    </a>
  </li>
  <li>
    <a href="SmoothNeighbours-v1.html" title="Next Chapter: SmoothNeighbours v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm">SmoothNeighbours... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>