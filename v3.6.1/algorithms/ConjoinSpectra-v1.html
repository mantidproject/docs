<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>ConjoinSpectra v1</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.1.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.1.0/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.6.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="" href="../index.html" />
    <link rel="next" title="ConjoinWorkspaces v1" href="ConjoinWorkspaces-v1.html" />
    <link rel="prev" title="ConjoinFiles v1" href="ConjoinFiles-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>3.6</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://www.mantidproject.org/Documentation">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="conjoinspectra-v1">
<span id="algm-conjoinspectra"></span><span id="algm-conjoinspectra-v1"></span><h1>ConjoinSpectra v1<a class="headerlink" href="#conjoinspectra-v1" title="Permalink to this headline">¶</a></h1>
<div class="figure align-right" id="index-0">
<a class="screenshot reference internal image-reference" href="../_images/ConjoinSpectra-v1_dlg.png"><img alt="../_images/ConjoinSpectra-v1_dlg.png" class="screenshot" src="../_images/ConjoinSpectra-v1_dlg.png" style="width: 361px;" /></a>
<p class="caption"><strong>ConjoinSpectra</strong> dialog.</p>
</div>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#summary" id="id1">Summary</a></li>
<li><a class="reference internal" href="#properties" id="id2">Properties</a></li>
<li><a class="reference internal" href="#description" id="id3">Description</a></li>
<li><a class="reference internal" href="#usage" id="id4">Usage</a></li>
<li><a class="reference internal" href="#source" id="id5">Source</a></li>
</ul>
</div>
<div class="section" id="summary">
<h2><a class="toc-backref" href="#id1">Summary</a><a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="properties">
<h2><a class="toc-backref" href="#id2">Properties</a><a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="8%" />
<col width="4%" />
<col width="15%" />
<col width="6%" />
<col width="66%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Direction</th>
<th class="head">Type</th>
<th class="head">Default</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>InputWorkspaces</td>
<td>Input</td>
<td>string</td>
<td><em>Mandatory</em></td>
<td>Comma seperated list of workspaces to use, group workspaces will automatically include all members.</td>
</tr>
<tr class="row-odd"><td>OutputWorkspace</td>
<td>Output</td>
<td><a class="reference internal" href="../concepts/Workspace.html#workspace"><em>Workspace</em></a></td>
<td><em>Mandatory</em></td>
<td>Name the workspace that will contain the result</td>
</tr>
<tr class="row-even"><td>WorkspaceIndex</td>
<td>Input</td>
<td>number</td>
<td>0</td>
<td>The workspace index of the spectra in each workspace to extract. Default: 0</td>
</tr>
<tr class="row-odd"><td>LabelUsing</td>
<td>Input</td>
<td>string</td>
<td>&nbsp;</td>
<td>The name of a log value used to label the resulting spectra. Default: The source workspace name</td>
</tr>
<tr class="row-even"><td>LabelValue</td>
<td>Input</td>
<td>string</td>
<td>Mean</td>
<td>How to derive the value from a time series property. Allowed values: [&#8216;Mean&#8217;, &#8216;Median&#8217;, &#8216;Maximum&#8217;, &#8216;Minimum&#8217;, &#8216;First Value&#8217;]</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="description">
<h2><a class="toc-backref" href="#id3">Description</a><a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>This algorithm allows a single spectrum to be extracted from a range of
workspaces and placed into a single workspace for comparison and
plotting. The LabelUsing property allows you to control what the end
labels applied to each spectra will be. The default is to use the source
workspace name, but you can specify the name of a log value to use as
the label, e.g. Temp_Sample. the LabelValue property allows control of
how a single value is extracted from time series logs.</p>
</div>
<div class="section" id="usage">
<h2><a class="toc-backref" href="#id4">Usage</a><a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p><strong>Example - Join workspace index 1 from three workspaces</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">ws</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">(</span><span class="s">&quot;Histogram&quot;</span><span class="p">,</span><span class="n">BankPixelWidth</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">ws2</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">(</span><span class="s">&quot;Histogram&quot;</span><span class="p">,</span><span class="n">BankPixelWidth</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">ws3</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">(</span><span class="s">&quot;Histogram&quot;</span><span class="p">,</span><span class="n">BankPixelWidth</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="n">wsOut</span> <span class="o">=</span> <span class="n">ConjoinSpectra</span><span class="p">(</span><span class="s">&quot;ws,ws2,ws3&quot;</span><span class="p">,</span><span class="n">WorkspaceIndex</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="k">print</span> <span class="p">(</span><span class="s">&quot;Creates a workspace with </span><span class="si">%i</span><span class="s"> spectra labelled as&quot;</span> <span class="o">%</span> <span class="n">wsOut</span><span class="o">.</span><span class="n">getNumberHistograms</span><span class="p">())</span>
<span class="k">print</span> <span class="n">wsOut</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">extractValues</span><span class="p">()</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none"><div class="highlight"><pre>Creates a workspace with 3 spectra labelled as
[&#39;ws_1&#39;, &#39;ws2_1&#39;, &#39;ws3_1&#39;]
</pre></div>
</div>
<p><strong>Example - Join spectra from three workspaces using a log value</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">ws</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">(</span><span class="s">&quot;Histogram&quot;</span><span class="p">,</span><span class="n">BankPixelWidth</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">ws2</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">(</span><span class="s">&quot;Histogram&quot;</span><span class="p">,</span><span class="n">BankPixelWidth</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">ws3</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">(</span><span class="s">&quot;Histogram&quot;</span><span class="p">,</span><span class="n">BankPixelWidth</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c">#add some log values</span>
<span class="n">wsIndex</span><span class="o">=</span><span class="mi">0</span>
<span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="p">[</span><span class="n">ws</span><span class="p">,</span><span class="n">ws2</span><span class="p">,</span><span class="n">ws3</span><span class="p">]:</span>
    <span class="n">wsIndex</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">for</span> <span class="n">minute</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">60</span><span class="p">):</span>
        <span class="n">time_string</span> <span class="o">=</span> <span class="s">&quot;2010-01-01T00:</span><span class="si">%02i</span><span class="s">:00&quot;</span> <span class="o">%</span> <span class="n">minute</span>
        <span class="n">AddTimeSeriesLog</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">Name</span><span class="o">=</span><span class="s">&quot;myLog&quot;</span><span class="p">,</span> <span class="n">Time</span><span class="o">=</span><span class="n">time_string</span><span class="p">,</span> <span class="n">Value</span><span class="o">=</span><span class="p">(</span><span class="n">wsIndex</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span><span class="o">+</span><span class="n">minute</span><span class="p">)</span>

<span class="n">wsOut</span> <span class="o">=</span> <span class="n">ConjoinSpectra</span><span class="p">(</span><span class="s">&quot;ws,ws2,ws3&quot;</span><span class="p">,</span><span class="n">WorkspaceIndex</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">LabelUsing</span><span class="o">=</span><span class="s">&quot;myLog&quot;</span><span class="p">,</span><span class="n">LabelValue</span><span class="o">=</span><span class="s">&quot;Mean&quot;</span><span class="p">)</span>
<span class="k">print</span> <span class="p">(</span><span class="s">&quot;Creates a workspace with </span><span class="si">%i</span><span class="s"> spectra labelled using the Mean of myLog.&quot;</span> <span class="o">%</span> <span class="n">wsOut</span><span class="o">.</span><span class="n">getNumberHistograms</span><span class="p">())</span>
<span class="k">print</span> <span class="n">wsOut</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">extractValues</span><span class="p">()</span>

<span class="n">otherLabelValueOptions</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;First Value&quot;</span><span class="p">,</span><span class="s">&quot;Median&quot;</span><span class="p">,</span> <span class="s">&quot;Maximum&quot;</span><span class="p">,</span> <span class="s">&quot;Minimum&quot;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">labelValueOption</span> <span class="ow">in</span> <span class="n">otherLabelValueOptions</span><span class="p">:</span>
    <span class="n">wsOut</span> <span class="o">=</span> <span class="n">ConjoinSpectra</span><span class="p">(</span><span class="s">&quot;ws,ws2,ws3&quot;</span><span class="p">,</span><span class="n">WorkspaceIndex</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">LabelUsing</span><span class="o">=</span><span class="s">&quot;myLog&quot;</span><span class="p">,</span> <span class="n">LabelValue</span><span class="o">=</span><span class="n">labelValueOption</span><span class="p">)</span>
    <span class="k">print</span> <span class="p">(</span><span class="s">&quot;Creates a workspace with </span><span class="si">%i</span><span class="s"> spectra labelled using the </span><span class="si">%s</span><span class="s"> of myLog.&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">wsOut</span><span class="o">.</span><span class="n">getNumberHistograms</span><span class="p">(),</span> <span class="n">labelValueOption</span><span class="p">))</span>
    <span class="k">print</span> <span class="n">wsOut</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">extractValues</span><span class="p">()</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none"><div class="highlight"><pre>Creates a workspace with 3 spectra labelled using the Mean of myLog.
[&#39;129.5&#39;, &#39;229.5&#39;, &#39;329.5&#39;]
Creates a workspace with 3 spectra labelled using the First Value of myLog.
[&#39;100.0&#39;, &#39;200.0&#39;, &#39;300.0&#39;]
Creates a workspace with 3 spectra labelled using the Median of myLog.
[&#39;129.5&#39;, &#39;229.5&#39;, &#39;329.5&#39;]
Creates a workspace with 3 spectra labelled using the Maximum of myLog.
[&#39;159.0&#39;, &#39;259.0&#39;, &#39;359.0&#39;]
Creates a workspace with 3 spectra labelled using the Minimum of myLog.
[&#39;100.0&#39;, &#39;200.0&#39;, &#39;300.0&#39;]
</pre></div>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/Algorithms.html">Algorithms</a> | <a class="reference external" href="categories/Transforms/Merging.html">Transforms\Merging</a></p>
</div>
<div class="section" id="source">
<h2><a class="toc-backref" href="#id5">Source</a><a class="headerlink" href="#source" title="Permalink to this headline">¶</a></h2>
<p>Python: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/939e6b7103a9dafe3e7e23581d47d06fd4669ecd/Framework/PythonInterface/plugins/algorithms/ConjoinSpectra.py">ConjoinSpectra.py</a></p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="ConjoinFiles-v1.html" title="Previous Chapter: ConjoinFiles v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm">&laquo; ConjoinFiles v1</span>
    </a>
  </li>
  <li>
    <a href="ConjoinWorkspaces-v1.html" title="Next Chapter: ConjoinWorkspaces v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm">ConjoinWorkspace... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>