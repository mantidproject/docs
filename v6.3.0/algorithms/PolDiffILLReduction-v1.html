<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>PolDiffILLReduction v1</title>
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '6.3.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="PolarizationAngleCorrectionMD v1" href="PolarizationAngleCorrectionMD-v1.html" />
    <link rel="prev" title="PoissonErrors v1" href="PoissonErrors-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.3</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://docs.mantidproject.org/nightly/">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <p><span class="math">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<div class="section" id="poldiffillreduction-v1">
<span id="algm-poldiffillreduction"></span><span id="algm-poldiffillreduction-v1"></span><h1>PolDiffILLReduction v1<a class="headerlink" href="#poldiffillreduction-v1" title="Permalink to this headline">¶</a></h1>
<div class="figure align-right" id="id2">
<span id="index-0"></span><a class="screenshot reference internal image-reference" href="../_images/PolDiffILLReduction-v1_dlg.png"><img alt="../_images/PolDiffILLReduction-v1_dlg.png" class="screenshot" src="../_images/PolDiffILLReduction-v1_dlg.png" style="width: 349px;" /></a>
<p class="caption"><span class="caption-text"><strong>PolDiffILLReduction</strong> dialog.</span></p>
</div>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#summary" id="id3">Summary</a><ul>
<li><a class="reference internal" href="#see-also" id="id4">See Also</a></li>
</ul>
</li>
<li><a class="reference internal" href="#properties" id="id5">Properties</a></li>
<li><a class="reference internal" href="#description" id="id6">Description</a></li>
<li><a class="reference internal" href="#processas" id="id7">ProcessAs</a></li>
<li><a class="reference internal" href="#normaliseby" id="id8">NormaliseBy</a></li>
<li><a class="reference internal" href="#measurementtechnique" id="id9">MeasurementTechnique</a></li>
<li><a class="reference internal" href="#subtracttofbackgroundmethod" id="id10">SubtractTOFBackgroundMethod</a></li>
<li><a class="reference internal" href="#detector-and-analyser-energy-correction" id="id11">Detector and analyser energy correction</a></li>
<li><a class="reference internal" href="#outputtreatment" id="id12">OutputTreatment</a><ul>
<li><a class="reference internal" href="#sampleandenvironmentproperties" id="id13">SampleAndEnvironmentProperties</a></li>
<li><a class="reference internal" href="#workflows" id="id14">Workflows</a></li>
<li><a class="reference internal" href="#absorber-transmission" id="id15">Absorber transmission</a></li>
<li><a class="reference internal" href="#beam" id="id16">Beam</a></li>
<li><a class="reference internal" href="#transmission" id="id17">Transmission</a></li>
<li><a class="reference internal" href="#container-absorber" id="id18">Container/Absorber</a></li>
<li><a class="reference internal" href="#quartz" id="id19">Quartz</a></li>
<li><a class="reference internal" href="#reference" id="id20">Reference</a></li>
<li><a class="reference internal" href="#sample" id="id21">Sample</a></li>
<li><a class="reference internal" href="#full-treatment" id="id22">Full Treatment</a></li>
</ul>
</li>
<li><a class="reference internal" href="#references" id="id23">References</a></li>
<li><a class="reference internal" href="#source" id="id24">Source</a></li>
</ul>
</div>
<div class="section" id="summary">
<h2><a class="toc-backref" href="#id3">Summary</a><a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>Performs polarized diffraction and spectroscopy data reduction for the D7 instrument at the ILL.</p>
<div class="section" id="see-also">
<h3><a class="toc-backref" href="#id4">See Also</a><a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="D7YIGPositionCalibration-v1.html#algm-d7yigpositioncalibration"><span class="std std-ref">D7YIGPositionCalibration</span></a>, <a class="reference internal" href="D7AbsoluteCrossSections-v1.html#algm-d7absolutecrosssections"><span class="std std-ref">D7AbsoluteCrossSections</span></a></p>
</div>
</div>
<div class="section" id="properties">
<h2><a class="toc-backref" href="#id5">Properties</a><a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="8%" />
<col width="2%" />
<col width="9%" />
<col width="3%" />
<col width="79%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Direction</th>
<th class="head">Type</th>
<th class="head">Default</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Run</td>
<td>Input</td>
<td>list of str lists</td>
<td><em>Mandatory</em></td>
<td>File path of run(s). Allowed values: [‘nxs’]</td>
</tr>
<tr class="row-odd"><td>ProcessAs</td>
<td>Input</td>
<td>string</td>
<td>Sample</td>
<td>Choose the process type. Allowed values: [‘Cadmium’, ‘EmptyBeam’, ‘BeamWithCadmium’, ‘Transmission’, ‘Empty’, ‘Quartz’, ‘Vanadium’, ‘Sample’]</td>
</tr>
<tr class="row-even"><td>OutputWorkspace</td>
<td>Output</td>
<td>WorkspaceGroup</td>
<td><em>Mandatory</em></td>
<td>The output workspace based on the value of ProcessAs.</td>
</tr>
<tr class="row-odd"><td>CadmiumWorkspace</td>
<td>Input</td>
<td>WorkspaceGroup</td>
<td>&#160;</td>
<td>The name of the cadmium workspace group.</td>
</tr>
<tr class="row-even"><td>EmptyBeamWorkspace</td>
<td>Input</td>
<td>WorkspaceGroup</td>
<td>&#160;</td>
<td>The name of the empty beam input workspace.</td>
</tr>
<tr class="row-odd"><td>CadmiumTransmissionWorkspace</td>
<td>Input</td>
<td>WorkspaceGroup</td>
<td>&#160;</td>
<td>The name of the cadmium transmission input workspace.</td>
</tr>
<tr class="row-even"><td>Transmission</td>
<td>Input</td>
<td>string</td>
<td>&#160;</td>
<td>The name of the transmission input workspace or a string with desired transmission value.</td>
</tr>
<tr class="row-odd"><td>EmptyContainerWorkspace</td>
<td>Input</td>
<td>WorkspaceGroup</td>
<td>&#160;</td>
<td>The name of the empty (container) workspace.</td>
</tr>
<tr class="row-even"><td>QuartzWorkspace</td>
<td>Input</td>
<td>WorkspaceGroup</td>
<td>&#160;</td>
<td>The name of the polarisation efficiency correction workspace.</td>
</tr>
<tr class="row-odd"><td>OutputTreatment</td>
<td>Input</td>
<td>string</td>
<td>Individual</td>
<td>Which treatment of the provided scan should be used to create output. Allowed values: [‘Individual’, ‘IndividualXY’, ‘AveragePol’, ‘AverageTwoTheta’, ‘Sum’]</td>
</tr>
<tr class="row-even"><td>ClearCache</td>
<td>Input</td>
<td>boolean</td>
<td>True</td>
<td>Whether or not to clear the cache of intermediate workspaces.</td>
</tr>
<tr class="row-odd"><td>AbsoluteNormalisation</td>
<td>Input</td>
<td>boolean</td>
<td>True</td>
<td>Whether or not to perform normalisation to absolute units.</td>
</tr>
<tr class="row-even"><td>SelfAttenuationMethod</td>
<td>Input</td>
<td>string</td>
<td>None</td>
<td>Which approach to calculate (or not) the self-attenuation correction factors to be used. Allowed values: [‘None’, ‘Transmission’, ‘Numerical’, ‘MonteCarlo’, ‘User’]</td>
</tr>
<tr class="row-odd"><td>SampleGeometry</td>
<td>Input</td>
<td>string</td>
<td>None</td>
<td>Sample geometry for self-attenuation correction to be applied. Allowed values: [‘None’, ‘FlatPlate’, ‘Cylinder’, ‘Annulus’, ‘Custom’]</td>
</tr>
<tr class="row-even"><td>SampleAndEnvironmentProperties</td>
<td>Input</td>
<td>Dictionary</td>
<td>null</td>
<td>Dictionary for the information about sample and its environment.</td>
</tr>
<tr class="row-odd"><td>SampleSelfAttenuationFactors</td>
<td>Input</td>
<td>WorkspaceGroup</td>
<td>&#160;</td>
<td>The name of the workspace group containing self-attenuation factors of the sample.</td>
</tr>
<tr class="row-even"><td>ScatteringAngleBinSize</td>
<td>Input</td>
<td>number</td>
<td>0.5</td>
<td>Scattering angle bin size in degrees used for expressing scan data on a single TwoTheta axis.</td>
</tr>
<tr class="row-odd"><td>MeasurementTechnique</td>
<td>Input</td>
<td>string</td>
<td>Powder</td>
<td>What type of measurement technique has been used to collect the data. Allowed values: [‘Powder’, ‘SingleCrystal’, ‘TOF’]</td>
</tr>
<tr class="row-even"><td>InstrumentCalibration</td>
<td>Input</td>
<td>string</td>
<td>&#160;</td>
<td>The path to the calibrated Instrument Parameter File. Allowed extensions: [‘.xml’]</td>
</tr>
<tr class="row-odd"><td>NormaliseBy</td>
<td>Input</td>
<td>string</td>
<td>Monitor</td>
<td>What normalisation approach to use on data. Allowed values: [‘Monitor’, ‘Time’, ‘None’]</td>
</tr>
<tr class="row-even"><td>ElasticChannelsWorkspace</td>
<td>Input</td>
<td><a class="reference internal" href="../concepts/TableWorkspaces.html#table-workspaces"><span class="std std-ref">TableWorkspace</span></a></td>
<td>&#160;</td>
<td>The name of the table workspace containing elastic peak positions.</td>
</tr>
<tr class="row-odd"><td>EnergyBinning</td>
<td>Input</td>
<td>dbl list</td>
<td>&#160;</td>
<td>Manual energy exchange binning parameters.</td>
</tr>
<tr class="row-even"><td>FrameOverlapCorrection</td>
<td>Input</td>
<td>boolean</td>
<td>True</td>
<td>Whether or not to perform frame overlap correction for TOF data.</td>
</tr>
<tr class="row-odd"><td>ConvertToEnergy</td>
<td>Input</td>
<td>boolean</td>
<td>True</td>
<td>Whether to convert TOF axis into energy exchange or keep it in units of time.</td>
</tr>
<tr class="row-even"><td>DetectorEnergyEfficiencyCorrection</td>
<td>Input</td>
<td>boolean</td>
<td>True</td>
<td>Whether or not to perform detector energy efficiency correction for TOF data.</td>
</tr>
<tr class="row-odd"><td>MaskDetectors</td>
<td>Input</td>
<td>long list</td>
<td>&#160;</td>
<td>Which detectors should be masked.</td>
</tr>
<tr class="row-even"><td>MaxTOFChannel</td>
<td>Input</td>
<td>number</td>
<td>512</td>
<td>What is the maximal number of TOF bins to be used.Bins above this value will be removed.</td>
</tr>
<tr class="row-odd"><td>SubtractTOFBackgroundMethod</td>
<td>Input</td>
<td>string</td>
<td>Gaussian</td>
<td>Which approach to use when subtracting time-(in)dependent background. Gaussian is equivalent to LAMP implementation, subtracts a Gaussian distribution preserving counts of the background source. Rectangular averages the container counts over the EP region. Data uses container counts directly as measured. Allowed values: [‘Gaussian’, ‘Rectangular’, ‘Data’]</td>
</tr>
<tr class="row-even"><td>PerformAnalyserTrCorrection</td>
<td>Input</td>
<td>boolean</td>
<td>True</td>
<td>Whether to perform analyser transmission correction.</td>
</tr>
<tr class="row-odd"><td>DebugMode</td>
<td>Input</td>
<td>boolean</td>
<td>False</td>
<td>Whether to create and show all intermediate workspaces at each correction step.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="description">
<h2><a class="toc-backref" href="#id6">Description</a><a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>This algorithm performs polarised diffraction and spectroscopy reduction for the D7 instrument at the ILL.
With each call, this algorithm processes one type of data which is a part of the whole experiment.
The logic is resolved by the property <strong>ProcessAs</strong>, which governs the reduction steps based on the requested type.
It can be one of the 8: cadmium, empty beam, beam-with-cadmium, transmission, empty, quartz, vanadium, and sample.
The full data treatment of the complete experiment should be build up as a chain with multiple calls of this algorithm over various types of acquisitions.
The sequence should be logical, typically as enumerated above, since the later processes need the outputs of earlier processes as input.
The common mandatory input is a run file (numor), or a list of them. In case a list is provided, coming for example from a scan over twoTheta angle,
the data is treated individually up to the point of background subtraction, and then can be either left as a list, each detector can averaged over the scan,
or all data from the scan can summed.</p>
<p>The input data is renamed, and a suffix is added to each numor containing information about the polarisation direction (‘Z’, ‘X’, ‘Y’, etc.) and the flipper state (‘ON’, ‘OFF’).</p>
<p>Most of the corrections, such as background subtraction or polarisation correction, are optional and their inclusion depends on the provided inputs and set flags.
However, it is mandatory to provide basic information about the vanadium and sample, such as mass, chemical formula, and either density or number density.</p>
<p>The common mandatory output is a workspace, but up to which step it is processed, depends on <strong>ProcessAs</strong>.</p>
</div>
<div class="section" id="processas">
<h2><a class="toc-backref" href="#id7">ProcessAs</a><a class="headerlink" href="#processas" title="Permalink to this headline">¶</a></h2>
<p>Different input properties can be specified depending on the value of <strong>ProcessAs</strong>, as summarized in the table:</p>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="35%" />
<col width="46%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">ProcessAs</th>
<th class="head">Input Workspace Properties</th>
<th class="head">Other Input Properties</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>BeamWithCadmium</td>
<td>&#160;</td>
<td><ul class="first last simple">
<li>NormaliseBy</li>
</ul>
</td>
</tr>
<tr class="row-odd"><td>EmptyBeam</td>
<td><ul class="first last simple">
<li>CadmiumTransmissionWorkspace</li>
</ul>
</td>
<td><ul class="first last simple">
<li>NormaliseBy</li>
</ul>
</td>
</tr>
<tr class="row-even"><td>Transmission</td>
<td><ul class="first last simple">
<li>CadmiumTransmissionWorkspace</li>
<li><strong>EmptyBeamWorkspace</strong></li>
</ul>
</td>
<td><ul class="first last simple">
<li>NormaliseBy</li>
</ul>
</td>
</tr>
<tr class="row-odd"><td>Cadmium</td>
<td>&#160;</td>
<td><ul class="first last simple">
<li>NormaliseBy</li>
</ul>
</td>
</tr>
<tr class="row-even"><td>Empty</td>
<td>&#160;</td>
<td><ul class="first last simple">
<li>NormaliseBy</li>
</ul>
</td>
</tr>
<tr class="row-odd"><td>Quartz</td>
<td><ul class="first last simple">
<li>CadmiumWorkspace</li>
<li>EmptyContainerWorkspace</li>
<li><strong>Transmission</strong></li>
</ul>
</td>
<td><ul class="first last simple">
<li>NormaliseBy</li>
<li>OutputTreatment</li>
</ul>
</td>
</tr>
<tr class="row-even"><td>Vanadium</td>
<td><ul class="first last simple">
<li>CadmiumWorkspace</li>
<li>EmptyContainerWorkspace</li>
<li>Transmission</li>
<li>QuartzWorkspace</li>
<li>ElasticChannelWorkspace</li>
</ul>
</td>
<td><ul class="first last simple">
<li>NormaliseBy</li>
<li>SampleGeometry</li>
<li><strong>SampleAndEnvironmentProperties</strong></li>
<li>OutputTreatment</li>
<li>ConvertToEnergy</li>
<li>EnergyBinning</li>
<li>DetectorEfficiencyCorrection</li>
<li>FrameOverlapCorrection</li>
<li>MaskDetectors</li>
<li>MaxTOFChannel</li>
<li>SubtractTOFBackgroundMethod</li>
<li>PerformAnalyserTrCorrection</li>
</ul>
</td>
</tr>
<tr class="row-odd"><td>Sample</td>
<td><ul class="first last simple">
<li>CadmiumWorkspace</li>
<li>EmptyContainerWorkspace</li>
<li>Transmission</li>
<li>QuartzWorkspace</li>
<li>ElasticChannelsWorkspace</li>
</ul>
</td>
<td><ul class="first last simple">
<li>NormaliseBy</li>
<li>SampleGeometry</li>
<li><strong>SampleAndEnvironmentProperties</strong></li>
<li>OutputTreatment</li>
<li>MeasurementTechnique</li>
<li>ConvertToEnergy</li>
<li>EnergyBinning</li>
<li>DetectorEfficiencyCorrection</li>
<li>FrameOverlapCorrection</li>
<li>MaskDetectors</li>
<li>MaxTOFChannel</li>
<li>SubtractTOFBackgroundMethod</li>
<li>PerformAnalyserTrCorrection</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>All the input workspace properties above are optional, unless bolded.
For example, if processing as sample, if a empty container and cadmium absorber inputs are specified, subtraction will be performed, if not, the step will be skipped.
The rare exceptions are when processing as transmission, when beam input workspace is mandatory, and to calculate polarising efficiencies,
where input from transmission is indispensable. Transmission however can be provided also as a string containing floating point value of desired tranmission, that needs
to be in the range (0, 1].</p>
</div>
<div class="section" id="normaliseby">
<h2><a class="toc-backref" href="#id8">NormaliseBy</a><a class="headerlink" href="#normaliseby" title="Permalink to this headline">¶</a></h2>
<p>This property allows to choose how the data is going to be normalised. The choices are: <cite>Monitor</cite> (Monitor 1) and <cite>Time</cite> (experiment duration saved in the NeXus file).</p>
</div>
<div class="section" id="measurementtechnique">
<h2><a class="toc-backref" href="#id9">MeasurementTechnique</a><a class="headerlink" href="#measurementtechnique" title="Permalink to this headline">¶</a></h2>
<p>This property allows to distinguish between reducing powder data from single crystal measurement. The options are: <cite>Powder</cite>, <cite>SingleCrystal</cite>, and <cite>TOF</cite>. In the case of single crystal
data, only one bank position can be processed at a time, and all input files for that bank are concatenated into a single workspace with vertical axis being 2theta positions of detectors,
and the horizontal axis containing omega scan steps.</p>
<p>In the <cite>TOF</cite> case, the X-axis is binned according to uncalibrated time, with binning information (start of the range, time bin width, number of bins) coming from NeXus files. Setting
the <cite>MeasurementTechnique</cite> property to <cite>TOF</cite> enables also elastic peak calibration of data, with peak information coming from <a class="reference internal" href="FindEPP-v2.html#algm-findepp"><span class="std std-ref">FindEPP</span></a> which is run on vanadium data
during reducing data as <cite>Vanadium</cite>. The output of <cite>Vanadium</cite> reduction containing information with fitted elastic peak positions provided through <cite>ElasticChannelsWorkspace</cite> property,
or a mock TableWorkspace containing at least two columns: <cite>PeakCentre</cite> and <cite>Sigmas</cite>, or an <cite>EPCentre</cite> (optionally also <cite>EPWidth</cite>) key defined via <cite>SampleAndEnvironmentProperties</cite> property,
is required when the <cite>processAs</cite> is set to <cite>Sample</cite> and <cite>MeasurementTechnique</cite> is set to <cite>TOF</cite>. The output workspace processed in this mode will have its X-axis units set to calibrated energy
exchange (<cite>DeltaE</cite>), where the energy exchange equal to 0 is set to fall at the position of the elastic peak for each detector.</p>
</div>
<div class="section" id="subtracttofbackgroundmethod">
<h2><a class="toc-backref" href="#id10">SubtractTOFBackgroundMethod</a><a class="headerlink" href="#subtracttofbackgroundmethod" title="Permalink to this headline">¶</a></h2>
<p>This property is relevant only when <cite>MeasurementTechnique</cite> is <cite>TOF</cite>. The property introduces three options for subtracting the background from the sample in the time-of-flight mode.
In all cases, the background is coming from either a measurement of the empty container or vanadium sample, if container measurement is not possible. The background is split in two
contributions, time-independent and time-dependent, respectively. The time-independent contribution is calculated as an average of counts outside of the elastic peak region. The time-dependent
contribution is the background present in the elastic peak region. Different options of the <cite>SubtractTOFBackgroundMethod</cite> allow the user to choose how the time-dependent background
estimate is going to be subtracted from the current sample (vanadium, sample) data. The full mathematical description is placed in the technique document for the Polarised Diffraction
at D7.</p>
<p>When <cite>SubtractTOFBackgroundMethod</cite> is equal to <cite>Data</cite>, the counts coming from empty container or vanadium measurement are used without modification and directly subtracted from current
sample counts. When this property is set to <cite>Rectangular</cite>, an average of the measured background source counts is used instead of direct counts. This allows to smooth our fluctuations in
the background source data, which in principle may be quite noisy. The last option is <cite>Gaussian</cite>, which estimates the background source counts as a gaussian distribution, with a centre
at the elastic peak, the width of the elastic peak, and the integrated counts equal to that of the background source.</p>
</div>
<div class="section" id="detector-and-analyser-energy-correction">
<h2><a class="toc-backref" href="#id11">Detector and analyser energy correction</a><a class="headerlink" href="#detector-and-analyser-energy-correction" title="Permalink to this headline">¶</a></h2>
<p>The detector and analyser energy corrections are performed only when the <cite>ConvertToEnergy</cite> property is checked.</p>
<p>The detector energy correction is performed using <a class="reference internal" href="DetectorEfficiencyCorUser-v1.html#algm-detectorefficiencycoruser"><span class="std std-ref">DetectorEfficiencyCorUser</span></a> algorithm, with the following function:</p>
<div class="math">
\[f(E_{i}) = 1.0 - \mathrm{exp} \left( \frac{-13.153}{\sqrt{E_{i}}} \right),\]</div>
<p>where the constant value of -13.153 is derived from multiplying the pressure of detector tubes (10 Pa), their diameter (2.54 cm),
and a factor of −0.51784, obtained by D7 responsible scientists using Monte Carlo simulations.</p>
<p>The analyser energy correction is a multiplicative correction, applied after the detector efficiency is taken into account, if the <cite>PerformAnalyserTrCorrection</cite> property is checked.
The correction factor is a ratio of the analyser transmission for the elastic energy and the final energy corresponding to each bin (after conversion from time channels to energy exchange).
The distribution of analyser transmission values as a function of wavelength (or, equivalently, energy) are coming from Monte Carlo simulations performed by D7 scientists, and are
shown in Fig. 9 of Ref. <a class="footnote-reference" href="#steward" id="id1">[1]</a>.</p>
</div>
<div class="section" id="outputtreatment">
<h2><a class="toc-backref" href="#id12">OutputTreatment</a><a class="headerlink" href="#outputtreatment" title="Permalink to this headline">¶</a></h2>
<p>This property of the algorithm allows to decide the treatment and shape of the output of the reduction workflow. There are several options available:</p>
<ul class="simple">
<li><em>Individual</em></li>
<li><em>IndividualXY</em></li>
<li><em>AveragePol</em></li>
<li><em>AverageTwoTheta</em></li>
<li><em>Sum</em>.</li>
</ul>
<p>The <cite>Individual</cite> setting will preserve the number of workspaces of the input, allowing to check workspace by workspace how the relevant process reduced the data.
This is the recommended setting for the sample data processing for the use as input to <a class="reference internal" href="D7AbsoluteCrossSections-v1.html#algm-d7absolutecrosssections"><span class="std std-ref">D7AbsoluteCrossSections</span></a> algorithm.</p>
<p><cite>IndividualXY</cite> allows to display all measured point on a single plot as a function of a twotheta. This option is indended as a convenient diagnostics, and the output
obtained with this selection is not a suitable input for further processing in <a class="reference internal" href="D7AbsoluteCrossSections-v1.html#algm-d7absolutecrosssections"><span class="std std-ref">D7AbsoluteCrossSections</span></a>.</p>
<p><cite>AveragePol</cite> will average the workspaces according to their polarization orientation and the flipper state. The output will contain as many workspaces as there are
relevant combinations of the polarization and the flipper state, so two workspaces in the case of the uniaxial measurement, six for XYZ, etc. This is the recommended
setting for processing Quartz.</p>
<p><cite>AverageTwoTheta</cite> will average the workspaces with the same <cite>2theta.requested</cite> metadata entry. The output will contain as many workspaces as there were different
requested twotheta positions. This setting is intended only as a convenient diagnostics of the reduction processing, and the output is not suitable for further processing.</p>
<p><cite>Sum</cite> behaviour depends on the process. For processing Vanadium, it will first average input workspaces according to their polarisation orientation, like in <cite>AveragePol</cite>,
and then the averaged workspaced will be summed. For different processes, this selection calls <a class="reference internal" href="SumOverlappingTubes-v1.html#algm-sumoverlappingtubes"><span class="std std-ref">SumOverlappingTubes</span></a> algorithm and will
display data as a function of twotheta. This is the recommended setting for processing Vanadium; for other process types, the output is not suitable for further processing.</p>
<div class="section" id="sampleandenvironmentproperties">
<h3><a class="toc-backref" href="#id13">SampleAndEnvironmentProperties</a><a class="headerlink" href="#sampleandenvironmentproperties" title="Permalink to this headline">¶</a></h3>
<p>This property is a dictionary containing all of the information about the sample and its environment. This information is used in self-attenuation
calculations and in normalisation.</p>
<p>The complete list of keys can is summarised below:</p>
<p>Sample-only keys:</p>
<ul class="simple">
<li><em>SampleMass</em></li>
<li><em>FormulaUnitMass</em></li>
<li><em>SampleChemicalFormula</em></li>
<li><em>SampleDensity</em></li>
<li><em>Height</em></li>
</ul>
<p>The SampleMass needs to be defined, as well as the FormulaUnitMass, even when the self-attenuation is not taken into account. The other
parameters are required when the self-attenuation coefficients are calculated.</p>
<p>Container-only keys:</p>
<ul class="simple">
<li><em>ContainerChemicalFormula</em></li>
<li><em>ContainerDensity</em></li>
</ul>
<p>Beam-only keys:</p>
<ul class="simple">
<li><em>BeamHeight</em></li>
<li><em>BeamWidth</em></li>
</ul>
<p>These do not have to be defined, and by default will be set to be larger than the sample size.</p>
<p>Then, depending on the chosen sample geometry, additional parameters need to be defined:</p>
<ul class="simple">
<li>For FlatPlate:<ul>
<li><em>SampleThickness</em></li>
<li><em>SampleWidth</em></li>
<li><em>SampleCenter</em></li>
<li><em>SampleAngle</em></li>
<li><em>ContainerFrontThickness</em></li>
<li><em>ContainerBackThickness</em></li>
</ul>
</li>
<li>For Cylinder:<ul>
<li><em>SampleRadius</em></li>
<li><em>ContainerRadius</em></li>
</ul>
</li>
<li>For Annulus:<ul>
<li><em>SampleInnerRadius</em></li>
<li><em>SampleOuterRadius</em></li>
<li><em>ContainerInnerRadius</em></li>
<li><em>ContainerOuterRadius</em></li>
</ul>
</li>
</ul>
<p>Time-of-flight specific keys:</p>
<ul class="simple">
<li><em>EPCentre</em></li>
<li><em>EPWidth</em></li>
<li><em>EPNSigmasBckg</em></li>
<li><em>EPNSigmasVana</em></li>
</ul>
<p>The <em>EPCentre</em> and <em>EPWidth</em> keys are the user-defined centre and width, respectively, of elastic peaks to be used
for integrating elastic peaks, in units of time-of-flight. If any of those keys is provided along with the ElasticChannelWorkspace,
it will be used instead of information provided in that table.</p>
<p><em>EPNSigmasBckg</em> and <em>EPNSigmasVana</em> control the integration range around the position of elastic peak for each detector by expanding
the width of the peak by the provided factor, used for calculations of the time-dependent background and the vanadium normalisation, respectively.</p>
<p>Optional general-use keys:</p>
<ul class="simple">
<li><em>InitialEnergy</em> - if not provided, the value will be calculated from the wavelength in the SampleLogs</li>
<li><em>NMoles</em> - if not provided, the value will be calculated based on the <em>SampleMass</em> and <em>FormulaUnitMass</em></li>
</ul>
</div>
<div class="section" id="workflows">
<h3><a class="toc-backref" href="#id14">Workflows</a><a class="headerlink" href="#workflows" title="Permalink to this headline">¶</a></h3>
<p>In the flowcharts below the yellow ovals represent the inputs, the grey parallelograms are the outputs for each process type.</p>
</div>
<div class="section" id="absorber-transmission">
<h3><a class="toc-backref" href="#id15">Absorber transmission</a><a class="headerlink" href="#absorber-transmission" title="Permalink to this headline">¶</a></h3>
<img alt="../_images/PolDiffILLReduction-v1_absorber_wkflw.svg" src="../_images/PolDiffILLReduction-v1_absorber_wkflw.svg" /></div>
<div class="section" id="beam">
<h3><a class="toc-backref" href="#id16">Beam</a><a class="headerlink" href="#beam" title="Permalink to this headline">¶</a></h3>
<img alt="../_images/PolDiffILLReduction-v1_beam_wkflw.svg" src="../_images/PolDiffILLReduction-v1_beam_wkflw.svg" /></div>
<div class="section" id="transmission">
<h3><a class="toc-backref" href="#id17">Transmission</a><a class="headerlink" href="#transmission" title="Permalink to this headline">¶</a></h3>
<img alt="../_images/PolDiffILLReduction-v1_transmission_wkflw.svg" src="../_images/PolDiffILLReduction-v1_transmission_wkflw.svg" /></div>
<div class="section" id="container-absorber">
<h3><a class="toc-backref" href="#id18">Container/Absorber</a><a class="headerlink" href="#container-absorber" title="Permalink to this headline">¶</a></h3>
<img alt="../_images/PolDiffILLReduction-v1_container_wkflw.svg" src="../_images/PolDiffILLReduction-v1_container_wkflw.svg" /></div>
<div class="section" id="quartz">
<h3><a class="toc-backref" href="#id19">Quartz</a><a class="headerlink" href="#quartz" title="Permalink to this headline">¶</a></h3>
<img alt="../_images/PolDiffILLReduction-v1_quartz_wkflw.svg" src="../_images/PolDiffILLReduction-v1_quartz_wkflw.svg" /></div>
<div class="section" id="reference">
<h3><a class="toc-backref" href="#id20">Reference</a><a class="headerlink" href="#reference" title="Permalink to this headline">¶</a></h3>
<img alt="../_images/PolDiffILLReduction-v1_vanadium_wkflw.svg" src="../_images/PolDiffILLReduction-v1_vanadium_wkflw.svg" /></div>
<div class="section" id="sample">
<h3><a class="toc-backref" href="#id21">Sample</a><a class="headerlink" href="#sample" title="Permalink to this headline">¶</a></h3>
<img alt="../_images/PolDiffILLReduction-v1_sample_wkflw.svg" src="../_images/PolDiffILLReduction-v1_sample_wkflw.svg" /></div>
<div class="section" id="full-treatment">
<h3><a class="toc-backref" href="#id22">Full Treatment</a><a class="headerlink" href="#full-treatment" title="Permalink to this headline">¶</a></h3>
<p>Full treatment is built by stacking up unary reductions with corresponding <strong>ProcessAs</strong>. The diagram below illustrates the flow of processing.
Letters denote beam with absorber (AT), beam (B), transmission (T), cadmium (A), empty (C), quartz (Q), vanadium (V), sample (S).
AT is processed first, and passed to all the other processes.
B takes only AT as optional input, and the output of B is needed by all transmisison calculations.
T takes AT and B as inputs, and the calculated transmission is used by Q, V, and S respectively.
C and A are supplied to Q, V, and S respectively.
Q takes A, C, its T, and the output is provided to V and S.
V takes A, C, its T, and Q as inputs and the output can used to normalise S
S takes A, C, its T, as well as Q as inputs.
The output of S is reduced sample in desired units.</p>
<img alt="../_images/PolDiffILLReduction-v1_all_wkflw.svg" src="../_images/PolDiffILLReduction-v1_all_wkflw.svg" /><p>This example below performs a complete reduction for D7 data.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For transmission calculation, the beam run and the transmission run have to be recorded at the same instrument configuration.
For container subtraction, the container and the sample run have to be recorded at the same configuration.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">To run these usage examples please first download the
<a class="reference external" href="https://sourceforge.net/projects/mantid/files/Sample%20Data/UsageData.zip/download">usage data</a>,
and add these to your path. In Mantid this is done using <a class="reference external" href="http://www.mantidproject.org/ManageUserDirectories">Manage User Directories</a>.</p>
</div>
<p><strong>Example - full treatment of a powder sample</strong></p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">vanadium_dictionary</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;SampleMass&#39;</span><span class="p">:</span><span class="mf">8.54</span><span class="p">,</span><span class="s1">&#39;SampleDensity&#39;</span><span class="p">:</span><span class="mf">0.2</span><span class="p">,</span><span class="s1">&#39;FormulaUnitMass&#39;</span><span class="p">:</span><span class="mf">50.94</span><span class="p">}</span>

<span class="n">sample_dictionary</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;SampleMass&#39;</span><span class="p">:</span><span class="mf">2.932</span><span class="p">,</span><span class="s1">&#39;SampleDensity&#39;</span><span class="p">:</span><span class="mf">0.1</span><span class="p">,</span><span class="s1">&#39;FormulaUnitMass&#39;</span><span class="p">:</span><span class="mf">182.56</span><span class="p">}</span>

<span class="c1"># Beam with cadmium absorber, used for transmission</span>
<span class="n">PolDiffILLReduction</span><span class="p">(</span>
    <span class="n">Run</span><span class="o">=</span><span class="s1">&#39;396991&#39;</span><span class="p">,</span>
    <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;cadmium_transmission_ws&#39;</span><span class="p">,</span>
    <span class="n">ProcessAs</span><span class="o">=</span><span class="s1">&#39;BeamWithCadmium&#39;</span>
<span class="p">)</span>
<span class="c1"># Beam measurement for transmisison</span>
<span class="n">PolDiffILLReduction</span><span class="p">(</span>
    <span class="n">Run</span><span class="o">=</span><span class="s1">&#39;396983&#39;</span><span class="p">,</span>
    <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;beam_ws&#39;</span><span class="p">,</span>
    <span class="n">CadmiumTransmissionWorkspace</span><span class="o">=</span><span class="s1">&#39;cadmium_transmission_ws&#39;</span><span class="p">,</span>
    <span class="n">ProcessAs</span><span class="o">=</span><span class="s1">&#39;EmptyBeam&#39;</span>
<span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Cadmium absorber monitor 2 rate as a ratio of empty beam is </span><span class="si">{0:.3f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">mtd</span><span class="p">[</span><span class="s1">&#39;cadmium_transmission_ws_1&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="n">mtd</span><span class="p">[</span><span class="s1">&#39;beam_ws_1&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">0</span><span class="p">]))</span>

<span class="c1"># Quartz transmission</span>
<span class="n">PolDiffILLReduction</span><span class="p">(</span>
    <span class="n">Run</span><span class="o">=</span><span class="s1">&#39;396985&#39;</span><span class="p">,</span>
    <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;quartz_transmission&#39;</span><span class="p">,</span>
    <span class="n">CadmiumTransmissionWorkspace</span><span class="o">=</span><span class="s1">&#39;cadmium_transmission_ws&#39;</span><span class="p">,</span>
    <span class="n">EmptyBeamWorkspace</span><span class="o">=</span><span class="s1">&#39;beam_ws&#39;</span><span class="p">,</span>
    <span class="n">ProcessAs</span><span class="o">=</span><span class="s1">&#39;Transmission&#39;</span>
<span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Quartz transmission is </span><span class="si">{0:.3f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">mtd</span><span class="p">[</span><span class="s1">&#39;quartz_transmission_1&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">0</span><span class="p">]))</span>

<span class="c1"># Empty container</span>
<span class="n">PolDiffILLReduction</span><span class="p">(</span>
    <span class="n">Run</span><span class="o">=</span><span class="s1">&#39;396917&#39;</span><span class="p">,</span>
    <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;empty_ws&#39;</span><span class="p">,</span>
    <span class="n">ProcessAs</span><span class="o">=</span><span class="s1">&#39;Empty&#39;</span>
<span class="p">)</span>

<span class="c1"># Cadmium absorber</span>
<span class="n">PolDiffILLReduction</span><span class="p">(</span>
    <span class="n">Run</span><span class="o">=</span><span class="s1">&#39;396928&#39;</span><span class="p">,</span>
    <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;cadmium_ws&#39;</span><span class="p">,</span>
    <span class="n">ProcessAs</span><span class="o">=</span><span class="s1">&#39;Cadmium&#39;</span>
<span class="p">)</span>

<span class="c1"># Polarisation correction</span>
<span class="n">PolDiffILLReduction</span><span class="p">(</span>
    <span class="n">Run</span><span class="o">=</span><span class="s1">&#39;396939&#39;</span><span class="p">,</span>
    <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;pol_corrections&#39;</span><span class="p">,</span>
    <span class="n">CadmiumWorkspace</span><span class="o">=</span><span class="s1">&#39;cadmium_ws&#39;</span><span class="p">,</span>
    <span class="n">EmptyContainerWorkspace</span><span class="o">=</span><span class="s1">&#39;empty_ws&#39;</span><span class="p">,</span>
    <span class="c1"># Transmission=&#39;0.95&#39;, # transmission can be also provided as a string with desired value</span>
    <span class="n">Transmission</span><span class="o">=</span><span class="s1">&#39;quartz_transmission&#39;</span><span class="p">,</span>
    <span class="n">OutputTreatment</span><span class="o">=</span><span class="s1">&#39;AveragePol&#39;</span><span class="p">,</span>
    <span class="n">ProcessAs</span><span class="o">=</span><span class="s1">&#39;Quartz&#39;</span>
<span class="p">)</span>

<span class="c1"># Vanadium transmission</span>
<span class="n">PolDiffILLReduction</span><span class="p">(</span>
    <span class="n">Run</span><span class="o">=</span><span class="s1">&#39;396990&#39;</span><span class="p">,</span>
    <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;vanadium_transmission&#39;</span><span class="p">,</span>
    <span class="n">CadmiumTransmissionWorkspace</span><span class="o">=</span><span class="s1">&#39;cadmium_transmission_ws&#39;</span><span class="p">,</span>
    <span class="n">EmptyBeamWorkspace</span><span class="o">=</span><span class="s1">&#39;beam_ws&#39;</span><span class="p">,</span>
    <span class="n">ProcessAs</span><span class="o">=</span><span class="s1">&#39;Transmission&#39;</span>
<span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Vanadium transmission is </span><span class="si">{0:.3f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">mtd</span><span class="p">[</span><span class="s1">&#39;vanadium_transmission_1&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">0</span><span class="p">]))</span>

<span class="c1"># Vanadium reduction</span>
<span class="n">PolDiffILLReduction</span><span class="p">(</span>
    <span class="n">Run</span><span class="o">=</span><span class="s1">&#39;396993&#39;</span><span class="p">,</span>
    <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;vanadium_ws&#39;</span><span class="p">,</span>
    <span class="n">CadmiumWorkspace</span><span class="o">=</span><span class="s1">&#39;cadmium_ws&#39;</span><span class="p">,</span>
    <span class="n">EmptyContainerWorkspace</span><span class="o">=</span><span class="s1">&#39;empty_ws&#39;</span><span class="p">,</span>
    <span class="n">Transmission</span><span class="o">=</span><span class="s1">&#39;vanadium_transmission&#39;</span><span class="p">,</span>
    <span class="n">QuartzWorkspace</span><span class="o">=</span><span class="s1">&#39;pol_corrections&#39;</span><span class="p">,</span>
    <span class="n">OutputTreatment</span><span class="o">=</span><span class="s1">&#39;Sum&#39;</span><span class="p">,</span>
    <span class="n">SampleGeometry</span><span class="o">=</span><span class="s1">&#39;None&#39;</span><span class="p">,</span>
    <span class="n">SampleAndEnvironmentProperties</span><span class="o">=</span><span class="n">vanadium_dictionary</span><span class="p">,</span>
    <span class="n">ProcessAs</span><span class="o">=</span><span class="s1">&#39;Vanadium&#39;</span>
<span class="p">)</span>

<span class="c1"># Sample transmission</span>
<span class="n">PolDiffILLReduction</span><span class="p">(</span>
   <span class="n">Run</span><span class="o">=</span><span class="s1">&#39;396986&#39;</span><span class="p">,</span>
   <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;sample_transmission&#39;</span><span class="p">,</span>
   <span class="n">CadmiumTransmissionWorkspace</span><span class="o">=</span><span class="s1">&#39;cadmium_transmission_ws&#39;</span><span class="p">,</span>
   <span class="n">EmptyBeamWorkspace</span><span class="o">=</span><span class="s1">&#39;beam_ws&#39;</span><span class="p">,</span>
   <span class="n">ProcessAs</span><span class="o">=</span><span class="s1">&#39;Transmission&#39;</span>
<span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Sample transmission is </span><span class="si">{0:.3f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">mtd</span><span class="p">[</span><span class="s1">&#39;sample_transmission_1&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">0</span><span class="p">]))</span>

<span class="c1"># Sample reduction</span>
<span class="n">PolDiffILLReduction</span><span class="p">(</span>
    <span class="n">Run</span><span class="o">=</span><span class="s1">&#39;397004&#39;</span><span class="p">,</span>
    <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;sample_ws&#39;</span><span class="p">,</span>
    <span class="n">CadmiumWorkspace</span><span class="o">=</span><span class="s1">&#39;cadmium_ws&#39;</span><span class="p">,</span>
    <span class="n">EmptyContainerWorkspace</span><span class="o">=</span><span class="s1">&#39;empty_ws&#39;</span><span class="p">,</span>
    <span class="n">Transmission</span><span class="o">=</span><span class="s1">&#39;sample_transmission&#39;</span><span class="p">,</span>
    <span class="n">QuartzWorkspace</span><span class="o">=</span><span class="s1">&#39;pol_corrections&#39;</span><span class="p">,</span>
    <span class="n">OutputTreatment</span><span class="o">=</span><span class="s1">&#39;Individual&#39;</span><span class="p">,</span>
    <span class="n">SampleGeometry</span><span class="o">=</span><span class="s1">&#39;None&#39;</span><span class="p">,</span>
    <span class="n">SampleAndEnvironmentProperties</span><span class="o">=</span><span class="n">sample_dictionary</span><span class="p">,</span>
    <span class="n">ProcessAs</span><span class="o">=</span><span class="s1">&#39;Sample&#39;</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>Cadmium absorber monitor 2 rate as a ratio of empty beam is 0.011
Quartz transmission is 0.700
Vanadium transmission is 0.886
Sample transmission is 0.963
</pre></div>
</div>
<p><strong>Example - full treatment of a single crystal sample</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span></span> <span class="n">vanadium_mass</span> <span class="o">=</span> <span class="mf">8.535</span>
 <span class="n">sample_formula_mass</span> <span class="o">=</span> <span class="mf">137.33</span> <span class="o">*</span> <span class="mf">2.0</span> <span class="o">+</span> <span class="mf">54.93</span> <span class="o">+</span> <span class="mf">127.6</span> <span class="o">+</span> <span class="mf">15.999</span> <span class="o">*</span> <span class="mf">6.0</span>
 <span class="n">sample_mass</span> <span class="o">=</span> <span class="mf">7.83</span>
 <span class="n">vanadium_dictionary</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;SampleMass&#39;</span><span class="p">:</span> <span class="n">vanadium_mass</span><span class="p">,</span> <span class="s1">&#39;FormulaUnits&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;FormulaUnitMass&#39;</span><span class="p">:</span> <span class="mf">50.942</span><span class="p">}</span>
 <span class="n">sample_dictionary</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;SampleMass&#39;</span><span class="p">:</span> <span class="n">sample_mass</span><span class="p">,</span> <span class="s1">&#39;FormulaUnits&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;FormulaUnitMass&#39;</span><span class="p">:</span> <span class="n">sample_formula_mass</span><span class="p">,</span>
                          <span class="s1">&#39;KiXAngle&#39;</span><span class="p">:</span> <span class="mf">45.0</span><span class="p">,</span> <span class="s1">&#39;OmegaShift&#39;</span><span class="p">:</span> <span class="mf">52.5</span><span class="p">}</span>
 <span class="n">calibration_file</span> <span class="o">=</span> <span class="s2">&quot;D7_YIG_calibration.xml&quot;</span>

 <span class="c1"># Empty container for quartz and vanadium</span>
 <span class="n">PolDiffILLReduction</span><span class="p">(</span>
     <span class="n">Run</span><span class="o">=</span><span class="s1">&#39;450747:450748&#39;</span><span class="p">,</span>
         <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;container_ws&#39;</span><span class="p">,</span>
         <span class="n">ProcessAs</span><span class="o">=</span><span class="s1">&#39;Empty&#39;</span>
<span class="p">)</span>

<span class="c1"># Empty container for bank position 1 (bt1), tth=79.5</span>
<span class="n">PolDiffILLReduction</span><span class="p">(</span>
    <span class="n">Run</span><span class="o">=</span><span class="s1">&#39;397406:397407&#39;</span><span class="p">,</span>
    <span class="n">OutputTreatment</span><span class="o">=</span><span class="s1">&#39;AveragePol&#39;</span><span class="p">,</span>
    <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;container_bt1_ws&#39;</span><span class="p">,</span>
    <span class="n">ProcessAs</span><span class="o">=</span><span class="s1">&#39;Empty&#39;</span>
<span class="p">)</span>
<span class="c1"># empty container for bt2, tth=75</span>
<span class="n">PolDiffILLReduction</span><span class="p">(</span>
    <span class="n">Run</span><span class="o">=</span><span class="s1">&#39;397397:397398&#39;</span><span class="p">,</span>
    <span class="n">OutputTreatment</span><span class="o">=</span><span class="s1">&#39;AveragePol&#39;</span><span class="p">,</span>
    <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;container_bt2_ws&#39;</span><span class="p">,</span>
    <span class="n">ProcessAs</span><span class="o">=</span><span class="s1">&#39;Empty&#39;</span>
<span class="p">)</span>

<span class="n">PolDiffILLReduction</span><span class="p">(</span>
    <span class="n">Run</span><span class="o">=</span><span class="s1">&#39;450769:450770&#39;</span><span class="p">,</span>
    <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;pol_corrections&#39;</span><span class="p">,</span>
    <span class="n">EmptyContainerWorkspace</span><span class="o">=</span><span class="s1">&#39;container_ws&#39;</span><span class="p">,</span>
    <span class="n">Transmission</span><span class="o">=</span><span class="s1">&#39;0.9&#39;</span><span class="p">,</span>
    <span class="n">OutputTreatment</span><span class="o">=</span><span class="s1">&#39;AveragePol&#39;</span><span class="p">,</span>
    <span class="n">ProcessAs</span><span class="o">=</span><span class="s1">&#39;Quartz&#39;</span>
<span class="p">)</span>

<span class="n">PolDiffILLReduction</span><span class="p">(</span>
    <span class="n">Run</span><span class="o">=</span><span class="s1">&#39;450835:450836&#39;</span><span class="p">,</span>
    <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;vanadium_ws&#39;</span><span class="p">,</span>
    <span class="n">EmptyContainerWorkspace</span><span class="o">=</span><span class="s1">&#39;container_ws&#39;</span><span class="p">,</span>
    <span class="n">Transmission</span><span class="o">=</span><span class="s1">&#39;0.89&#39;</span><span class="p">,</span>
    <span class="n">QuartzWorkspace</span><span class="o">=</span><span class="s1">&#39;pol_corrections&#39;</span><span class="p">,</span>
    <span class="n">OutputTreatment</span><span class="o">=</span><span class="s1">&#39;Sum&#39;</span><span class="p">,</span>
    <span class="n">SampleGeometry</span><span class="o">=</span><span class="s1">&#39;None&#39;</span><span class="p">,</span>
    <span class="n">SelfAttenuationMethod</span><span class="o">=</span><span class="s1">&#39;Transmission&#39;</span><span class="p">,</span>
    <span class="n">SampleAndEnvironmentProperties</span><span class="o">=</span><span class="n">vanadium_dictionary</span><span class="p">,</span>
    <span class="n">AbsoluteNormalisation</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">InstrumentCalibration</span><span class="o">=</span><span class="n">calibration_file</span><span class="p">,</span>
    <span class="n">ProcessAs</span><span class="o">=</span><span class="s1">&#39;Vanadium&#39;</span>
<span class="p">)</span>

<span class="c1"># bank position 1, tth=79.5</span>
<span class="n">PolDiffILLReduction</span><span class="p">(</span>
    <span class="n">Run</span><span class="o">=</span><span class="s1">&#39;399451:399452&#39;</span><span class="p">,</span>
    <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;bt1&#39;</span><span class="p">,</span>
    <span class="n">EmptyContainerWorkspace</span><span class="o">=</span><span class="s1">&#39;container_bt1_ws&#39;</span><span class="p">,</span>
    <span class="n">Transmission</span><span class="o">=</span><span class="s1">&#39;0.95&#39;</span><span class="p">,</span>
    <span class="n">QuartzWorkspace</span><span class="o">=</span><span class="s1">&#39;pol_corrections&#39;</span><span class="p">,</span>
    <span class="n">OutputTreatment</span><span class="o">=</span><span class="s1">&#39;Individual&#39;</span><span class="p">,</span>
    <span class="n">SampleGeometry</span><span class="o">=</span><span class="s1">&#39;None&#39;</span><span class="p">,</span>
    <span class="n">SampleAndEnvironmentProperties</span><span class="o">=</span><span class="n">sample_dictionary</span><span class="p">,</span>
    <span class="n">MeasurementTechnique</span><span class="o">=</span><span class="s1">&#39;SingleCrystal&#39;</span><span class="p">,</span>
    <span class="n">InstrumentCalibration</span><span class="o">=</span><span class="n">calibration_file</span><span class="p">,</span>
    <span class="n">ProcessAs</span><span class="o">=</span><span class="s1">&#39;Sample&#39;</span>
<span class="p">)</span>
<span class="c1"># bank position 2, tth=75</span>
<span class="n">PolDiffILLReduction</span><span class="p">(</span>
    <span class="n">Run</span><span class="o">=</span><span class="s1">&#39;400287:400288&#39;</span><span class="p">,</span>
    <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;bt2&#39;</span><span class="p">,</span>
    <span class="n">EmptyContainerWorkspace</span><span class="o">=</span><span class="s1">&#39;container_bt2_ws&#39;</span><span class="p">,</span>
    <span class="n">Transmission</span><span class="o">=</span><span class="s1">&#39;0.95&#39;</span><span class="p">,</span>
    <span class="n">QuartzWorkspace</span><span class="o">=</span><span class="s1">&#39;pol_corrections&#39;</span><span class="p">,</span>
    <span class="n">OutputTreatment</span><span class="o">=</span><span class="s1">&#39;Individual&#39;</span><span class="p">,</span>
    <span class="n">SampleGeometry</span><span class="o">=</span><span class="s1">&#39;None&#39;</span><span class="p">,</span>
    <span class="n">SampleAndEnvironmentProperties</span><span class="o">=</span><span class="n">sample_dictionary</span><span class="p">,</span>
    <span class="n">MeasurementTechnique</span><span class="o">=</span><span class="s1">&#39;SingleCrystal&#39;</span><span class="p">,</span>
    <span class="n">InstrumentCalibration</span><span class="o">=</span><span class="n">calibration_file</span><span class="p">,</span>
    <span class="n">ProcessAs</span><span class="o">=</span><span class="s1">&#39;Sample&#39;</span>
<span class="p">)</span>
<span class="n">appended_ws</span> <span class="o">=</span> <span class="s1">&#39;appended_ws&#39;</span>
<span class="n">AppendSpectra</span><span class="p">(</span><span class="n">InputWorkspace1</span><span class="o">=</span><span class="s1">&#39;bt1&#39;</span><span class="p">,</span> <span class="n">InputWorkspace2</span><span class="o">=</span><span class="s1">&#39;bt2&#39;</span><span class="p">,</span>
<span class="n">OutputWorkspace</span><span class="o">=</span><span class="n">appended_ws</span><span class="p">)</span>
<span class="c1"># names need to be re-set, AppendSpectra just concatenates them</span>
<span class="n">possible_polarisations</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;ZPO_ON&#39;</span><span class="p">,</span> <span class="s1">&#39;ZPO_OFF&#39;</span><span class="p">,</span> <span class="s1">&#39;XPO_ON&#39;</span><span class="p">,</span> <span class="s1">&#39;XPO_OFF&#39;</span><span class="p">,</span> <span class="s1">&#39;YPO_ON&#39;</span><span class="p">,</span> <span class="s1">&#39;YPO_OFF&#39;</span><span class="p">]</span>
<span class="n">polarisation</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
<span class="k">for</span> <span class="n">entry</span> <span class="ow">in</span> <span class="n">mtd</span><span class="p">[</span><span class="n">appended_ws</span><span class="p">]:</span>
    <span class="n">entry_name</span> <span class="o">=</span> <span class="n">entry</span><span class="o">.</span><span class="n">name</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">polarisation</span> <span class="ow">in</span> <span class="n">possible_polarisations</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">polarisation</span> <span class="ow">in</span> <span class="n">entry_name</span><span class="p">:</span>
            <span class="k">break</span>
    <span class="n">RenameWorkspace</span><span class="p">(</span><span class="n">InputWorkspace</span><span class="o">=</span><span class="n">entry</span><span class="p">,</span> <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s2">&quot;{}_{}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">appended_ws</span><span class="p">,</span> <span class="n">polarisation</span><span class="p">))</span>
</pre></div>
</div>
<p><strong>Example - full treatment of a water sample measured in Time-of-flight mode</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># based on logbook from exp_6-02-594, cycle 193</span>

<span class="n">vanadium_mass</span> <span class="o">=</span> <span class="mf">6.11</span> <span class="o">*</span> <span class="mf">4.0</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="p">(</span><span class="mf">0.6</span><span class="o">**</span><span class="mi">2</span> <span class="o">-</span> <span class="mf">0.4</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
<span class="n">formula_weight_H2O</span> <span class="o">=</span> <span class="mf">1.008</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="mf">15.999</span> <span class="c1"># NIST</span>
<span class="n">sample_mass_H2O</span> <span class="o">=</span> <span class="mf">0.874</span>
<span class="n">sample_formula_H2O</span> <span class="o">=</span> <span class="s1">&#39;H2O&#39;</span>
<span class="n">sample_thickness_H2O</span> <span class="o">=</span> <span class="mf">1.95</span>
<span class="n">max_tof_channel</span> <span class="o">=</span> <span class="mi">511</span>
<span class="n">vanadium_dictionary</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;SampleMass&#39;</span><span class="p">:</span><span class="n">vanadium_mass</span><span class="p">,</span> <span class="s1">&#39;FormulaUnitMass&#39;</span><span class="p">:</span><span class="mf">50.942</span><span class="p">,</span> <span class="s1">&#39;EPCentre&#39;</span><span class="p">:</span><span class="mf">1645.0</span><span class="p">,</span> <span class="s1">&#39;EPWidth&#39;</span><span class="p">:</span><span class="mf">54.0</span><span class="p">,</span> <span class="s1">&#39;EPNSigmasBckg&#39;</span><span class="p">:</span><span class="mf">3.0</span><span class="p">,</span> <span class="s1">&#39;EPNSigmasVana&#39;</span><span class="p">:</span> <span class="mf">3.0</span><span class="p">}</span>
<span class="n">sample_dictionary_H2O</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;SampleMass&#39;</span><span class="p">:</span><span class="n">sample_mass_H2O</span><span class="p">,</span> <span class="s1">&#39;FormulaUnitMass&#39;</span><span class="p">:</span><span class="n">formula_weight_H2O</span><span class="p">,</span> <span class="s1">&#39;SampleChemicalFormula&#39;</span><span class="p">:</span><span class="n">sample_formula_H2O</span><span class="p">}</span>
<span class="n">yig_calibration_file</span> <span class="o">=</span> <span class="s2">&quot;D7_YIG_calibration_TOF.xml&quot;</span>

<span class="c1"># Beam measurement for transmission</span>
<span class="n">PolDiffILLReduction</span><span class="p">(</span>
             <span class="n">Run</span><span class="o">=</span><span class="s1">&#39;395557&#39;</span><span class="p">,</span>
             <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;beam_ws&#39;</span><span class="p">,</span>
             <span class="n">ProcessAs</span><span class="o">=</span><span class="s1">&#39;EmptyBeam&#39;</span>
<span class="p">)</span>

<span class="c1"># empty container</span>
<span class="n">PolDiffILLReduction</span><span class="p">(</span>
             <span class="n">Run</span><span class="o">=</span><span class="s1">&#39;396036:396155&#39;</span><span class="p">,</span>
             <span class="n">OutputTreatment</span><span class="o">=</span><span class="s1">&#39;AveragePol&#39;</span><span class="p">,</span>
             <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;container_ws&#39;</span><span class="p">,</span>
             <span class="n">ProcessAs</span><span class="o">=</span><span class="s1">&#39;Empty&#39;</span>
<span class="p">)</span>

<span class="c1"># Vanadium transmission</span>
<span class="n">PolDiffILLReduction</span><span class="p">(</span>
             <span class="n">Run</span><span class="o">=</span><span class="s1">&#39;395564&#39;</span><span class="p">,</span>
             <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;vanadium_tr&#39;</span><span class="p">,</span>
             <span class="n">EmptyBeamWorkspace</span><span class="o">=</span><span class="s1">&#39;beam_ws&#39;</span><span class="p">,</span>
             <span class="n">ProcessAs</span><span class="o">=</span><span class="s1">&#39;Transmission&#39;</span>
<span class="p">)</span>

<span class="c1"># Vanadium reduction</span>
<span class="n">PolDiffILLReduction</span><span class="p">(</span>
             <span class="n">Run</span><span class="o">=</span><span class="s1">&#39;396016:396034&#39;</span><span class="p">,</span>
             <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;vanadium_ws&#39;</span><span class="p">,</span>
             <span class="n">EmptyContainerWorkspace</span><span class="o">=</span><span class="s1">&#39;container_ws&#39;</span><span class="p">,</span>
             <span class="n">Transmission</span><span class="o">=</span><span class="s1">&#39;vanadium_tr&#39;</span><span class="p">,</span>
             <span class="n">OutputTreatment</span><span class="o">=</span><span class="s1">&#39;Sum&#39;</span><span class="p">,</span>
             <span class="n">SelfAttenuationMethod</span><span class="o">=</span><span class="s1">&#39;None&#39;</span><span class="p">,</span>
             <span class="n">SampleGeometry</span><span class="o">=</span><span class="s1">&#39;None&#39;</span><span class="p">,</span>
             <span class="n">AbsoluteNormalisation</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
             <span class="n">SampleAndEnvironmentProperties</span><span class="o">=</span><span class="n">vanadium_dictionary</span><span class="p">,</span>
             <span class="n">MeasurementTechnique</span><span class="o">=</span><span class="s1">&#39;TOF&#39;</span><span class="p">,</span>
             <span class="n">ProcessAs</span><span class="o">=</span><span class="s1">&#39;Vanadium&#39;</span><span class="p">,</span>
             <span class="n">InstrumentCalibration</span><span class="o">=</span><span class="n">yig_calibration_file</span><span class="p">,</span>
             <span class="n">FrameOverlapCorrection</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
             <span class="n">DetectorEnergyEfficiencyCorrection</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
             <span class="n">ConvertToEnergy</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
             <span class="n">ClearCache</span><span class="o">=</span><span class="bp">True</span>
<span class="p">)</span>

<span class="c1"># H2O transmission</span>
<span class="n">PolDiffILLReduction</span><span class="p">(</span>
             <span class="n">Run</span><span class="o">=</span><span class="s1">&#39;395560,395561&#39;</span><span class="p">,</span> <span class="c1"># 0 and 90 degrees</span>
             <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;h2O_1cm_tr&#39;</span><span class="p">,</span>
             <span class="n">EmptyBeamWorkspace</span><span class="o">=</span><span class="s1">&#39;beam_ws&#39;</span><span class="p">,</span>
             <span class="n">ProcessAs</span><span class="o">=</span><span class="s1">&#39;Transmission&#39;</span>
<span class="p">)</span>
<span class="c1"># Sample reduction</span>

<span class="c1"># water reduction</span>
<span class="n">PolDiffILLReduction</span><span class="p">(</span>
             <span class="n">Run</span><span class="o">=</span><span class="s2">&quot;395639:395798&quot;</span><span class="p">,</span>
             <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;h2O_ws&#39;</span><span class="p">,</span>
             <span class="n">EmptyContainerWorkspace</span><span class="o">=</span><span class="s1">&#39;container_ws&#39;</span><span class="p">,</span>
             <span class="n">Transmission</span><span class="o">=</span><span class="s1">&#39;h2O_1cm_tr&#39;</span><span class="p">,</span>
             <span class="n">OutputTreatment</span><span class="o">=</span><span class="s1">&#39;AveragePol&#39;</span><span class="p">,</span>
             <span class="n">SampleGeometry</span><span class="o">=</span><span class="s1">&#39;None&#39;</span><span class="p">,</span>
             <span class="n">SampleAndEnvironmentProperties</span><span class="o">=</span><span class="n">sample_dictionary_H2O</span><span class="p">,</span>
             <span class="n">MeasurementTechnique</span><span class="o">=</span><span class="s1">&#39;TOF&#39;</span><span class="p">,</span>
             <span class="n">InstrumentCalibration</span><span class="o">=</span><span class="n">yig_calibration_file</span><span class="p">,</span>
             <span class="n">ElasticChannelsWorkspace</span><span class="o">=</span><span class="s1">&#39;vanadium_ws_elastic&#39;</span><span class="p">,</span>
             <span class="n">ProcessAs</span><span class="o">=</span><span class="s1">&#39;Sample&#39;</span><span class="p">,</span>
             <span class="n">FrameOverlapCorrection</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
             <span class="n">DetectorEnergyEfficiencyCorrection</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
             <span class="n">ConvertToEnergy</span><span class="o">=</span><span class="bp">True</span>
             <span class="n">ClearCache</span><span class="o">=</span><span class="bp">True</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="references">
<h2><a class="toc-backref" href="#id23">References</a><a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h2>
<table class="docutils footnote" frame="void" id="steward" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>Stewart, J. R. and Deen, P. P. and Andersen, K. H. and Schober, H. and Barthelemy, J.-F. and Hillier, J. M. and Murani, A. P. and Hayes, T. and Lindenau, B.
<em>Disordered materials studied using neutron polarization analysis on the multi-detector spectrometer, D7</em>
Journal of Applied Crystallography <strong>42</strong> (2009) 69-84
<a class="reference external" href="https://doi.org/10.1107/S0021889808039162">doi: 10.1107/S0021889808039162</a></td></tr>
</tbody>
</table>
<p><strong>Categories</strong>: <a class="reference external" href="categories/AlgorithmIndex.html">AlgorithmIndex</a> | <a class="reference external" href="categories/ILL/Diffraction.html">ILL\Diffraction</a></p>
</div>
<div class="section" id="source">
<h2><a class="toc-backref" href="#id24">Source</a><a class="headerlink" href="#source" title="Permalink to this headline">¶</a></h2>
<p>Python: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/c7a0e2338713fd338893c4f24ed76cd968f52b11/Framework/PythonInterface/plugins/algorithms/WorkflowAlgorithms/PolDiffILLReduction.py">PolDiffILLReduction.py</a></p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="PoissonErrors-v1.html" title="Previous Chapter: PoissonErrors v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; PoissonErrors v1</span>
    </a>
  </li>
  <li>
    <a href="PolarizationAngleCorrectionMD-v1.html" title="Next Chapter: PolarizationAngleCorrectionMD v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">PolarizationA... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>