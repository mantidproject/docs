<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: TotScatCalculateSelfScattering Pages: 1 -->
<svg width="531pt" height="863pt"
 viewBox="0.00 0.00 530.74 863.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 859)">
<title>TotScatCalculateSelfScattering</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-859 526.7434,-859 526.7434,4 -4,4"/>
<text text-anchor="middle" x="261.3717" y="-839.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">TotScatCalculateSelfScattering Workflow Diagram</text>
<!-- inputWorkspace -->
<g id="node1" class="node">
<title>inputWorkspace</title>
<ellipse fill="#f0e68c" stroke="#000000" cx="74.7434" cy="-814" rx="74.9875" ry="18"/>
<text text-anchor="middle" x="74.7434" y="-810.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">InputWorkspace</text>
</g>
<!-- SetSample -->
<g id="node6" class="node">
<title>SetSample</title>
<path fill="#87cefa" stroke="#000000" d="M286.2434,-760C286.2434,-760 209.2434,-760 209.2434,-760 203.2434,-760 197.2434,-754 197.2434,-748 197.2434,-748 197.2434,-736 197.2434,-736 197.2434,-730 203.2434,-724 209.2434,-724 209.2434,-724 286.2434,-724 286.2434,-724 292.2434,-724 298.2434,-730 298.2434,-736 298.2434,-736 298.2434,-748 298.2434,-748 298.2434,-754 292.2434,-760 286.2434,-760"/>
<text text-anchor="middle" x="247.7434" y="-738.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">SetSample v1</text>
</g>
<!-- inputWorkspace&#45;&gt;SetSample -->
<g id="edge1" class="edge">
<title>inputWorkspace&#45;&gt;SetSample</title>
<path fill="none" stroke="#000000" d="M112.2818,-798.3771C136.4442,-788.321 168.2065,-775.102 194.9016,-763.9919"/>
<polygon fill="#000000" stroke="#000000" points="196.5964,-767.0777 204.4839,-760.0039 193.9067,-760.615 196.5964,-767.0777"/>
</g>
<!-- outputWorkspace -->
<g id="node2" class="node">
<title>outputWorkspace</title>
<ellipse fill="#f0e68c" stroke="#000000" cx="359.7434" cy="-18" rx="81.7856" ry="18"/>
<text text-anchor="middle" x="359.7434" y="-14.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">OutputWorkspace</text>
</g>
<!-- calFileName -->
<g id="node3" class="node">
<title>calFileName</title>
<ellipse fill="#f0e68c" stroke="#000000" cx="438.7434" cy="-380" rx="61.99" ry="18"/>
<text text-anchor="middle" x="438.7434" y="-376.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">CalFileName</text>
</g>
<!-- LoadCalFile -->
<g id="node11" class="node">
<title>LoadCalFile</title>
<path fill="#87cefa" stroke="#000000" d="M479.2434,-326C479.2434,-326 396.2434,-326 396.2434,-326 390.2434,-326 384.2434,-320 384.2434,-314 384.2434,-314 384.2434,-302 384.2434,-302 384.2434,-296 390.2434,-290 396.2434,-290 396.2434,-290 479.2434,-290 479.2434,-290 485.2434,-290 491.2434,-296 491.2434,-302 491.2434,-302 491.2434,-314 491.2434,-314 491.2434,-320 485.2434,-326 479.2434,-326"/>
<text text-anchor="middle" x="437.7434" y="-304.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">LoadCalFile v1</text>
</g>
<!-- calFileName&#45;&gt;LoadCalFile -->
<g id="edge10" class="edge">
<title>calFileName&#45;&gt;LoadCalFile</title>
<path fill="none" stroke="#000000" d="M438.491,-361.8314C438.3841,-354.131 438.2569,-344.9743 438.138,-336.4166"/>
<polygon fill="#000000" stroke="#000000" points="441.6377,-336.3637 437.9991,-326.4133 434.6384,-336.4609 441.6377,-336.3637"/>
</g>
<!-- sampleGeometry -->
<g id="node4" class="node">
<title>sampleGeometry</title>
<ellipse fill="#f0e68c" stroke="#000000" cx="247.7434" cy="-814" rx="80.6858" ry="18"/>
<text text-anchor="middle" x="247.7434" y="-810.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">SampleGeometry</text>
</g>
<!-- sampleGeometry&#45;&gt;SetSample -->
<g id="edge2" class="edge">
<title>sampleGeometry&#45;&gt;SetSample</title>
<path fill="none" stroke="#000000" d="M247.7434,-795.8314C247.7434,-788.131 247.7434,-778.9743 247.7434,-770.4166"/>
<polygon fill="#000000" stroke="#000000" points="251.2435,-770.4132 247.7434,-760.4133 244.2435,-770.4133 251.2435,-770.4132"/>
</g>
<!-- sampleMaterial -->
<g id="node5" class="node">
<title>sampleMaterial</title>
<ellipse fill="#f0e68c" stroke="#000000" cx="418.7434" cy="-814" rx="72.5877" ry="18"/>
<text text-anchor="middle" x="418.7434" y="-810.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">SampleMaterial</text>
</g>
<!-- sampleMaterial&#45;&gt;SetSample -->
<g id="edge3" class="edge">
<title>sampleMaterial&#45;&gt;SetSample</title>
<path fill="none" stroke="#000000" d="M381.6389,-798.3771C357.7558,-788.321 326.3607,-775.102 299.9742,-763.9919"/>
<polygon fill="#000000" stroke="#000000" points="301.0773,-760.6588 290.5027,-760.0039 298.3608,-767.1103 301.0773,-760.6588"/>
</g>
<!-- ExtractSpectra -->
<g id="node7" class="node">
<title>ExtractSpectra</title>
<path fill="#87cefa" stroke="#000000" d="M297.2434,-614C297.2434,-614 198.2434,-614 198.2434,-614 192.2434,-614 186.2434,-608 186.2434,-602 186.2434,-602 186.2434,-590 186.2434,-590 186.2434,-584 192.2434,-578 198.2434,-578 198.2434,-578 297.2434,-578 297.2434,-578 303.2434,-578 309.2434,-584 309.2434,-590 309.2434,-590 309.2434,-602 309.2434,-602 309.2434,-608 303.2434,-614 297.2434,-614"/>
<text text-anchor="middle" x="247.7434" y="-592.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">ExtractSpectra v1</text>
</g>
<!-- SetSample&#45;&gt;ExtractSpectra -->
<g id="edge5" class="edge">
<title>SetSample&#45;&gt;ExtractSpectra</title>
<path fill="none" stroke="#000000" d="M268.1459,-723.5625C277.2375,-713.9675 286.9596,-701.4441 291.7434,-688 297.4051,-672.0884 297.4051,-665.9116 291.7434,-650 288.1555,-639.9169 281.7899,-630.3517 274.9958,-622.1515"/>
<polygon fill="#000000" stroke="#000000" points="277.4029,-619.591 268.1459,-614.4375 272.1687,-624.2389 277.4029,-619.591"/>
</g>
<!-- FindMonitorSpectra -->
<g id="node17" class="node">
<title>FindMonitorSpectra</title>
<polygon fill="#20b2aa" stroke="#000000" points="282.7434,-688 86.7434,-688 86.7434,-650 282.7434,-650 282.7434,-688"/>
<text text-anchor="middle" x="184.7434" y="-672.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">Find the Monitor</text>
<text text-anchor="middle" x="184.7434" y="-657.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000"> spectra closest to the sample</text>
</g>
<!-- SetSample&#45;&gt;FindMonitorSpectra -->
<g id="edge4" class="edge">
<title>SetSample&#45;&gt;FindMonitorSpectra</title>
<path fill="none" stroke="#000000" d="M232.1703,-723.9551C224.8259,-715.4448 215.9138,-705.1181 207.8066,-695.7241"/>
<polygon fill="#000000" stroke="#000000" points="210.4212,-693.3967 201.238,-688.1128 205.1218,-697.9702 210.4212,-693.3967"/>
</g>
<!-- ConvertUnits1 -->
<g id="node8" class="node">
<title>ConvertUnits1</title>
<path fill="#87cefa" stroke="#000000" d="M292.2434,-542C292.2434,-542 203.2434,-542 203.2434,-542 197.2434,-542 191.2434,-536 191.2434,-530 191.2434,-530 191.2434,-518 191.2434,-518 191.2434,-512 197.2434,-506 203.2434,-506 203.2434,-506 292.2434,-506 292.2434,-506 298.2434,-506 304.2434,-512 304.2434,-518 304.2434,-518 304.2434,-530 304.2434,-530 304.2434,-536 298.2434,-542 292.2434,-542"/>
<text text-anchor="middle" x="247.7434" y="-520.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">ConvertUnits v1</text>
</g>
<!-- ExtractSpectra&#45;&gt;ConvertUnits1 -->
<g id="edge7" class="edge">
<title>ExtractSpectra&#45;&gt;ConvertUnits1</title>
<path fill="none" stroke="#000000" d="M247.7434,-577.8314C247.7434,-570.131 247.7434,-560.9743 247.7434,-552.4166"/>
<polygon fill="#000000" stroke="#000000" points="251.2435,-552.4132 247.7434,-542.4133 244.2435,-552.4133 251.2435,-552.4132"/>
</g>
<!-- FitIncidentSpectrum -->
<g id="node9" class="node">
<title>FitIncidentSpectrum</title>
<path fill="#87cefa" stroke="#000000" d="M313.2434,-470C313.2434,-470 182.2434,-470 182.2434,-470 176.2434,-470 170.2434,-464 170.2434,-458 170.2434,-458 170.2434,-446 170.2434,-446 170.2434,-440 176.2434,-434 182.2434,-434 182.2434,-434 313.2434,-434 313.2434,-434 319.2434,-434 325.2434,-440 325.2434,-446 325.2434,-446 325.2434,-458 325.2434,-458 325.2434,-464 319.2434,-470 313.2434,-470"/>
<text text-anchor="middle" x="247.7434" y="-448.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">FitIncidentSpectrum v1</text>
</g>
<!-- ConvertUnits1&#45;&gt;FitIncidentSpectrum -->
<g id="edge8" class="edge">
<title>ConvertUnits1&#45;&gt;FitIncidentSpectrum</title>
<path fill="none" stroke="#000000" d="M247.7434,-505.8314C247.7434,-498.131 247.7434,-488.9743 247.7434,-480.4166"/>
<polygon fill="#000000" stroke="#000000" points="251.2435,-480.4132 247.7434,-470.4133 244.2435,-480.4133 251.2435,-480.4132"/>
</g>
<!-- CalculatePlaczekSelfScattering -->
<g id="node10" class="node">
<title>CalculatePlaczekSelfScattering</title>
<path fill="#87cefa" stroke="#000000" d="M346.7434,-398C346.7434,-398 148.7434,-398 148.7434,-398 142.7434,-398 136.7434,-392 136.7434,-386 136.7434,-386 136.7434,-374 136.7434,-374 136.7434,-368 142.7434,-362 148.7434,-362 148.7434,-362 346.7434,-362 346.7434,-362 352.7434,-362 358.7434,-368 358.7434,-374 358.7434,-374 358.7434,-386 358.7434,-386 358.7434,-392 352.7434,-398 346.7434,-398"/>
<text text-anchor="middle" x="247.7434" y="-376.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">CalculatePlaczekSelfScattering v1</text>
</g>
<!-- FitIncidentSpectrum&#45;&gt;CalculatePlaczekSelfScattering -->
<g id="edge9" class="edge">
<title>FitIncidentSpectrum&#45;&gt;CalculatePlaczekSelfScattering</title>
<path fill="none" stroke="#000000" d="M247.7434,-433.8314C247.7434,-426.131 247.7434,-416.9743 247.7434,-408.4166"/>
<polygon fill="#000000" stroke="#000000" points="251.2435,-408.4132 247.7434,-398.4133 244.2435,-408.4133 251.2435,-408.4132"/>
</g>
<!-- ConvertUnits2 -->
<g id="node15" class="node">
<title>ConvertUnits2</title>
<path fill="#87cefa" stroke="#000000" d="M299.2434,-326C299.2434,-326 210.2434,-326 210.2434,-326 204.2434,-326 198.2434,-320 198.2434,-314 198.2434,-314 198.2434,-302 198.2434,-302 198.2434,-296 204.2434,-290 210.2434,-290 210.2434,-290 299.2434,-290 299.2434,-290 305.2434,-290 311.2434,-296 311.2434,-302 311.2434,-302 311.2434,-314 311.2434,-314 311.2434,-320 305.2434,-326 299.2434,-326"/>
<text text-anchor="middle" x="254.7434" y="-304.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">ConvertUnits v1</text>
</g>
<!-- CalculatePlaczekSelfScattering&#45;&gt;ConvertUnits2 -->
<g id="edge12" class="edge">
<title>CalculatePlaczekSelfScattering&#45;&gt;ConvertUnits2</title>
<path fill="none" stroke="#000000" d="M249.5098,-361.8314C250.2584,-354.131 251.1486,-344.9743 251.9806,-336.4166"/>
<polygon fill="#000000" stroke="#000000" points="255.469,-336.7051 252.9532,-326.4133 248.5019,-336.0276 255.469,-336.7051"/>
</g>
<!-- GroupDetectors -->
<g id="node12" class="node">
<title>GroupDetectors</title>
<path fill="#87cefa" stroke="#000000" d="M336.2434,-180C336.2434,-180 229.2434,-180 229.2434,-180 223.2434,-180 217.2434,-174 217.2434,-168 217.2434,-168 217.2434,-156 217.2434,-156 217.2434,-150 223.2434,-144 229.2434,-144 229.2434,-144 336.2434,-144 336.2434,-144 342.2434,-144 348.2434,-150 348.2434,-156 348.2434,-156 348.2434,-168 348.2434,-168 348.2434,-174 342.2434,-180 336.2434,-180"/>
<text text-anchor="middle" x="282.7434" y="-158.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">GroupDetectors v2</text>
</g>
<!-- LoadCalFile&#45;&gt;GroupDetectors -->
<g id="edge11" class="edge">
<title>LoadCalFile&#45;&gt;GroupDetectors</title>
<path fill="none" stroke="#000000" d="M397.04,-289.8946C379.3882,-280.7753 359.2554,-268.549 343.7434,-254 323.8027,-235.2974 307.1437,-208.8703 296.3011,-189.1353"/>
<polygon fill="#000000" stroke="#000000" points="299.2495,-187.2259 291.4567,-180.048 293.0724,-190.5189 299.2495,-187.2259"/>
</g>
<!-- GetPixelNumberInDetector -->
<g id="node18" class="node">
<title>GetPixelNumberInDetector</title>
<polygon fill="#20b2aa" stroke="#000000" points="522.7434,-254 352.7434,-254 352.7434,-216 522.7434,-216 522.7434,-254"/>
<text text-anchor="middle" x="437.7434" y="-238.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">Count the number</text>
<text text-anchor="middle" x="437.7434" y="-223.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000"> of pixels in each detector</text>
</g>
<!-- LoadCalFile&#45;&gt;GetPixelNumberInDetector -->
<g id="edge15" class="edge">
<title>LoadCalFile&#45;&gt;GetPixelNumberInDetector</title>
<path fill="none" stroke="#000000" d="M437.7434,-289.9551C437.7434,-282.2107 437.7434,-272.9622 437.7434,-264.2811"/>
<polygon fill="#000000" stroke="#000000" points="441.2435,-264.1128 437.7434,-254.1128 434.2435,-264.1129 441.2435,-264.1128"/>
</g>
<!-- Divide -->
<g id="node14" class="node">
<title>Divide</title>
<path fill="#87cefa" stroke="#000000" d="M383.7434,-108C383.7434,-108 335.7434,-108 335.7434,-108 329.7434,-108 323.7434,-102 323.7434,-96 323.7434,-96 323.7434,-84 323.7434,-84 323.7434,-78 329.7434,-72 335.7434,-72 335.7434,-72 383.7434,-72 383.7434,-72 389.7434,-72 395.7434,-78 395.7434,-84 395.7434,-84 395.7434,-96 395.7434,-96 395.7434,-102 389.7434,-108 383.7434,-108"/>
<text text-anchor="middle" x="359.7434" y="-86.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">Divide v1</text>
</g>
<!-- GroupDetectors&#45;&gt;Divide -->
<g id="edge18" class="edge">
<title>GroupDetectors&#45;&gt;Divide</title>
<path fill="none" stroke="#000000" d="M302.1737,-143.8314C311.4753,-135.1337 322.7638,-124.5783 332.8719,-115.1265"/>
<polygon fill="#000000" stroke="#000000" points="335.4055,-117.5493 340.3192,-108.1628 330.6245,-112.4363 335.4055,-117.5493"/>
</g>
<!-- CreateWorkspace -->
<g id="node13" class="node">
<title>CreateWorkspace</title>
<path fill="#87cefa" stroke="#000000" d="M497.2434,-180C497.2434,-180 378.2434,-180 378.2434,-180 372.2434,-180 366.2434,-174 366.2434,-168 366.2434,-168 366.2434,-156 366.2434,-156 366.2434,-150 372.2434,-144 378.2434,-144 378.2434,-144 497.2434,-144 497.2434,-144 503.2434,-144 509.2434,-150 509.2434,-156 509.2434,-156 509.2434,-168 509.2434,-168 509.2434,-174 503.2434,-180 497.2434,-180"/>
<text text-anchor="middle" x="437.7434" y="-158.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">CreateWorkspace v1</text>
</g>
<!-- CreateWorkspace&#45;&gt;Divide -->
<g id="edge17" class="edge">
<title>CreateWorkspace&#45;&gt;Divide</title>
<path fill="none" stroke="#000000" d="M418.0607,-143.8314C408.6383,-135.1337 397.2032,-124.5783 386.9638,-115.1265"/>
<polygon fill="#000000" stroke="#000000" points="389.1418,-112.3738 379.4198,-108.1628 384.3938,-117.5175 389.1418,-112.3738"/>
</g>
<!-- Divide&#45;&gt;outputWorkspace -->
<g id="edge19" class="edge">
<title>Divide&#45;&gt;outputWorkspace</title>
<path fill="none" stroke="#000000" d="M359.7434,-71.8314C359.7434,-64.131 359.7434,-54.9743 359.7434,-46.4166"/>
<polygon fill="#000000" stroke="#000000" points="363.2435,-46.4132 359.7434,-36.4133 356.2435,-46.4133 363.2435,-46.4132"/>
</g>
<!-- Rebin -->
<g id="node16" class="node">
<title>Rebin</title>
<path fill="#87cefa" stroke="#000000" d="M281.7434,-253C281.7434,-253 235.7434,-253 235.7434,-253 229.7434,-253 223.7434,-247 223.7434,-241 223.7434,-241 223.7434,-229 223.7434,-229 223.7434,-223 229.7434,-217 235.7434,-217 235.7434,-217 281.7434,-217 281.7434,-217 287.7434,-217 293.7434,-223 293.7434,-229 293.7434,-229 293.7434,-241 293.7434,-241 293.7434,-247 287.7434,-253 281.7434,-253"/>
<text text-anchor="middle" x="258.7434" y="-231.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">Rebin v1</text>
</g>
<!-- ConvertUnits2&#45;&gt;Rebin -->
<g id="edge13" class="edge">
<title>ConvertUnits2&#45;&gt;Rebin</title>
<path fill="none" stroke="#000000" d="M255.7321,-289.9551C256.1744,-281.8828 256.7063,-272.1764 257.1992,-263.1817"/>
<polygon fill="#000000" stroke="#000000" points="260.6997,-263.2669 257.7521,-253.0904 253.7101,-262.8839 260.6997,-263.2669"/>
</g>
<!-- Rebin&#45;&gt;GroupDetectors -->
<g id="edge14" class="edge">
<title>Rebin&#45;&gt;GroupDetectors</title>
<path fill="none" stroke="#000000" d="M264.676,-216.9551C267.3875,-208.7074 270.66,-198.7536 273.6707,-189.5962"/>
<polygon fill="#000000" stroke="#000000" points="276.9975,-190.6833 276.7959,-180.0904 270.3477,-188.497 276.9975,-190.6833"/>
</g>
<!-- FindMonitorSpectra&#45;&gt;ExtractSpectra -->
<g id="edge6" class="edge">
<title>FindMonitorSpectra&#45;&gt;ExtractSpectra</title>
<path fill="none" stroke="#000000" d="M201.2959,-649.8201C208.6271,-641.3252 217.3645,-631.2009 225.2726,-622.0375"/>
<polygon fill="#000000" stroke="#000000" points="228.0687,-624.1547 231.9525,-614.2973 222.7693,-619.5812 228.0687,-624.1547"/>
</g>
<!-- GetPixelNumberInDetector&#45;&gt;CreateWorkspace -->
<g id="edge16" class="edge">
<title>GetPixelNumberInDetector&#45;&gt;CreateWorkspace</title>
<path fill="none" stroke="#000000" d="M437.7434,-215.8201C437.7434,-208.0975 437.7434,-199.0282 437.7434,-190.5585"/>
<polygon fill="#000000" stroke="#000000" points="441.2435,-190.2973 437.7434,-180.2973 434.2435,-190.2974 441.2435,-190.2973"/>
</g>
</g>
</svg>
