<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Masking, Grouping and Region of Interest</title>
    <link rel="stylesheet" href="../../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/bootstrap-3.3.6/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/bootstrap-3.3.6/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '6.3.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../../../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../../../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../../../_static/bootstrap-3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../../_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Instrument Tree" href="05_instrument_tree.html" />
    <link rel="prev" title="Investigating Data" href="03_investigating_data.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../../../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.3</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://docs.mantidproject.org/nightly/">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <p><span class="math">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<div class="section" id="masking-grouping-and-region-of-interest">
<span id="masking-and-grouping"></span><h1>Masking, Grouping and Region of Interest<a class="headerlink" href="#masking-grouping-and-region-of-interest" title="Permalink to this headline">¶</a></h1>
<p>The Draw tab is for grouping or masking detectors.</p>
<p>The toolbar on this tab consists of the same tools as the top row of
tools in the Pick tab. Their functions and behaviours are also the same
but the shapes are used for masking and grouping instead of displaying
the data.</p>
<div class="figure">
<img alt="MaskTabToolButtons.png" src="../../../_images/MaskTabToolButtons.png" />
</div>
<p>Use these radio-buttons to switch between setting regions as masks, regions of interest, or groups
functions.</p>
<div class="figure">
<img alt="MaskOrGroup.png" src="../../../_images/MaskOrGroup.png" />
</div>
<p>The shapes ready for masking have red border</p>
<p><img alt="MaskRedRing.png" src="../../../_images/MaskRedRing.png" /></p>
<p>Shapes marked as Regions of Interest have a yellow border</p>
<p><a class="reference internal" href="../../../_images/ROIYellowcircle.png"><img alt="ROIYellowcircle.png" src="../../../_images/ROIYellowcircle.png" style="width: 150px;" /></a></p>
<p>The shapes ready for grouping have blue border</p>
<p><img alt="GroupBlueRing.png" src="../../../_images/GroupBlueRing.png" /></p>
<p><em>Note</em> : The pixel and tube selections work differently than the shapes: once the tool is selected, the masking or grouping
is immediately applied on click on the instrument, while for the grouping, the selected option (Sum to workspace or Extract to workspace)
is applied to the last selected pixel / tube <em>only</em>.</p>
<div class="section" id="grouping">
<h2>Grouping<a class="headerlink" href="#grouping" title="Permalink to this headline">¶</a></h2>
<p>In the grouping mode you can extract the data or save grouping to a
file:</p>
<div class="figure">
<img alt="GroupingOperations.png" src="../../../_images/GroupingOperations.png" />
</div>
</div>
<div class="section" id="masking">
<h2>Masking<a class="headerlink" href="#masking" title="Permalink to this headline">¶</a></h2>
<p>In the masking mode operations can either be applied to the view only or
to the underlying workspace.</p>
<div class="figure">
<img alt="MaskingViewAndWorkspace.png" src="../../../_images/MaskingViewAndWorkspace.png" />
</div>
<p>When the “Apply to View” button is clicked the detectors covered by the
shapes are greyed out indicating that they are masked.</p>
<div class="figure">
<img alt="MaskedViewPixels.png" src="../../../_images/MaskedViewPixels.png" />
</div>
<p>The purpose of applying to view only is to make creation of masking
workspaces/files easier. You can create a mask, apply it to view, save
it in a workspace or a file but then clear the view
(<img alt="ClearAllButton.png" src="../../../_images/ClearAllButton.png" /> button) and create another mask without closing
the Instrument View or need to reload the data. The masking operations
are available from the “Apply and Save” menu.</p>
<div class="figure">
<img alt="ApplyAndSaveMenu.png" src="../../../_images/ApplyAndSaveMenu.png" />
</div>
</div>
<div class="section" id="region-of-interest">
<h2>Region of Interest<a class="headerlink" href="#region-of-interest" title="Permalink to this headline">¶</a></h2>
<p>Marking a region of interest is essentially masking everything else.
It therefore works in a similar way to masking, it can be saved to a workspace or file
and it can be applied to the current View or to the underlying Workspace.</p>
<div class="figure">
<img alt="ApplyAndSaveROI.png" src="../../../_images/ApplyAndSaveROI.png" />
</div>
<p><em>Word of Warning</em>: If masking (or setting of ROI) is applied to the data (by clicking <img alt="ApplyToDataButton.png" src="../../../_images/ApplyToDataButton.png" />, near the bottom left of Instrument View window)
it <strong>cannot be undone</strong>!</p>
<div class="figure align-center">
<img alt="Fullmaskview.png" src="../../../_images/Fullmaskview.png" />
</div>
<p>Note that the first button in the View section above is called “Apply bin mask to View”, because it only covers bins within the time
range selected on the bottom bar (between -0.55 to 28.47 microseconds). This range bar selects the interval over which instrument
view sums/integrates and correspnds to the x-axis of the underlying workspace. This button is called “Apply detector mask to View”
when the entire x-axis range is selected as in this way you mask an entire spectrum (and its related detector).</p>
<p>Be aware that any data analysis on spectra from a region of interest (ROI) should not be performed on data in the Pick &gt; mini-plot. You would need to run the <a class="reference internal" href="../../../algorithms/DiffractionFocussing-v2.html#algm-diffractionfocussing"><span class="std std-ref">DiffractionFocussing v2</span></a> algorithm.</p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="03_investigating_data.html" title="Previous Chapter: Investigating Data"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Investigating Data</span>
    </a>
  </li>
  <li>
    <a href="05_instrument_tree.html" title="Next Chapter: Instrument Tree"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Instrument Tree &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>