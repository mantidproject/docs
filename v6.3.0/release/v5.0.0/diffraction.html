<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Diffraction Changes</title>
    <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap-3.3.6/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap-3.3.6/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '6.3.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Direct Geometry Changes" href="direct_geometry.html" />
    <link rel="prev" title="Mantid 5.0.0 Release Notes" href="index.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.3</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://docs.mantidproject.org/nightly/">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <p><span class="math">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<div class="section" id="diffraction-changes">
<h1>Diffraction Changes<a class="headerlink" href="#diffraction-changes" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#new-features" id="id5">New Features</a><ul>
<li><a class="reference internal" href="#engineering-diffraction" id="id6">Engineering Diffraction</a></li>
</ul>
</li>
<li><a class="reference internal" href="#improvements" id="id7">Improvements</a><ul>
<li><a class="reference internal" href="#powder-diffraction" id="id8">Powder Diffraction</a></li>
<li><a class="reference internal" href="#id1" id="id9">Engineering Diffraction</a></li>
<li><a class="reference internal" href="#single-crystal-diffraction" id="id10">Single Crystal Diffraction</a></li>
<li><a class="reference internal" href="#miscellaneous" id="id11">Miscellaneous</a></li>
</ul>
</li>
<li><a class="reference internal" href="#bug-fixes" id="id12">Bug Fixes</a><ul>
<li><a class="reference internal" href="#id2" id="id13">Powder Diffraction</a></li>
<li><a class="reference internal" href="#id3" id="id14">Single Crystal Diffraction</a></li>
<li><a class="reference internal" href="#id4" id="id15">Miscellaneous</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="new-features">
<h2><a class="toc-backref" href="#id5">New Features</a><a class="headerlink" href="#new-features" title="Permalink to this headline">¶</a></h2>
<div class="section" id="engineering-diffraction">
<h3><a class="toc-backref" href="#id6">Engineering Diffraction</a><a class="headerlink" href="#engineering-diffraction" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Introduction of new Engineering Diffraction interface. Currently supports calibration and focusing for ENGINX. Fitting functionality is currently under development.</li>
</ul>
<div class="figure">
<a class="screenshot reference internal image-reference" href="../../_images/EngineeringDiffractionGUI.png"><img alt="../../_images/EngineeringDiffractionGUI.png" class="screenshot" src="../../_images/EngineeringDiffractionGUI.png" style="width: 500px;" /></a>
</div>
</div>
</div>
<div class="section" id="improvements">
<h2><a class="toc-backref" href="#id7">Improvements</a><a class="headerlink" href="#improvements" title="Permalink to this headline">¶</a></h2>
<div class="section" id="powder-diffraction">
<h3><a class="toc-backref" href="#id8">Powder Diffraction</a><a class="headerlink" href="#powder-diffraction" title="Permalink to this headline">¶</a></h3>
<p>Several improvements have been made to the total scattering functionality in the Polaris powder diffraction scripts. The following changes relate specifically to the create_total_scattering_pdf function:</p>
<ul class="simple">
<li>Merging banks now matches spectra to the spectrum with the largest x range.</li>
<li>Merging banks no longer matches spectra with scale, it now only matches with offset.</li>
<li>It can now be given a parameter <cite>output_binning</cite> that will be used to rebin the output_pdf.</li>
<li>It can now accept a <cite>pdf_type</cite> argument to set the pdf_output type.</li>
<li>It can now accept a <cite>freq_params</cite> argument to perform a fourier filter on the run.</li>
<li>A <a class="reference internal" href="../../algorithms/SaveRMCProfile-v1.html#algm-savermcprofile-v1"><span class="std std-ref">SaveRMCProfile</span></a> algorithm has been made that saves workspaces in a format readable by the RMCProfile package.</li>
</ul>
<p>The following changes have also been made to other parts of the power diffraction scripts:</p>
<ul class="simple">
<li><a class="reference internal" href="../../algorithms/HRPDSlabCanAbsorption-v1.html#algm-hrpdslabcanabsorption-v1"><span class="std std-ref">HRPDSlabCanAbsorption</span></a> now accepts any thickness parameter and not those in a specified list.</li>
</ul>
</div>
<div class="section" id="id1">
<h3><a class="toc-backref" href="#id9">Engineering Diffraction</a><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference internal" href="../../algorithms/EnggCalibrateFull-v1.html#algm-enggcalibratefull-v1"><span class="std std-ref">EnggCalibrateFull</span></a> now uses the new <a class="reference internal" href="../../algorithms/SaveAscii-v2.html#algm-saveascii-v2"><span class="std std-ref">SaveAscii</span></a> to save its output files as TSVs, allowing them to be loaded back into Mantid.</li>
<li><a class="reference internal" href="../../algorithms/FitPeaks-v1.html#algm-fitpeaks-v1"><span class="std std-ref">FitPeaks</span></a> allows for specifying some of the peak parameters (e.g. only <code class="docutils literal"><span class="pre">Mixing</span></code> for <a class="reference internal" href="../../fitting/fitfunctions/PseudoVoigt.html#func-pseudovoigt"><span class="std std-ref">PseudoVoigt</span></a>) and observing the other parameters. The new functionality allows for more automated execution for peak functions other than <a class="reference internal" href="../../fitting/fitfunctions/Gaussian.html#func-gaussian"><span class="std std-ref">Gaussian</span></a>.</li>
<li>Instrument Definition File for HFIR HB2B (HiDRA) has been added.</li>
</ul>
</div>
<div class="section" id="single-crystal-diffraction">
<h3><a class="toc-backref" href="#id10">Single Crystal Diffraction</a><a class="headerlink" href="#single-crystal-diffraction" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference internal" href="../../algorithms/PredictFractionalPeaks-v1.html#algm-predictfractionalpeaks-v1"><span class="std std-ref">PredictFractionalPeaks</span></a> now accepts the same set of modulation vector properties as <a class="reference internal" href="../../algorithms/IndexPeaks-v1.html#algm-indexpeaks-v1"><span class="std std-ref">IndexPeaks</span></a>.</li>
<li>New algorithm <a class="reference internal" href="../../algorithms/ConvertHFIRSCDtoMDE-v1.html#algm-converthfirscdtomde-v1"><span class="std std-ref">ConvertHFIRSCDtoMDE</span></a> for converting HFIR single crystal data (from WAND and DEMAND) into MDEventWorkspace in units Q_sample.</li>
</ul>
<div class="figure">
<a class="screenshot reference internal image-reference" href="../../_images/ConvertHFIRSCDtoMDE1.png"><img alt="../../_images/ConvertHFIRSCDtoMDE1.png" class="screenshot" src="../../_images/ConvertHFIRSCDtoMDE1.png" style="width: 500px;" /></a>
</div>
<ul class="simple">
<li>The output peak workspace from <a class="reference internal" href="../../algorithms/PredictFractionalPeaks-v1.html#algm-predictfractionalpeaks-v1"><span class="std std-ref">PredictFractionalPeaks</span></a> now keeps the same lattice parameters as the input workspace.</li>
<li><a class="reference internal" href="../../algorithms/SaveReflections-v1.html#algm-savereflections"><span class="std std-ref">SaveReflections</span></a> now has the option to save peaks to separate files based on their associated modulation vectors when using the Jana format.</li>
<li><code class="docutils literal"><span class="pre">IndexPeaksWithSatellites</span></code> has been deleted as it had been deprecated and superseded by <a class="reference internal" href="../../algorithms/IndexPeaks-v1.html#algm-indexpeaks-v1"><span class="std std-ref">IndexPeaks</span></a>.</li>
</ul>
</div>
<div class="section" id="miscellaneous">
<h3><a class="toc-backref" href="#id11">Miscellaneous</a><a class="headerlink" href="#miscellaneous" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference internal" href="../../algorithms/LoadILLTOF-v2.html#algm-loadilltof-v2"><span class="std std-ref">LoadILLTOF2</span></a> now supports loading data taken from PANTHER in diffraction mode.</li>
<li>A unit <cite>AtomicDistance</cite> measured in units of Angstrom has been added to the unit factory to describe atomic structure. The initial use of this is in the pair distribution functions generated by the Polaris scripts</li>
</ul>
</div>
</div>
<div class="section" id="bug-fixes">
<h2><a class="toc-backref" href="#id12">Bug Fixes</a><a class="headerlink" href="#bug-fixes" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id2">
<h3><a class="toc-backref" href="#id13">Powder Diffraction</a><a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Unicode strings can now be given as a lim file directory in polaris create_total_scattering_pdf merging banks.</li>
<li>Polaris.focus no longer fails with <cite>do_absorption_Corrections=True</cite>.</li>
<li>Empty runs are no longer subtracted twice when specifying <cite>sample_empty</cite> in <cite>Polaris.focus</cite>.</li>
<li>Lists can now be given for <cite>q_lims</cite> in polaris create_total_scattering_pdf while merging banks.</li>
<li>SavePDF no longer fails when asked to save histogram data</li>
<li>Bug fixed affecting Diffraction &gt; Powder Diffraction Reduction interface - only facilities with applicable instruments can now be selected.</li>
</ul>
</div>
<div class="section" id="id3">
<h3><a class="toc-backref" href="#id14">Single Crystal Diffraction</a><a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Support added for DEMAND (HB3A) to the algorithms <a class="reference internal" href="../../algorithms/ConvertWANDSCDtoQ-v1.html#algm-convertwandscdtoq-v1"><span class="std std-ref">ConvertWANDSCDtoQ</span></a> and <a class="reference internal" href="../../algorithms/FindPeaksMD-v1.html#algm-findpeaksmd-v1"><span class="std std-ref">FindPeaksMD</span></a> in order to handle additional goniometers.</li>
<li>Fixed PredictSatellitePeaks producing an empty table when using cross-terms with crystallography convention for sign of Q.</li>
<li>Two fixes to IntegrateEllipsoids and IntegrateEllipsoidsTwoStep. For non Event mode data the algorithms now:<ul>
<li>calculate the count-weighted variance as required.</li>
<li>return the correct error on the integrated intensity.</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="id4">
<h3><a class="toc-backref" href="#id15">Miscellaneous</a><a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Fixed a bug where <a class="reference internal" href="../../algorithms/SaveGSS-v1.html#algm-savegss-v1"><span class="std std-ref">SaveGSS</span></a> could crash when attempting to pass a group workspace into it. GSS files are produced by the focus functionality in the powder diffraction scripts and also the EnginX scripts</li>
</ul>
<p><a class="reference internal" href="index.html#v5-0-0"><span class="std std-ref">Release 5.0.0</span></a></p>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="index.html" title="Previous Chapter: Mantid 5.0.0 Release Notes"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Mantid 5.0.0 ...</span>
    </a>
  </li>
  <li>
    <a href="direct_geometry.html" title="Next Chapter: Direct Geometry Changes"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Direct Geomet... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>