<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>DgsAbsoluteUnitsReduction v1</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.1.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.1.0/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.10.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="" href="../index.html" />
    <link rel="next" title="DgsConvertToEnergyTransfer v1" href="DgsConvertToEnergyTransfer-v1.html" />
    <link rel="prev" title="DetermineChunking v1" href="DetermineChunking-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>3.10</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://www.mantidproject.org/Documentation">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="dgsabsoluteunitsreduction-v1">
<span id="algm-dgsabsoluteunitsreduction"></span><span id="algm-dgsabsoluteunitsreduction-v1"></span><h1>DgsAbsoluteUnitsReduction v1<a class="headerlink" href="#dgsabsoluteunitsreduction-v1" title="Permalink to this headline">¶</a></h1>
<div class="figure align-right" id="index-0">
<a class="screenshot reference internal image-reference" href="../_images/DgsAbsoluteUnitsReduction-v1_dlg.png"><img alt="../_images/DgsAbsoluteUnitsReduction-v1_dlg.png" class="screenshot" src="../_images/DgsAbsoluteUnitsReduction-v1_dlg.png" style="width: 311px;" /></a>
<p class="caption"><strong>DgsAbsoluteUnitsReduction</strong> dialog.</p>
</div>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#summary" id="id1">Summary</a></li>
<li><a class="reference internal" href="#properties" id="id2">Properties</a></li>
<li><a class="reference internal" href="#description" id="id3">Description</a><ul>
<li><a class="reference internal" href="#workflow" id="id4">Workflow</a></li>
</ul>
</li>
<li><a class="reference internal" href="#usage" id="id5">Usage</a></li>
<li><a class="reference internal" href="#source" id="id6">Source</a></li>
</ul>
</div>
<div class="section" id="summary">
<h2><a class="toc-backref" href="#id1">Summary</a><a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>Process the absolute units sample.</p>
</div>
<div class="section" id="properties">
<h2><a class="toc-backref" href="#id2">Properties</a><a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="17%" />
<col width="4%" />
<col width="21%" />
<col width="14%" />
<col width="44%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Direction</th>
<th class="head">Type</th>
<th class="head">Default</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>InputWorkspace</td>
<td>Input</td>
<td><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><em>MatrixWorkspace</em></a></td>
<td><em>Mandatory</em></td>
<td>The absolute units sample workspace.</td>
</tr>
<tr class="row-odd"><td>InputMonitorWorkspace</td>
<td>Input</td>
<td><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><em>MatrixWorkspace</em></a></td>
<td>&nbsp;</td>
<td>A monitor workspace associated with the absolute units sample workspace</td>
</tr>
<tr class="row-even"><td>DetectorVanadiumWorkspace</td>
<td>Input</td>
<td><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><em>MatrixWorkspace</em></a></td>
<td>&nbsp;</td>
<td>An absolute units detector vanadium workspace.</td>
</tr>
<tr class="row-odd"><td>DetectorVanadiumMonitorWorkspace</td>
<td>Input</td>
<td><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><em>MatrixWorkspace</em></a></td>
<td>&nbsp;</td>
<td>A monitor workspace associated with the absolute units detector vanadium workspace.</td>
</tr>
<tr class="row-even"><td>MaskWorkspace</td>
<td>Input</td>
<td><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><em>MatrixWorkspace</em></a></td>
<td>&nbsp;</td>
<td>A masking workspace to apply to the data.</td>
</tr>
<tr class="row-odd"><td>GroupingWorkspace</td>
<td>Input</td>
<td><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><em>MatrixWorkspace</em></a></td>
<td>&nbsp;</td>
<td>A grouping workspace for the absolute units data.</td>
</tr>
<tr class="row-even"><td>ReductionProperties</td>
<td>Input</td>
<td>string</td>
<td>__dgs_reduction_properties</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>OutputWorkspace</td>
<td>Output</td>
<td><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><em>MatrixWorkspace</em></a></td>
<td><em>Mandatory</em></td>
<td>The integrated absolute units workspace.</td>
</tr>
<tr class="row-even"><td>OutputMaskWorkspace</td>
<td>Output</td>
<td><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><em>MatrixWorkspace</em></a></td>
<td><em>Mandatory</em></td>
<td>The diagnostic mask from the absolute units workspace</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="description">
<h2><a class="toc-backref" href="#id3">Description</a><a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>This algorithm is responsible for taking an absolute units sample and
converting it to an integrated value (one value for entire workspace)
for that sample. A corresponding detector vanadium can be used in
conjunction with the data reduction. The diagram below shows the
workflow. The AbsUnitsIncidentEnergy parameter needs to be passed via a
property manager since the absolute units sample may have been measured
at an energy different from the sample of interest. Parameters in
italics are controlled by the
<a class="reference external" href="http://www.mantidproject.org/InstrumentParameterFile">instrument parameter file (IPF)</a>
unless provided to the algorithm via a property manager. The mappings are given
below.</p>
<table border="1" class="docutils">
<colgroup>
<col width="53%" />
<col width="47%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter</th>
<th class="head">IPF Mapping</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>VanadiumMass</td>
<td>vanadium-mass</td>
</tr>
<tr class="row-odd"><td>AbsUnitsMinimumEnergy</td>
<td>monovan-integr-min</td>
</tr>
<tr class="row-even"><td>AbsUnitsMaximumEnergy</td>
<td>monovan-integr-max</td>
</tr>
</tbody>
</table>
<p>The last two parameters are used to create a single bin for the <a class="reference internal" href="Rebin-v1.html#algm-rebin"><em>Rebin</em></a>
algorithm. The dashed oval parameter, VanadiumRmm, is taken from the
atomic information for the molecular mass of Vanadium. The open circle
represents detector diagnostic parameters and they are detailed in the
table below.</p>
<table border="1" class="docutils">
<colgroup>
<col width="26%" />
<col width="20%" />
<col width="54%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter</th>
<th class="head">IPF Mapping</th>
<th class="head"><a class="reference internal" href="DetectorDiagnostic-v1.html#algm-detectordiagnostic"><em>DetectorDiagnostic</em></a> Mapping</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>HighCounts</td>
<td>diag_huge</td>
<td>HighThreshold</td>
</tr>
<tr class="row-odd"><td>LowCounts</td>
<td>diag_tiny</td>
<td>LowThreshold</td>
</tr>
<tr class="row-even"><td>AbsUnitsLowOutlier</td>
<td>monovan_lo_bound</td>
<td>LowOutlier</td>
</tr>
<tr class="row-odd"><td>AbsUnitsHighOutlier</td>
<td>monovan_hi_bound</td>
<td>HighOutlier</td>
</tr>
<tr class="row-even"><td>AbsUnitsMedianTestLow</td>
<td>monovan_lo_frac</td>
<td>LowThresholdFraction</td>
</tr>
<tr class="row-odd"><td>AbsUnitsMedianTestHigh</td>
<td>monovan_hi_frac</td>
<td>HighThresholdFraction</td>
</tr>
<tr class="row-even"><td>AbsUnitsErrorBarCriterion</td>
<td>diag_samp_sig</td>
<td>SignificanceTest</td>
</tr>
</tbody>
</table>
<p>If a detector vanadium is used, the processed sample workspace is
multiplied by a factor containing the sample mass (SampleMass), sample
molecular mass (SampleRmm) and the cross-section (Scattering XSec) given
by:
<img class="math" src="../_images/math/d13107a69e2529015558aa5913f15579779b487f.png" alt="\frac{(\sigma^{V}_{incoherent}+\sigma^{V}_{coherent})\times10^{3}}{4\pi}" style="vertical-align: -6px"/>
with the cross-section units of <img class="math" src="../_images/math/7f5b05d7d8fc7fe5236eed5b58590027888d48f5.png" alt="millibarns/steradian" style="vertical-align: -5px"/>.</p>
<div class="section" id="workflow">
<h3><a class="toc-backref" href="#id4">Workflow</a><a class="headerlink" href="#workflow" title="Permalink to this headline">¶</a></h3>
<img alt="../_images/DgsAbsoluteUnitsReduction-v1_wkflw.png" src="../_images/DgsAbsoluteUnitsReduction-v1_wkflw.png" />
</div>
</div>
<div class="section" id="usage">
<h2><a class="toc-backref" href="#id5">Usage</a><a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This algorithm is not really intented for use at the command line, but is used
within <a class="reference internal" href="DgsReduction-v1.html#algm-dgsreduction"><em>DgsReduction</em></a>.</p>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/Algorithms.html">Algorithms</a> | <a class="reference external" href="categories/Workflow/Inelastic/UsesPropertyManager.html">Workflow\Inelastic\UsesPropertyManager</a></p>
</div>
<div class="section" id="source">
<h2><a class="toc-backref" href="#id6">Source</a><a class="headerlink" href="#source" title="Permalink to this headline">¶</a></h2>
<p>C++ source: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/0e727092bfa714fd0d7f12ee4b2c3bb864e1ef06/Framework/WorkflowAlgorithms/src/DgsAbsoluteUnitsReduction.cpp">DgsAbsoluteUnitsReduction.cpp</a></p>
<p>C++ header: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/0e727092bfa714fd0d7f12ee4b2c3bb864e1ef06/Framework/WorkflowAlgorithms/inc/MantidWorkflowAlgorithms/DgsAbsoluteUnitsReduction.h">DgsAbsoluteUnitsReduction.h</a></p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="DetermineChunking-v1.html" title="Previous Chapter: DetermineChunking v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm">&laquo; DetermineChunkin...</span>
    </a>
  </li>
  <li>
    <a href="DgsConvertToEnergyTransfer-v1.html" title="Next Chapter: DgsConvertToEnergyTransfer v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm">DgsConvertToEner... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>