<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Stitch1DMany v1</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.1.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.1.0/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.10.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="" href="../index.html" />
    <link rel="next" title="StopRemoteTransaction v1" href="StopRemoteTransaction-v1.html" />
    <link rel="prev" title="Stitch1D v3" href="Stitch1D-v3.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>3.10</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://www.mantidproject.org/Documentation">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="stitch1dmany-v1">
<span id="algm-stitch1dmany"></span><span id="algm-stitch1dmany-v1"></span><h1>Stitch1DMany v1<a class="headerlink" href="#stitch1dmany-v1" title="Permalink to this headline">¶</a></h1>
<div class="figure align-right" id="index-0">
<a class="screenshot reference internal image-reference" href="../_images/Stitch1DMany-v1_dlg.png"><img alt="../_images/Stitch1DMany-v1_dlg.png" class="screenshot" src="../_images/Stitch1DMany-v1_dlg.png" style="width: 266px;" /></a>
<p class="caption"><strong>Stitch1DMany</strong> dialog.</p>
</div>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#summary" id="id1">Summary</a></li>
<li><a class="reference internal" href="#properties" id="id2">Properties</a></li>
<li><a class="reference internal" href="#description" id="id3">Description</a></li>
<li><a class="reference internal" href="#workflow" id="id4">Workflow</a></li>
<li><a class="reference internal" href="#usage" id="id5">Usage</a></li>
<li><a class="reference internal" href="#source" id="id6">Source</a></li>
</ul>
</div>
<div class="section" id="summary">
<h2><a class="toc-backref" href="#id1">Summary</a><a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>Stitches histogram matrix workspaces together</p>
</div>
<div class="section" id="properties">
<h2><a class="toc-backref" href="#id2">Properties</a><a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="8%" />
<col width="3%" />
<col width="11%" />
<col width="5%" />
<col width="73%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Direction</th>
<th class="head">Type</th>
<th class="head">Default</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>InputWorkspaces</td>
<td>Input</td>
<td>str list</td>
<td><em>Mandatory</em></td>
<td>Input Workspaces. List of histogram workspaces to stitch together. At least 2 workspaces must be supplied for stitching and all must be of the same type.</td>
</tr>
<tr class="row-odd"><td>OutputWorkspace</td>
<td>Output</td>
<td><a class="reference internal" href="../concepts/Workspace.html#workspace"><em>Workspace</em></a></td>
<td><em>Mandatory</em></td>
<td>Output stitched workspace.</td>
</tr>
<tr class="row-even"><td>Params</td>
<td>Input</td>
<td>dbl list</td>
<td><em>Mandatory</em></td>
<td>Rebinning Parameters. See Rebin for format.</td>
</tr>
<tr class="row-odd"><td>StartOverlaps</td>
<td>Input</td>
<td>dbl list</td>
<td>&nbsp;</td>
<td>Start overlaps for stitched workspaces. If specified, the number of StartOverlaps must be 1 less than the number of input workspaces. Optional.</td>
</tr>
<tr class="row-even"><td>EndOverlaps</td>
<td>Input</td>
<td>dbl list</td>
<td>&nbsp;</td>
<td>End overlaps for stitched workspaces. If specified, the number of EndOverlaps must be the same as the number of StartOverlaps. Optional.</td>
</tr>
<tr class="row-odd"><td>ScaleRHSWorkspace</td>
<td>Input</td>
<td>boolean</td>
<td>True</td>
<td>Scaling either with respect to workspace 1 or workspace 2</td>
</tr>
<tr class="row-even"><td>UseManualScaleFactor</td>
<td>Input</td>
<td>boolean</td>
<td>False</td>
<td>True to use a provided value for the scale factor.</td>
</tr>
<tr class="row-odd"><td>ManualScaleFactor</td>
<td>Input</td>
<td>number</td>
<td>1</td>
<td>Provided value for the scale factor.</td>
</tr>
<tr class="row-even"><td>OutScaleFactors</td>
<td>Output</td>
<td>dbl list</td>
<td>&nbsp;</td>
<td>The actual used values for the scaling factors at each stitch step.</td>
</tr>
<tr class="row-odd"><td>ScaleFactorFromPeriod</td>
<td>Input</td>
<td>number</td>
<td>1</td>
<td>Provided index of period to obtain scale factor from. Periods are indexed from 1. Used only if stitching group workspaces, UseManualScaleFactor is true and ManualScaleFactor is set to default.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="description">
<h2><a class="toc-backref" href="#id3">Description</a><a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>Stitches single histogram <a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><em>Matrix Workspaces</em></a>
together outputting a stitched Matrix Workspace. This algorithm is a
wrapper over <a class="reference internal" href="Stitch1D-v3.html#algm-stitch1d"><em>Stitch1D v3</em></a>.</p>
<p>The workspaces must be histogrammed. Use <a class="reference internal" href="ConvertToHistogram-v1.html#algm-converttohistogram"><em>ConvertToHistogram v1</em></a> on
workspaces prior to passing them to this algorithm.</p>
<p>The algorithm expects pairs of <tt class="docutils literal"><span class="pre">StartOverlaps</span></tt> and
<tt class="docutils literal"><span class="pre">EndOverlaps</span></tt> values. The order in which these are provided determines
the pairing. There should be N entries in each of these lists, where N = 1 -
(No. of workspaces to stitch). StartOverlaps and EndOverlaps are in the same
units as the X-axis for the workspace and are optional. For each pair of these
values, the <tt class="docutils literal"><span class="pre">StartOverlaps</span></tt> value cannot exceed its corresponding
<tt class="docutils literal"><span class="pre">EndOverlaps</span></tt> value. Furthermore, if either the start or end value is
outside the range of X-axis intersection, they will be forcibly changed to the
intersection min and max respectively.</p>
<p>This algorithm is also capable of stitching together matrix workspaces
from multiple workspace groups. In this case, each group must contain the
same number of workspaces. The algorithm will stitch together the workspaces
in the first group before stitching workspaces from the next group on top
of the previous ones.</p>
<p>When stitching the workspaces, either the RHS or LHS workspaces can be scaled.
We can specify a manual scale factor to use by setting
<tt class="docutils literal"><span class="pre">UseManualScaleFactor</span></tt> true and passing a value to
<tt class="docutils literal"><span class="pre">ManualScaleFactor</span></tt>. For group workspaces, we can also use
<tt class="docutils literal"><span class="pre">ScaleFactorFromPeriod</span></tt> to select a period which will obtain a vector
of scale factors from the selected period. These scale factors are then applied
to all other periods when stitching.</p>
</div>
<div class="section" id="workflow">
<h2><a class="toc-backref" href="#id4">Workflow</a><a class="headerlink" href="#workflow" title="Permalink to this headline">¶</a></h2>
<p>The algorithm workflow is as follows:</p>
<ol class="arabic simple">
<li>A check is performed to find out whether the input workspaces are group
workspaces or not. The algorithm handles matrix workspaces differently from
group workspaces.</li>
<li>If matrix workspaces are supplied, the algorithm simply iterates over each
workspace and calls the <tt class="docutils literal"><span class="pre">Stitch1D</span></tt> algorithm. This stitches each RHS
workspace to the LHS workspace to form a single stitched workspace (LHS to
RHS if ScaleRHSWorkspace is set to false). The resultant workspace and its
scale factor are outputted.</li>
<li>If group workspaces are supplied, the algorithm checks whether or not to
scale workspaces using scale factors from a specific period (given by
<tt class="docutils literal"><span class="pre">ScaleFactorFromPeriod</span></tt>). This is done only if
<tt class="docutils literal"><span class="pre">UseManualScaleFactor</span></tt> is true and <tt class="docutils literal"><span class="pre">ManualScaleFactor</span></tt> is
set to its default value.</li>
<li>If not using <tt class="docutils literal"><span class="pre">ScaleFactorFromPeriod</span></tt>, the algorithm collects the
workspaces belonging to each period across all groups and calls
<tt class="docutils literal"><span class="pre">Stitch1DMany</span></tt> for each period. As a selection of non-group
workspaces are passed to it, this essential repeats step 2 for each period.
Each of the resultant stitched workspaces stored in a vector while each list
of out scale factors are appended to each other and outputted.</li>
<li>The vector of output stitched workspaces are passed to
<tt class="docutils literal"><span class="pre">GroupWorkspaces</span></tt>, which groups the workspaces into a single
workspace, which is then outputted.</li>
<li>If using <tt class="docutils literal"><span class="pre">ScaleFactorFromPeriod</span></tt>, the algorithm calls
<tt class="docutils literal"><span class="pre">Stitch1DMany</span></tt> for a period specified by
<tt class="docutils literal"><span class="pre">ScaleFactorFromPeriod</span></tt> and passes the same input workspaces. This
returns a vector of period scale factors obtained by stitching workspaces
from a specific period.</li>
<li>The algorithm iterates over each workspace for each period across all groups
and calls <tt class="docutils literal"><span class="pre">Stitch1D</span></tt>, passing the scale factor from period scale
factors for each period index. Like in step 4, the stitched workspaces are
stored in a vector while the out scale factors are appended and outputted.
Finally step 5 is performed, grouping the workspaces into a single one that
is outputted.</li>
</ol>
<p>In the diagram below, all input parameters other than
<tt class="docutils literal"><span class="pre">InputWorkspaces</span></tt>, <tt class="docutils literal"><span class="pre">UseManualScaleFactor</span></tt>,
<tt class="docutils literal"><span class="pre">ManualScaleFactor</span></tt> and <tt class="docutils literal"><span class="pre">ScaleFactorFromPeriod</span></tt> have been
omitted as they do not serve any purpose other than to be passed to the
<tt class="docutils literal"><span class="pre">Stitch1DMany</span></tt> algorithm.</p>
<img alt="../_images/Stitch1DMany-v1_wkflw.png" src="../_images/Stitch1DMany-v1_wkflw.png" />
</div>
<div class="section" id="usage">
<h2><a class="toc-backref" href="#id5">Usage</a><a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p><strong>Example - a basic example using Stitch1DMany to stitch three workspaces together.</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>

<span class="k">def</span> <span class="nf">gaussian</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">mu</span><span class="p">,</span> <span class="n">sigma</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot;Creates a gaussian peak centered on mu and with width sigma.&quot;&quot;&quot;</span>
  <span class="k">return</span> <span class="p">(</span><span class="mi">1</span><span class="o">/</span> <span class="n">sigma</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">))</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span> <span class="o">-</span> <span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="n">mu</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span>  <span class="o">/</span> <span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">sigma</span><span class="o">**</span><span class="mi">2</span><span class="p">))</span>

<span class="c"># Create three histograms with a single peak in each one</span>
<span class="n">x1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">)</span>
<span class="n">x2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">0.4</span><span class="p">,</span> <span class="mf">1.6</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">)</span>
<span class="n">x3</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">1.3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">)</span>
<span class="n">ws1</span> <span class="o">=</span> <span class="n">CreateWorkspace</span><span class="p">(</span><span class="n">UnitX</span><span class="o">=</span><span class="s">&quot;1/q&quot;</span><span class="p">,</span> <span class="n">DataX</span><span class="o">=</span><span class="n">x1</span><span class="p">,</span> <span class="n">DataY</span><span class="o">=</span><span class="n">gaussian</span><span class="p">(</span><span class="n">x1</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
<span class="n">ws2</span> <span class="o">=</span> <span class="n">CreateWorkspace</span><span class="p">(</span><span class="n">UnitX</span><span class="o">=</span><span class="s">&quot;1/q&quot;</span><span class="p">,</span> <span class="n">DataX</span><span class="o">=</span><span class="n">x2</span><span class="p">,</span> <span class="n">DataY</span><span class="o">=</span><span class="n">gaussian</span><span class="p">(</span><span class="n">x2</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
<span class="n">ws3</span> <span class="o">=</span> <span class="n">CreateWorkspace</span><span class="p">(</span><span class="n">UnitX</span><span class="o">=</span><span class="s">&quot;1/q&quot;</span><span class="p">,</span> <span class="n">DataX</span><span class="o">=</span><span class="n">x3</span><span class="p">,</span> <span class="n">DataY</span><span class="o">=</span><span class="n">gaussian</span><span class="p">(</span><span class="n">x3</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="mi">2</span><span class="p">,</span> <span class="mf">0.08</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>

<span class="c"># Stitch the histograms together</span>
<span class="n">workspaces</span> <span class="o">=</span> <span class="n">ws1</span><span class="o">.</span><span class="n">name</span><span class="p">()</span> <span class="o">+</span> <span class="s">&quot;,&quot;</span> <span class="o">+</span> <span class="n">ws2</span><span class="o">.</span><span class="n">name</span><span class="p">()</span> <span class="o">+</span> <span class="s">&quot;,&quot;</span> <span class="o">+</span> <span class="n">ws3</span><span class="o">.</span><span class="n">name</span><span class="p">()</span>
<span class="n">stitched</span><span class="p">,</span> <span class="n">scale</span> <span class="o">=</span> <span class="n">Stitch1DMany</span><span class="p">(</span><span class="n">InputWorkspaces</span><span class="o">=</span><span class="n">workspaces</span><span class="p">,</span> <span class="n">StartOverlaps</span><span class="o">=</span><span class="p">[</span><span class="mf">0.4</span><span class="p">,</span> <span class="mf">1.2</span><span class="p">],</span> <span class="n">EndOverlaps</span><span class="o">=</span><span class="p">[</span><span class="mf">0.6</span><span class="p">,</span> <span class="mf">1.4</span><span class="p">],</span> <span class="n">Params</span><span class="o">=</span><span class="p">[</span><span class="mf">0.02</span><span class="p">])</span>
</pre></div>
</div>
<p>Output:</p>
<a class="reference internal image-reference" href="../_images/Stitch1D1.png"><img alt="Stitch1D output" class="align-center" src="../_images/Stitch1D1.png" style="width: 688.35px; height: 309.4px;" /></a>
<p><strong>Example - another example using three group workspaces of two workspaces each.</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>

<span class="k">def</span> <span class="nf">gaussian</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">mu</span><span class="p">,</span> <span class="n">sigma</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot;Creates a gaussian peak centered on mu and with width sigma.&quot;&quot;&quot;</span>
  <span class="k">return</span> <span class="p">(</span><span class="mi">1</span><span class="o">/</span> <span class="n">sigma</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">))</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span> <span class="o">-</span> <span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="n">mu</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span>  <span class="o">/</span> <span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">sigma</span><span class="o">**</span><span class="mi">2</span><span class="p">))</span>

<span class="c"># Create six histograms with a single peak in each one</span>
<span class="n">x1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">)</span>
<span class="n">x3</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">1.8</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">)</span>
<span class="n">x5</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">1.4</span><span class="p">,</span> <span class="mf">2.8</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">)</span>
<span class="n">x2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">2.4</span><span class="p">,</span> <span class="mf">3.5</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">)</span>
<span class="n">x4</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">3.2</span><span class="p">,</span> <span class="mf">4.9</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">)</span>
<span class="n">x6</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">4.5</span><span class="p">,</span> <span class="mf">5.2</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">)</span>
<span class="n">ws1</span> <span class="o">=</span> <span class="n">CreateWorkspace</span><span class="p">(</span><span class="n">UnitX</span><span class="o">=</span><span class="s">&quot;1/q&quot;</span><span class="p">,</span> <span class="n">DataX</span><span class="o">=</span><span class="n">x1</span><span class="p">,</span> <span class="n">DataY</span><span class="o">=</span><span class="n">gaussian</span><span class="p">(</span><span class="n">x1</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
<span class="n">ws3</span> <span class="o">=</span> <span class="n">CreateWorkspace</span><span class="p">(</span><span class="n">UnitX</span><span class="o">=</span><span class="s">&quot;1/q&quot;</span><span class="p">,</span> <span class="n">DataX</span><span class="o">=</span><span class="n">x3</span><span class="p">,</span> <span class="n">DataY</span><span class="o">=</span><span class="n">gaussian</span><span class="p">(</span><span class="n">x3</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
<span class="n">ws5</span> <span class="o">=</span> <span class="n">CreateWorkspace</span><span class="p">(</span><span class="n">UnitX</span><span class="o">=</span><span class="s">&quot;1/q&quot;</span><span class="p">,</span> <span class="n">DataX</span><span class="o">=</span><span class="n">x5</span><span class="p">,</span> <span class="n">DataY</span><span class="o">=</span><span class="n">gaussian</span><span class="p">(</span><span class="n">x5</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="mi">2</span><span class="p">,</span> <span class="mf">0.12</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
<span class="n">ws2</span> <span class="o">=</span> <span class="n">CreateWorkspace</span><span class="p">(</span><span class="n">UnitX</span><span class="o">=</span><span class="s">&quot;1/q&quot;</span><span class="p">,</span> <span class="n">DataX</span><span class="o">=</span><span class="n">x2</span><span class="p">,</span> <span class="n">DataY</span><span class="o">=</span><span class="n">gaussian</span><span class="p">(</span><span class="n">x2</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="mi">3</span><span class="p">,</span> <span class="mf">0.08</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
<span class="n">ws4</span> <span class="o">=</span> <span class="n">CreateWorkspace</span><span class="p">(</span><span class="n">UnitX</span><span class="o">=</span><span class="s">&quot;1/q&quot;</span><span class="p">,</span> <span class="n">DataX</span><span class="o">=</span><span class="n">x4</span><span class="p">,</span> <span class="n">DataY</span><span class="o">=</span><span class="n">gaussian</span><span class="p">(</span><span class="n">x4</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="mi">4</span><span class="p">,</span> <span class="mf">0.06</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
<span class="n">ws6</span> <span class="o">=</span> <span class="n">CreateWorkspace</span><span class="p">(</span><span class="n">UnitX</span><span class="o">=</span><span class="s">&quot;1/q&quot;</span><span class="p">,</span> <span class="n">DataX</span><span class="o">=</span><span class="n">x6</span><span class="p">,</span> <span class="n">DataY</span><span class="o">=</span><span class="n">gaussian</span><span class="p">(</span><span class="n">x6</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="mi">5</span><span class="p">,</span> <span class="mf">0.04</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>

<span class="c"># Group first, second and third pairs of workspaces</span>
<span class="n">groupWSNames1</span> <span class="o">=</span> <span class="n">ws1</span><span class="o">.</span><span class="n">name</span><span class="p">()</span> <span class="o">+</span> <span class="s">&quot;,&quot;</span> <span class="o">+</span> <span class="n">ws2</span><span class="o">.</span><span class="n">name</span><span class="p">()</span>
<span class="n">gws1</span> <span class="o">=</span> <span class="n">GroupWorkspaces</span><span class="p">(</span><span class="n">InputWorkspaces</span><span class="o">=</span><span class="n">groupWSNames1</span><span class="p">)</span>
<span class="n">groupWSNames2</span> <span class="o">=</span> <span class="n">ws3</span><span class="o">.</span><span class="n">name</span><span class="p">()</span> <span class="o">+</span> <span class="s">&quot;,&quot;</span> <span class="o">+</span> <span class="n">ws4</span><span class="o">.</span><span class="n">name</span><span class="p">()</span>
<span class="n">gws2</span> <span class="o">=</span> <span class="n">GroupWorkspaces</span><span class="p">(</span><span class="n">InputWorkspaces</span><span class="o">=</span><span class="n">groupWSNames2</span><span class="p">)</span>
<span class="n">groupWSNames3</span> <span class="o">=</span> <span class="n">ws5</span><span class="o">.</span><span class="n">name</span><span class="p">()</span> <span class="o">+</span> <span class="s">&quot;,&quot;</span> <span class="o">+</span> <span class="n">ws6</span><span class="o">.</span><span class="n">name</span><span class="p">()</span>
<span class="n">gws3</span> <span class="o">=</span> <span class="n">GroupWorkspaces</span><span class="p">(</span><span class="n">InputWorkspaces</span><span class="o">=</span><span class="n">groupWSNames3</span><span class="p">)</span>

<span class="c"># Stitch together workspaces from each group</span>
<span class="n">workspaceNames</span> <span class="o">=</span> <span class="n">gws1</span><span class="o">.</span><span class="n">name</span><span class="p">()</span> <span class="o">+</span> <span class="s">&quot;,&quot;</span> <span class="o">+</span> <span class="n">gws2</span><span class="o">.</span><span class="n">name</span><span class="p">()</span> <span class="o">+</span> <span class="s">&quot;,&quot;</span> <span class="o">+</span> <span class="n">gws3</span><span class="o">.</span><span class="n">name</span><span class="p">()</span>
<span class="n">stitched</span><span class="p">,</span> <span class="n">scale</span> <span class="o">=</span> <span class="n">Stitch1DMany</span><span class="p">(</span><span class="n">InputWorkspaces</span><span class="o">=</span><span class="n">workspaceNames</span><span class="p">,</span> <span class="n">StartOverlaps</span><span class="o">=</span><span class="p">[</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">1.4</span><span class="p">],</span> <span class="n">EndOverlaps</span><span class="o">=</span><span class="p">[</span><span class="mf">3.3</span><span class="p">,</span> <span class="mf">4.6</span><span class="p">],</span> <span class="n">Params</span><span class="o">=</span><span class="p">[</span><span class="mf">0.02</span><span class="p">])</span>
</pre></div>
</div>
<p>Output:</p>
<a class="reference internal image-reference" href="../_images/Stitch1D2.png"><img alt="Stitch1D output" class="align-center" src="../_images/Stitch1D2.png" style="width: 682.5px; height: 304.2px;" /></a>
<p><strong>Categories</strong>: <a class="reference external" href="categories/Algorithms.html">Algorithms</a> | <a class="reference external" href="categories/Reflectometry.html">Reflectometry</a></p>
</div>
<div class="section" id="source">
<h2><a class="toc-backref" href="#id6">Source</a><a class="headerlink" href="#source" title="Permalink to this headline">¶</a></h2>
<p>C++ source: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/0e727092bfa714fd0d7f12ee4b2c3bb864e1ef06/Framework/Algorithms/src/Stitch1DMany.cpp">Stitch1DMany.cpp</a></p>
<p>C++ header: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/0e727092bfa714fd0d7f12ee4b2c3bb864e1ef06/Framework/Algorithms/inc/MantidAlgorithms/Stitch1DMany.h">Stitch1DMany.h</a></p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="Stitch1D-v3.html" title="Previous Chapter: Stitch1D v3"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm">&laquo; Stitch1D v3</span>
    </a>
  </li>
  <li>
    <a href="StopRemoteTransaction-v1.html" title="Next Chapter: StopRemoteTransaction v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm">StopRemoteTransa... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>