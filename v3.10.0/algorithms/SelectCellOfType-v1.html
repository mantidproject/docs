<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>SelectCellOfType v1</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.1.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.1.0/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.10.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="" href="../index.html" />
    <link rel="next" title="SelectCellWithForm v1" href="SelectCellWithForm-v1.html" />
    <link rel="prev" title="Segfault v1" href="Segfault-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>3.10</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://www.mantidproject.org/Documentation">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="selectcelloftype-v1">
<span id="algm-selectcelloftype"></span><span id="algm-selectcelloftype-v1"></span><h1>SelectCellOfType v1<a class="headerlink" href="#selectcelloftype-v1" title="Permalink to this headline">¶</a></h1>
<div class="figure align-right" id="index-0">
<a class="screenshot reference internal image-reference" href="../_images/SelectCellOfType-v1_dlg.png"><img alt="../_images/SelectCellOfType-v1_dlg.png" class="screenshot" src="../_images/SelectCellOfType-v1_dlg.png" style="width: 260px;" /></a>
<p class="caption"><strong>SelectCellOfType</strong> dialog.</p>
</div>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#summary" id="id1">Summary</a></li>
<li><a class="reference internal" href="#properties" id="id2">Properties</a></li>
<li><a class="reference internal" href="#description" id="id3">Description</a></li>
<li><a class="reference internal" href="#usage" id="id4">Usage</a></li>
<li><a class="reference internal" href="#source" id="id5">Source</a></li>
</ul>
</div>
<div class="section" id="summary">
<h2><a class="toc-backref" href="#id1">Summary</a><a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>Select a conventional cell with a specific lattice type and centering, corresponding to the UB stored with the sample for this peaks works space.</p>
</div>
<div class="section" id="properties">
<h2><a class="toc-backref" href="#id2">Properties</a><a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="9%" />
<col width="4%" />
<col width="8%" />
<col width="6%" />
<col width="74%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Direction</th>
<th class="head">Type</th>
<th class="head">Default</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>PeaksWorkspace</td>
<td>InOut</td>
<td>PeaksWorkspace</td>
<td><em>Mandatory</em></td>
<td>Input Peaks Workspace</td>
</tr>
<tr class="row-odd"><td>CellType</td>
<td>Input</td>
<td>string</td>
<td>Cubic</td>
<td>The conventional cell type to use. Allowed values: [&#8216;Cubic&#8217;, &#8216;Hexagonal&#8217;, &#8216;Rhombohedral&#8217;, &#8216;Tetragonal&#8217;, &#8216;Orthorhombic&#8217;, &#8216;Monoclinic&#8217;, &#8216;Triclinic&#8217;]</td>
</tr>
<tr class="row-even"><td>Centering</td>
<td>Input</td>
<td>string</td>
<td>P</td>
<td>The centering for the conventional cell. Allowed values: [&#8216;F&#8217;, &#8216;I&#8217;, &#8216;C&#8217;, &#8216;P&#8217;, &#8216;R&#8217;]</td>
</tr>
<tr class="row-odd"><td>Apply</td>
<td>Input</td>
<td>boolean</td>
<td>False</td>
<td>Update UB and re-index the peaks</td>
</tr>
<tr class="row-even"><td>Tolerance</td>
<td>Input</td>
<td>number</td>
<td>0.12</td>
<td>Indexing Tolerance</td>
</tr>
<tr class="row-odd"><td>NumIndexed</td>
<td>Output</td>
<td>number</td>
<td>&nbsp;</td>
<td>The number of indexed peaks if apply==true.</td>
</tr>
<tr class="row-even"><td>AverageError</td>
<td>Output</td>
<td>number</td>
<td>&nbsp;</td>
<td>The average HKL indexing error if apply==true.</td>
</tr>
<tr class="row-odd"><td>AllowPermutations</td>
<td>Input</td>
<td>boolean</td>
<td>True</td>
<td>Allow permutations of conventional cells</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="description">
<h2><a class="toc-backref" href="#id3">Description</a><a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>Given a PeaksWorkspace with a UB matrix corresponding to a Niggli
reduced cell, this algorithm will allow the user to select a
conventional cell with a specified cell type and centering. If the apply
flag is not set, the information about the selected cell will just be
displayed. If the apply flag is set, the UB matrix associated with the
sample in the PeaksWorkspace will be updated to a UB corresponding to
the selected cell AND the peaks will be re-indexed using the new UB
matrix. NOTE: The possible conventional cells, together with the
corresponding errors in the cell scalars can be seen by running the
ShowPossibleCells algorithm, provided the stored UB matrix corresponds
to a Niggli reduced cell.</p>
<p>This algorithm is based on the paper: &#8220;Lattice Symmetry and
Identification &#8211; The Fundamental Role of Reduced Cells in Materials
Characterization&#8221;, Alan D. Mighell, Vol. 106, Number 6, Nov-Dec 2001,
Journal of Research of the National Institute of Standards and
Technology, available from: <a class="reference external" href="nvlpubs.nist.gov/nistpubs/jres/106/6/j66mig.pdf">nvlpubs</a>.</p>
</div>
<div class="section" id="usage">
<h2><a class="toc-backref" href="#id4">Usage</a><a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p><strong>Example:</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">ws</span><span class="o">=</span><span class="n">LoadIsawPeaks</span><span class="p">(</span><span class="s">&quot;TOPAZ_3007.peaks&quot;</span><span class="p">)</span>
<span class="n">FindUBUsingFFT</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span><span class="n">MinD</span><span class="o">=</span><span class="mf">8.0</span><span class="p">,</span><span class="n">MaxD</span><span class="o">=</span><span class="mf">13.0</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&quot;Lattice before SelectCellOfType:&quot;</span>
<span class="n">lattice</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">sample</span><span class="p">()</span><span class="o">.</span><span class="n">getOrientedLattice</span><span class="p">()</span>
<span class="k">print</span> <span class="n">lattice</span><span class="o">.</span><span class="n">a</span><span class="p">(),</span><span class="n">lattice</span><span class="o">.</span><span class="n">b</span><span class="p">(),</span><span class="n">lattice</span><span class="o">.</span><span class="n">c</span><span class="p">(),</span><span class="n">lattice</span><span class="o">.</span><span class="n">alpha</span><span class="p">(),</span><span class="n">lattice</span><span class="o">.</span><span class="n">beta</span><span class="p">(),</span><span class="n">lattice</span><span class="o">.</span><span class="n">gamma</span><span class="p">()</span>
<span class="n">SelectCellOfType</span><span class="p">(</span><span class="n">PeaksWorkspace</span><span class="o">=</span><span class="n">ws</span><span class="p">,</span> <span class="n">CellType</span><span class="o">=</span><span class="s">&#39;Monoclinic&#39;</span><span class="p">,</span> <span class="n">Centering</span><span class="o">=</span><span class="s">&#39;C&#39;</span><span class="p">,</span> <span class="n">Apply</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">Lattice after SelectCellOfType:&quot;</span>
<span class="n">lattice</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">sample</span><span class="p">()</span><span class="o">.</span><span class="n">getOrientedLattice</span><span class="p">()</span>
<span class="k">print</span> <span class="n">lattice</span><span class="o">.</span><span class="n">a</span><span class="p">(),</span><span class="n">lattice</span><span class="o">.</span><span class="n">b</span><span class="p">(),</span><span class="n">lattice</span><span class="o">.</span><span class="n">c</span><span class="p">(),</span><span class="n">lattice</span><span class="o">.</span><span class="n">alpha</span><span class="p">(),</span><span class="n">lattice</span><span class="o">.</span><span class="n">beta</span><span class="p">(),</span><span class="n">lattice</span><span class="o">.</span><span class="n">gamma</span><span class="p">()</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none"><div class="highlight"><pre>Lattice before SelectCellOfType:
8.60581864273 11.935925461 11.9418127661 107.429088323 98.7529124665 98.9511934747

Lattice after SelectCellOfType:
14.1310511523 19.247332564 8.60581864273 89.8811706749 105.07133377 89.970386662
</pre></div>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/Algorithms.html">Algorithms</a> | <a class="reference external" href="categories/Crystal/Cell.html">Crystal\Cell</a></p>
</div>
<div class="section" id="source">
<h2><a class="toc-backref" href="#id5">Source</a><a class="headerlink" href="#source" title="Permalink to this headline">¶</a></h2>
<p>C++ source: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/0e727092bfa714fd0d7f12ee4b2c3bb864e1ef06/Framework/Crystal/src/SelectCellOfType.cpp">SelectCellOfType.cpp</a></p>
<p>C++ header: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/0e727092bfa714fd0d7f12ee4b2c3bb864e1ef06/Framework/Crystal/inc/MantidCrystal/SelectCellOfType.h">SelectCellOfType.h</a></p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="Segfault-v1.html" title="Previous Chapter: Segfault v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm">&laquo; Segfault v1</span>
    </a>
  </li>
  <li>
    <a href="SelectCellWithForm-v1.html" title="Next Chapter: SelectCellWithForm v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm">SelectCellWithFo... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>