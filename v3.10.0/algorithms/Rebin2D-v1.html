<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Rebin2D v1</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.1.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.1.0/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.10.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="" href="../index.html" />
    <link rel="next" title="RebinByPulseTimes v1" href="RebinByPulseTimes-v1.html" />
    <link rel="prev" title="Rebin v1" href="Rebin-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>3.10</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://www.mantidproject.org/Documentation">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="rebin2d-v1">
<span id="algm-rebin2d"></span><span id="algm-rebin2d-v1"></span><h1>Rebin2D v1<a class="headerlink" href="#rebin2d-v1" title="Permalink to this headline">¶</a></h1>
<div class="figure align-right" id="index-0">
<a class="screenshot reference internal image-reference" href="../_images/Rebin2D-v1_dlg.png"><img alt="../_images/Rebin2D-v1_dlg.png" class="screenshot" src="../_images/Rebin2D-v1_dlg.png" style="width: 314px;" /></a>
<p class="caption"><strong>Rebin2D</strong> dialog.</p>
</div>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#summary" id="id1">Summary</a></li>
<li><a class="reference internal" href="#properties" id="id2">Properties</a></li>
<li><a class="reference internal" href="#description" id="id3">Description</a></li>
<li><a class="reference internal" href="#requirements" id="id4">Requirements</a></li>
<li><a class="reference internal" href="#usage" id="id5">Usage</a></li>
<li><a class="reference internal" href="#source" id="id6">Source</a></li>
</ul>
</div>
<div class="section" id="summary">
<h2><a class="toc-backref" href="#id1">Summary</a><a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>Rebins both axes of a 2D workspace using the given parameters</p>
</div>
<div class="section" id="properties">
<h2><a class="toc-backref" href="#id2">Properties</a><a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="6%" />
<col width="2%" />
<col width="14%" />
<col width="4%" />
<col width="73%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Direction</th>
<th class="head">Type</th>
<th class="head">Default</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>InputWorkspace</td>
<td>Input</td>
<td><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><em>MatrixWorkspace</em></a></td>
<td><em>Mandatory</em></td>
<td>An input workspace.</td>
</tr>
<tr class="row-odd"><td>OutputWorkspace</td>
<td>Output</td>
<td><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><em>MatrixWorkspace</em></a></td>
<td><em>Mandatory</em></td>
<td>An output workspace.</td>
</tr>
<tr class="row-even"><td>Axis1Binning</td>
<td>Input</td>
<td>dbl list</td>
<td><em>Mandatory</em></td>
<td>A comma separated list of first bin boundary, width, last bin boundary. Optionally this can be followed by a comma and more widths and last boundary pairs. Negative width values indicate logarithmic binning.</td>
</tr>
<tr class="row-odd"><td>Axis2Binning</td>
<td>Input</td>
<td>dbl list</td>
<td><em>Mandatory</em></td>
<td>A comma separated list of first bin boundary, width, last bin boundary. Optionally this can be followed by a comma and more widths and last boundary pairs. Negative width values indicate logarithmic binning.</td>
</tr>
<tr class="row-even"><td>UseFractionalArea</td>
<td>Input</td>
<td>boolean</td>
<td>False</td>
<td>Flag to turn on the using the fractional area tracking RebinnedOutput workspace .Default is false.</td>
</tr>
<tr class="row-odd"><td>Transpose</td>
<td>Input</td>
<td>boolean</td>
<td>False</td>
<td>Run the Transpose algorithm on the resulting matrix.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="description">
<h2><a class="toc-backref" href="#id3">Description</a><a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>The bin parameters are used to form an output grid. A positive
<img class="math" src="../_images/math/0ba3e394d4604fe452c4a4f0b15ec02a198d13bb.png" alt="\Delta x_i\," style="vertical-align: -3px"/> makes constant width bins, whilst negative ones
create logarithmic binning using the formula
<img class="math" src="../_images/math/d103b4ccd2f5e4dfc8334694d87e31cdb12b2eb4.png" alt="x(j+1)=x(j)(1+|\Delta x_i|)\," style="vertical-align: -5px"/>. The overlap of the polygons
formed from the old and new grids is tested to compute the required
signal weight for the each of the new bins on the workspace. The errors
are summed in quadrature.</p>
</div>
<div class="section" id="requirements">
<h2><a class="toc-backref" href="#id4">Requirements</a><a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h2>
<p>The algorithms currently requires the second axis on the workspace to be
a numerical axis so <a class="reference internal" href="ConvertSpectrumAxis-v2.html#algm-convertspectrumaxis"><em>ConvertSpectrumAxis v2</em></a> may
need to run first.</p>
</div>
<div class="section" id="usage">
<h2><a class="toc-backref" href="#id5">Usage</a><a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p><strong>Example - A simple example using the fractional area</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">ws</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">()</span>
<span class="c">#Convert the Spectrum Axis to theta</span>
<span class="n">wsc</span> <span class="o">=</span> <span class="n">ConvertSpectrumAxis</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span><span class="s">&quot;theta&quot;</span><span class="p">)</span>

<span class="n">rb</span> <span class="o">=</span> <span class="n">Rebin2D</span><span class="p">(</span><span class="n">wsc</span><span class="p">,[</span><span class="mi">0</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">20000</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.01</span><span class="p">,</span><span class="mf">1.2</span><span class="p">],</span><span class="n">UseFractionalArea</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="k">print</span> <span class="p">(</span><span class="s">&quot;Bins in the X axis: </span><span class="si">%i</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">rb</span><span class="o">.</span><span class="n">blocksize</span><span class="p">())</span>
<span class="k">print</span> <span class="p">(</span><span class="s">&quot;Bins in the Y axis: </span><span class="si">%i</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">rb</span><span class="o">.</span><span class="n">getNumberHistograms</span><span class="p">())</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none"><div class="highlight"><pre>Bins in the X axis: 200
Bins in the Y axis: 120
</pre></div>
</div>
<p><strong>Example - Transposing the Result</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">ws</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">()</span>
<span class="c">#Convert the Spectrum Axis to theta</span>
<span class="n">wsc</span> <span class="o">=</span> <span class="n">ConvertSpectrumAxis</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span><span class="s">&quot;theta&quot;</span><span class="p">)</span>

<span class="n">rb</span> <span class="o">=</span> <span class="n">Rebin2D</span><span class="p">(</span><span class="n">wsc</span><span class="p">,[</span><span class="mi">0</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">20000</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.01</span><span class="p">,</span><span class="mf">1.2</span><span class="p">],</span><span class="n">Transpose</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="k">print</span> <span class="p">(</span><span class="s">&quot;Bins in the X axis: </span><span class="si">%i</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">rb</span><span class="o">.</span><span class="n">blocksize</span><span class="p">())</span>
<span class="k">print</span> <span class="p">(</span><span class="s">&quot;Bins in the Y axis: </span><span class="si">%i</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">rb</span><span class="o">.</span><span class="n">getNumberHistograms</span><span class="p">())</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none"><div class="highlight"><pre>Bins in the X axis: 120
Bins in the Y axis: 200
</pre></div>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/Algorithms.html">Algorithms</a> | <a class="reference external" href="categories/Transforms/Rebin.html">Transforms\Rebin</a></p>
</div>
<div class="section" id="source">
<h2><a class="toc-backref" href="#id6">Source</a><a class="headerlink" href="#source" title="Permalink to this headline">¶</a></h2>
<p>C++ source: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/0e727092bfa714fd0d7f12ee4b2c3bb864e1ef06/Framework/Algorithms/src/Rebin2D.cpp">Rebin2D.cpp</a></p>
<p>C++ header: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/0e727092bfa714fd0d7f12ee4b2c3bb864e1ef06/Framework/Algorithms/inc/MantidAlgorithms/Rebin2D.h">Rebin2D.h</a></p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="Rebin-v1.html" title="Previous Chapter: Rebin v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm">&laquo; Rebin v1</span>
    </a>
  </li>
  <li>
    <a href="RebinByPulseTimes-v1.html" title="Next Chapter: RebinByPulseTimes v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm">RebinByPulseTime... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>