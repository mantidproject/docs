<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Engineering Calibration</title>
    
    <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap-3.1.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap-3.1.0/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '3.10.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="" href="../../index.html" />
    <link rel="up" title="Calibration" href="index.html" />
    <link rel="next" title="PSD Tube Calibration" href="PSDTubeCalibration.html" />
    <link rel="prev" title="CalFile" href="CalFile.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>3.10</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://www.mantidproject.org/Documentation">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="engineering-calibration">
<span id="id1"></span><h1>Engineering Calibration<a class="headerlink" href="#engineering-calibration" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#calculating-calibration" id="id2">Calculating Calibration</a><ul>
<li><a class="reference internal" href="#notes" id="id3">Notes</a></li>
<li><a class="reference internal" href="#data-required" id="id4">Data Required</a></li>
<li><a class="reference internal" href="#using-the-engineering-gui" id="id5">Using the Engineering GUI</a></li>
<li><a class="reference internal" href="#calibrating-the-entire-instrument" id="id6">Calibrating the entire instrument</a></li>
<li><a class="reference internal" href="#calibrating-individual-banks" id="id7">Calibrating individual banks</a></li>
<li><a class="reference internal" href="#under-the-hood" id="id8">Under the hood</a></li>
<li><a class="reference internal" href="#file-formats" id="id9">File Formats</a></li>
<li><a class="reference internal" href="#applying-your-calibration" id="id10">Applying your calibration</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="calculating-calibration">
<h2><a class="toc-backref" href="#id2">Calculating Calibration</a><a class="headerlink" href="#calculating-calibration" title="Permalink to this headline">¶</a></h2>
<div class="section" id="notes">
<h3><a class="toc-backref" href="#id3">Notes</a><a class="headerlink" href="#notes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The engineering Calibration is currently implemented to support Engin-X at ISIS, it may work for other instruments, but is subject to change at this point.</li>
</ul>
</div>
<div class="section" id="data-required">
<h3><a class="toc-backref" href="#id4">Data Required</a><a class="headerlink" href="#data-required" title="Permalink to this headline">¶</a></h3>
<p>You will need to run a sample which will create good clean peaks at known reference dSpacing positions.  To get a good calibration you will want good statistics on this calibration data.  Vanadium and Ceria are common samples used for calibration.</p>
<div class="figure align-right">
<a class="screenshot reference internal image-reference" href="../../_images/Engineering_Diffraction_interface.png"><img alt="../../_images/Engineering_Diffraction_interface.png" class="screenshot" src="../../_images/Engineering_Diffraction_interface.png" style="width: 400px;" /></a>
</div>
</div>
<div class="section" id="using-the-engineering-gui">
<h3><a class="toc-backref" href="#id5">Using the Engineering GUI</a><a class="headerlink" href="#using-the-engineering-gui" title="Permalink to this headline">¶</a></h3>
<p>Mantid provides a graphical user interface that  calculate can calibrations and
visualize them.</p>
<p>It is possible to load an existing calibration (as a CSV file) and to
generate a new calibration file (which becomes the new current
calibration).</p>
<p>A description of the inte3rface and all of it&#8217;s controls can be found
<a class="reference internal" href="../../interfaces/Engineering_Diffraction.html#ui-engineering-calibration"><em>here</em></a>.</p>
</div>
<div class="section" id="calibrating-the-entire-instrument">
<h3><a class="toc-backref" href="#id6">Calibrating the entire instrument</a><a class="headerlink" href="#calibrating-the-entire-instrument" title="Permalink to this headline">¶</a></h3>
<p>Calibration of every detector/pixel at the same time is done by <a class="reference internal" href="../../algorithms/EnggCalibrateFull-v1.html#algm-enggcalibratefull"><em>EnggCalibrateFull</em></a>.  This calculates the calibration in a single step and outputs a table workspace of the calibration.  As it is calibrating the whole instrument it can take some time, the next section shows how you can perform a partial calibration.</p>
</div>
<div class="section" id="calibrating-individual-banks">
<h3><a class="toc-backref" href="#id7">Calibrating individual banks</a><a class="headerlink" href="#calibrating-individual-banks" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="../../algorithms/EnggCalibrate-v1.html#algm-enggcalibrate"><em>EnggCalibrate</em></a> allows calibration of individual bank within the instrument, which is useful if only one bank has moved from a previous calibration, or if the calibration failed for a certain area of the instrument.</p>
</div>
<div class="section" id="under-the-hood">
<h3><a class="toc-backref" href="#id8">Under the hood</a><a class="headerlink" href="#under-the-hood" title="Permalink to this headline">¶</a></h3>
<p>All of these approaches use the algorithm <a class="reference internal" href="../../algorithms/EnggFitPeaks-v1.html#algm-enggfitpeaks"><em>EnggFitPeaks</em></a>, <a class="reference internal" href="../../algorithms/FindPeaks-v1.html#algm-findpeaks"><em>FindPeaks</em></a> and  <a class="reference internal" href="../../algorithms/EnggVanadiumCorrections-v1.html#algm-enggvanadiumcorrections"><em>EnggVanadiumCorrections</em></a> to find, and fit the recorded peaks and compare them to the expected values.</p>
<p>The peak functions (shapes):</p>
<ul class="simple">
<li><a class="reference internal" href="../../fitfunctions/BackToBackExponential.html#func-backtobackexponential"><em>BackToBackExponential</em></a> (used in EnggFitPeaks, to fit the peaks when accuracy is needed)</li>
<li><a class="reference internal" href="../../fitfunctions/Gaussian.html#func-gaussian"><em>Gaussian</em></a> (used in FindPeaks when the a quick validation is needed, but fit accuracy is not vital)</li>
</ul>
</div>
<div class="section" id="file-formats">
<h3><a class="toc-backref" href="#id9">File Formats</a><a class="headerlink" href="#file-formats" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The legacy ascii/csv format: [ENGINX_full_pixel_calibration_vana194547_ceria193749.csv](<a class="reference external" href="https://github.com/mantidproject/mantid/blob/master/scripts/Engineering/calib/ENGINX_full_pixel_calibration_vana194547_ceria193749.csv">https://github.com/mantidproject/mantid/blob/master/scripts/Engineering/calib/ENGINX_full_pixel_calibration_vana194547_ceria193749.csv</a>)
This can get very large and cumbersome to deal with for instruments with many detectors.</li>
<li>The <a class="reference internal" href="../DiffractionCalibrationWorkspace.html#diffractioncalibrationworkspace"><em>HDF format</em></a>.
This is that is more compact and is increasingly being used.</li>
</ul>
</div>
<div class="section" id="applying-your-calibration">
<h3><a class="toc-backref" href="#id10">Applying your calibration</a><a class="headerlink" href="#applying-your-calibration" title="Permalink to this headline">¶</a></h3>
<p>The result of the calibration (the output table given in OutDetPosTable) is accepted by both <a class="reference internal" href="../../algorithms/EnggCalibrate-v1.html#algm-enggcalibrate"><em>EnggCalibrate</em></a> and <a class="reference internal" href="../../algorithms/EnggFocus-v1.html#algm-enggfocus"><em>EnggFocus</em></a> which use the columns ‘Detector ID’ and ‘Detector Position’ of the table to correct the detector positions before focusing.  The OutDetPosTable output table can also be used to apply the calibration calculated by this algorithm on any other workspace by using the algorithm <a class="reference internal" href="../../algorithms/ApplyCalibration-v1.html#algm-applycalibration"><em>ApplyCalibration</em></a>.</p>
<p><strong>Category</strong>: <a class="reference external" href="../categories/Calibration.html">Calibration</a></p>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="CalFile.html" title="Previous Chapter: CalFile"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm">&laquo; CalFile</span>
    </a>
  </li>
  <li>
    <a href="PSDTubeCalibration.html" title="Next Chapter: PSD Tube Calibration"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm">PSD Tube Calibra... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>