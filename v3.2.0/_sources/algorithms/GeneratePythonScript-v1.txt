.. algorithm::

.. summary::

.. alias::

.. properties::

Description
-----------

Retrieves the algorithm history of the workspace and saves it to a
Python script file or Python variable.

Usage
-----

**Example - generate a python script for a workspace:**

.. testcode:: ExGeneratePythonScriptSimple

    #create a workspace and run some operations on it
    ws = CreateSampleWorkspace()
    ws = CropWorkspace(ws, XMin=7828.162291, XMax=11980.906921)
    ws = Power(ws, Exponent=1.5)
    ws = RenameWorkspace(ws, OutputWorkspace="MyTestWorkspace")

    script_text = GeneratePythonScript(ws)
    print script_text.strip()

Output:

.. testoutput:: ExGeneratePythonScriptSimple

    ######################################################################
    #Python Script Generated by GeneratePythonScript Algorithm
    ######################################################################
    CreateSampleWorkspace(OutputWorkspace='ws')
    CropWorkspace(InputWorkspace='ws', OutputWorkspace='ws', XMin=7828.1622909999996, XMax=11980.906921)
    Power(InputWorkspace='ws', OutputWorkspace='ws', Exponent=1.5)
    RenameWorkspace(InputWorkspace='ws', OutputWorkspace='MyTestWorkspace')

.. testcleanup:: ExGeneratePythonScriptSimple
    
    import os
    def removeFiles(files):
      for ws in files:
        try:
          path = os.path.join(os.path.expanduser("~"), ws)
          os.remove(path)
        except:
          pass

    removeFiles(['myscript.py'])


**Example - generate a python script and save it to file:**

.. testcode:: ExGeneratePythonScriptFile

    import os
    
    #create a workspace and run some operations on it
    ws = CreateSampleWorkspace()
    ws = CropWorkspace(ws, XMin=7828.162291, XMax=11980.906921)
    ws = Power(ws, Exponent=1.5)
    ws = RenameWorkspace(ws, OutputWorkspace="MyTestWorkspace")

    path = os.path.join(os.path.expanduser("~"), 'myscript.py')
    GeneratePythonScript(ws, Filename=path)

    with open (path, 'r') as script:
      print script.read().strip()

Output:

.. testoutput:: ExGeneratePythonScriptFile

    ######################################################################
    #Python Script Generated by GeneratePythonScript Algorithm
    ######################################################################
    CreateSampleWorkspace(OutputWorkspace='ws')
    CropWorkspace(InputWorkspace='ws', OutputWorkspace='ws', XMin=7828.1622909999996, XMax=11980.906921)
    Power(InputWorkspace='ws', OutputWorkspace='ws', Exponent=1.5)
    RenameWorkspace(InputWorkspace='ws', OutputWorkspace='MyTestWorkspace')

.. testcleanup:: ExGeneratePythonScriptFile
    
    import os
    def removeFiles(files):
      for ws in files:
        try:
          path = os.path.join(os.path.expanduser("~"), ws)
          os.remove(path)
        except:
          pass

    removeFiles(['myscript.py'])

.. categories::
