<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>CreateSampleWorkspace v1</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.1.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.1.0/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.2.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="" href="../index.html" />
    <link rel="next" title="CreateSimulationWorkspace v1" href="CreateSimulationWorkspace-v1.html" />
    <link rel="prev" title="CreateSampleShape v1" href="CreateSampleShape-v1.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>3.2</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://www.mantidproject.org/Documentation">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="createsampleworkspace-v1">
<span id="algm-createsampleworkspace"></span><span id="algm-createsampleworkspace-v1"></span><h1>CreateSampleWorkspace v1<a class="headerlink" href="#createsampleworkspace-v1" title="Permalink to this headline">¶</a></h1>
<div class="figure align-right" id="index-0">
<a class="screenshot reference internal image-reference" href="../_images/CreateSampleWorkspace-v1_dlg.png"><img alt="../_images/CreateSampleWorkspace-v1_dlg.png" class="screenshot" src="../_images/CreateSampleWorkspace-v1_dlg.png" style="width: 196px;" /></a>
<p class="caption"><strong>CreateSampleWorkspace</strong> dialog.</p>
</div>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#summary" id="id1">Summary</a></li>
<li><a class="reference internal" href="#properties" id="id2">Properties</a></li>
<li><a class="reference internal" href="#description" id="id3">Description</a></li>
<li><a class="reference internal" href="#usage" id="id4">Usage</a></li>
</ul>
</div>
<div class="section" id="summary">
<h2><a class="toc-backref" href="#id1">Summary</a><a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>Creates sample workspaces for usage examples and other situations.</p>
</div>
<div class="section" id="properties">
<h2><a class="toc-backref" href="#id2">Properties</a><a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="5%" />
<col width="11%" />
<col width="7%" />
<col width="63%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Direction</th>
<th class="head">Type</th>
<th class="head">Default</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>OutputWorkspace</td>
<td>Output</td>
<td>MatrixWorkspace</td>
<td>Mandatory</td>
<td>An output workspace.</td>
</tr>
<tr class="row-odd"><td>WorkspaceType</td>
<td>Input</td>
<td>string</td>
<td>Histogram</td>
<td>The type of workspace to create (default: Histogram)</td>
</tr>
<tr class="row-even"><td>Function</td>
<td>Input</td>
<td>string</td>
<td>One Peak</td>
<td>Preset options of the data to fill the workspace with</td>
</tr>
<tr class="row-odd"><td>UserDefinedFunction</td>
<td>Input</td>
<td>string</td>
<td>&nbsp;</td>
<td>Parameters defining the fitting function and its initial values</td>
</tr>
<tr class="row-even"><td>NumBanks</td>
<td>Input</td>
<td>number</td>
<td>2</td>
<td>The Number of banks in the instrument (default:2)</td>
</tr>
<tr class="row-odd"><td>BankPixelWidth</td>
<td>Input</td>
<td>number</td>
<td>10</td>
<td>The width &amp; height of each bank in pixels (default:10).</td>
</tr>
<tr class="row-even"><td>NumEvents</td>
<td>Input</td>
<td>number</td>
<td>1000</td>
<td>The number of events per detector, this is only used for EventWorkspaces (default:1000).</td>
</tr>
<tr class="row-odd"><td>Random</td>
<td>Input</td>
<td>boolean</td>
<td>False</td>
<td>Whether to randomise the placement of events and data (default:false).</td>
</tr>
<tr class="row-even"><td>XUnit</td>
<td>Input</td>
<td>string</td>
<td>TOF</td>
<td>The unit to assign to the XAxis (default:&#8221;TOF&#8221;)</td>
</tr>
<tr class="row-odd"><td>XMin</td>
<td>Input</td>
<td>number</td>
<td>0</td>
<td>The minimum X axis value (default:0)</td>
</tr>
<tr class="row-even"><td>XMax</td>
<td>Input</td>
<td>number</td>
<td>20000</td>
<td>The maximum X axis value (default:20000)</td>
</tr>
<tr class="row-odd"><td>BinWidth</td>
<td>Input</td>
<td>number</td>
<td>200</td>
<td>The bin width of the X axis (default:200).</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="description">
<h2><a class="toc-backref" href="#id3">Description</a><a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>Creates sample workspaces for usage examples and other situations.</p>
<p>You can select a predefined function for the data or enter your own by
selecting User Defined in the drop down.</p>
<p>The data will be the same for each spectrum, and is defined by the
function selected, and a little noise if Random is selected. All values
are taken converted to absolute values at present so negative values
will become positive. For event workspaces the intensity of the graph
will be affected by the number of events selected.</p>
<p>Here is an example of a user defined formula containing two peaks and a
background.:</p>
<div class="highlight-python"><div class="highlight"><pre>&quot;name=LinearBackground, A0=0.5;
name=Gaussian, PeakCentre=10000, Height=50, Sigma=0.5;
name=Gaussian, PeakCentre=1000, Height=80, Sigma=0.5&quot;
</pre></div>
</div>
<p>Random also affects the distribution of events within bins for event
workspaces. If Random is selected the results will differ between runs
of the algorithm and will not be comparable. If comparing the output is
important set Random to false or uncheck the box.</p>
</div>
<div class="section" id="usage">
<h2><a class="toc-backref" href="#id4">Usage</a><a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p><strong>Example - create a simple histogram workspace:</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># create histogram workspace</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">()</span>

<span class="k">print</span> <span class="s">&quot;Number of spectra: &quot;</span> <span class="o">+</span>  <span class="nb">str</span><span class="p">(</span><span class="n">ws</span><span class="o">.</span><span class="n">getNumberHistograms</span><span class="p">())</span>
<span class="k">print</span> <span class="s">&quot;Number of bins: &quot;</span> <span class="o">+</span>  <span class="nb">str</span><span class="p">(</span><span class="n">ws</span><span class="o">.</span><span class="n">blocksize</span><span class="p">())</span>
<span class="k">print</span> <span class="s">&quot;Each spectra has a level backgound of &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">ws</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span> <span class="o">+</span> \
 <span class="s">&quot; counts and a peak in the centre of &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">ws</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">50</span><span class="p">])</span> <span class="o">+</span> <span class="s">&quot; counts.&quot;</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none"><div class="highlight"><pre>Number of spectra: 200
Number of bins: 100
Each spectra has a level backgound of 0.3 counts and a peak in the centre of 10.3 counts.
</pre></div>
</div>
<p><strong>Example - create a simple event workspace:</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># create event workspace</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">(</span><span class="s">&quot;Event&quot;</span><span class="p">)</span>

<span class="k">print</span> <span class="s">&quot;Number of spectra: &quot;</span> <span class="o">+</span>  <span class="nb">str</span><span class="p">(</span><span class="n">ws</span><span class="o">.</span><span class="n">getNumberHistograms</span><span class="p">())</span>
<span class="k">print</span> <span class="s">&quot;Number of bins: &quot;</span> <span class="o">+</span>  <span class="nb">str</span><span class="p">(</span><span class="n">ws</span><span class="o">.</span><span class="n">blocksize</span><span class="p">())</span>
<span class="k">print</span> <span class="s">&quot;Number of events: &quot;</span> <span class="o">+</span>  <span class="nb">str</span><span class="p">(</span><span class="n">ws</span><span class="o">.</span><span class="n">getNumberEvents</span><span class="p">())</span>
<span class="k">print</span> <span class="s">&quot;Event Workspaces come with bins set by default to a bin width of &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">ws</span><span class="o">.</span><span class="n">readX</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">ws</span><span class="o">.</span><span class="n">readX</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>
<span class="c">#The data itensity of an EventWorkspce is scaled by the number of events used, so the values differ from the histogram above.</span>
<span class="k">print</span> <span class="s">&quot;Each spectra has a level backgound of &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">ws</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span> <span class="o">+</span> \
     <span class="s">&quot; counts and a peak in the centre of &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">ws</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">50</span><span class="p">])</span> <span class="o">+</span> <span class="s">&quot; counts.&quot;</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none"><div class="highlight"><pre>Number of spectra: 200
Number of bins: 100
Number of events: 800000
Event Workspaces come with bins set by default to a bin width of 200.0
Each spectra has a level backgound of 30.0 counts and a peak in the centre of 1030.0 counts.
</pre></div>
</div>
<p><strong>Example - Using the preset functions:</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># create a workspace with Flat Background</span>
<span class="n">wsFlat</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">(</span><span class="s">&quot;Histogram&quot;</span><span class="p">,</span><span class="s">&quot;Flat background&quot;</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&quot;Flat background has a constant value of &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">wsFlat</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span> <span class="o">+</span> <span class="s">&quot; counts.&quot;</span>

<span class="c"># create a workspace with multiple peaks</span>
<span class="n">wsMulti</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">(</span><span class="s">&quot;Histogram&quot;</span><span class="p">,</span><span class="s">&quot;Multiple Peaks&quot;</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&quot;Multiple Peaks has a level backgound of &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">wsMulti</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">0</span><span class="p">]),</span>
<span class="k">print</span> <span class="s">&quot;counts and two gaussian peaks, the largest of which is &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">wsMulti</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">60</span><span class="p">])</span> <span class="o">+</span> <span class="s">&quot; counts.&quot;</span>

<span class="c"># create a workspace with Exponential Decay</span>
<span class="n">wsExp</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">(</span><span class="s">&quot;Histogram&quot;</span><span class="p">,</span><span class="s">&quot;Exp Decay&quot;</span><span class="p">)</span>
<span class="k">print</span> <span class="p">(</span><span class="s">&quot;Exp Decay starts high and drops rapidly to </span><span class="si">%.2f</span><span class="s"> counts at 8,000 us (with the default binning).&quot;</span> <span class="o">%</span> <span class="n">wsExp</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">40</span><span class="p">])</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none"><div class="highlight"><pre>Flat background has a constant value of 1.0 counts.
Multiple Peaks has a level backgound of 0.3 counts and two gaussian peaks, the largest of which is 8.3 counts.
Exp Decay starts high and drops rapidly to 0.03 counts at 8,000 us (with the default binning).
</pre></div>
</div>
<p><strong>Example - Using the your own function:</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># create a workspace with data defined using the function string below</span>
<span class="n">myFunc</span> <span class="o">=</span> <span class="s">&quot;name=LinearBackground, A0=0.5;name=Gaussian, PeakCentre=10000, Height=50, Sigma=0.5;name=Gaussian, PeakCentre=1000, Height=80, Sigma=0.5&quot;</span>

<span class="n">ws</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">(</span><span class="s">&quot;Histogram&quot;</span><span class="p">,</span><span class="s">&quot;User Defined&quot;</span><span class="p">,</span><span class="n">myFunc</span><span class="p">)</span>

<span class="k">print</span> <span class="s">&quot;My function defined a background of &quot;</span><span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">ws</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span> <span class="o">+</span> <span class="s">&quot; counts.&quot;</span>
<span class="k">print</span> <span class="s">&quot;With a peak reaching &quot;</span><span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">ws</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">5</span><span class="p">])</span> <span class="o">+</span> <span class="s">&quot; counts at 1,000 us,&quot;</span>
<span class="k">print</span> <span class="s">&quot;and another reaching &quot;</span><span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">ws</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">50</span><span class="p">])</span> <span class="o">+</span> <span class="s">&quot; counts at 10,000 us.&quot;</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none"><div class="highlight"><pre>My function defined a background of 0.5 counts.
With a peak reaching 80.5 counts at 1,000 us,
and another reaching 50.5 counts at 10,000 us.
</pre></div>
</div>
<p><strong>Example - Setting every Option:</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="c">#Random adds a little random noise to the data function</span>
<span class="n">ws</span><span class="o">=</span><span class="n">CreateSampleWorkspace</span><span class="p">(</span><span class="n">WorkspaceType</span><span class="o">=</span><span class="s">&quot;Event&quot;</span><span class="p">,</span><span class="n">Function</span><span class="o">=</span><span class="s">&quot;One Peak&quot;</span><span class="p">,</span><span class="n">NumBanks</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span><span class="n">BankPixelWidth</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">NumEvents</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span><span class="n">Random</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="n">XUnit</span><span class="o">=</span><span class="s">&quot;tof&quot;</span><span class="p">,</span><span class="n">XMin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">XMax</span><span class="o">=</span><span class="mi">8000</span><span class="p">,</span> <span class="n">BinWidth</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>

<span class="k">print</span> <span class="s">&quot;Number of spectra: &quot;</span> <span class="o">+</span>  <span class="nb">str</span><span class="p">(</span><span class="n">ws</span><span class="o">.</span><span class="n">getNumberHistograms</span><span class="p">())</span>
<span class="k">print</span> <span class="s">&quot;Number of bins: &quot;</span> <span class="o">+</span>  <span class="nb">str</span><span class="p">(</span><span class="n">ws</span><span class="o">.</span><span class="n">blocksize</span><span class="p">())</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none"><div class="highlight"><pre>Number of spectra: 100
Number of bins: 80
</pre></div>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/Algorithms.html">Algorithms</a> | <a class="reference external" href="categories/Utility.html">Utility</a> | <a class="reference external" href="categories/Workspaces.html">Workspaces</a></p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2014, Mantid.<br/>
    </p>
  </div>
</footer>
  </body>
</html>