<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>FilterEvents v1</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.1.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.1.0/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.2.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="" href="../index.html" />
    <link rel="next" title="FilterEventsByLogValuePreNexus v2" href="FilterEventsByLogValuePreNexus-v2.html" />
    <link rel="prev" title="FilterByXValue v1" href="FilterByXValue-v1.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>3.2</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://www.mantidproject.org/Documentation">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="filterevents-v1">
<span id="algm-filterevents"></span><span id="algm-filterevents-v1"></span><h1>FilterEvents v1<a class="headerlink" href="#filterevents-v1" title="Permalink to this headline">¶</a></h1>
<div class="figure align-right" id="index-0">
<a class="screenshot reference internal image-reference" href="../_images/FilterEvents-v1_dlg.png"><img alt="../_images/FilterEvents-v1_dlg.png" class="screenshot" src="../_images/FilterEvents-v1_dlg.png" style="width: 292px;" /></a>
<p class="caption"><strong>FilterEvents</strong> dialog.</p>
</div>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#summary" id="id1">Summary</a></li>
<li><a class="reference internal" href="#properties" id="id2">Properties</a></li>
<li><a class="reference internal" href="#description" id="id3">Description</a><ul>
<li><a class="reference internal" href="#output" id="id4">Output</a></li>
<li><a class="reference internal" href="#calibration-file" id="id5">Calibration File</a></li>
<li><a class="reference internal" href="#unfiltered-events" id="id6">Unfiltered Events</a></li>
<li><a class="reference internal" href="#difference-from-filterbylogvalue" id="id7">Difference from FilterByLogValue</a></li>
<li><a class="reference internal" href="#comparing-with-other-event-filtering-algorithms" id="id8">Comparing with other event filtering algorithms</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="summary">
<h2><a class="toc-backref" href="#id1">Summary</a><a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>Filter events from an EventWorkspace to one or multiple EventWorkspaces according to a series of splitters.</p>
</div>
<div class="section" id="properties">
<h2><a class="toc-backref" href="#id2">Properties</a><a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="3%" />
<col width="7%" />
<col width="7%" />
<col width="68%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Direction</th>
<th class="head">Type</th>
<th class="head">Default</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>InputWorkspace</td>
<td>Input</td>
<td>EventWorkspace</td>
<td>Mandatory</td>
<td>An input event workspace</td>
</tr>
<tr class="row-odd"><td>SplitterWorkspace</td>
<td>Input</td>
<td>Workspace</td>
<td>Mandatory</td>
<td>An input SpilltersWorskpace for filtering</td>
</tr>
<tr class="row-even"><td>OutputWorkspaceBaseName</td>
<td>Input</td>
<td>string</td>
<td>OutputWorkspace</td>
<td>The base name to use for the output workspace</td>
</tr>
<tr class="row-odd"><td>InformationWorkspace</td>
<td>Input</td>
<td>TableWorkspace</td>
<td>&nbsp;</td>
<td>Optional output for the information of each splitter workspace index.</td>
</tr>
<tr class="row-even"><td>OutputTOFCorrectionWorkspace</td>
<td>Output</td>
<td>MatrixWorkspace</td>
<td>TOFCorrectWS</td>
<td>Name of output workspace for TOF correction factor.</td>
</tr>
<tr class="row-odd"><td>FilterByPulseTime</td>
<td>Input</td>
<td>boolean</td>
<td>False</td>
<td>Filter the event by its pulse time only for slow sample environment log.  This option can make execution of algorithm faster.  But it lowers precision.</td>
</tr>
<tr class="row-even"><td>GroupWorkspaces</td>
<td>Input</td>
<td>boolean</td>
<td>False</td>
<td>Option to group all the output workspaces.  Group name will be OutputWorkspaceBaseName.</td>
</tr>
<tr class="row-odd"><td>OutputWorkspaceIndexedFrom1</td>
<td>Input</td>
<td>boolean</td>
<td>False</td>
<td>If selected, the minimum output workspace is indexed from 1 and continuous.</td>
</tr>
<tr class="row-even"><td>CorrectionToSample</td>
<td>Input</td>
<td>string</td>
<td>None</td>
<td>Type of correction on neutron events to sample time from detector time.</td>
</tr>
<tr class="row-odd"><td>DetectorTOFCorrectionWorkspace</td>
<td>Input</td>
<td>TableWorkspace</td>
<td>&nbsp;</td>
<td>Name of table workspace containing the log time correction factor for each detector.</td>
</tr>
<tr class="row-even"><td>IncidentEnergy</td>
<td>Input</td>
<td>number</td>
<td>Optional</td>
<td>Value of incident energy (Ei) in meV in direct mode.</td>
</tr>
<tr class="row-odd"><td>SplitSampleLogs</td>
<td>Input</td>
<td>boolean</td>
<td>True</td>
<td>If selected, all sample logs will be splitted by the  event splitters.  It is not recommended for fast event log splitters.</td>
</tr>
<tr class="row-even"><td>NumberOutputWS</td>
<td>Output</td>
<td>number</td>
<td>&nbsp;</td>
<td>Number of output output workspace splitted.</td>
</tr>
<tr class="row-odd"><td>DBSpectrum</td>
<td>Input</td>
<td>number</td>
<td>Optional</td>
<td>Spectrum (workspace index) for debug purpose.</td>
</tr>
<tr class="row-even"><td>OutputWorkspaceNames</td>
<td>Output</td>
<td>str list</td>
<td>&nbsp;</td>
<td>List of output workspaces names</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="description">
<h2><a class="toc-backref" href="#id3">Description</a><a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>This algorithm filters events from an
<a class="reference external" href="http://www.mantidproject.org/EventWorkspace">EventWorkspace</a> to one or multiple
<a class="reference external" href="http://www.mantidproject.org/EventWorkspace">EventWorkspaces</a> according to an input
<a class="reference external" href="http://www.mantidproject.org/SplittersWorkspace">SplittersWorkspace</a> containing a series of
splitters (i.e., <a class="reference external" href="http://www.mantidproject.org/SplittingInterval">SplittingIntervals</a>).</p>
<div class="section" id="output">
<h3><a class="toc-backref" href="#id4">Output</a><a class="headerlink" href="#output" title="Permalink to this headline">¶</a></h3>
<p>The output will be one or multiple workspaces according to the number of
index in splitters. The output workspace name is the combination of
parameter OutputWorkspaceBaseName and the index in splitter.</p>
</div>
<div class="section" id="calibration-file">
<h3><a class="toc-backref" href="#id5">Calibration File</a><a class="headerlink" href="#calibration-file" title="Permalink to this headline">¶</a></h3>
<p>The calibration, or say correction, from the detector to sample must be
consider in fast log. Thus a calibration file is required. The math is</p>
<p><tt class="docutils literal"><span class="pre">TOF_calibrated&nbsp;=&nbsp;TOF_raw&nbsp;*&nbsp;correction(detector&nbsp;ID).</span></tt></p>
<p>The calibration is in column data format.</p>
<p>A reasonable approximation of the correction is</p>
<p><tt class="docutils literal"><span class="pre">correction(detector_ID)&nbsp;=&nbsp;L1/(L1+L2(detector_ID))</span></tt></p>
</div>
<div class="section" id="unfiltered-events">
<h3><a class="toc-backref" href="#id6">Unfiltered Events</a><a class="headerlink" href="#unfiltered-events" title="Permalink to this headline">¶</a></h3>
<p>Some events are not inside any splitters. They are put to a workspace
name ended with &#8216;_unfiltered&#8217;.</p>
<p>If input property &#8216;OutputWorkspaceIndexedFrom1&#8217; is set to True, then
this workspace shall not be outputed.</p>
</div>
<div class="section" id="difference-from-filterbylogvalue">
<h3><a class="toc-backref" href="#id7">Difference from FilterByLogValue</a><a class="headerlink" href="#difference-from-filterbylogvalue" title="Permalink to this headline">¶</a></h3>
<p>In FilterByLogValue(), EventList.splitByTime() is used.</p>
<p>In FilterEvents(), if FilterByPulse is selected true,
EventList.SplitByTime is called; otherwise, EventList.SplitByFullTime()
is called instead.</p>
<p>The difference between splitByTime and splitByFullTime is that
splitByTime filters events by pulse time, and splitByFullTime considers
both pulse time and TOF.</p>
<p>Therefore, FilterByLogValue is not suitable for fast log filtering.</p>
</div>
<div class="section" id="comparing-with-other-event-filtering-algorithms">
<h3><a class="toc-backref" href="#id8">Comparing with other event filtering algorithms</a><a class="headerlink" href="#comparing-with-other-event-filtering-algorithms" title="Permalink to this headline">¶</a></h3>
<p>Wiki page <a class="reference external" href="http://www.mantidproject.org/EventFiltering">EventFiltering</a> has a detailed
introduction on event filtering in MantidPlot.</p>
<p><strong>Categories</strong>: <a class="reference external" href="categories/Algorithms.html">Algorithms</a> | <a class="reference external" href="categories/Events.html">Events</a> | <a class="reference external" href="categories/EventFiltering.html">EventFiltering</a></p>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2014, Mantid.<br/>
    </p>
  </div>
</footer>
  </body>
</html>