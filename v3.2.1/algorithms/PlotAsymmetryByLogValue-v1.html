<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>PlotAsymmetryByLogValue v1</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.1.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.1.0/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.2.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="" href="../index.html" />
    <link rel="next" title="PlotPeakByLogValue v1" href="PlotPeakByLogValue-v1.html" />
    <link rel="prev" title="PerformIndexOperations v1" href="PerformIndexOperations-v1.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>3.2</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://www.mantidproject.org/Documentation">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="plotasymmetrybylogvalue-v1">
<span id="algm-plotasymmetrybylogvalue"></span><span id="algm-plotasymmetrybylogvalue-v1"></span><h1>PlotAsymmetryByLogValue v1<a class="headerlink" href="#plotasymmetrybylogvalue-v1" title="Permalink to this headline">¶</a></h1>
<div class="figure align-right" id="index-0">
<a class="screenshot reference internal image-reference" href="../_images/PlotAsymmetryByLogValue-v1_dlg.png"><img alt="../_images/PlotAsymmetryByLogValue-v1_dlg.png" class="screenshot" src="../_images/PlotAsymmetryByLogValue-v1_dlg.png" style="width: 220px;" /></a>
<p class="caption"><strong>PlotAsymmetryByLogValue</strong> dialog.</p>
</div>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#summary" id="id1">Summary</a></li>
<li><a class="reference internal" href="#properties" id="id2">Properties</a></li>
<li><a class="reference internal" href="#description" id="id3">Description</a></li>
<li><a class="reference internal" href="#usage" id="id4">Usage</a></li>
</ul>
</div>
<div class="section" id="summary">
<h2><a class="toc-backref" href="#id1">Summary</a><a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>Calculates asymmetry for a series of log values</p>
</div>
<div class="section" id="properties">
<h2><a class="toc-backref" href="#id2">Properties</a><a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="6%" />
<col width="3%" />
<col width="6%" />
<col width="4%" />
<col width="81%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Direction</th>
<th class="head">Type</th>
<th class="head">Default</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>FirstRun</td>
<td>Input</td>
<td>string</td>
<td>Mandatory</td>
<td>The name of the first workspace in the series.</td>
</tr>
<tr class="row-odd"><td>LastRun</td>
<td>Input</td>
<td>string</td>
<td>Mandatory</td>
<td>The name of the last workspace in the series.</td>
</tr>
<tr class="row-even"><td>OutputWorkspace</td>
<td>Output</td>
<td>MatrixWorkspace</td>
<td>Mandatory</td>
<td>The name of the output workspace containing the resulting asymmetries.</td>
</tr>
<tr class="row-odd"><td>LogValue</td>
<td>Input</td>
<td>string</td>
<td>Mandatory</td>
<td>The name of the log values which will be used as the x-axis in the output workspace.</td>
</tr>
<tr class="row-even"><td>Red</td>
<td>Input</td>
<td>number</td>
<td>1</td>
<td>The period number for the &#8216;red&#8217; data.</td>
</tr>
<tr class="row-odd"><td>Green</td>
<td>Input</td>
<td>number</td>
<td>Optional</td>
<td>The period number for the &#8216;green&#8217; data.</td>
</tr>
<tr class="row-even"><td>Type</td>
<td>Input</td>
<td>string</td>
<td>Integral</td>
<td>The calculation type: &#8216;Integral&#8217; or &#8216;Differential&#8217;.</td>
</tr>
<tr class="row-odd"><td>TimeMin</td>
<td>Input</td>
<td>number</td>
<td>Optional</td>
<td>The beginning of the time interval used in the calculations.</td>
</tr>
<tr class="row-even"><td>TimeMax</td>
<td>Input</td>
<td>number</td>
<td>Optional</td>
<td>The end of the time interval used in the calculations.</td>
</tr>
<tr class="row-odd"><td>ForwardSpectra</td>
<td>Input</td>
<td>int list</td>
<td>&nbsp;</td>
<td>The list of spectra for the forward group. If not specified the following happens. The data will be grouped according to grouping information in the data, if available. The forward will use the first of these groups.</td>
</tr>
<tr class="row-even"><td>BackwardSpectra</td>
<td>Input</td>
<td>int list</td>
<td>&nbsp;</td>
<td>The list of spectra for the backward group. If not specified the following happens. The data will be grouped according to grouping information in the data, if available. The backward will use the second of these groups.</td>
</tr>
<tr class="row-odd"><td>DeadTimeCorrType</td>
<td>Input</td>
<td>string</td>
<td>None</td>
<td>Type of Dead Time Correction to apply.</td>
</tr>
<tr class="row-even"><td>DeadTimeCorrFile</td>
<td>Input</td>
<td>string</td>
<td>&nbsp;</td>
<td>Custom file with Dead Times. Will be used only if appropriate DeadTimeCorrType is set.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="description">
<h2><a class="toc-backref" href="#id3">Description</a><a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>This algorithm calculates asymmetry for a series of Muon workspaces. The
input workspaces must be in Muon Nexus files which names follow the
rule: the filename must begin with at least 1 letter and followed by a
number. The input property FirstRun must be set to the file name with
the smalest number and the LastRun to the one with the highest number.</p>
<p>If the &#8220;Green&#8221; property is not set the output workspace will contain a
single spectrum with asymmetry values. If the &#8220;Green&#8221; is set the output
workspace will contain four spectra with asymmetries:</p>
<table border="1" class="docutils">
<colgroup>
<col width="28%" />
<col width="18%" />
<col width="54%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Workspace Index</th>
<th class="head">Spectrum</th>
<th class="head">Asymmetry</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>0</td>
<td>1</td>
<td>Difference of Red and Green</td>
</tr>
<tr class="row-odd"><td>1</td>
<td>2</td>
<td>Red only</td>
</tr>
<tr class="row-even"><td>2</td>
<td>3</td>
<td>Green only</td>
</tr>
<tr class="row-odd"><td>3</td>
<td>4</td>
<td>Sum of Red and Green</td>
</tr>
</tbody>
</table>
<p>If ForwardSpectra and BackwardSpectra are set the Muon workspaces will
be grouped according to the user input, otherwise the Autogroup option
of LoadMuonNexus will be used for grouping.</p>
</div>
<div class="section" id="usage">
<h2><a class="toc-backref" href="#id4">Usage</a><a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">To run these usage examples please first download the
<a class="reference external" href="https://sourceforge.net/projects/mantid/files/Sample%20Data/UsageData.zip/download">usage data</a>,
and add these to your path. In MantidPlot this is done using <a class="reference external" href="http://www.mantidproject.org/ManageUserDirectories">Manage User Directories</a>.</p>
</div>
<p><strong>Example - Calculating assymetry for a series of MUSR runs:</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">ws</span> <span class="o">=</span> <span class="n">PlotAsymmetryByLogValue</span><span class="p">(</span><span class="n">FirstRun</span> <span class="o">=</span> <span class="s">&#39;MUSR00015189.nxs&#39;</span><span class="p">,</span>
                             <span class="n">LastRun</span> <span class="o">=</span> <span class="s">&#39;MUSR00015191.nxs&#39;</span><span class="p">,</span>
                             <span class="n">LogValue</span> <span class="o">=</span> <span class="s">&#39;sample_magn_field&#39;</span><span class="p">,</span>
                             <span class="n">TimeMin</span> <span class="o">=</span> <span class="mf">0.55</span><span class="p">,</span>
                             <span class="n">TimeMax</span> <span class="o">=</span> <span class="mf">12.0</span><span class="p">);</span>

<span class="k">print</span> <span class="s">&quot;Y values (asymmetry):&quot;</span><span class="p">,</span> <span class="n">ws</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&quot;X values (sample magn. field):&quot;</span><span class="p">,</span> <span class="n">ws</span><span class="o">.</span><span class="n">readX</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none"><div class="highlight"><pre>Y values (asymmetry): [ 0.14500665  0.136374    0.11987909]
X values (sample magn. field): [ 1350.  1360.  1370.]
</pre></div>
</div>
<p><strong>Example - Using both Red and Green period:</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">ws</span> <span class="o">=</span> <span class="n">PlotAsymmetryByLogValue</span><span class="p">(</span><span class="n">FirstRun</span> <span class="o">=</span> <span class="s">&#39;MUSR00015189.nxs&#39;</span><span class="p">,</span>
                             <span class="n">LastRun</span> <span class="o">=</span> <span class="s">&#39;MUSR00015191.nxs&#39;</span><span class="p">,</span>
                             <span class="n">LogValue</span> <span class="o">=</span> <span class="s">&#39;sample_magn_field&#39;</span><span class="p">,</span>
                             <span class="n">TimeMin</span> <span class="o">=</span> <span class="mf">0.55</span><span class="p">,</span>
                             <span class="n">TimeMax</span> <span class="o">=</span> <span class="mf">12.0</span><span class="p">,</span>
                             <span class="n">Red</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
                             <span class="n">Green</span> <span class="o">=</span> <span class="mi">2</span><span class="p">);</span>

<span class="k">print</span> <span class="s">&quot;Y values (difference):&quot;</span><span class="p">,</span> <span class="n">ws</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&quot;Y values (red):&quot;</span><span class="p">,</span> <span class="n">ws</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&quot;Y values (green):&quot;</span><span class="p">,</span> <span class="n">ws</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&quot;Y values (sum):&quot;</span><span class="p">,</span> <span class="n">ws</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&quot;X values (sample magn. field):&quot;</span><span class="p">,</span> <span class="n">ws</span><span class="o">.</span><span class="n">readX</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none"><div class="highlight"><pre>Y values (difference): [-0.01593431 -0.02579926 -0.04337762]
Y values (red): [ 0.14500665  0.136374    0.11987909]
Y values (green): [ 0.16056898  0.16160068  0.16239291]
Y values (sum): [ 0.30557563  0.29797468  0.282272  ]
X values (sample magn. field): [ 1350.  1360.  1370.]
</pre></div>
</div>
<p><strong>Example - Using custom grouping to ignore a few detectors:</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># Skip spectra 35</span>
<span class="n">fwd_spectra</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">33</span><span class="p">,</span><span class="mi">35</span><span class="p">)</span> <span class="o">+</span> <span class="nb">range</span><span class="p">(</span><span class="mi">36</span><span class="p">,</span><span class="mi">65</span><span class="p">)</span>

<span class="c"># Skip spectra 1 and 2</span>
<span class="n">bwd_spectra</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">33</span><span class="p">)</span>

<span class="n">ws</span> <span class="o">=</span> <span class="n">PlotAsymmetryByLogValue</span><span class="p">(</span><span class="n">FirstRun</span> <span class="o">=</span> <span class="s">&#39;MUSR00015189.nxs&#39;</span><span class="p">,</span>
                             <span class="n">LastRun</span> <span class="o">=</span> <span class="s">&#39;MUSR00015191.nxs&#39;</span><span class="p">,</span>
                             <span class="n">LogValue</span> <span class="o">=</span> <span class="s">&#39;sample_magn_field&#39;</span><span class="p">,</span>
                             <span class="n">TimeMin</span> <span class="o">=</span> <span class="mf">0.55</span><span class="p">,</span>
                             <span class="n">TimeMax</span> <span class="o">=</span> <span class="mf">12.0</span><span class="p">,</span>
                             <span class="n">ForwardSpectra</span> <span class="o">=</span> <span class="n">fwd_spectra</span><span class="p">,</span>
                             <span class="n">BackwardSpectra</span> <span class="o">=</span> <span class="n">bwd_spectra</span><span class="p">)</span>

<span class="k">print</span> <span class="s">&quot;No of forward spectra used:&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">fwd_spectra</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&quot;No of backward spectra used:&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">bwd_spectra</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&quot;Y values (asymmetry):&quot;</span><span class="p">,</span> <span class="n">ws</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&quot;X values (sample magn. field):&quot;</span><span class="p">,</span> <span class="n">ws</span><span class="o">.</span><span class="n">readX</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none"><div class="highlight"><pre>No of forward spectra used: 31
No of backward spectra used: 30
Y values (asymmetry): [ 0.1628339   0.15440602  0.13743397]
X values (sample magn. field): [ 1350.  1360.  1370.]
</pre></div>
</div>
<p><strong>Example - Applying dead time correction stored in the run files:</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">ws</span> <span class="o">=</span> <span class="n">PlotAsymmetryByLogValue</span><span class="p">(</span><span class="n">FirstRun</span> <span class="o">=</span> <span class="s">&#39;MUSR00015189.nxs&#39;</span><span class="p">,</span>
                             <span class="n">LastRun</span> <span class="o">=</span> <span class="s">&#39;MUSR00015191.nxs&#39;</span><span class="p">,</span>
                             <span class="n">LogValue</span> <span class="o">=</span> <span class="s">&#39;sample_magn_field&#39;</span><span class="p">,</span>
                             <span class="n">TimeMin</span> <span class="o">=</span> <span class="mf">0.55</span><span class="p">,</span>
                             <span class="n">TimeMax</span> <span class="o">=</span> <span class="mf">12.0</span><span class="p">,</span>
                             <span class="n">DeadTimeCorrType</span> <span class="o">=</span> <span class="s">&#39;FromRunData&#39;</span><span class="p">);</span>

<span class="k">print</span> <span class="s">&quot;Y values (asymmetry):&quot;</span><span class="p">,</span> <span class="n">ws</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&quot;X values (sample magn. field):&quot;</span><span class="p">,</span> <span class="n">ws</span><span class="o">.</span><span class="n">readX</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none"><div class="highlight"><pre>Y values (asymmetry): [ 0.14542059  0.13674275  0.12017568]
X values (sample magn. field): [ 1350.  1360.  1370.]
</pre></div>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/Algorithms.html">Algorithms</a> | <a class="reference external" href="categories/Muon.html">Muon</a></p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2014, Mantid.<br/>
    </p>
  </div>
</footer>
  </body>
</html>