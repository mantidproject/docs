<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Point groups</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.1.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.1.0/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.3.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="" href="../index.html" />
    <link rel="up" title="Concepts" href="index.html" />
    <link rel="next" title="Project" href="Project.html" />
    <link rel="prev" title="Plugin" href="Plugin.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>3.3</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://www.mantidproject.org/Documentation">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="point-groups">
<span id="id1"></span><h1>Point groups<a class="headerlink" href="#point-groups" title="Permalink to this headline">¶</a></h1>
<p>This document explains how crystallographic point groups are used in Mantid.</p>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>Point groups can be used to describe the symmetry of an object or a lattice, as commonly used in the context of diffraction techniques. According to the definition given in the International Tables for Crystallography A, a &#8220;point group is a group of symmetry operations all of which leave at least one point unmoved&#8221; <a class="reference internal" href="#ita6" id="id2">[ITA6]</a>. This means that only symmetry operations without a translational component are allowed, which leaves only rotations <img class="math" src="../_images/math/2176dbf491b1640d3e13825ce5571de922e61a33.png" alt="1" style="vertical-align: -1px"/>, <img class="math" src="../_images/math/0d8246044c909eb0b47be1c0b2986ddaa884c382.png" alt="2" style="vertical-align: 0px"/>, <img class="math" src="../_images/math/f19d666b0a2c20cd557189785959ccaf88705e11.png" alt="3" style="vertical-align: 0px"/>, <img class="math" src="../_images/math/3123649e43c31e84da987307a0a53c5ae012e38b.png" alt="4" style="vertical-align: -1px"/>, <img class="math" src="../_images/math/95cbcd7e50b818e1172ae3d17b7d2185f7decfef.png" alt="6" style="vertical-align: 0px"/> and roto-inversions <img class="math" src="../_images/math/8c0c988be768599604564bb7b52de494eabbbb78.png" alt="\bar{1}" style="vertical-align: -1px"/>, <img class="math" src="../_images/math/7c39e2bceb9529638993f31f41d8bfd233dafec6.png" alt="\bar{3}" style="vertical-align: 0px"/>, <img class="math" src="../_images/math/a68cd7a90d5855113b09110194eacc087acf1340.png" alt="\bar{4}" style="vertical-align: -1px"/>, <img class="math" src="../_images/math/60ec80ce49061b650f90b088d50a7db9fd57b99e.png" alt="\bar{6}" style="vertical-align: 0px"/> and mirror planes <img class="math" src="../_images/math/47e031122c1df8bef662b93f6a2c0751959a98d1.png" alt="m" style="vertical-align: 0px"/>. In space groups, translational symmetry is present as well (for example in the form of screw axes and glide planes).</p>
<p>In three dimensions there are 32 crystallographic point groups and in 11 of these an inversion center (<img class="math" src="../_images/math/8c0c988be768599604564bb7b52de494eabbbb78.png" alt="\bar{1}" style="vertical-align: -1px"/>) is present. These so called Laue classes are important for diffraction experiments because Friedel&#8217;s law defines that diffraction patterns always show a center of symmetry if anomalous dispersion is not taken into account.</p>
<p>Through the presence of certain symmetry operations in certain directions, the Laue classes can be categorized into seven crystal systems (see table below). This information is included in the Hermann-Mauguin symbol, which describes symmetry along different directions, depending on the crystal system.</p>
<table border="1" class="docutils">
<caption>The seven crystal systems and how they relate to the 11 Laue classes.</caption>
<colgroup>
<col width="30%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Crystal system</th>
<th class="head">Laue classes</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Cubic</td>
<td><img class="math" src="../_images/math/92b0a4a4295c786fa03d16232550eadd208db0c0.png" alt="m\bar{3}" style="vertical-align: 0px"/>, <img class="math" src="../_images/math/1f39539ce22697f3496a3e6483004b8323863343.png" alt="m\bar{3}m" style="vertical-align: 0px"/></td>
</tr>
<tr class="row-odd"><td>Hexagonal</td>
<td><img class="math" src="../_images/math/0eefea0451f063afd63ee61ff72977821fcc02ec.png" alt="6/m" style="vertical-align: -5px"/>, <img class="math" src="../_images/math/6410efde0a2a7ba1d50c87926464793654230477.png" alt="6/mmm" style="vertical-align: -5px"/></td>
</tr>
<tr class="row-even"><td>Trigonal</td>
<td><img class="math" src="../_images/math/7c39e2bceb9529638993f31f41d8bfd233dafec6.png" alt="\bar{3}" style="vertical-align: 0px"/>, <img class="math" src="../_images/math/a519113a52b1912d0d03d4a9d681b5e85d300d0b.png" alt="\bar{3}m" style="vertical-align: 0px"/></td>
</tr>
<tr class="row-odd"><td>Tetragonal</td>
<td><img class="math" src="../_images/math/890182caa1d6ce02b1ad8ec12209a6b3c4775fc1.png" alt="4/m" style="vertical-align: -5px"/>, <img class="math" src="../_images/math/cc8c385305118852e8446c00baac96b69f16093e.png" alt="4/mmm" style="vertical-align: -5px"/></td>
</tr>
<tr class="row-even"><td>Orthorhombic</td>
<td><img class="math" src="../_images/math/63f81a0cb61cc54bd6293a921de83877d58d2f71.png" alt="mmm" style="vertical-align: 0px"/></td>
</tr>
<tr class="row-odd"><td>Monoclinic</td>
<td><img class="math" src="../_images/math/d43f5af17e4e5d90a34fc3e6333afa823d3ca9db.png" alt="2/m" style="vertical-align: -5px"/></td>
</tr>
<tr class="row-even"><td>Triclinic</td>
<td><img class="math" src="../_images/math/8c0c988be768599604564bb7b52de494eabbbb78.png" alt="\bar{1}" style="vertical-align: -1px"/></td>
</tr>
</tbody>
</table>
<p>As mentioned before, point groups can describe the symmetry of a lattice, including the reciprocal lattice. When working with diffraction data, which are often described in terms of reciprocal lattice vectors with their Miller indices <img class="math" src="../_images/math/3e4bbbc0403d355559ab6598743811fa10025355.png" alt="hkl" style="vertical-align: 0px"/> (since it&#8217;s a vector it can be written shortly as <img class="math" src="../_images/math/dbdc42015334741103d8ec2a152d265b37f4ec68.png" alt="\mathbf{h}" style="vertical-align: -1px"/>), this is particularly useful. Each symmetry operation <img class="math" src="../_images/math/5115832ac9ac89d7eafa10a8409b4ac7b0787902.png" alt="S_i" style="vertical-align: -3px"/> of the point group transforms a vector <img class="math" src="../_images/math/dbdc42015334741103d8ec2a152d265b37f4ec68.png" alt="\mathbf{h}" style="vertical-align: -1px"/> into a new vector <img class="math" src="../_images/math/ef4100eb0683f7a155c30a47c8a3d81ec6d9635c.png" alt="\mathbf{h}'" style="vertical-align: -1px"/>:</p>
<div class="math">
<p><img src="../_images/math/ba46668dfb6ca2b9895f5550f5e8f722dd001d24.png" alt="\mathbf{h}' = \mathbf{S}_i \cdot \mathbf{h}"/></p>
</div><p>To describe the rotational and translational components of the symmetry operation, a matrix <img class="math" src="../_images/math/970dd0899db490a768ba32ca0950e9eb9b3f2482.png" alt="M_i" style="vertical-align: -3px"/> and a vector <img class="math" src="../_images/math/0870ef23383cab5a5b3711e3dccd5729c300425c.png" alt="v_i" style="vertical-align: -3px"/> are used. In three dimensions <img class="math" src="../_images/math/dbdc42015334741103d8ec2a152d265b37f4ec68.png" alt="\mathbf{h}" style="vertical-align: -1px"/> has three elements, so <img class="math" src="../_images/math/56f1291f9e399e8f36e6fa5d7a03b665882dcd04.png" alt="\mathbf{M_i}" style="vertical-align: -3px"/> is a <img class="math" src="../_images/math/a8b7e02d6bc119776f357b9ae0988ef14ab7ba0a.png" alt="3\times3" style="vertical-align: 0px"/>-matrix and the symmetry operation is applied like this:</p>
<div class="math">
<p><img src="../_images/math/5d47e64181456b7d7f0d261493247c1755421c6f.png" alt="\mathbf{h}' = \mathbf{M}_i \cdot \mathbf{h} + \mathbf{v_i}"/></p>
</div><p>A point group is an ensemble of symmetry operations. The number of operations present in this collection is the so called order <img class="math" src="../_images/math/8c45b38d633fb6de83fc7087c4db116a5565752a.png" alt="N" style="vertical-align: 0px"/> of the corresponding point group. Applying all symmetry operations of a point group to a given vector <img class="math" src="../_images/math/dbdc42015334741103d8ec2a152d265b37f4ec68.png" alt="\mathbf{h}" style="vertical-align: -1px"/> results in <img class="math" src="../_images/math/8c45b38d633fb6de83fc7087c4db116a5565752a.png" alt="N" style="vertical-align: 0px"/> new vectors <img class="math" src="../_images/math/ef4100eb0683f7a155c30a47c8a3d81ec6d9635c.png" alt="\mathbf{h}'" style="vertical-align: -1px"/>, some of which may be identical (this depends on the symmetry and also on the vectors, e.g. if one or more index is 0). This means that the symmetry operations of a point group generate a set of <img class="math" src="../_images/math/214257429b806368b996f323efe5a371db3ef6c3.png" alt="N'" style="vertical-align: 0px"/> (where <img class="math" src="../_images/math/73ccef65134703626990fd5b633967a070afdb5d.png" alt="N' &lt; N" style="vertical-align: 0px"/>) non-identical vectors <img class="math" src="../_images/math/ef4100eb0683f7a155c30a47c8a3d81ec6d9635c.png" alt="\mathbf{h}'" style="vertical-align: -1px"/> for a given vector <img class="math" src="../_images/math/dbdc42015334741103d8ec2a152d265b37f4ec68.png" alt="\mathbf{h}" style="vertical-align: -1px"/> - these vectors are called symmetry equivalents.</p>
<p>A very common representation of symmetry operations is the Jones faithful notation, which is very concise and used throughout the International Tables. Some examples of the notation are given in the following table.</p>
<table border="1" class="docutils">
<caption>Examples for symmetry operations in Jones faithful notation.</caption>
<colgroup>
<col width="28%" />
<col width="72%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Symbol</th>
<th class="head">Symmetry operation</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">x,y,z</span></tt></td>
<td>Identity</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">-x,-y,-z</span></tt></td>
<td>Inversion</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">-x,-y,z</span></tt></td>
<td>2-fold rotation around <img class="math" src="../_images/math/4764300df3b118f2c580952e9fb04e7cd7943ba5.png" alt="z" style="vertical-align: 0px"/></td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">x,y,-z</span></tt></td>
<td>Mirror plane perpendicular to <img class="math" src="../_images/math/4764300df3b118f2c580952e9fb04e7cd7943ba5.png" alt="z" style="vertical-align: 0px"/></td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">-x,-y,z+1/2</span></tt></td>
<td><img class="math" src="../_images/math/7f2512e3e749d49a5ea7ae30936bd5559a86e828.png" alt="2_1" style="vertical-align: -4px"/> screw axis along <img class="math" src="../_images/math/4764300df3b118f2c580952e9fb04e7cd7943ba5.png" alt="z" style="vertical-align: 0px"/></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="using-symmetry-operations">
<h2>Using symmetry operations<a class="headerlink" href="#using-symmetry-operations" title="Permalink to this headline">¶</a></h2>
<p>As explained above, point groups are represented as a collection of symmetry operations, which in turn are described by a <img class="math" src="../_images/math/a8b7e02d6bc119776f357b9ae0988ef14ab7ba0a.png" alt="3\times3" style="vertical-align: 0px"/>-matrix for the rotational part and a <img class="math" src="../_images/math/2436a36921752f1049b7ed794ce602daaa5d6fb2.png" alt="3\times1" style="vertical-align: -1px"/>-vector for the translational component.</p>
<p>Using these identifiers, <tt class="docutils literal"><span class="pre">SymmetryOperation</span></tt>-objects can be created through a factory and then used to transform vectors. The following code sample shows how to do that in Python:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">mantid.geometry</span> <span class="kn">import</span> <span class="n">SymmetryOperation</span><span class="p">,</span> <span class="n">SymmetryOperationFactoryImpl</span>

<span class="n">symOp</span> <span class="o">=</span> <span class="n">SymmetryOperationFactoryImpl</span><span class="o">.</span><span class="n">Instance</span><span class="p">()</span><span class="o">.</span><span class="n">createSymOp</span><span class="p">(</span><span class="s">&quot;x,y,-z&quot;</span><span class="p">)</span>

<span class="n">hkl</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="n">hklPrime</span> <span class="o">=</span> <span class="n">symOp</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">hkl</span><span class="p">)</span>

<span class="k">print</span> <span class="s">&quot;Mirrored hkl:&quot;</span><span class="p">,</span> <span class="n">hklPrime</span>
</pre></div>
</div>
<p>The above code will print the mirrored index:</p>
<div class="highlight-none"><div class="highlight"><pre>Mirrored hkl: [1,-1,-3]
</pre></div>
</div>
<p>The corresponding code in C++ looks very similar and usage examples can be found in the code base, mainly in the implementation of <tt class="docutils literal"><span class="pre">PointGroup</span></tt>, which will be the next topic.</p>
</div>
<div class="section" id="using-point-groups">
<h2>Using point groups<a class="headerlink" href="#using-point-groups" title="Permalink to this headline">¶</a></h2>
<p>Point groups are represented in Mantid by the <tt class="docutils literal"><span class="pre">PointGroup</span></tt>-interface, which is then implemented for each actual point group. The interface consists of two parts, one for providing information about the point group and one for working with <img class="math" src="../_images/math/3e4bbbc0403d355559ab6598743811fa10025355.png" alt="hkl" style="vertical-align: 0px"/>-indices. Just as in the case of <tt class="docutils literal"><span class="pre">SymmetryOperation</span></tt>, <tt class="docutils literal"><span class="pre">PointGroup</span></tt>-objects are created using a factory, this time by supplying the short Hermann-Mauguin symbol <a class="footnote-reference" href="#f1" id="id3">[1]</a> :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">mantid.geometry</span> <span class="kn">import</span> <span class="n">PointGroup</span><span class="p">,</span> <span class="n">PointGroupFactoryImpl</span>

<span class="n">pg</span> <span class="o">=</span> <span class="n">PointGroupFactoryImpl</span><span class="o">.</span><span class="n">Instance</span><span class="p">()</span><span class="o">.</span><span class="n">createPointGroup</span><span class="p">(</span><span class="s">&quot;-1&quot;</span><span class="p">)</span>

<span class="k">print</span> <span class="s">&quot;Name:&quot;</span><span class="p">,</span> <span class="n">pg</span><span class="o">.</span><span class="n">getName</span><span class="p">()</span>
<span class="k">print</span> <span class="s">&quot;Hermann-Mauguin symbol:&quot;</span><span class="p">,</span> <span class="n">pg</span><span class="o">.</span><span class="n">getSymbol</span><span class="p">()</span>
<span class="k">print</span> <span class="s">&quot;Crystal system:&quot;</span><span class="p">,</span> <span class="n">pg</span><span class="o">.</span><span class="n">crystalSystem</span><span class="p">()</span>
</pre></div>
</div>
<p>When this code is executed, some information about the point group is printed:</p>
<div class="highlight-none"><div class="highlight"><pre>Name: -1 (Triclinic)
Hermann-Mauguin symbol: -1
Crystal system: Triclinic
</pre></div>
</div>
<p>It&#8217;s possible to query the factory about available point groups. One option returns a list of all available groups, while another possibility is to get only groups from a certain crystal system:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">mantid.geometry</span> <span class="kn">import</span> <span class="n">PointGroup</span><span class="p">,</span> <span class="n">PointGroupFactoryImpl</span>

<span class="k">print</span> <span class="s">&quot;All point groups:&quot;</span><span class="p">,</span> <span class="n">PointGroupFactoryImpl</span><span class="o">.</span><span class="n">Instance</span><span class="p">()</span><span class="o">.</span><span class="n">getAllPointGroupSymbols</span><span class="p">()</span>
<span class="k">print</span> <span class="s">&quot;Cubic point groups:&quot;</span><span class="p">,</span> <span class="n">PointGroupFactoryImpl</span><span class="o">.</span><span class="n">Instance</span><span class="p">()</span><span class="o">.</span><span class="n">getPointGroupSymbols</span><span class="p">(</span><span class="n">PointGroup</span><span class="o">.</span><span class="n">CrystalSystem</span><span class="o">.</span><span class="n">Cubic</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&quot;Tetragonal point groups:&quot;</span><span class="p">,</span> <span class="n">PointGroupFactoryImpl</span><span class="o">.</span><span class="n">Instance</span><span class="p">()</span><span class="o">.</span><span class="n">getPointGroupSymbols</span><span class="p">(</span><span class="n">PointGroup</span><span class="o">.</span><span class="n">CrystalSystem</span><span class="o">.</span><span class="n">Tetragonal</span><span class="p">)</span>
</pre></div>
</div>
<p>Which results in the following output:</p>
<div class="highlight-none"><div class="highlight"><pre>All point groups: [&#39;-1&#39;,&#39;-3&#39;,&#39;-31m&#39;,&#39;-3m1&#39;,&#39;112/m&#39;,&#39;2/m&#39;,&#39;4/m&#39;,&#39;4/mmm&#39;,&#39;6/m&#39;,&#39;6/mmm&#39;,&#39;m-3&#39;,&#39;m-3m&#39;,&#39;mmm&#39;]
Cubic point groups: [&#39;m-3&#39;,&#39;m-3m&#39;]
Tetragonal point groups: [&#39;4/m&#39;,&#39;4/mmm&#39;]
</pre></div>
</div>
<p>After having obtained a <tt class="docutils literal"><span class="pre">PointGroup</span></tt>-object, it can be used for working with reflection data, more specifically <img class="math" src="../_images/math/3e4bbbc0403d355559ab6598743811fa10025355.png" alt="hkl" style="vertical-align: 0px"/>-indices. It&#8217;s possible to check whether two reflections are equivalent in a certain point group:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">mantid.geometry</span> <span class="kn">import</span> <span class="n">PointGroup</span><span class="p">,</span> <span class="n">PointGroupFactoryImpl</span>

<span class="n">pg</span> <span class="o">=</span> <span class="n">PointGroupFactoryImpl</span><span class="o">.</span><span class="n">Instance</span><span class="p">()</span><span class="o">.</span><span class="n">createPointGroup</span><span class="p">(</span><span class="s">&quot;m-3m&quot;</span><span class="p">)</span>

<span class="n">hkl1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<span class="n">hkl2</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">]</span>
<span class="n">hkl3</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>

<span class="k">print</span> <span class="s">&quot;Are [2,0,0] and [0,0,-2] equivalent?&quot;</span><span class="p">,</span> <span class="n">pg</span><span class="o">.</span><span class="n">isEquivalent</span><span class="p">(</span><span class="n">hkl1</span><span class="p">,</span> <span class="n">hkl2</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&quot;Are [2,0,0] and [0,1,2] equivalent?&quot;</span><span class="p">,</span> <span class="n">pg</span><span class="o">.</span><span class="n">isEquivalent</span><span class="p">(</span><span class="n">hkl1</span><span class="p">,</span> <span class="n">hkl3</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-none"><div class="highlight"><pre>Are [2,0,0] and [0,0,-2] equivalent? True
Are [2,0,0] and [0,1,2] equivalent? False
</pre></div>
</div>
<p>Another common task is to find all symmetry equivalents of a reflection, for example to determine its multiplicity. <tt class="docutils literal"><span class="pre">PointGroup</span></tt> has a method for this purpose which returns the set of non-identical symmetry equivalents for a given <img class="math" src="../_images/math/3e4bbbc0403d355559ab6598743811fa10025355.png" alt="hkl" style="vertical-align: 0px"/> (including <img class="math" src="../_images/math/3e4bbbc0403d355559ab6598743811fa10025355.png" alt="hkl" style="vertical-align: 0px"/> itself):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">mantid.geometry</span> <span class="kn">import</span> <span class="n">PointGroup</span><span class="p">,</span> <span class="n">PointGroupFactoryImpl</span>

<span class="n">pg</span> <span class="o">=</span> <span class="n">PointGroupFactoryImpl</span><span class="o">.</span><span class="n">Instance</span><span class="p">()</span><span class="o">.</span><span class="n">createPointGroup</span><span class="p">(</span><span class="s">&quot;m-3m&quot;</span><span class="p">)</span>

<span class="n">hkl1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<span class="n">equivalents1</span> <span class="o">=</span> <span class="n">pg</span><span class="o">.</span><span class="n">getEquivalents</span><span class="p">(</span><span class="n">hkl1</span><span class="p">)</span>

<span class="k">print</span> <span class="s">&quot;Number of reflections equivalent to [2,0,0]:&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">equivalents1</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&quot;Equivalents:&quot;</span><span class="p">,</span> <span class="n">equivalents1</span>
<span class="k">print</span>

<span class="n">hkl2</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="n">equivalents2</span> <span class="o">=</span> <span class="n">pg</span><span class="o">.</span><span class="n">getEquivalents</span><span class="p">(</span><span class="n">hkl2</span><span class="p">)</span>

<span class="k">print</span> <span class="s">&quot;Number of reflections equivalent to [1,1,1]:&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">equivalents2</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&quot;Equivalents:&quot;</span><span class="p">,</span> <span class="n">equivalents2</span>
</pre></div>
</div>
<p>Executing this code results in the following output:</p>
<div class="highlight-none"><div class="highlight"><pre>Number of reflections equivalent to [2,0,0]: 6
Equivalents: [[2,0,0], [0,2,0], [0,0,2], [0,0,-2], [0,-2,0], [-2,0,0]]

Number of reflections equivalent to [1,1,1]: 8
Equivalents: [[1,1,1], [1,1,-1], [1,-1,1], [1,-1,-1], [-1,1,1], [-1,1,-1], [-1,-1,1], [-1,-1,-1]]
</pre></div>
</div>
<p>Sometimes, a list of reflections needs to be reduced to a set of symmetry independent reflections only. That means it should not contain any two reflections that are symmetry equivalents according to the point group symmetry. To achieve this, <tt class="docutils literal"><span class="pre">PointGroup</span></tt> offers a method that returns the same <img class="math" src="../_images/math/0a846e945ff25b869d981f7228ee901dbfa0e7a4.png" alt="hkl'" style="vertical-align: 0px"/> for all symmetry equivalents.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">mantid.geometry</span> <span class="kn">import</span> <span class="n">PointGroup</span><span class="p">,</span> <span class="n">PointGroupFactoryImpl</span>

<span class="n">pg</span> <span class="o">=</span> <span class="n">PointGroupFactoryImpl</span><span class="o">.</span><span class="n">Instance</span><span class="p">()</span><span class="o">.</span><span class="n">createPointGroup</span><span class="p">(</span><span class="s">&quot;m-3m&quot;</span><span class="p">)</span>

<span class="n">hklList</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>    <span class="c"># Equivalent to [1,0,0]</span>
           <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>               <span class="c"># Equivalent to [1,1,1]</span>
           <span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">]]</span>  <span class="c"># Equivalent to [3,1,1]</span>

<span class="n">independent</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

<span class="k">for</span> <span class="n">hkl</span> <span class="ow">in</span> <span class="n">hklList</span><span class="p">:</span>
    <span class="n">independent</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">pg</span><span class="o">.</span><span class="n">getReflectionFamily</span><span class="p">(</span><span class="n">hkl</span><span class="p">))</span> <span class="c"># getReflectionFamily returns the same hkl for all symmetry equivalents</span>

<span class="k">print</span> <span class="s">&quot;Number of independent reflections:&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">independent</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&quot;Reflections:&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="n">independent</span><span class="p">)</span>
</pre></div>
</div>
<p>This example code produces the output below upon execution:</p>
<div class="highlight-none"><div class="highlight"><pre>Number of independent reflections: 3
Reflections: [[1,1,1], [1,0,0], [3,1,1]]
</pre></div>
</div>
<p>Again, as in the case of <tt class="docutils literal"><span class="pre">SymmetryOperation</span></tt>, the usage of <tt class="docutils literal"><span class="pre">PointGroup</span></tt> and the corresponding factory is very similar in C++.</p>
<table class="docutils citation" frame="void" id="ita6" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[ITA6]</a></td><td>International Tables for Crystallography (2006). Vol. A, ch. 10.1, p. 762</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="f1" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[1]</a></td><td>In the case of the monoclinic Laue class <img class="math" src="../_images/math/d43f5af17e4e5d90a34fc3e6333afa823d3ca9db.png" alt="2/m" style="vertical-align: -5px"/> it&#8217;s a bit more complicated, because there are two conventions regarding the unique axis. According to current crystallographic standards, the <img class="math" src="../_images/math/fdcf4bd764a50e69250d8e0a9e2212d63e8ecfe0.png" alt="b" style="vertical-align: 0px"/>-axis is used, but in some cases one may find the <img class="math" src="../_images/math/5f284c9713b9515a4975ac98a8bc88f1749aa7aa.png" alt="c" style="vertical-align: 0px"/>-axis for this purpose. To resolve this, both options are offered in Mantid. When using the symbol <tt class="docutils literal"><span class="pre">2/m</span></tt>, the <img class="math" src="../_images/math/fdcf4bd764a50e69250d8e0a9e2212d63e8ecfe0.png" alt="b" style="vertical-align: 0px"/>-axis convention is used, for <img class="math" src="../_images/math/5f284c9713b9515a4975ac98a8bc88f1749aa7aa.png" alt="c" style="vertical-align: 0px"/> one has to explicitly provide the symbol as <tt class="docutils literal"><span class="pre">112/m</span></tt>.</td></tr>
</tbody>
</table>
<p><strong>Category</strong>: <a class="reference external" href="categories/Concepts.html">Concepts</a></p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2014, Mantid.<br/>
    </p>
  </div>
</footer>
  </body>
</html>