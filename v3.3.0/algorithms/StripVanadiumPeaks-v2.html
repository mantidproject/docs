<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>StripVanadiumPeaks v2</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.1.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.1.0/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.3.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="" href="../index.html" />
    <link rel="next" title="SubmitRemoteJob v1" href="SubmitRemoteJob-v1.html" />
    <link rel="prev" title="StripVanadiumPeaks v1" href="StripVanadiumPeaks-v1.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>3.3</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://www.mantidproject.org/Documentation">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="stripvanadiumpeaks-v2">
<span id="algm-stripvanadiumpeaks"></span><span id="algm-stripvanadiumpeaks-v2"></span><h1>StripVanadiumPeaks v2<a class="headerlink" href="#stripvanadiumpeaks-v2" title="Permalink to this headline">¶</a></h1>
<div class="figure align-right" id="index-0">
<a class="screenshot reference internal image-reference" href="../_images/StripVanadiumPeaks-v2_dlg.png"><img alt="../_images/StripVanadiumPeaks-v2_dlg.png" class="screenshot" src="../_images/StripVanadiumPeaks-v2_dlg.png" style="width: 261px;" /></a>
<p class="caption"><strong>StripVanadiumPeaks</strong> dialog.</p>
</div>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#summary" id="id1">Summary</a></li>
<li><a class="reference internal" href="#properties" id="id2">Properties</a></li>
<li><a class="reference internal" href="#description" id="id3">Description</a></li>
<li><a class="reference internal" href="#usage" id="id4">Usage</a></li>
</ul>
</div>
<div class="section" id="summary">
<h2><a class="toc-backref" href="#id1">Summary</a><a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>This algorithm removes peaks (at vanadium d-spacing positions by default) out of a background by linearly/quadratically interpolating over the expected peak positions.</p>
</div>
<div class="section" id="properties">
<h2><a class="toc-backref" href="#id2">Properties</a><a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="8%" />
<col width="3%" />
<col width="15%" />
<col width="4%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Direction</th>
<th class="head">Type</th>
<th class="head">Default</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>InputWorkspace</td>
<td>Input</td>
<td><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><em>MatrixWorkspace</em></a></td>
<td>Mandatory</td>
<td>Name of the input workspace. If you use the default vanadium peak positions are used, the workspace must be in units of d-spacing.</td>
</tr>
<tr class="row-odd"><td>OutputWorkspace</td>
<td>Output</td>
<td><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><em>MatrixWorkspace</em></a></td>
<td>Mandatory</td>
<td>The name of the workspace to be created as the output of the algorithm. If the input workspace is an EventWorkspace, then the output must be different (and will be made into a Workspace2D).</td>
</tr>
<tr class="row-even"><td>FWHM</td>
<td>Input</td>
<td>number</td>
<td>7</td>
<td>The number of points covered, on average, by the fwhm of a peak. Passed through to FindPeaks. Default 7.</td>
</tr>
<tr class="row-odd"><td>Tolerance</td>
<td>Input</td>
<td>number</td>
<td>4</td>
<td>A measure of the strictness desired in meeting the condition on peak candidates. Passed through to FindPeaks. Default 4.</td>
</tr>
<tr class="row-even"><td>BackgroundType</td>
<td>Input</td>
<td>string</td>
<td>Linear</td>
<td>The type of background of the histogram. Present choices include Linear and Quadratic.</td>
</tr>
<tr class="row-odd"><td>HighBackground</td>
<td>Input</td>
<td>boolean</td>
<td>True</td>
<td>Flag to indicate that the peaks are relatively weak comparing to background</td>
</tr>
<tr class="row-even"><td>PeakPositionTolerance</td>
<td>Input</td>
<td>number</td>
<td>-1</td>
<td>Tolerance on the found peaks&#8217; positions against the input peak positions. A non-positive value turns this option off.</td>
</tr>
<tr class="row-odd"><td>WorkspaceIndex</td>
<td>Input</td>
<td>number</td>
<td>Optional</td>
<td>If set, peaks will only be removed from this workspace index (otherwise from all)</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="description">
<h2><a class="toc-backref" href="#id3">Description</a><a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>A list of vanadium peak positions in d-spacing is used for the
central peak positions:
0.5044,0.5191,0.5350,0.5526,0.5936,0.6178,0.6453,0.6768,0.7134,0.7566,0.8089,0.8737,0.9571,1.0701,1.2356,1.5133,2.1401</li>
<li>StripPeaks is called by providing the list of vanadium peak
positions.</li>
<li>The vanadium peaks are fit to a function combined from Gaussian and
linear/quadratic background.</li>
</ul>
</div>
<div class="section" id="usage">
<h2><a class="toc-backref" href="#id4">Usage</a><a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">To run these usage examples please first download the
<a class="reference external" href="https://sourceforge.net/projects/mantid/files/Sample%20Data/UsageData.zip/download">usage data</a>,
and add these to your path. In MantidPlot this is done using <a class="reference external" href="http://www.mantidproject.org/ManageUserDirectories">Manage User Directories</a>.</p>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">ws</span> <span class="o">=</span> <span class="n">Load</span><span class="p">(</span><span class="s">&quot;PG3_733.nxs&quot;</span><span class="p">)</span>
<span class="n">wsOut</span> <span class="o">=</span> <span class="n">StripVanadiumPeaks</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span><span class="n">BackgroundType</span><span class="o">=</span><span class="s">&quot;Linear&quot;</span><span class="p">,</span><span class="n">WorkspaceIndex</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">i</span> <span class="o">=</span> <span class="mi">1529</span>
<span class="k">print</span> <span class="s">&quot;This peak at </span><span class="si">%.4f</span><span class="s"> Angstroms has been reduced from </span><span class="si">%.0f</span><span class="s"> to a background level of </span><span class="si">%.0f</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">wsOut</span><span class="o">.</span><span class="n">readX</span><span class="p">(</span><span class="mi">2</span><span class="p">)[</span><span class="n">i</span><span class="p">],</span><span class="n">ws</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">2</span><span class="p">)[</span><span class="n">i</span><span class="p">],</span> <span class="n">wsOut</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">2</span><span class="p">)[</span><span class="n">i</span><span class="p">])</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none"><div class="highlight"><pre>This peak at 0.8116 Angstroms has been reduced from 11569 to a background level of 10771
</pre></div>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/Algorithms.html">Algorithms</a> | <a class="reference external" href="categories/CorrectionFunctions.html">CorrectionFunctions</a> | <a class="reference external" href="categories/Optimization.html">Optimization</a> | <a class="reference external" href="categories/PeakFinding.html">PeakFinding</a> | <a class="reference external" href="categories/Diffraction.html">Diffraction</a></p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2014, Mantid.<br/>
    </p>
  </div>
</footer>
  </body>
</html>