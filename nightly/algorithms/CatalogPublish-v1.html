<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>CatalogPublish v1</title>
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '6.4.20220909.1939',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="CatalogSearch v1" href="CatalogSearch-v1.html" />
    <link rel="prev" title="CatalogMyDataSearch v1" href="CatalogMyDataSearch-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.4</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://docs.mantidproject.org/nightly/">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Algorithms</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">CatalogPublish v1</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <p><span class="math">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<div class="section" id="catalogpublish-v1">
<span id="algm-catalogpublish"></span><span id="algm-catalogpublish-v1"></span><h1>CatalogPublish v1<a class="headerlink" href="#catalogpublish-v1" title="Permalink to this headline">¶</a></h1>
<div class="figure align-right" id="id1">
<span id="index-0"></span><a class="screenshot reference internal image-reference" href="../_images/CatalogPublish-v1_dlg.png"><img alt="../_images/CatalogPublish-v1_dlg.png" class="screenshot" src="../_images/CatalogPublish-v1_dlg.png" style="width: 426px;" /></a>
<p class="caption"><span class="caption-text"><strong>CatalogPublish</strong> dialog.</span></p>
</div>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#summary" id="id2">Summary</a><ul>
<li><a class="reference internal" href="#see-also" id="id3">See Also</a></li>
</ul>
</li>
<li><a class="reference internal" href="#properties" id="id4">Properties</a></li>
<li><a class="reference internal" href="#description" id="id5">Description</a><ul>
<li><a class="reference internal" href="#parameters-note" id="id6">Parameters Note</a></li>
</ul>
</li>
<li><a class="reference internal" href="#usage" id="id7">Usage</a></li>
<li><a class="reference internal" href="#source" id="id8">Source</a></li>
</ul>
</div>
<div class="section" id="summary">
<h2><a class="toc-backref" href="#id2">Summary</a><a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>Allows the user to publish datafiles or workspaces to the information catalog.</p>
<div class="section" id="see-also">
<h3><a class="toc-backref" href="#id3">See Also</a><a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="CatalogLogin-v1.html#algm-cataloglogin"><span class="std std-ref">CatalogLogin</span></a></p>
</div>
</div>
<div class="section" id="properties">
<h2><a class="toc-backref" href="#id4">Properties</a><a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="9%" />
<col width="3%" />
<col width="14%" />
<col width="0%" />
<col width="73%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Direction</th>
<th class="head">Type</th>
<th class="head">Default</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>FileName</td>
<td>Input</td>
<td>string</td>
<td>&#160;</td>
<td>The file to publish.</td>
</tr>
<tr class="row-odd"><td>InputWorkspace</td>
<td>Input</td>
<td><a class="reference internal" href="../concepts/Workspace.html#workspace"><span class="std std-ref">Workspace</span></a></td>
<td>&#160;</td>
<td>The workspace to publish.</td>
</tr>
<tr class="row-even"><td>NameInCatalog</td>
<td>Input</td>
<td>string</td>
<td>&#160;</td>
<td>The name to give to the file being saved. The file name or workspace name is used by default. This can only contain alphanumerics, underscores or periods.</td>
</tr>
<tr class="row-odd"><td>InvestigationNumber</td>
<td>Input</td>
<td>string</td>
<td>&#160;</td>
<td>The investigation number where the published file will be saved to.</td>
</tr>
<tr class="row-even"><td>DataFileDescription</td>
<td>Input</td>
<td>string</td>
<td>&#160;</td>
<td>A short description of the datafile you are publishing to the catalog.</td>
</tr>
<tr class="row-odd"><td>Session</td>
<td>Input</td>
<td>string</td>
<td>&#160;</td>
<td>The session information of the catalog to use.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="description">
<h2><a class="toc-backref" href="#id5">Description</a><a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>This algorithm allows a user (who is logged into a catalog) to
publish datafiles or workspaces to investigations of which they
are an investigator.Datafiles and workspaces that are published
are automatically made private.
This means only investigators of that investigation can view them.</p>
<p><strong>Note:</strong> the catalog publish dialog is disabled if you are not an investigator on any investigations. This prevents attempts to publish to investigations of which you do not have access, which would result in an error.</p>
<div class="section" id="parameters-note">
<h3><a class="toc-backref" href="#id6">Parameters Note</a><a class="headerlink" href="#parameters-note" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>A file or workspace can be published, but not both at the same time.</li>
<li>When uploading a workspace, it is saved to the default save directory
as a nexus file. The history of of the workspace is generated and
saved into a Python script, which is also uploaded alongside the
datafile of the workspace.</li>
</ul>
</div>
</div>
<div class="section" id="usage">
<h2><a class="toc-backref" href="#id7">Usage</a><a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p><strong>Example - publish a datafile directly to the archives.</strong></p>
<p><strong>CAUTION:</strong> This usage example will only work if you are an investigator on the given investigation.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># To ensure the datafile is published to the correct catalog,</span>
<span class="c1"># store the session returned when logging in for use later.</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">CatalogLogin</span><span class="p">(</span><span class="n">USERNAME</span><span class="p">,</span><span class="n">PASSWORD</span><span class="p">)</span>

<span class="c1"># Publish a datafile to the archives.</span>
<span class="n">CatalogPublish</span><span class="p">(</span>
    <span class="c1"># The location of the datafile to publish to the archives.</span>
    <span class="n">FileName</span><span class="o">=</span><span class="s2">&quot;~Desktop/exampleFile.nxs&quot;</span><span class="p">,</span>
    <span class="c1"># The investigation to publish the datafile to. This could be obtained</span>
    <span class="c1"># dynamically from CatalogSearch().</span>
    <span class="n">InvestigationNumber</span> <span class="o">=</span> <span class="mi">1193002</span><span class="p">,</span>
    <span class="c1"># The description to save to the datafile in the archives.</span>
    <span class="n">DataFileDescription</span> <span class="o">=</span> <span class="s2">&quot;This datafile demonstrates the use of workflow N&quot;</span><span class="p">,</span>
    <span class="c1"># Used to ensure the file is published to the correct catalog.</span>
    <span class="c1"># This is required if you are logged into more than one catalog.</span>
    <span class="n">Session</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">getPropertyValue</span><span class="p">(</span><span class="s2">&quot;Session&quot;</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/AlgorithmIndex.html">AlgorithmIndex</a> | <a class="reference external" href="categories/DataHandling/Catalog.html">DataHandling\Catalog</a></p>
</div>
<div class="section" id="source">
<h2><a class="toc-backref" href="#id8">Source</a><a class="headerlink" href="#source" title="Permalink to this headline">¶</a></h2>
<p>C++ header: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/34d8076c38ee24128cff66d5dfa6be380c8f35dc/Framework/ICat/inc/MantidICat/CatalogPublish.h">CatalogPublish.h</a></p>
<p>C++ source: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/34d8076c38ee24128cff66d5dfa6be380c8f35dc/Framework/ICat/src/CatalogPublish.cpp">CatalogPublish.cpp</a></p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="CatalogMyDataSearch-v1.html" title="Previous Chapter: CatalogMyDataSearch v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; CatalogMyData...</span>
    </a>
  </li>
  <li>
    <a href="CatalogSearch-v1.html" title="Next Chapter: CatalogSearch v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">CatalogSearch v1 &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>