<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.47.2 (20210527.1257)
 -->
<!-- Title: TOSCABankCorrection Pages: 1 -->
<svg width="863pt" height="1083pt"
 viewBox="0.00 0.00 863.14 1083.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1079)">
<title>TOSCABankCorrection</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-1079 859.14,-1079 859.14,4 -4,4"/>
<text text-anchor="middle" x="427.57" y="-1059.8" font-family="Helvetica" font-size="14.00">TOSCABankCorrection Flowchart</text>
<!-- InputWorkspace -->
<g id="node1" class="node">
<title>InputWorkspace</title>
<ellipse fill="khaki" stroke="black" cx="74.09" cy="-1034" rx="74.19" ry="18"/>
<text text-anchor="middle" x="74.09" y="-1030.3" font-family="Helvetica" font-size="14.00">InputWorkspace</text>
</g>
<!-- CropWorkspace -->
<g id="node12" class="node">
<title>CropWorkspace</title>
<path fill="lightskyblue" stroke="black" d="M405.59,-965C405.59,-965 316.59,-965 316.59,-965 310.59,-965 304.59,-959 304.59,-953 304.59,-953 304.59,-941 304.59,-941 304.59,-935 310.59,-929 316.59,-929 316.59,-929 405.59,-929 405.59,-929 411.59,-929 417.59,-935 417.59,-941 417.59,-941 417.59,-953 417.59,-953 417.59,-959 411.59,-965 405.59,-965"/>
<text text-anchor="middle" x="361.09" y="-943.3" font-family="Helvetica" font-size="14.00">CropWorkspace</text>
</g>
<!-- InputWorkspace&#45;&gt;CropWorkspace -->
<g id="edge1" class="edge">
<title>InputWorkspace&#45;&gt;CropWorkspace</title>
<path fill="none" stroke="black" d="M119.25,-1019.63C166.36,-1005.67 240.71,-983.65 294.55,-967.71"/>
<polygon fill="black" stroke="black" points="295.76,-971 304.35,-964.81 293.77,-964.29 295.76,-971"/>
</g>
<!-- RebinToWorkspace -->
<g id="node16" class="node">
<title>RebinToWorkspace</title>
<path fill="lightskyblue" stroke="black" d="M158.09,-297C158.09,-297 48.09,-297 48.09,-297 42.09,-297 36.09,-291 36.09,-285 36.09,-285 36.09,-273 36.09,-273 36.09,-267 42.09,-261 48.09,-261 48.09,-261 158.09,-261 158.09,-261 164.09,-261 170.09,-267 170.09,-273 170.09,-273 170.09,-285 170.09,-285 170.09,-291 164.09,-297 158.09,-297"/>
<text text-anchor="middle" x="103.09" y="-275.3" font-family="Helvetica" font-size="14.00">RebinToWorkspace</text>
</g>
<!-- InputWorkspace&#45;&gt;RebinToWorkspace -->
<g id="edge19" class="edge">
<title>InputWorkspace&#45;&gt;RebinToWorkspace</title>
<path fill="none" stroke="black" d="M78.28,-1015.86C82.08,-998.78 87.09,-971.74 87.09,-948 87.09,-948 87.09,-948 87.09,-365 87.09,-345.41 91.25,-323.72 95.32,-307.15"/>
<polygon fill="black" stroke="black" points="98.81,-307.64 97.94,-297.08 92.04,-305.88 98.81,-307.64"/>
</g>
<!-- SearchRange -->
<g id="node2" class="node">
<title>SearchRange</title>
<ellipse fill="khaki" stroke="black" cx="361.09" cy="-1034" rx="64.19" ry="18"/>
<text text-anchor="middle" x="361.09" y="-1030.3" font-family="Helvetica" font-size="14.00">SearchRange</text>
</g>
<!-- SearchRange&#45;&gt;CropWorkspace -->
<g id="edge2" class="edge">
<title>SearchRange&#45;&gt;CropWorkspace</title>
<path fill="none" stroke="black" d="M361.09,-1015.8C361.09,-1004.16 361.09,-988.55 361.09,-975.24"/>
<polygon fill="black" stroke="black" points="364.59,-975.18 361.09,-965.18 357.59,-975.18 364.59,-975.18"/>
<text text-anchor="middle" x="434.59" y="-986.8" font-family="Helvetica" font-size="14.00">Defines XMin and XMax</text>
</g>
<!-- CroppedWorkspace -->
<g id="node3" class="node">
<title>CroppedWorkspace</title>
<ellipse fill="khaki" stroke="black" cx="492.09" cy="-860" rx="88.28" ry="18"/>
<text text-anchor="middle" x="492.09" y="-856.3" font-family="Helvetica" font-size="14.00">CroppedWorkspace</text>
</g>
<!-- FindPeak -->
<g id="node13" class="node">
<title>FindPeak</title>
<path fill="lightskyblue" stroke="black" d="M346.09,-791C346.09,-791 296.09,-791 296.09,-791 290.09,-791 284.09,-785 284.09,-779 284.09,-779 284.09,-767 284.09,-767 284.09,-761 290.09,-755 296.09,-755 296.09,-755 346.09,-755 346.09,-755 352.09,-755 358.09,-761 358.09,-767 358.09,-767 358.09,-779 358.09,-779 358.09,-785 352.09,-791 346.09,-791"/>
<text text-anchor="middle" x="321.09" y="-769.3" font-family="Helvetica" font-size="14.00">FindPeak</text>
</g>
<!-- CroppedWorkspace&#45;&gt;FindPeak -->
<g id="edge4" class="edge">
<title>CroppedWorkspace&#45;&gt;FindPeak</title>
<path fill="none" stroke="black" d="M459.93,-843.01C433.04,-829.65 394.44,-810.46 364.76,-795.7"/>
<polygon fill="black" stroke="black" points="365.97,-792.4 355.46,-791.08 362.86,-798.67 365.97,-792.4"/>
<text text-anchor="middle" x="494.59" y="-812.8" font-family="Helvetica" font-size="14.00">Find peak in Bank 1 and 2</text>
</g>
<!-- PeakPosition -->
<g id="node4" class="node">
<title>PeakPosition</title>
<ellipse fill="khaki" stroke="black" cx="177.09" cy="-860" rx="61.99" ry="18"/>
<text text-anchor="middle" x="177.09" y="-856.3" font-family="Helvetica" font-size="14.00">PeakPosition</text>
</g>
<!-- PeakPosition&#45;&gt;FindPeak -->
<g id="edge6" class="edge">
<title>PeakPosition&#45;&gt;FindPeak</title>
<path fill="none" stroke="black" d="M203.17,-843.61C225.55,-830.4 258.08,-811.19 283.31,-796.3"/>
<polygon fill="black" stroke="black" points="285.41,-799.13 292.24,-791.03 281.85,-793.1 285.41,-799.13"/>
</g>
<!-- ClosePeakTolerance -->
<g id="node5" class="node">
<title>ClosePeakTolerance</title>
<ellipse fill="khaki" stroke="black" cx="465.09" cy="-613" rx="90.98" ry="18"/>
<text text-anchor="middle" x="465.09" y="-609.3" font-family="Helvetica" font-size="14.00">ClosePeakTolerance</text>
</g>
<!-- Bank1_ScaleFactor -->
<g id="node9" class="node">
<title>Bank1_ScaleFactor</title>
<ellipse fill="khaki" stroke="black" cx="382.09" cy="-526" rx="87.18" ry="18"/>
<text text-anchor="middle" x="382.09" y="-522.3" font-family="Helvetica" font-size="14.00">Bank1_ScaleFactor</text>
</g>
<!-- ClosePeakTolerance&#45;&gt;Bank1_ScaleFactor -->
<g id="edge10" class="edge">
<title>ClosePeakTolerance&#45;&gt;Bank1_ScaleFactor</title>
<path fill="none" stroke="black" d="M448.7,-595.21C436.42,-582.63 419.45,-565.25 405.71,-551.18"/>
<polygon fill="black" stroke="black" points="407.95,-548.47 398.46,-543.76 402.94,-553.36 407.95,-548.47"/>
</g>
<!-- PeakFunction -->
<g id="node6" class="node">
<title>PeakFunction</title>
<ellipse fill="khaki" stroke="black" cx="321.09" cy="-860" rx="64.19" ry="18"/>
<text text-anchor="middle" x="321.09" y="-856.3" font-family="Helvetica" font-size="14.00">PeakFunction</text>
</g>
<!-- PeakFunction&#45;&gt;FindPeak -->
<g id="edge5" class="edge">
<title>PeakFunction&#45;&gt;FindPeak</title>
<path fill="none" stroke="black" d="M321.09,-841.8C321.09,-830.16 321.09,-814.55 321.09,-801.24"/>
<polygon fill="black" stroke="black" points="324.59,-801.18 321.09,-791.18 317.59,-801.18 324.59,-801.18"/>
</g>
<!-- OutputWorkspace -->
<g id="node7" class="node">
<title>OutputWorkspace</title>
<ellipse fill="khaki" stroke="black" cx="103.09" cy="-18" rx="81.49" ry="18"/>
<text text-anchor="middle" x="103.09" y="-14.3" font-family="Helvetica" font-size="14.00">OutputWorkspace</text>
</g>
<!-- TargetPeakCentre -->
<g id="node8" class="node">
<title>TargetPeakCentre</title>
<ellipse fill="khaki" stroke="black" cx="196.09" cy="-526" rx="81.49" ry="18"/>
<text text-anchor="middle" x="196.09" y="-522.3" font-family="Helvetica" font-size="14.00">TargetPeakCentre</text>
</g>
<!-- ScaleX -->
<g id="node15" class="node">
<title>ScaleX</title>
<path fill="lightskyblue" stroke="black" d="M511.59,-457C511.59,-457 476.59,-457 476.59,-457 470.59,-457 464.59,-451 464.59,-445 464.59,-445 464.59,-433 464.59,-433 464.59,-427 470.59,-421 476.59,-421 476.59,-421 511.59,-421 511.59,-421 517.59,-421 523.59,-427 523.59,-433 523.59,-433 523.59,-445 523.59,-445 523.59,-451 517.59,-457 511.59,-457"/>
<text text-anchor="middle" x="494.09" y="-435.3" font-family="Helvetica" font-size="14.00">ScaleX</text>
</g>
<!-- Bank1_ScaleFactor&#45;&gt;ScaleX -->
<g id="edge15" class="edge">
<title>Bank1_ScaleFactor&#45;&gt;ScaleX</title>
<path fill="none" stroke="black" d="M403.95,-508.41C420.92,-495.53 444.65,-477.52 463.51,-463.21"/>
<polygon fill="black" stroke="black" points="465.67,-465.96 471.52,-457.13 461.44,-460.39 465.67,-465.96"/>
</g>
<!-- Bank2_ScaleFactor -->
<g id="node10" class="node">
<title>Bank2_ScaleFactor</title>
<ellipse fill="khaki" stroke="black" cx="766.09" cy="-526" rx="87.18" ry="18"/>
<text text-anchor="middle" x="766.09" y="-522.3" font-family="Helvetica" font-size="14.00">Bank2_ScaleFactor</text>
</g>
<!-- Bank2_ScaleFactor&#45;&gt;ScaleX -->
<g id="edge16" class="edge">
<title>Bank2_ScaleFactor&#45;&gt;ScaleX</title>
<path fill="none" stroke="black" d="M765.84,-507.65C764.71,-496.66 761.34,-483.05 752.09,-475 720.36,-447.38 598.38,-441.42 534.16,-440.23"/>
<polygon fill="black" stroke="black" points="534.05,-436.72 524,-440.07 533.94,-443.72 534.05,-436.72"/>
</g>
<!-- Peaks -->
<g id="node11" class="node">
<title>Peaks</title>
<ellipse fill="khaki" stroke="black" cx="321.09" cy="-613" rx="35.19" ry="18"/>
<text text-anchor="middle" x="321.09" y="-609.3" font-family="Helvetica" font-size="14.00">Peaks</text>
</g>
<!-- Peaks&#45;&gt;TargetPeakCentre -->
<g id="edge9" class="edge">
<title>Peaks&#45;&gt;TargetPeakCentre</title>
<path fill="none" stroke="black" d="M300.73,-598.15C281.22,-584.89 251.47,-564.65 228.66,-549.15"/>
<polygon fill="black" stroke="black" points="230.54,-546.19 220.3,-543.46 226.6,-551.98 230.54,-546.19"/>
<text text-anchor="middle" x="287.09" y="-565.8" font-family="Helvetica" font-size="14.00">Output</text>
</g>
<!-- Peaks&#45;&gt;Bank1_ScaleFactor -->
<g id="edge11" class="edge">
<title>Peaks&#45;&gt;Bank1_ScaleFactor</title>
<path fill="none" stroke="black" d="M332.85,-595.61C341.69,-583.31 353.94,-566.23 364.01,-552.2"/>
<polygon fill="black" stroke="black" points="366.96,-554.09 369.95,-543.92 361.28,-550 366.96,-554.09"/>
</g>
<!-- Peaks&#45;&gt;Bank2_ScaleFactor -->
<g id="edge13" class="edge">
<title>Peaks&#45;&gt;Bank2_ScaleFactor</title>
<path fill="none" stroke="black" d="M347.33,-600.87C353.11,-598.7 359.25,-596.6 365.09,-595 497.22,-558.79 534.07,-567.16 669.09,-544 676.62,-542.71 684.47,-541.35 692.3,-539.99"/>
<polygon fill="black" stroke="black" points="692.94,-543.43 702.19,-538.27 691.74,-536.54 692.94,-543.43"/>
</g>
<!-- CropWorkspace&#45;&gt;CroppedWorkspace -->
<g id="edge3" class="edge">
<title>CropWorkspace&#45;&gt;CroppedWorkspace</title>
<path fill="none" stroke="black" d="M387.6,-928.8C408.06,-915.52 436.5,-897.07 458.55,-882.77"/>
<polygon fill="black" stroke="black" points="460.47,-885.69 466.96,-877.31 456.66,-879.82 460.47,-885.69"/>
<text text-anchor="middle" x="556.59" y="-899.8" font-family="Helvetica" font-size="14.00">Workspace containing bank 1 and 2 data</text>
</g>
<!-- SortTableWorkspace -->
<g id="node14" class="node">
<title>SortTableWorkspace</title>
<path fill="lightskyblue" stroke="black" d="M379.59,-704C379.59,-704 262.59,-704 262.59,-704 256.59,-704 250.59,-698 250.59,-692 250.59,-692 250.59,-680 250.59,-680 250.59,-674 256.59,-668 262.59,-668 262.59,-668 379.59,-668 379.59,-668 385.59,-668 391.59,-674 391.59,-680 391.59,-680 391.59,-692 391.59,-692 391.59,-698 385.59,-704 379.59,-704"/>
<text text-anchor="middle" x="321.09" y="-682.3" font-family="Helvetica" font-size="14.00">SortTableWorkspace</text>
</g>
<!-- FindPeak&#45;&gt;SortTableWorkspace -->
<g id="edge7" class="edge">
<title>FindPeak&#45;&gt;SortTableWorkspace</title>
<path fill="none" stroke="black" d="M321.09,-754.8C321.09,-743.16 321.09,-727.55 321.09,-714.24"/>
<polygon fill="black" stroke="black" points="324.59,-714.18 321.09,-704.18 317.59,-714.18 324.59,-714.18"/>
<text text-anchor="middle" x="383.09" y="-725.8" font-family="Helvetica" font-size="14.00">Sort peaks by height</text>
</g>
<!-- SortTableWorkspace&#45;&gt;Peaks -->
<g id="edge8" class="edge">
<title>SortTableWorkspace&#45;&gt;Peaks</title>
<path fill="none" stroke="black" d="M321.09,-667.81C321.09,-659.79 321.09,-650.05 321.09,-641.07"/>
<polygon fill="black" stroke="black" points="324.59,-641.03 321.09,-631.03 317.59,-641.03 324.59,-641.03"/>
</g>
<!-- ScaledWorkspace -->
<g id="node21" class="node">
<title>ScaledWorkspace</title>
<ellipse fill="lightgrey" stroke="black" cx="366.09" cy="-366" rx="81.49" ry="18"/>
<text text-anchor="middle" x="366.09" y="-362.3" font-family="Helvetica" font-size="14.00">ScaledWorkspace</text>
</g>
<!-- ScaleX&#45;&gt;ScaledWorkspace -->
<g id="edge17" class="edge">
<title>ScaleX&#45;&gt;ScaledWorkspace</title>
<path fill="none" stroke="black" d="M464.41,-421.53C446.3,-411.49 422.99,-398.56 403.61,-387.81"/>
<polygon fill="black" stroke="black" points="405.18,-384.68 394.74,-382.89 401.79,-390.8 405.18,-384.68"/>
</g>
<!-- GroupDetectors -->
<g id="node17" class="node">
<title>GroupDetectors</title>
<path fill="lightskyblue" stroke="black" d="M147.59,-210C147.59,-210 58.59,-210 58.59,-210 52.59,-210 46.59,-204 46.59,-198 46.59,-198 46.59,-186 46.59,-186 46.59,-180 52.59,-174 58.59,-174 58.59,-174 147.59,-174 147.59,-174 153.59,-174 159.59,-180 159.59,-186 159.59,-186 159.59,-198 159.59,-198 159.59,-204 153.59,-210 147.59,-210"/>
<text text-anchor="middle" x="103.09" y="-188.3" font-family="Helvetica" font-size="14.00">GroupDetectors</text>
</g>
<!-- RebinToWorkspace&#45;&gt;GroupDetectors -->
<g id="edge20" class="edge">
<title>RebinToWorkspace&#45;&gt;GroupDetectors</title>
<path fill="none" stroke="black" d="M103.09,-260.8C103.09,-249.16 103.09,-233.55 103.09,-220.24"/>
<polygon fill="black" stroke="black" points="106.59,-220.18 103.09,-210.18 99.59,-220.18 106.59,-220.18"/>
<text text-anchor="middle" x="207.09" y="-231.8" font-family="Helvetica" font-size="14.00">Sum spectra from corrected banks</text>
</g>
<!-- AppendSpectra -->
<g id="node18" class="node">
<title>AppendSpectra</title>
<path fill="lightskyblue" stroke="black" d="M146.09,-123C146.09,-123 60.09,-123 60.09,-123 54.09,-123 48.09,-117 48.09,-111 48.09,-111 48.09,-99 48.09,-99 48.09,-93 54.09,-87 60.09,-87 60.09,-87 146.09,-87 146.09,-87 152.09,-87 158.09,-93 158.09,-99 158.09,-99 158.09,-111 158.09,-111 158.09,-117 152.09,-123 146.09,-123"/>
<text text-anchor="middle" x="103.09" y="-101.3" font-family="Helvetica" font-size="14.00">AppendSpectra</text>
</g>
<!-- GroupDetectors&#45;&gt;AppendSpectra -->
<g id="edge21" class="edge">
<title>GroupDetectors&#45;&gt;AppendSpectra</title>
<path fill="none" stroke="black" d="M103.09,-173.8C103.09,-162.16 103.09,-146.55 103.09,-133.24"/>
<polygon fill="black" stroke="black" points="106.59,-133.18 103.09,-123.18 99.59,-133.18 106.59,-133.18"/>
<text text-anchor="middle" x="166.59" y="-144.8" font-family="Helvetica" font-size="14.00">Behaviour = Average</text>
</g>
<!-- AppendSpectra&#45;&gt;OutputWorkspace -->
<g id="edge22" class="edge">
<title>AppendSpectra&#45;&gt;OutputWorkspace</title>
<path fill="none" stroke="black" d="M103.09,-86.8C103.09,-75.16 103.09,-59.55 103.09,-46.24"/>
<polygon fill="black" stroke="black" points="106.59,-46.18 103.09,-36.18 99.59,-46.18 106.59,-46.18"/>
<text text-anchor="middle" x="124.09" y="-57.8" font-family="Helvetica" font-size="14.00">Output</text>
</g>
<!-- ClosePeaktolerance -->
<g id="node19" class="node">
<title>ClosePeaktolerance</title>
<ellipse fill="lightgrey" stroke="black" cx="766.09" cy="-613" rx="89.08" ry="18"/>
<text text-anchor="middle" x="766.09" y="-609.3" font-family="Helvetica" font-size="14.00">ClosePeaktolerance</text>
</g>
<!-- ClosePeaktolerance&#45;&gt;Bank2_ScaleFactor -->
<g id="edge12" class="edge">
<title>ClosePeaktolerance&#45;&gt;Bank2_ScaleFactor</title>
<path fill="none" stroke="black" d="M766.09,-594.8C766.09,-583.16 766.09,-567.55 766.09,-554.24"/>
<polygon fill="black" stroke="black" points="769.59,-554.18 766.09,-544.18 762.59,-554.18 769.59,-554.18"/>
</g>
<!-- Croppedworkspace -->
<g id="node20" class="node">
<title>Croppedworkspace</title>
<ellipse fill="lightgrey" stroke="black" cx="574.09" cy="-526" rx="86.38" ry="18"/>
<text text-anchor="middle" x="574.09" y="-522.3" font-family="Helvetica" font-size="14.00">Croppedworkspace</text>
</g>
<!-- Croppedworkspace&#45;&gt;ScaleX -->
<g id="edge14" class="edge">
<title>Croppedworkspace&#45;&gt;ScaleX</title>
<path fill="none" stroke="black" d="M556.24,-508.18C550.37,-502.5 543.86,-496.06 538.09,-490 530.56,-482.08 522.59,-473.2 515.54,-465.14"/>
<polygon fill="black" stroke="black" points="518.04,-462.68 508.84,-457.42 512.75,-467.27 518.04,-462.68"/>
<text text-anchor="middle" x="645.09" y="-478.8" font-family="Helvetica" font-size="14.00">Workspace containing bank spectra</text>
</g>
<!-- ScaledWorkspace&#45;&gt;RebinToWorkspace -->
<g id="edge18" class="edge">
<title>ScaledWorkspace&#45;&gt;RebinToWorkspace</title>
<path fill="none" stroke="black" d="M322.07,-350.77C279.25,-336.93 213.78,-315.77 165.58,-300.2"/>
<polygon fill="black" stroke="black" points="166.47,-296.8 155.88,-297.06 164.32,-303.47 166.47,-296.8"/>
<text text-anchor="middle" x="340.09" y="-318.8" font-family="Helvetica" font-size="14.00">Rebin to original input binning</text>
</g>
</g>
</svg>
