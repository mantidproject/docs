<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 3.0.0 (20220315.2325)
 -->
<!-- Title: TOSCABankCorrection Pages: 1 -->
<svg width="946pt" height="1083pt"
 viewBox="0.00 0.00 946.28 1083.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1079)">
<title>TOSCABankCorrection</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-1079 942.28,-1079 942.28,4 -4,4"/>
<text text-anchor="middle" x="469.14" y="-1059.8" font-family="Helvetica,sans-Serif" font-size="14.00">TOSCABankCorrection Flowchart</text>
<!-- InputWorkspace -->
<g id="node1" class="node">
<title>InputWorkspace</title>
<ellipse fill="khaki" stroke="black" cx="84.49" cy="-1034" rx="84.49" ry="18"/>
<text text-anchor="middle" x="84.49" y="-1030.3" font-family="Helvetica,sans-Serif" font-size="14.00">InputWorkspace</text>
</g>
<!-- CropWorkspace -->
<g id="node12" class="node">
<title>CropWorkspace</title>
<path fill="lightskyblue" stroke="black" d="M446.99,-965C446.99,-965 345.99,-965 345.99,-965 339.99,-965 333.99,-959 333.99,-953 333.99,-953 333.99,-941 333.99,-941 333.99,-935 339.99,-929 345.99,-929 345.99,-929 446.99,-929 446.99,-929 452.99,-929 458.99,-935 458.99,-941 458.99,-941 458.99,-953 458.99,-953 458.99,-959 452.99,-965 446.99,-965"/>
<text text-anchor="middle" x="396.49" y="-943.3" font-family="Helvetica,sans-Serif" font-size="14.00">CropWorkspace</text>
</g>
<!-- InputWorkspace&#45;&gt;CropWorkspace -->
<g id="edge1" class="edge">
<title>InputWorkspace&#45;&gt;CropWorkspace</title>
<path fill="none" stroke="black" d="M134.27,-1019.44C185.5,-1005.48 265.84,-983.59 324.1,-967.72"/>
<polygon fill="black" stroke="black" points="325.25,-971.04 333.98,-965.03 323.41,-964.28 325.25,-971.04"/>
</g>
<!-- RebinToWorkspace -->
<g id="node16" class="node">
<title>RebinToWorkspace</title>
<path fill="lightskyblue" stroke="black" d="M175.49,-297C175.49,-297 51.49,-297 51.49,-297 45.49,-297 39.49,-291 39.49,-285 39.49,-285 39.49,-273 39.49,-273 39.49,-267 45.49,-261 51.49,-261 51.49,-261 175.49,-261 175.49,-261 181.49,-261 187.49,-267 187.49,-273 187.49,-273 187.49,-285 187.49,-285 187.49,-291 181.49,-297 175.49,-297"/>
<text text-anchor="middle" x="113.49" y="-275.3" font-family="Helvetica,sans-Serif" font-size="14.00">RebinToWorkspace</text>
</g>
<!-- InputWorkspace&#45;&gt;RebinToWorkspace -->
<g id="edge19" class="edge">
<title>InputWorkspace&#45;&gt;RebinToWorkspace</title>
<path fill="none" stroke="black" d="M88.68,-1015.86C92.48,-998.78 97.49,-971.74 97.49,-948 97.49,-948 97.49,-948 97.49,-365 97.49,-345.41 101.65,-323.72 105.72,-307.15"/>
<polygon fill="black" stroke="black" points="109.21,-307.64 108.34,-297.08 102.44,-305.88 109.21,-307.64"/>
</g>
<!-- SearchRange -->
<g id="node2" class="node">
<title>SearchRange</title>
<ellipse fill="khaki" stroke="black" cx="396.49" cy="-1034" rx="70.39" ry="18"/>
<text text-anchor="middle" x="396.49" y="-1030.3" font-family="Helvetica,sans-Serif" font-size="14.00">SearchRange</text>
</g>
<!-- SearchRange&#45;&gt;CropWorkspace -->
<g id="edge2" class="edge">
<title>SearchRange&#45;&gt;CropWorkspace</title>
<path fill="none" stroke="black" d="M396.49,-1015.8C396.49,-1004.16 396.49,-988.55 396.49,-975.24"/>
<polygon fill="black" stroke="black" points="399.99,-975.18 396.49,-965.18 392.99,-975.18 399.99,-975.18"/>
<text text-anchor="middle" x="479.49" y="-986.8" font-family="Helvetica,sans-Serif" font-size="14.00">Defines XMin and XMax</text>
</g>
<!-- CroppedWorkspace -->
<g id="node3" class="node">
<title>CroppedWorkspace</title>
<ellipse fill="khaki" stroke="black" cx="536.49" cy="-860" rx="98.58" ry="18"/>
<text text-anchor="middle" x="536.49" y="-856.3" font-family="Helvetica,sans-Serif" font-size="14.00">CroppedWorkspace</text>
</g>
<!-- FindPeak -->
<g id="node13" class="node">
<title>FindPeak</title>
<path fill="lightskyblue" stroke="black" d="M376.99,-791C376.99,-791 321.99,-791 321.99,-791 315.99,-791 309.99,-785 309.99,-779 309.99,-779 309.99,-767 309.99,-767 309.99,-761 315.99,-755 321.99,-755 321.99,-755 376.99,-755 376.99,-755 382.99,-755 388.99,-761 388.99,-767 388.99,-767 388.99,-779 388.99,-779 388.99,-785 382.99,-791 376.99,-791"/>
<text text-anchor="middle" x="349.49" y="-769.3" font-family="Helvetica,sans-Serif" font-size="14.00">FindPeak</text>
</g>
<!-- CroppedWorkspace&#45;&gt;FindPeak -->
<g id="edge4" class="edge">
<title>CroppedWorkspace&#45;&gt;FindPeak</title>
<path fill="none" stroke="black" d="M501.32,-843.01C471.66,-829.53 428.97,-810.12 396.4,-795.32"/>
<polygon fill="black" stroke="black" points="397.63,-792.03 387.07,-791.08 394.73,-798.41 397.63,-792.03"/>
<text text-anchor="middle" x="544.99" y="-812.8" font-family="Helvetica,sans-Serif" font-size="14.00">Find peak in Bank 1 and 2</text>
</g>
<!-- PeakPosition -->
<g id="node4" class="node">
<title>PeakPosition</title>
<ellipse fill="khaki" stroke="black" cx="193.49" cy="-860" rx="67.69" ry="18"/>
<text text-anchor="middle" x="193.49" y="-856.3" font-family="Helvetica,sans-Serif" font-size="14.00">PeakPosition</text>
</g>
<!-- PeakPosition&#45;&gt;FindPeak -->
<g id="edge6" class="edge">
<title>PeakPosition&#45;&gt;FindPeak</title>
<path fill="none" stroke="black" d="M221.74,-843.61C246.2,-830.28 281.85,-810.86 309.28,-795.91"/>
<polygon fill="black" stroke="black" points="311.13,-798.89 318.24,-791.03 307.78,-792.74 311.13,-798.89"/>
</g>
<!-- ClosePeakTolerance -->
<g id="node5" class="node">
<title>ClosePeakTolerance</title>
<ellipse fill="khaki" stroke="black" cx="503.49" cy="-613" rx="99.38" ry="18"/>
<text text-anchor="middle" x="503.49" y="-609.3" font-family="Helvetica,sans-Serif" font-size="14.00">ClosePeakTolerance</text>
</g>
<!-- Bank1_ScaleFactor -->
<g id="node9" class="node">
<title>Bank1_ScaleFactor</title>
<ellipse fill="khaki" stroke="black" cx="419.49" cy="-526" rx="95.58" ry="18"/>
<text text-anchor="middle" x="419.49" y="-522.3" font-family="Helvetica,sans-Serif" font-size="14.00">Bank1_ScaleFactor</text>
</g>
<!-- ClosePeakTolerance&#45;&gt;Bank1_ScaleFactor -->
<g id="edge10" class="edge">
<title>ClosePeakTolerance&#45;&gt;Bank1_ScaleFactor</title>
<path fill="none" stroke="black" d="M486.9,-595.21C474.47,-582.63 457.29,-565.25 443.39,-551.18"/>
<polygon fill="black" stroke="black" points="445.57,-548.41 436.05,-543.76 440.59,-553.33 445.57,-548.41"/>
</g>
<!-- PeakFunction -->
<g id="node6" class="node">
<title>PeakFunction</title>
<ellipse fill="khaki" stroke="black" cx="349.49" cy="-860" rx="70.39" ry="18"/>
<text text-anchor="middle" x="349.49" y="-856.3" font-family="Helvetica,sans-Serif" font-size="14.00">PeakFunction</text>
</g>
<!-- PeakFunction&#45;&gt;FindPeak -->
<g id="edge5" class="edge">
<title>PeakFunction&#45;&gt;FindPeak</title>
<path fill="none" stroke="black" d="M349.49,-841.8C349.49,-830.16 349.49,-814.55 349.49,-801.24"/>
<polygon fill="black" stroke="black" points="352.99,-801.18 349.49,-791.18 345.99,-801.18 352.99,-801.18"/>
</g>
<!-- OutputWorkspace -->
<g id="node7" class="node">
<title>OutputWorkspace</title>
<ellipse fill="khaki" stroke="black" cx="113.49" cy="-18" rx="92.08" ry="18"/>
<text text-anchor="middle" x="113.49" y="-14.3" font-family="Helvetica,sans-Serif" font-size="14.00">OutputWorkspace</text>
</g>
<!-- TargetPeakCentre -->
<g id="node8" class="node">
<title>TargetPeakCentre</title>
<ellipse fill="khaki" stroke="black" cx="215.49" cy="-526" rx="90.18" ry="18"/>
<text text-anchor="middle" x="215.49" y="-522.3" font-family="Helvetica,sans-Serif" font-size="14.00">TargetPeakCentre</text>
</g>
<!-- ScaleX -->
<g id="node15" class="node">
<title>ScaleX</title>
<path fill="lightskyblue" stroke="black" d="M548.99,-457C548.99,-457 509.99,-457 509.99,-457 503.99,-457 497.99,-451 497.99,-445 497.99,-445 497.99,-433 497.99,-433 497.99,-427 503.99,-421 509.99,-421 509.99,-421 548.99,-421 548.99,-421 554.99,-421 560.99,-427 560.99,-433 560.99,-433 560.99,-445 560.99,-445 560.99,-451 554.99,-457 548.99,-457"/>
<text text-anchor="middle" x="529.49" y="-435.3" font-family="Helvetica,sans-Serif" font-size="14.00">ScaleX</text>
</g>
<!-- Bank1_ScaleFactor&#45;&gt;ScaleX -->
<g id="edge15" class="edge">
<title>Bank1_ScaleFactor&#45;&gt;ScaleX</title>
<path fill="none" stroke="black" d="M440.96,-508.41C457.55,-495.59 480.73,-477.68 499.2,-463.4"/>
<polygon fill="black" stroke="black" points="501.55,-466.02 507.32,-457.13 497.27,-460.48 501.55,-466.02"/>
</g>
<!-- Bank2_ScaleFactor -->
<g id="node10" class="node">
<title>Bank2_ScaleFactor</title>
<ellipse fill="khaki" stroke="black" cx="839.49" cy="-526" rx="95.58" ry="18"/>
<text text-anchor="middle" x="839.49" y="-522.3" font-family="Helvetica,sans-Serif" font-size="14.00">Bank2_ScaleFactor</text>
</g>
<!-- Bank2_ScaleFactor&#45;&gt;ScaleX -->
<g id="edge16" class="edge">
<title>Bank2_ScaleFactor&#45;&gt;ScaleX</title>
<path fill="none" stroke="black" d="M839.29,-507.59C838.18,-496.58 834.81,-482.97 825.49,-475 788.2,-443.1 643.68,-439.25 571.3,-439.41"/>
<polygon fill="black" stroke="black" points="571.15,-435.91 561.16,-439.45 571.18,-442.91 571.15,-435.91"/>
</g>
<!-- Peaks -->
<g id="node11" class="node">
<title>Peaks</title>
<ellipse fill="khaki" stroke="black" cx="349.49" cy="-613" rx="37.09" ry="18"/>
<text text-anchor="middle" x="349.49" y="-609.3" font-family="Helvetica,sans-Serif" font-size="14.00">Peaks</text>
</g>
<!-- Peaks&#45;&gt;TargetPeakCentre -->
<g id="edge9" class="edge">
<title>Peaks&#45;&gt;TargetPeakCentre</title>
<path fill="none" stroke="black" d="M327.96,-598.34C307.01,-585.05 274.82,-564.64 250.24,-549.04"/>
<polygon fill="black" stroke="black" points="251.88,-545.94 241.57,-543.54 248.13,-551.85 251.88,-545.94"/>
<text text-anchor="middle" x="315.99" y="-565.8" font-family="Helvetica,sans-Serif" font-size="14.00">Output</text>
</g>
<!-- Peaks&#45;&gt;Bank1_ScaleFactor -->
<g id="edge11" class="edge">
<title>Peaks&#45;&gt;Bank1_ScaleFactor</title>
<path fill="none" stroke="black" d="M362.66,-596.01C372.86,-583.63 387.17,-566.25 398.88,-552.03"/>
<polygon fill="black" stroke="black" points="401.77,-554.03 405.42,-544.08 396.37,-549.58 401.77,-554.03"/>
</g>
<!-- Peaks&#45;&gt;Bank2_ScaleFactor -->
<g id="edge13" class="edge">
<title>Peaks&#45;&gt;Bank2_ScaleFactor</title>
<path fill="none" stroke="black" d="M376.93,-600.82C382.97,-598.65 389.39,-596.57 395.49,-595 543.49,-556.98 584.53,-567.66 735.49,-544 743.46,-542.75 751.77,-541.43 760.06,-540.09"/>
<polygon fill="black" stroke="black" points="760.83,-543.52 770.14,-538.47 759.71,-536.61 760.83,-543.52"/>
</g>
<!-- CropWorkspace&#45;&gt;CroppedWorkspace -->
<g id="edge3" class="edge">
<title>CropWorkspace&#45;&gt;CroppedWorkspace</title>
<path fill="none" stroke="black" d="M424.82,-928.8C446.64,-915.55 476.96,-897.14 500.5,-882.85"/>
<polygon fill="black" stroke="black" points="502.42,-885.78 509.16,-877.6 498.79,-879.8 502.42,-885.78"/>
<text text-anchor="middle" x="617.49" y="-899.8" font-family="Helvetica,sans-Serif" font-size="14.00">Workspace containing bank 1 and 2 data</text>
</g>
<!-- SortTableWorkspace -->
<g id="node14" class="node">
<title>SortTableWorkspace</title>
<path fill="lightskyblue" stroke="black" d="M416.49,-704C416.49,-704 282.49,-704 282.49,-704 276.49,-704 270.49,-698 270.49,-692 270.49,-692 270.49,-680 270.49,-680 270.49,-674 276.49,-668 282.49,-668 282.49,-668 416.49,-668 416.49,-668 422.49,-668 428.49,-674 428.49,-680 428.49,-680 428.49,-692 428.49,-692 428.49,-698 422.49,-704 416.49,-704"/>
<text text-anchor="middle" x="349.49" y="-682.3" font-family="Helvetica,sans-Serif" font-size="14.00">SortTableWorkspace</text>
</g>
<!-- FindPeak&#45;&gt;SortTableWorkspace -->
<g id="edge7" class="edge">
<title>FindPeak&#45;&gt;SortTableWorkspace</title>
<path fill="none" stroke="black" d="M349.49,-754.8C349.49,-743.16 349.49,-727.55 349.49,-714.24"/>
<polygon fill="black" stroke="black" points="352.99,-714.18 349.49,-704.18 345.99,-714.18 352.99,-714.18"/>
<text text-anchor="middle" x="421.99" y="-725.8" font-family="Helvetica,sans-Serif" font-size="14.00">Sort peaks by height</text>
</g>
<!-- SortTableWorkspace&#45;&gt;Peaks -->
<g id="edge8" class="edge">
<title>SortTableWorkspace&#45;&gt;Peaks</title>
<path fill="none" stroke="black" d="M349.49,-667.81C349.49,-659.79 349.49,-650.05 349.49,-641.07"/>
<polygon fill="black" stroke="black" points="352.99,-641.03 349.49,-631.03 345.99,-641.03 352.99,-641.03"/>
</g>
<!-- ScaledWorkspace -->
<g id="node21" class="node">
<title>ScaledWorkspace</title>
<ellipse fill="lightgrey" stroke="black" cx="394.49" cy="-366" rx="90.18" ry="18"/>
<text text-anchor="middle" x="394.49" y="-362.3" font-family="Helvetica,sans-Serif" font-size="14.00">ScaledWorkspace</text>
</g>
<!-- ScaleX&#45;&gt;ScaledWorkspace -->
<g id="edge17" class="edge">
<title>ScaleX&#45;&gt;ScaledWorkspace</title>
<path fill="none" stroke="black" d="M497.84,-421.35C478.78,-411.33 454.35,-398.48 434.03,-387.79"/>
<polygon fill="black" stroke="black" points="435.5,-384.61 425.02,-383.05 432.24,-390.81 435.5,-384.61"/>
</g>
<!-- GroupDetectors -->
<g id="node17" class="node">
<title>GroupDetectors</title>
<path fill="lightskyblue" stroke="black" d="M163.99,-210C163.99,-210 62.99,-210 62.99,-210 56.99,-210 50.99,-204 50.99,-198 50.99,-198 50.99,-186 50.99,-186 50.99,-180 56.99,-174 62.99,-174 62.99,-174 163.99,-174 163.99,-174 169.99,-174 175.99,-180 175.99,-186 175.99,-186 175.99,-198 175.99,-198 175.99,-204 169.99,-210 163.99,-210"/>
<text text-anchor="middle" x="113.49" y="-188.3" font-family="Helvetica,sans-Serif" font-size="14.00">GroupDetectors</text>
</g>
<!-- RebinToWorkspace&#45;&gt;GroupDetectors -->
<g id="edge20" class="edge">
<title>RebinToWorkspace&#45;&gt;GroupDetectors</title>
<path fill="none" stroke="black" d="M113.49,-260.8C113.49,-249.16 113.49,-233.55 113.49,-220.24"/>
<polygon fill="black" stroke="black" points="116.99,-220.18 113.49,-210.18 109.99,-220.18 116.99,-220.18"/>
<text text-anchor="middle" x="233.99" y="-231.8" font-family="Helvetica,sans-Serif" font-size="14.00">Sum spectra from corrected banks</text>
</g>
<!-- AppendSpectra -->
<g id="node18" class="node">
<title>AppendSpectra</title>
<path fill="lightskyblue" stroke="black" d="M163.49,-123C163.49,-123 63.49,-123 63.49,-123 57.49,-123 51.49,-117 51.49,-111 51.49,-111 51.49,-99 51.49,-99 51.49,-93 57.49,-87 63.49,-87 63.49,-87 163.49,-87 163.49,-87 169.49,-87 175.49,-93 175.49,-99 175.49,-99 175.49,-111 175.49,-111 175.49,-117 169.49,-123 163.49,-123"/>
<text text-anchor="middle" x="113.49" y="-101.3" font-family="Helvetica,sans-Serif" font-size="14.00">AppendSpectra</text>
</g>
<!-- GroupDetectors&#45;&gt;AppendSpectra -->
<g id="edge21" class="edge">
<title>GroupDetectors&#45;&gt;AppendSpectra</title>
<path fill="none" stroke="black" d="M113.49,-173.8C113.49,-162.16 113.49,-146.55 113.49,-133.24"/>
<polygon fill="black" stroke="black" points="116.99,-133.18 113.49,-123.18 109.99,-133.18 116.99,-133.18"/>
<text text-anchor="middle" x="187.99" y="-144.8" font-family="Helvetica,sans-Serif" font-size="14.00">Behaviour = Average</text>
</g>
<!-- AppendSpectra&#45;&gt;OutputWorkspace -->
<g id="edge22" class="edge">
<title>AppendSpectra&#45;&gt;OutputWorkspace</title>
<path fill="none" stroke="black" d="M113.49,-86.8C113.49,-75.16 113.49,-59.55 113.49,-46.24"/>
<polygon fill="black" stroke="black" points="116.99,-46.18 113.49,-36.18 109.99,-46.18 116.99,-46.18"/>
<text text-anchor="middle" x="137.99" y="-57.8" font-family="Helvetica,sans-Serif" font-size="14.00">Output</text>
</g>
<!-- ClosePeaktolerance -->
<g id="node19" class="node">
<title>ClosePeaktolerance</title>
<ellipse fill="lightgrey" stroke="black" cx="839.49" cy="-613" rx="98.58" ry="18"/>
<text text-anchor="middle" x="839.49" y="-609.3" font-family="Helvetica,sans-Serif" font-size="14.00">ClosePeaktolerance</text>
</g>
<!-- ClosePeaktolerance&#45;&gt;Bank2_ScaleFactor -->
<g id="edge12" class="edge">
<title>ClosePeaktolerance&#45;&gt;Bank2_ScaleFactor</title>
<path fill="none" stroke="black" d="M839.49,-594.8C839.49,-583.16 839.49,-567.55 839.49,-554.24"/>
<polygon fill="black" stroke="black" points="842.99,-554.18 839.49,-544.18 835.99,-554.18 842.99,-554.18"/>
</g>
<!-- Croppedworkspace -->
<g id="node20" class="node">
<title>Croppedworkspace</title>
<ellipse fill="lightgrey" stroke="black" cx="629.49" cy="-526" rx="96.68" ry="18"/>
<text text-anchor="middle" x="629.49" y="-522.3" font-family="Helvetica,sans-Serif" font-size="14.00">Croppedworkspace</text>
</g>
<!-- Croppedworkspace&#45;&gt;ScaleX -->
<g id="edge14" class="edge">
<title>Croppedworkspace&#45;&gt;ScaleX</title>
<path fill="none" stroke="black" d="M601.35,-508.65C592.73,-503.15 583.43,-496.7 575.49,-490 566.61,-482.5 557.76,-473.37 550.22,-464.98"/>
<polygon fill="black" stroke="black" points="552.66,-462.45 543.44,-457.23 547.39,-467.06 552.66,-462.45"/>
<text text-anchor="middle" x="700.49" y="-478.8" font-family="Helvetica,sans-Serif" font-size="14.00">Workspace containing bank spectra</text>
</g>
<!-- ScaledWorkspace&#45;&gt;RebinToWorkspace -->
<g id="edge18" class="edge">
<title>ScaledWorkspace&#45;&gt;RebinToWorkspace</title>
<path fill="none" stroke="black" d="M346.82,-350.58C300.93,-336.7 231.11,-315.58 179.8,-300.06"/>
<polygon fill="black" stroke="black" points="180.71,-296.68 170.12,-297.13 178.68,-303.38 180.71,-296.68"/>
<text text-anchor="middle" x="377.49" y="-318.8" font-family="Helvetica,sans-Serif" font-size="14.00">Rebin to original input binning</text>
</g>
</g>
</svg>
