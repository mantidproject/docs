<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 3.0.0 (20220315.2325)
 -->
<!-- Title: ReflectometryILLPreprocess Pages: 1 -->
<svg width="532pt" height="979pt"
 viewBox="0.00 0.00 531.60 979.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 975)">
<title>ReflectometryILLPreprocess</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-975 527.6,-975 527.6,4 -4,4"/>
<text text-anchor="middle" x="261.8" y="-955.8" font-family="Helvetica,sans-Serif" font-size="14.00">Reflected Beam Preprocessing</text>
<!-- run -->
<g id="node1" class="node">
<title>run</title>
<ellipse fill="khaki" stroke="black" cx="28.6" cy="-857" rx="28.7" ry="18"/>
<text text-anchor="middle" x="28.6" y="-853.3" font-family="Helvetica,sans-Serif" font-size="14.00">Run</text>
</g>
<!-- load -->
<g id="node10" class="node">
<title>load</title>
<path fill="lightskyblue" stroke="black" d="M253.1,-802C253.1,-802 156.1,-802 156.1,-802 150.1,-802 144.1,-796 144.1,-790 144.1,-790 144.1,-778 144.1,-778 144.1,-772 150.1,-766 156.1,-766 156.1,-766 253.1,-766 253.1,-766 259.1,-766 265.1,-772 265.1,-778 265.1,-778 265.1,-790 265.1,-790 265.1,-796 259.1,-802 253.1,-802"/>
<text text-anchor="middle" x="204.6" y="-780.3" font-family="Helvetica,sans-Serif" font-size="14.00">LoadAndMerge</text>
</g>
<!-- run&#45;&gt;load -->
<g id="edge7" class="edge">
<title>run&#45;&gt;load</title>
<path fill="none" stroke="black" d="M50.81,-845.53C55.66,-843.32 60.78,-841.04 65.6,-839 92.87,-827.45 123.52,-815.44 149.09,-805.69"/>
<polygon fill="black" stroke="black" points="150.51,-808.89 158.62,-802.07 148.03,-802.35 150.51,-808.89"/>
</g>
<!-- output -->
<g id="node2" class="node">
<title>output</title>
<ellipse fill="khaki" stroke="black" cx="319.6" cy="-18" rx="92.08" ry="18"/>
<text text-anchor="middle" x="319.6" y="-14.3" font-family="Helvetica,sans-Serif" font-size="14.00">OutputWorkspace</text>
</g>
<!-- waterReference -->
<g id="node3" class="node">
<title>waterReference</title>
<ellipse fill="khaki" stroke="black" cx="372.6" cy="-711" rx="87.18" ry="18"/>
<text text-anchor="middle" x="372.6" y="-707.3" font-family="Helvetica,sans-Serif" font-size="14.00">WaterWorkspace</text>
</g>
<!-- waterNorm -->
<g id="node11" class="node">
<title>waterNorm</title>
<path fill="lightskyblue" stroke="black" d="M339.1,-642C339.1,-642 238.1,-642 238.1,-642 232.1,-642 226.1,-636 226.1,-630 226.1,-630 226.1,-616 226.1,-616 226.1,-610 232.1,-604 238.1,-604 238.1,-604 339.1,-604 339.1,-604 345.1,-604 351.1,-610 351.1,-616 351.1,-616 351.1,-630 351.1,-630 351.1,-636 345.1,-642 339.1,-642"/>
<text text-anchor="middle" x="288.6" y="-626.8" font-family="Helvetica,sans-Serif" font-size="14.00">Divide by</text>
<text text-anchor="middle" x="288.6" y="-611.8" font-family="Helvetica,sans-Serif" font-size="14.00">water reference</text>
</g>
<!-- waterReference&#45;&gt;waterNorm -->
<g id="edge10" class="edge">
<title>waterReference&#45;&gt;waterNorm</title>
<path fill="none" stroke="black" d="M356,-693.01C343.9,-680.62 327.29,-663.61 313.59,-649.58"/>
<polygon fill="black" stroke="black" points="315.81,-646.85 306.32,-642.14 310.8,-651.74 315.81,-646.85"/>
<text text-anchor="middle" x="357.6" y="-663.8" font-family="Helvetica,sans-Serif" font-size="14.00">Rebin</text>
</g>
<!-- uan -->
<g id="node4" class="node">
<title>uan</title>
<ellipse fill="khaki" stroke="black" cx="132.6" cy="-857" rx="57.69" ry="18"/>
<text text-anchor="middle" x="132.6" y="-853.3" font-family="Helvetica,sans-Serif" font-size="14.00">UserAngle</text>
</g>
<!-- uan&#45;&gt;load -->
<g id="edge4" class="edge">
<title>uan&#45;&gt;load</title>
<path fill="none" stroke="black" d="M149.3,-839.53C158.3,-830.65 169.59,-819.52 179.62,-809.63"/>
<polygon fill="black" stroke="black" points="182.32,-811.88 186.98,-802.37 177.41,-806.9 182.32,-811.88"/>
</g>
<!-- san -->
<g id="node5" class="node">
<title>san</title>
<ellipse fill="khaki" stroke="black" cx="278.6" cy="-857" rx="70.39" ry="18"/>
<text text-anchor="middle" x="278.6" y="-853.3" font-family="Helvetica,sans-Serif" font-size="14.00">SampleAngle</text>
</g>
<!-- san&#45;&gt;load -->
<g id="edge5" class="edge">
<title>san&#45;&gt;load</title>
<path fill="none" stroke="black" d="M261.43,-839.53C252.02,-830.5 240.17,-819.13 229.74,-809.12"/>
<polygon fill="black" stroke="black" points="232.08,-806.52 222.44,-802.12 227.23,-811.57 232.08,-806.52"/>
</g>
<!-- dan -->
<g id="node6" class="node">
<title>dan</title>
<ellipse fill="khaki" stroke="black" cx="442.6" cy="-857" rx="75.29" ry="18"/>
<text text-anchor="middle" x="442.6" y="-853.3" font-family="Helvetica,sans-Serif" font-size="14.00">DetectorAngle</text>
</g>
<!-- dan&#45;&gt;load -->
<g id="edge6" class="edge">
<title>dan&#45;&gt;load</title>
<path fill="none" stroke="black" d="M397.55,-842.56C361.95,-831.94 311.7,-816.95 271.41,-804.93"/>
<polygon fill="black" stroke="black" points="272.25,-801.53 261.66,-802.02 270.25,-808.24 272.25,-801.53"/>
</g>
<!-- toWavelength -->
<g id="node7" class="node">
<title>toWavelength</title>
<path fill="lightskyblue" stroke="black" d="M377.6,-257C377.6,-257 261.6,-257 261.6,-257 255.6,-257 249.6,-251 249.6,-245 249.6,-245 249.6,-231 249.6,-231 249.6,-225 255.6,-219 261.6,-219 261.6,-219 377.6,-219 377.6,-219 383.6,-219 389.6,-225 389.6,-231 389.6,-231 389.6,-245 389.6,-245 389.6,-251 383.6,-257 377.6,-257"/>
<text text-anchor="middle" x="319.6" y="-241.8" font-family="Helvetica,sans-Serif" font-size="14.00">Convert from TOF</text>
<text text-anchor="middle" x="319.6" y="-226.8" font-family="Helvetica,sans-Serif" font-size="14.00"> to wavelength</text>
</g>
<!-- correctGravity -->
<g id="node17" class="node">
<title>correctGravity</title>
<polygon fill="limegreen" stroke="black" points="319.6,-182 179.67,-164 319.6,-146 459.52,-164 319.6,-182"/>
<text text-anchor="middle" x="319.6" y="-160.3" font-family="Helvetica,sans-Serif" font-size="14.00">Correct for gravity?</text>
</g>
<!-- toWavelength&#45;&gt;correctGravity -->
<g id="edge17" class="edge">
<title>toWavelength&#45;&gt;correctGravity</title>
<path fill="none" stroke="black" d="M319.6,-218.83C319.6,-210.89 319.6,-201.41 319.6,-192.63"/>
<polygon fill="black" stroke="black" points="323.1,-192.42 319.6,-182.42 316.1,-192.42 323.1,-192.42"/>
</g>
<!-- extractMonitors -->
<g id="node8" class="node">
<title>extractMonitors</title>
<path fill="lightskyblue" stroke="black" d="M255.6,-729C255.6,-729 153.6,-729 153.6,-729 147.6,-729 141.6,-723 141.6,-717 141.6,-717 141.6,-705 141.6,-705 141.6,-699 147.6,-693 153.6,-693 153.6,-693 255.6,-693 255.6,-693 261.6,-693 267.6,-699 267.6,-705 267.6,-705 267.6,-717 267.6,-717 267.6,-723 261.6,-729 255.6,-729"/>
<text text-anchor="middle" x="204.6" y="-707.3" font-family="Helvetica,sans-Serif" font-size="14.00">ExtractMonitors</text>
</g>
<!-- extractMonitors&#45;&gt;waterNorm -->
<g id="edge9" class="edge">
<title>extractMonitors&#45;&gt;waterNorm</title>
<path fill="none" stroke="black" d="M221.6,-692.6C233.65,-680.26 250.02,-663.49 263.57,-649.63"/>
<polygon fill="black" stroke="black" points="266.27,-651.87 270.75,-642.27 261.26,-646.98 266.27,-651.87"/>
</g>
<!-- fluxNorm -->
<g id="node9" class="node">
<title>fluxNorm</title>
<path fill="lightskyblue" stroke="black" d="M382.1,-405C382.1,-405 257.1,-405 257.1,-405 251.1,-405 245.1,-399 245.1,-393 245.1,-393 245.1,-379 245.1,-379 245.1,-373 251.1,-367 257.1,-367 257.1,-367 382.1,-367 382.1,-367 388.1,-367 394.1,-373 394.1,-379 394.1,-379 394.1,-393 394.1,-393 394.1,-399 388.1,-405 382.1,-405"/>
<text text-anchor="middle" x="319.6" y="-389.8" font-family="Helvetica,sans-Serif" font-size="14.00">Divide by duration/</text>
<text text-anchor="middle" x="319.6" y="-374.8" font-family="Helvetica,sans-Serif" font-size="14.00">monitor counts</text>
</g>
<!-- subtractBkg -->
<g id="node13" class="node">
<title>subtractBkg</title>
<path fill="lightskyblue" stroke="black" d="M389.1,-330C389.1,-330 250.1,-330 250.1,-330 244.1,-330 238.1,-324 238.1,-318 238.1,-318 238.1,-306 238.1,-306 238.1,-300 244.1,-294 250.1,-294 250.1,-294 389.1,-294 389.1,-294 395.1,-294 401.1,-300 401.1,-306 401.1,-306 401.1,-318 401.1,-318 401.1,-324 395.1,-330 389.1,-330"/>
<text text-anchor="middle" x="319.6" y="-308.3" font-family="Helvetica,sans-Serif" font-size="14.00">Subtract background</text>
</g>
<!-- fluxNorm&#45;&gt;subtractBkg -->
<g id="edge15" class="edge">
<title>fluxNorm&#45;&gt;subtractBkg</title>
<path fill="none" stroke="black" d="M319.6,-366.83C319.6,-358.89 319.6,-349.41 319.6,-340.63"/>
<polygon fill="black" stroke="black" points="323.1,-340.42 319.6,-330.42 316.1,-340.42 323.1,-340.42"/>
</g>
<!-- load&#45;&gt;extractMonitors -->
<g id="edge8" class="edge">
<title>load&#45;&gt;extractMonitors</title>
<path fill="none" stroke="black" d="M204.6,-765.81C204.6,-757.79 204.6,-748.05 204.6,-739.07"/>
<polygon fill="black" stroke="black" points="208.1,-739.03 204.6,-729.03 201.1,-739.03 208.1,-739.03"/>
</g>
<!-- isSlitNorm -->
<g id="node15" class="node">
<title>isSlitNorm</title>
<polygon fill="limegreen" stroke="black" points="288.6,-567 158.06,-549 288.6,-531 419.14,-549 288.6,-567"/>
<text text-anchor="middle" x="288.6" y="-545.3" font-family="Helvetica,sans-Serif" font-size="14.00">SlitNormalisation?</text>
</g>
<!-- waterNorm&#45;&gt;isSlitNorm -->
<g id="edge11" class="edge">
<title>waterNorm&#45;&gt;isSlitNorm</title>
<path fill="none" stroke="black" d="M288.6,-603.83C288.6,-595.89 288.6,-586.41 288.6,-577.63"/>
<polygon fill="black" stroke="black" points="292.1,-577.42 288.6,-567.42 285.1,-577.42 292.1,-577.42"/>
</g>
<!-- slitNorm -->
<g id="node12" class="node">
<title>slitNorm</title>
<path fill="lightskyblue" stroke="black" d="M291.6,-480C291.6,-480 183.6,-480 183.6,-480 177.6,-480 171.6,-474 171.6,-468 171.6,-468 171.6,-454 171.6,-454 171.6,-448 177.6,-442 183.6,-442 183.6,-442 291.6,-442 291.6,-442 297.6,-442 303.6,-448 303.6,-454 303.6,-454 303.6,-468 303.6,-468 303.6,-474 297.6,-480 291.6,-480"/>
<text text-anchor="middle" x="237.6" y="-464.8" font-family="Helvetica,sans-Serif" font-size="14.00">Divide by</text>
<text text-anchor="middle" x="237.6" y="-449.8" font-family="Helvetica,sans-Serif" font-size="14.00">slit opening area</text>
</g>
<!-- slitNorm&#45;&gt;fluxNorm -->
<g id="edge14" class="edge">
<title>slitNorm&#45;&gt;fluxNorm</title>
<path fill="none" stroke="black" d="M257.87,-441.96C268.02,-432.92 280.47,-421.83 291.53,-411.99"/>
<polygon fill="black" stroke="black" points="294.13,-414.35 299.28,-405.09 289.48,-409.13 294.13,-414.35"/>
</g>
<!-- subtractBkg&#45;&gt;toWavelength -->
<g id="edge16" class="edge">
<title>subtractBkg&#45;&gt;toWavelength</title>
<path fill="none" stroke="black" d="M319.6,-293.94C319.6,-285.99 319.6,-276.31 319.6,-267.31"/>
<polygon fill="black" stroke="black" points="323.1,-267.2 319.6,-257.2 316.1,-267.2 323.1,-267.2"/>
</g>
<!-- gravityCorrection -->
<g id="node14" class="node">
<title>gravityCorrection</title>
<path fill="lightskyblue" stroke="black" d="M511.6,-109C511.6,-109 347.6,-109 347.6,-109 341.6,-109 335.6,-103 335.6,-97 335.6,-97 335.6,-85 335.6,-85 335.6,-79 341.6,-73 347.6,-73 347.6,-73 511.6,-73 511.6,-73 517.6,-73 523.6,-79 523.6,-85 523.6,-85 523.6,-97 523.6,-97 523.6,-103 517.6,-109 511.6,-109"/>
<text text-anchor="middle" x="429.6" y="-87.3" font-family="Helvetica,sans-Serif" font-size="14.00">Gravity correction step 1</text>
</g>
<!-- gravityCorrection&#45;&gt;output -->
<g id="edge20" class="edge">
<title>gravityCorrection&#45;&gt;output</title>
<path fill="none" stroke="black" d="M403.25,-72.99C388.34,-63.37 369.54,-51.23 353.53,-40.9"/>
<polygon fill="black" stroke="black" points="355.27,-37.86 344.97,-35.38 351.48,-43.74 355.27,-37.86"/>
</g>
<!-- isSlitNorm&#45;&gt;fluxNorm -->
<g id="edge13" class="edge">
<title>isSlitNorm&#45;&gt;fluxNorm</title>
<path fill="none" stroke="black" d="M328.37,-536.32C339.43,-531.04 350.17,-523.54 356.6,-513 375.58,-481.87 356.41,-440.47 339.34,-413.77"/>
<polygon fill="black" stroke="black" points="342.16,-411.68 333.69,-405.31 336.34,-415.57 342.16,-411.68"/>
<text text-anchor="middle" x="441.1" y="-457.3" font-family="Helvetica,sans-Serif" font-size="14.00">Slit Normalisation OFF</text>
</g>
<!-- isSlitNorm&#45;&gt;slitNorm -->
<g id="edge12" class="edge">
<title>isSlitNorm&#45;&gt;slitNorm</title>
<path fill="none" stroke="black" d="M240.14,-537.47C227.43,-532.27 215.17,-524.52 207.6,-513 202.4,-505.1 204.82,-496.29 210.05,-488.24"/>
<polygon fill="black" stroke="black" points="212.93,-490.24 216.31,-480.2 207.41,-485.94 212.93,-490.24"/>
<text text-anchor="middle" x="282.1" y="-501.8" font-family="Helvetica,sans-Serif" font-size="14.00">Slit Normalisation ON</text>
</g>
<!-- angleOption -->
<g id="node16" class="node">
<title>angleOption</title>
<polygon fill="limegreen" stroke="black" points="278.6,-948 183.75,-930 278.6,-912 373.44,-930 278.6,-948"/>
<text text-anchor="middle" x="278.6" y="-926.3" font-family="Helvetica,sans-Serif" font-size="14.00">AngleOption</text>
</g>
<!-- angleOption&#45;&gt;uan -->
<g id="edge1" class="edge">
<title>angleOption&#45;&gt;uan</title>
<path fill="none" stroke="black" d="M253.17,-916.63C230.68,-905.7 197.54,-889.58 171.68,-877.01"/>
<polygon fill="black" stroke="black" points="173.05,-873.78 162.52,-872.55 169.98,-880.07 173.05,-873.78"/>
</g>
<!-- angleOption&#45;&gt;san -->
<g id="edge2" class="edge">
<title>angleOption&#45;&gt;san</title>
<path fill="none" stroke="black" d="M278.6,-911.81C278.6,-903.79 278.6,-894.05 278.6,-885.07"/>
<polygon fill="black" stroke="black" points="282.1,-885.03 278.6,-875.03 275.1,-885.03 282.1,-885.03"/>
</g>
<!-- angleOption&#45;&gt;dan -->
<g id="edge3" class="edge">
<title>angleOption&#45;&gt;dan</title>
<path fill="none" stroke="black" d="M306.05,-917.12C331.31,-906.18 369.21,-889.77 398.67,-877.02"/>
<polygon fill="black" stroke="black" points="400.13,-880.2 407.92,-873.01 397.35,-873.77 400.13,-880.2"/>
</g>
<!-- correctGravity&#45;&gt;output -->
<g id="edge18" class="edge">
<title>correctGravity&#45;&gt;output</title>
<path fill="none" stroke="black" d="M319.6,-145.92C319.6,-121.34 319.6,-75.75 319.6,-46.43"/>
<polygon fill="black" stroke="black" points="323.1,-46.06 319.6,-36.06 316.1,-46.06 323.1,-46.06"/>
</g>
<!-- correctGravity&#45;&gt;gravityCorrection -->
<g id="edge19" class="edge">
<title>correctGravity&#45;&gt;gravityCorrection</title>
<path fill="none" stroke="black" d="M341.59,-148.8C356.65,-139.08 376.94,-125.99 394.25,-114.82"/>
<polygon fill="black" stroke="black" points="396.48,-117.54 402.98,-109.18 392.68,-111.66 396.48,-117.54"/>
</g>
</g>
</svg>
