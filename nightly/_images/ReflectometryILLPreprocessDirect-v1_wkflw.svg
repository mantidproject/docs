<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.47.2 (20210527.1257)
 -->
<!-- Title: ReflectometryILLPreprocess Pages: 1 -->
<svg width="375pt" height="906pt"
 viewBox="0.00 0.00 374.50 906.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 902)">
<title>ReflectometryILLPreprocess</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-902 370.5,-902 370.5,4 -4,4"/>
<text text-anchor="middle" x="183.25" y="-882.8" font-family="Helvetica" font-size="14.00">Direct Beam Preprocessing</text>
<!-- run -->
<g id="node1" class="node">
<title>run</title>
<ellipse fill="khaki" stroke="black" cx="55.5" cy="-857" rx="27" ry="18"/>
<text text-anchor="middle" x="55.5" y="-853.3" font-family="Helvetica" font-size="14.00">Run</text>
</g>
<!-- load -->
<g id="node7" class="node">
<title>load</title>
<path fill="lightskyblue" stroke="black" d="M98.5,-802C98.5,-802 12.5,-802 12.5,-802 6.5,-802 0.5,-796 0.5,-790 0.5,-790 0.5,-778 0.5,-778 0.5,-772 6.5,-766 12.5,-766 12.5,-766 98.5,-766 98.5,-766 104.5,-766 110.5,-772 110.5,-778 110.5,-778 110.5,-790 110.5,-790 110.5,-796 104.5,-802 98.5,-802"/>
<text text-anchor="middle" x="55.5" y="-780.3" font-family="Helvetica" font-size="14.00">LoadAndMerge</text>
</g>
<!-- run&#45;&gt;load -->
<g id="edge1" class="edge">
<title>run&#45;&gt;load</title>
<path fill="none" stroke="black" d="M55.5,-838.81C55.5,-830.79 55.5,-821.05 55.5,-812.07"/>
<polygon fill="black" stroke="black" points="59,-812.03 55.5,-802.03 52,-812.03 59,-812.03"/>
</g>
<!-- output -->
<g id="node2" class="node">
<title>output</title>
<ellipse fill="khaki" stroke="black" cx="186.5" cy="-18" rx="81.49" ry="18"/>
<text text-anchor="middle" x="186.5" y="-14.3" font-family="Helvetica" font-size="14.00">OutputWorkspace</text>
</g>
<!-- waterReference -->
<g id="node3" class="node">
<title>waterReference</title>
<ellipse fill="khaki" stroke="black" cx="206.5" cy="-711" rx="77.99" ry="18"/>
<text text-anchor="middle" x="206.5" y="-707.3" font-family="Helvetica" font-size="14.00">WaterWorkspace</text>
</g>
<!-- waterNorm -->
<g id="node8" class="node">
<title>waterNorm</title>
<path fill="lightskyblue" stroke="black" d="M203.5,-642C203.5,-642 117.5,-642 117.5,-642 111.5,-642 105.5,-636 105.5,-630 105.5,-630 105.5,-616 105.5,-616 105.5,-610 111.5,-604 117.5,-604 117.5,-604 203.5,-604 203.5,-604 209.5,-604 215.5,-610 215.5,-616 215.5,-616 215.5,-630 215.5,-630 215.5,-636 209.5,-642 203.5,-642"/>
<text text-anchor="middle" x="160.5" y="-626.8" font-family="Helvetica" font-size="14.00">Divide by</text>
<text text-anchor="middle" x="160.5" y="-611.8" font-family="Helvetica" font-size="14.00">water reference</text>
</g>
<!-- waterReference&#45;&gt;waterNorm -->
<g id="edge4" class="edge">
<title>waterReference&#45;&gt;waterNorm</title>
<path fill="none" stroke="black" d="M197.41,-693.01C191.03,-681.08 182.36,-664.87 175.02,-651.15"/>
<polygon fill="black" stroke="black" points="178.01,-649.31 170.2,-642.14 171.83,-652.61 178.01,-649.31"/>
<text text-anchor="middle" x="205.5" y="-663.8" font-family="Helvetica" font-size="14.00">Rebin</text>
</g>
<!-- toWavelength -->
<g id="node4" class="node">
<title>toWavelength</title>
<path fill="lightskyblue" stroke="black" d="M238,-257C238,-257 135,-257 135,-257 129,-257 123,-251 123,-245 123,-245 123,-231 123,-231 123,-225 129,-219 135,-219 135,-219 238,-219 238,-219 244,-219 250,-225 250,-231 250,-231 250,-245 250,-245 250,-251 244,-257 238,-257"/>
<text text-anchor="middle" x="186.5" y="-241.8" font-family="Helvetica" font-size="14.00">Convert from TOF</text>
<text text-anchor="middle" x="186.5" y="-226.8" font-family="Helvetica" font-size="14.00"> to wavelength</text>
</g>
<!-- correctGravity -->
<g id="node13" class="node">
<title>correctGravity</title>
<polygon fill="limegreen" stroke="black" points="186.5,-182 66.18,-164 186.5,-146 306.82,-164 186.5,-182"/>
<text text-anchor="middle" x="186.5" y="-160.3" font-family="Helvetica" font-size="14.00">Correct for gravity?</text>
</g>
<!-- toWavelength&#45;&gt;correctGravity -->
<g id="edge11" class="edge">
<title>toWavelength&#45;&gt;correctGravity</title>
<path fill="none" stroke="black" d="M186.5,-218.83C186.5,-210.89 186.5,-201.41 186.5,-192.63"/>
<polygon fill="black" stroke="black" points="190,-192.42 186.5,-182.42 183,-192.42 190,-192.42"/>
</g>
<!-- extractMonitors -->
<g id="node5" class="node">
<title>extractMonitors</title>
<path fill="lightskyblue" stroke="black" d="M99,-729C99,-729 12,-729 12,-729 6,-729 0,-723 0,-717 0,-717 0,-705 0,-705 0,-699 6,-693 12,-693 12,-693 99,-693 99,-693 105,-693 111,-699 111,-705 111,-705 111,-717 111,-717 111,-723 105,-729 99,-729"/>
<text text-anchor="middle" x="55.5" y="-707.3" font-family="Helvetica" font-size="14.00">ExtractMonitors</text>
</g>
<!-- extractMonitors&#45;&gt;waterNorm -->
<g id="edge3" class="edge">
<title>extractMonitors&#45;&gt;waterNorm</title>
<path fill="none" stroke="black" d="M76.5,-692.8C91.93,-680.17 113.12,-662.81 130.35,-648.69"/>
<polygon fill="black" stroke="black" points="132.94,-651.1 138.45,-642.06 128.5,-645.68 132.94,-651.1"/>
</g>
<!-- fluxNorm -->
<g id="node6" class="node">
<title>fluxNorm</title>
<path fill="lightskyblue" stroke="black" d="M238.5,-405C238.5,-405 134.5,-405 134.5,-405 128.5,-405 122.5,-399 122.5,-393 122.5,-393 122.5,-379 122.5,-379 122.5,-373 128.5,-367 134.5,-367 134.5,-367 238.5,-367 238.5,-367 244.5,-367 250.5,-373 250.5,-379 250.5,-379 250.5,-393 250.5,-393 250.5,-399 244.5,-405 238.5,-405"/>
<text text-anchor="middle" x="186.5" y="-389.8" font-family="Helvetica" font-size="14.00">Divide by duration/</text>
<text text-anchor="middle" x="186.5" y="-374.8" font-family="Helvetica" font-size="14.00">monitor counts</text>
</g>
<!-- subtractBkg -->
<g id="node10" class="node">
<title>subtractBkg</title>
<path fill="lightskyblue" stroke="black" d="M245,-330C245,-330 128,-330 128,-330 122,-330 116,-324 116,-318 116,-318 116,-306 116,-306 116,-300 122,-294 128,-294 128,-294 245,-294 245,-294 251,-294 257,-300 257,-306 257,-306 257,-318 257,-318 257,-324 251,-330 245,-330"/>
<text text-anchor="middle" x="186.5" y="-308.3" font-family="Helvetica" font-size="14.00">Subtract background</text>
</g>
<!-- fluxNorm&#45;&gt;subtractBkg -->
<g id="edge9" class="edge">
<title>fluxNorm&#45;&gt;subtractBkg</title>
<path fill="none" stroke="black" d="M186.5,-366.83C186.5,-358.89 186.5,-349.41 186.5,-340.63"/>
<polygon fill="black" stroke="black" points="190,-340.42 186.5,-330.42 183,-340.42 190,-340.42"/>
</g>
<!-- load&#45;&gt;extractMonitors -->
<g id="edge2" class="edge">
<title>load&#45;&gt;extractMonitors</title>
<path fill="none" stroke="black" d="M55.5,-765.81C55.5,-757.79 55.5,-748.05 55.5,-739.07"/>
<polygon fill="black" stroke="black" points="59,-739.03 55.5,-729.03 52,-739.03 59,-739.03"/>
</g>
<!-- isSlitNorm -->
<g id="node12" class="node">
<title>isSlitNorm</title>
<polygon fill="limegreen" stroke="black" points="160.5,-567 44.87,-549 160.5,-531 276.13,-549 160.5,-567"/>
<text text-anchor="middle" x="160.5" y="-545.3" font-family="Helvetica" font-size="14.00">SlitNormalisation?</text>
</g>
<!-- waterNorm&#45;&gt;isSlitNorm -->
<g id="edge5" class="edge">
<title>waterNorm&#45;&gt;isSlitNorm</title>
<path fill="none" stroke="black" d="M160.5,-603.83C160.5,-595.89 160.5,-586.41 160.5,-577.63"/>
<polygon fill="black" stroke="black" points="164,-577.42 160.5,-567.42 157,-577.42 164,-577.42"/>
</g>
<!-- slitNorm -->
<g id="node9" class="node">
<title>slitNorm</title>
<path fill="lightskyblue" stroke="black" d="M159.5,-480C159.5,-480 67.5,-480 67.5,-480 61.5,-480 55.5,-474 55.5,-468 55.5,-468 55.5,-454 55.5,-454 55.5,-448 61.5,-442 67.5,-442 67.5,-442 159.5,-442 159.5,-442 165.5,-442 171.5,-448 171.5,-454 171.5,-454 171.5,-468 171.5,-468 171.5,-474 165.5,-480 159.5,-480"/>
<text text-anchor="middle" x="113.5" y="-464.8" font-family="Helvetica" font-size="14.00">Divide by</text>
<text text-anchor="middle" x="113.5" y="-449.8" font-family="Helvetica" font-size="14.00">slit opening area</text>
</g>
<!-- slitNorm&#45;&gt;fluxNorm -->
<g id="edge8" class="edge">
<title>slitNorm&#45;&gt;fluxNorm</title>
<path fill="none" stroke="black" d="M131.54,-441.96C140.49,-433.01 151.45,-422.05 161.22,-412.28"/>
<polygon fill="black" stroke="black" points="163.81,-414.64 168.41,-405.09 158.86,-409.69 163.81,-414.64"/>
</g>
<!-- subtractBkg&#45;&gt;toWavelength -->
<g id="edge10" class="edge">
<title>subtractBkg&#45;&gt;toWavelength</title>
<path fill="none" stroke="black" d="M186.5,-293.94C186.5,-285.99 186.5,-276.31 186.5,-267.31"/>
<polygon fill="black" stroke="black" points="190,-267.2 186.5,-257.2 183,-267.2 190,-267.2"/>
</g>
<!-- gravityCorrection -->
<g id="node11" class="node">
<title>gravityCorrection</title>
<path fill="lightskyblue" stroke="black" d="M354.5,-109C354.5,-109 214.5,-109 214.5,-109 208.5,-109 202.5,-103 202.5,-97 202.5,-97 202.5,-85 202.5,-85 202.5,-79 208.5,-73 214.5,-73 214.5,-73 354.5,-73 354.5,-73 360.5,-73 366.5,-79 366.5,-85 366.5,-85 366.5,-97 366.5,-97 366.5,-103 360.5,-109 354.5,-109"/>
<text text-anchor="middle" x="284.5" y="-87.3" font-family="Helvetica" font-size="14.00">Gravity correction step 1</text>
</g>
<!-- gravityCorrection&#45;&gt;output -->
<g id="edge14" class="edge">
<title>gravityCorrection&#45;&gt;output</title>
<path fill="none" stroke="black" d="M260.78,-72.81C247.74,-63.36 231.4,-51.53 217.38,-41.37"/>
<polygon fill="black" stroke="black" points="219.15,-38.33 208.99,-35.3 215.04,-44 219.15,-38.33"/>
</g>
<!-- isSlitNorm&#45;&gt;fluxNorm -->
<g id="edge7" class="edge">
<title>isSlitNorm&#45;&gt;fluxNorm</title>
<path fill="none" stroke="black" d="M193.58,-536.05C203.72,-530.65 213.72,-523.14 219.5,-513 237.32,-481.71 220.21,-440.6 204.72,-413.99"/>
<polygon fill="black" stroke="black" points="207.57,-411.94 199.37,-405.22 201.59,-415.58 207.57,-411.94"/>
<text text-anchor="middle" x="295.5" y="-457.3" font-family="Helvetica" font-size="14.00">Slit Normalisation OFF</text>
</g>
<!-- isSlitNorm&#45;&gt;slitNorm -->
<g id="edge6" class="edge">
<title>isSlitNorm&#45;&gt;slitNorm</title>
<path fill="none" stroke="black" d="M119.58,-537.33C107.47,-532.06 95.58,-524.31 88.5,-513 83.79,-505.47 85.49,-496.92 89.67,-489.01"/>
<polygon fill="black" stroke="black" points="92.73,-490.72 95.24,-480.43 86.86,-486.91 92.73,-490.72"/>
<text text-anchor="middle" x="154" y="-501.8" font-family="Helvetica" font-size="14.00">Slit Normalisation ON</text>
</g>
<!-- correctGravity&#45;&gt;output -->
<g id="edge12" class="edge">
<title>correctGravity&#45;&gt;output</title>
<path fill="none" stroke="black" d="M186.5,-145.92C186.5,-121.34 186.5,-75.75 186.5,-46.43"/>
<polygon fill="black" stroke="black" points="190,-46.06 186.5,-36.06 183,-46.06 190,-46.06"/>
</g>
<!-- correctGravity&#45;&gt;gravityCorrection -->
<g id="edge13" class="edge">
<title>correctGravity&#45;&gt;gravityCorrection</title>
<path fill="none" stroke="black" d="M206.33,-148.63C219.64,-138.99 237.46,-126.08 252.73,-115.02"/>
<polygon fill="black" stroke="black" points="254.85,-117.8 260.9,-109.1 250.75,-112.13 254.85,-117.8"/>
</g>
</g>
</svg>
