<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 3.0.0 (20220315.2325)
 -->
<!-- Title: BASISReduction Pages: 1 -->
<svg width="1235pt" height="2841pt"
 viewBox="0.00 0.00 1235.05 2841.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 2837)">
<title>BASISReduction</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-2837 1231.05,-2837 1231.05,4 -4,4"/>
<text text-anchor="middle" x="613.52" y="-2817.8" font-family="Helvetica,sans-Serif" font-size="14.00">BASISReduction Flowchart</text>
<!-- loadMaskFile -->
<g id="node1" class="node">
<title>loadMaskFile</title>
<path fill="lightskyblue" stroke="black" d="M1100.56,-2650C1100.56,-2650 1011.56,-2650 1011.56,-2650 1005.56,-2650 999.56,-2644 999.56,-2638 999.56,-2638 999.56,-2626 999.56,-2626 999.56,-2620 1005.56,-2614 1011.56,-2614 1011.56,-2614 1100.56,-2614 1100.56,-2614 1106.56,-2614 1112.56,-2620 1112.56,-2626 1112.56,-2626 1112.56,-2638 1112.56,-2638 1112.56,-2644 1106.56,-2650 1100.56,-2650"/>
<text text-anchor="middle" x="1056.06" y="-2628.3" font-family="Helvetica,sans-Serif" font-size="14.00">load mask file</text>
</g>
<!-- maskData -->
<g id="node43" class="node">
<title>maskData</title>
<polygon fill="grey" stroke="black" points="1096.48,-2563 1014.68,-2563 993.64,-2527 1075.43,-2527 1096.48,-2563"/>
<text text-anchor="middle" x="1045.06" y="-2541.3" font-family="Times,serif" font-size="14.00">mask</text>
</g>
<!-- loadMaskFile&#45;&gt;maskData -->
<g id="edge5" class="edge">
<title>loadMaskFile&#45;&gt;maskData</title>
<path fill="none" stroke="black" d="M1053.83,-2613.8C1052.33,-2602.16 1050.31,-2586.55 1048.58,-2573.24"/>
<polygon fill="black" stroke="black" points="1052.04,-2572.64 1047.28,-2563.18 1045.09,-2573.54 1052.04,-2572.64"/>
</g>
<!-- aggregateV -->
<g id="node2" class="node">
<title>aggregateV</title>
<path fill="lightskyblue" stroke="black" d="M691.56,-2563C691.56,-2563 518.56,-2563 518.56,-2563 512.56,-2563 506.56,-2557 506.56,-2551 506.56,-2551 506.56,-2539 506.56,-2539 506.56,-2533 512.56,-2527 518.56,-2527 518.56,-2527 691.56,-2527 691.56,-2527 697.56,-2527 703.56,-2533 703.56,-2539 703.56,-2539 703.56,-2551 703.56,-2551 703.56,-2557 697.56,-2563 691.56,-2563"/>
<text text-anchor="middle" x="605.06" y="-2541.3" font-family="Helvetica,sans-Serif" font-size="14.00">aggregate Vanadium runs</text>
</g>
<!-- maskDetectors -->
<g id="node3" class="node">
<title>maskDetectors</title>
<path fill="lightskyblue" stroke="black" d="M926.06,-2490C926.06,-2490 826.06,-2490 826.06,-2490 820.06,-2490 814.06,-2484 814.06,-2478 814.06,-2478 814.06,-2466 814.06,-2466 814.06,-2460 820.06,-2454 826.06,-2454 826.06,-2454 926.06,-2454 926.06,-2454 932.06,-2454 938.06,-2460 938.06,-2466 938.06,-2466 938.06,-2478 938.06,-2478 938.06,-2484 932.06,-2490 926.06,-2490"/>
<text text-anchor="middle" x="876.06" y="-2468.3" font-family="Helvetica,sans-Serif" font-size="14.00">mask detectors</text>
</g>
<!-- aggregateV&#45;&gt;maskDetectors -->
<g id="edge10" class="edge">
<title>aggregateV&#45;&gt;maskDetectors</title>
<path fill="none" stroke="black" d="M669.97,-2526.99C710.42,-2516.4 762.5,-2502.75 804.19,-2491.83"/>
<polygon fill="black" stroke="black" points="805.22,-2495.18 814.01,-2489.26 803.45,-2488.41 805.22,-2495.18"/>
</g>
<!-- moderatorTzeroLinear -->
<g id="node4" class="node">
<title>moderatorTzeroLinear</title>
<path fill="lightskyblue" stroke="black" d="M1009.06,-2417C1009.06,-2417 743.06,-2417 743.06,-2417 737.06,-2417 731.06,-2411 731.06,-2405 731.06,-2405 731.06,-2393 731.06,-2393 731.06,-2387 737.06,-2381 743.06,-2381 743.06,-2381 1009.06,-2381 1009.06,-2381 1015.06,-2381 1021.06,-2387 1021.06,-2393 1021.06,-2393 1021.06,-2405 1021.06,-2405 1021.06,-2411 1015.06,-2417 1009.06,-2417"/>
<text text-anchor="middle" x="876.06" y="-2395.3" font-family="Helvetica,sans-Serif" font-size="14.00">remove emission delay from moderator</text>
</g>
<!-- maskDetectors&#45;&gt;moderatorTzeroLinear -->
<g id="edge12" class="edge">
<title>maskDetectors&#45;&gt;moderatorTzeroLinear</title>
<path fill="none" stroke="black" d="M876.06,-2453.81C876.06,-2445.79 876.06,-2436.05 876.06,-2427.07"/>
<polygon fill="black" stroke="black" points="879.56,-2427.03 876.06,-2417.03 872.56,-2427.03 879.56,-2427.03"/>
</g>
<!-- convertUnitsToWavelength -->
<g id="node5" class="node">
<title>convertUnitsToWavelength</title>
<path fill="lightskyblue" stroke="black" d="M969.56,-2344C969.56,-2344 782.56,-2344 782.56,-2344 776.56,-2344 770.56,-2338 770.56,-2332 770.56,-2332 770.56,-2320 770.56,-2320 770.56,-2314 776.56,-2308 782.56,-2308 782.56,-2308 969.56,-2308 969.56,-2308 975.56,-2308 981.56,-2314 981.56,-2320 981.56,-2320 981.56,-2332 981.56,-2332 981.56,-2338 975.56,-2344 969.56,-2344"/>
<text text-anchor="middle" x="876.06" y="-2322.3" font-family="Helvetica,sans-Serif" font-size="14.00">convert units to wavelength</text>
</g>
<!-- moderatorTzeroLinear&#45;&gt;convertUnitsToWavelength -->
<g id="edge13" class="edge">
<title>moderatorTzeroLinear&#45;&gt;convertUnitsToWavelength</title>
<path fill="none" stroke="black" d="M876.06,-2380.81C876.06,-2372.79 876.06,-2363.05 876.06,-2354.07"/>
<polygon fill="black" stroke="black" points="879.56,-2354.03 876.06,-2344.03 872.56,-2354.03 879.56,-2354.03"/>
</g>
<!-- checkMonNorm -->
<g id="node32" class="node">
<title>checkMonNorm</title>
<polygon fill="limegreen" stroke="black" points="876.06,-2271 693.23,-2253 876.06,-2235 1058.88,-2253 876.06,-2271"/>
<text text-anchor="middle" x="876.06" y="-2249.3" font-family="Helvetica,sans-Serif" font-size="14.00">do monitor normalization?</text>
</g>
<!-- convertUnitsToWavelength&#45;&gt;checkMonNorm -->
<g id="edge14" class="edge">
<title>convertUnitsToWavelength&#45;&gt;checkMonNorm</title>
<path fill="none" stroke="black" d="M876.06,-2307.81C876.06,-2299.79 876.06,-2290.05 876.06,-2281.07"/>
<polygon fill="black" stroke="black" points="879.56,-2281.03 876.06,-2271.03 872.56,-2281.03 879.56,-2281.03"/>
</g>
<!-- moderatorTzeroLinearM -->
<g id="node6" class="node">
<title>moderatorTzeroLinearM</title>
<path fill="lightskyblue" stroke="black" d="M938.06,-2184C938.06,-2184 610.06,-2184 610.06,-2184 604.06,-2184 598.06,-2178 598.06,-2172 598.06,-2172 598.06,-2160 598.06,-2160 598.06,-2154 604.06,-2148 610.06,-2148 610.06,-2148 938.06,-2148 938.06,-2148 944.06,-2148 950.06,-2154 950.06,-2160 950.06,-2160 950.06,-2172 950.06,-2172 950.06,-2178 944.06,-2184 938.06,-2184"/>
<text text-anchor="middle" x="774.06" y="-2162.3" font-family="Helvetica,sans-Serif" font-size="14.00">Monitor: remove emission delay from moderator</text>
</g>
<!-- convertUnitsToWavelengthM -->
<g id="node7" class="node">
<title>convertUnitsToWavelengthM</title>
<path fill="lightskyblue" stroke="black" d="M928.06,-2111C928.06,-2111 680.06,-2111 680.06,-2111 674.06,-2111 668.06,-2105 668.06,-2099 668.06,-2099 668.06,-2087 668.06,-2087 668.06,-2081 674.06,-2075 680.06,-2075 680.06,-2075 928.06,-2075 928.06,-2075 934.06,-2075 940.06,-2081 940.06,-2087 940.06,-2087 940.06,-2099 940.06,-2099 940.06,-2105 934.06,-2111 928.06,-2111"/>
<text text-anchor="middle" x="804.06" y="-2089.3" font-family="Helvetica,sans-Serif" font-size="14.00">Monitor: convert units to wavelength</text>
</g>
<!-- moderatorTzeroLinearM&#45;&gt;convertUnitsToWavelengthM -->
<g id="edge17" class="edge">
<title>moderatorTzeroLinearM&#45;&gt;convertUnitsToWavelengthM</title>
<path fill="none" stroke="black" d="M781.32,-2147.81C784.78,-2139.62 789.01,-2129.62 792.87,-2120.48"/>
<polygon fill="black" stroke="black" points="796.2,-2121.6 796.86,-2111.03 789.75,-2118.88 796.2,-2121.6"/>
</g>
<!-- OneMinusExponentialCorM -->
<g id="node8" class="node">
<title>OneMinusExponentialCorM</title>
<path fill="lightskyblue" stroke="black" d="M932.56,-2024C932.56,-2024 723.56,-2024 723.56,-2024 717.56,-2024 711.56,-2018 711.56,-2012 711.56,-2012 711.56,-2000 711.56,-2000 711.56,-1994 717.56,-1988 723.56,-1988 723.56,-1988 932.56,-1988 932.56,-1988 938.56,-1988 944.56,-1994 944.56,-2000 944.56,-2000 944.56,-2012 944.56,-2012 944.56,-2018 938.56,-2024 932.56,-2024"/>
<text text-anchor="middle" x="828.06" y="-2002.3" font-family="Helvetica,sans-Serif" font-size="14.00">Monitor: exponential correction</text>
</g>
<!-- convertUnitsToWavelengthM&#45;&gt;OneMinusExponentialCorM -->
<g id="edge18" class="edge">
<title>convertUnitsToWavelengthM&#45;&gt;OneMinusExponentialCorM</title>
<path fill="none" stroke="black" d="M808.92,-2074.8C812.23,-2063.05 816.7,-2047.24 820.48,-2033.84"/>
<polygon fill="black" stroke="black" points="823.86,-2034.75 823.21,-2024.18 817.12,-2032.85 823.86,-2034.75"/>
</g>
<!-- divideByMonitor -->
<g id="node9" class="node">
<title>divideByMonitor</title>
<path fill="lightskyblue" stroke="black" d="M925.56,-1951C925.56,-1951 810.56,-1951 810.56,-1951 804.56,-1951 798.56,-1945 798.56,-1939 798.56,-1939 798.56,-1927 798.56,-1927 798.56,-1921 804.56,-1915 810.56,-1915 810.56,-1915 925.56,-1915 925.56,-1915 931.56,-1915 937.56,-1921 937.56,-1927 937.56,-1927 937.56,-1939 937.56,-1939 937.56,-1945 931.56,-1951 925.56,-1951"/>
<text text-anchor="middle" x="868.06" y="-1929.3" font-family="Helvetica,sans-Serif" font-size="14.00">divide by monitor</text>
</g>
<!-- OneMinusExponentialCorM&#45;&gt;divideByMonitor -->
<g id="edge19" class="edge">
<title>OneMinusExponentialCorM&#45;&gt;divideByMonitor</title>
<path fill="none" stroke="black" d="M837.74,-1987.81C842.46,-1979.44 848.23,-1969.2 853.47,-1959.9"/>
<polygon fill="black" stroke="black" points="856.61,-1961.46 858.46,-1951.03 850.51,-1958.02 856.61,-1961.46"/>
</g>
<!-- checkIsVanadium -->
<g id="node36" class="node">
<title>checkIsVanadium</title>
<polygon fill="limegreen" stroke="black" points="935.06,-1878 707.99,-1860 935.06,-1842 1162.12,-1860 935.06,-1878"/>
<text text-anchor="middle" x="935.06" y="-1856.3" font-family="Helvetica,sans-Serif" font-size="14.00">processing Vanadium or sample?</text>
</g>
<!-- divideByMonitor&#45;&gt;checkIsVanadium -->
<g id="edge20" class="edge">
<title>divideByMonitor&#45;&gt;checkIsVanadium</title>
<path fill="none" stroke="black" d="M884.28,-1914.81C892.83,-1905.75 903.46,-1894.48 912.78,-1884.61"/>
<polygon fill="black" stroke="black" points="915.59,-1886.73 919.91,-1877.06 910.5,-1881.93 915.59,-1886.73"/>
</g>
<!-- integrateWavelengthV -->
<g id="node10" class="node">
<title>integrateWavelengthV</title>
<path fill="lightskyblue" stroke="black" d="M594.56,-1704C594.56,-1704 379.56,-1704 379.56,-1704 373.56,-1704 367.56,-1698 367.56,-1692 367.56,-1692 367.56,-1680 367.56,-1680 367.56,-1674 373.56,-1668 379.56,-1668 379.56,-1668 594.56,-1668 594.56,-1668 600.56,-1668 606.56,-1674 606.56,-1680 606.56,-1680 606.56,-1692 606.56,-1692 606.56,-1698 600.56,-1704 594.56,-1704"/>
<text text-anchor="middle" x="487.06" y="-1682.3" font-family="Helvetica,sans-Serif" font-size="14.00">integrate along wavelength axis</text>
</g>
<!-- vanadiumStructureFactorL -->
<g id="node45" class="node">
<title>vanadiumStructureFactorL</title>
<polygon fill="grey" stroke="black" points="580.33,-1617 431.95,-1617 393.78,-1581 542.16,-1581 580.33,-1617"/>
<text text-anchor="middle" x="487.06" y="-1595.3" font-family="Times,serif" font-size="14.00">Sv(lambda)</text>
</g>
<!-- integrateWavelengthV&#45;&gt;vanadiumStructureFactorL -->
<g id="edge26" class="edge">
<title>integrateWavelengthV&#45;&gt;vanadiumStructureFactorL</title>
<path fill="none" stroke="black" d="M487.06,-1667.8C487.06,-1656.16 487.06,-1640.55 487.06,-1627.24"/>
<polygon fill="black" stroke="black" points="490.56,-1627.18 487.06,-1617.18 483.56,-1627.18 490.56,-1627.18"/>
</g>
<!-- findDetectorsOutsideLimitsV -->
<g id="node11" class="node">
<title>findDetectorsOutsideLimitsV</title>
<path fill="lightskyblue" stroke="black" d="M954.56,-1544C954.56,-1544 683.56,-1544 683.56,-1544 677.56,-1544 671.56,-1538 671.56,-1532 671.56,-1532 671.56,-1520 671.56,-1520 671.56,-1514 677.56,-1508 683.56,-1508 683.56,-1508 954.56,-1508 954.56,-1508 960.56,-1508 966.56,-1514 966.56,-1520 966.56,-1520 966.56,-1532 966.56,-1532 966.56,-1538 960.56,-1544 954.56,-1544"/>
<text text-anchor="middle" x="819.06" y="-1522.3" font-family="Helvetica,sans-Serif" font-size="14.00">find detectors with low Vanadium signal</text>
</g>
<!-- checkByQSlice -->
<g id="node33" class="node">
<title>checkByQSlice</title>
<polygon fill="limegreen" stroke="black" points="843.06,-1417 667.44,-1399 843.06,-1381 1018.68,-1399 843.06,-1417"/>
<text text-anchor="middle" x="843.06" y="-1395.3" font-family="Helvetica,sans-Serif" font-size="14.00">normalization by Q slice?</text>
</g>
<!-- findDetectorsOutsideLimitsV&#45;&gt;checkByQSlice -->
<g id="edge29" class="edge">
<title>findDetectorsOutsideLimitsV&#45;&gt;checkByQSlice</title>
<path fill="none" stroke="black" d="M822.35,-1507.88C826.35,-1487.03 833.16,-1451.56 837.87,-1427.01"/>
<polygon fill="black" stroke="black" points="841.36,-1427.39 839.81,-1416.91 834.49,-1426.07 841.36,-1427.39"/>
</g>
<!-- basisNormMask -->
<g id="node44" class="node">
<title>basisNormMask</title>
<polygon fill="grey" stroke="black" points="819.69,-1471 580.07,-1471 518.43,-1435 758.05,-1435 819.69,-1471"/>
<text text-anchor="middle" x="669.06" y="-1449.3" font-family="Times,serif" font-size="14.00">low Vanadium mask</text>
</g>
<!-- findDetectorsOutsideLimitsV&#45;&gt;basisNormMask -->
<g id="edge28" class="edge">
<title>findDetectorsOutsideLimitsV&#45;&gt;basisNormMask</title>
<path fill="none" stroke="black" d="M783.13,-1507.99C762.5,-1498.23 736.4,-1485.88 714.38,-1475.45"/>
<polygon fill="black" stroke="black" points="715.75,-1472.23 705.21,-1471.11 712.76,-1478.56 715.75,-1472.23"/>
</g>
<!-- convertUnitsToEnergyV -->
<g id="node12" class="node">
<title>convertUnitsToEnergyV</title>
<path fill="lightskyblue" stroke="black" d="M930.06,-1116C930.06,-1116 754.06,-1116 754.06,-1116 748.06,-1116 742.06,-1110 742.06,-1104 742.06,-1104 742.06,-1092 742.06,-1092 742.06,-1086 748.06,-1080 754.06,-1080 754.06,-1080 930.06,-1080 930.06,-1080 936.06,-1080 942.06,-1086 942.06,-1092 942.06,-1092 942.06,-1104 942.06,-1104 942.06,-1110 936.06,-1116 930.06,-1116"/>
<text text-anchor="middle" x="842.06" y="-1094.3" font-family="Helvetica,sans-Serif" font-size="14.00">convert to energy transfer</text>
</g>
<!-- correctKiKfV -->
<g id="node13" class="node">
<title>correctKiKfV</title>
<path fill="lightskyblue" stroke="black" d="M891.06,-1043C891.06,-1043 793.06,-1043 793.06,-1043 787.06,-1043 781.06,-1037 781.06,-1031 781.06,-1031 781.06,-1019 781.06,-1019 781.06,-1013 787.06,-1007 793.06,-1007 793.06,-1007 891.06,-1007 891.06,-1007 897.06,-1007 903.06,-1013 903.06,-1019 903.06,-1019 903.06,-1031 903.06,-1031 903.06,-1037 897.06,-1043 891.06,-1043"/>
<text text-anchor="middle" x="842.06" y="-1021.3" font-family="Helvetica,sans-Serif" font-size="14.00">scale by k_i/k_f</text>
</g>
<!-- convertUnitsToEnergyV&#45;&gt;correctKiKfV -->
<g id="edge39" class="edge">
<title>convertUnitsToEnergyV&#45;&gt;correctKiKfV</title>
<path fill="none" stroke="black" d="M842.06,-1079.81C842.06,-1071.79 842.06,-1062.05 842.06,-1053.07"/>
<polygon fill="black" stroke="black" points="845.56,-1053.03 842.06,-1043.03 838.56,-1053.03 845.56,-1053.03"/>
</g>
<!-- RebinEnergy -->
<g id="node14" class="node">
<title>RebinEnergy</title>
<path fill="lightskyblue" stroke="black" d="M967.56,-970C967.56,-970 716.56,-970 716.56,-970 710.56,-970 704.56,-964 704.56,-958 704.56,-958 704.56,-946 704.56,-946 704.56,-940 710.56,-934 716.56,-934 716.56,-934 967.56,-934 967.56,-934 973.56,-934 979.56,-940 979.56,-946 979.56,-946 979.56,-958 979.56,-958 979.56,-964 973.56,-970 967.56,-970"/>
<text text-anchor="middle" x="842.06" y="-948.3" font-family="Helvetica,sans-Serif" font-size="14.00">rebin to specified energy parameters</text>
</g>
<!-- correctKiKfV&#45;&gt;RebinEnergy -->
<g id="edge40" class="edge">
<title>correctKiKfV&#45;&gt;RebinEnergy</title>
<path fill="none" stroke="black" d="M842.06,-1006.81C842.06,-998.79 842.06,-989.05 842.06,-980.07"/>
<polygon fill="black" stroke="black" points="845.56,-980.03 842.06,-970.03 838.56,-980.03 845.56,-980.03"/>
</g>
<!-- checkgroupDetectors -->
<g id="node35" class="node">
<title>checkgroupDetectors</title>
<polygon fill="limegreen" stroke="black" points="500.06,-897 334.66,-879 500.06,-861 665.46,-879 500.06,-897"/>
<text text-anchor="middle" x="500.06" y="-875.3" font-family="Helvetica,sans-Serif" font-size="14.00">do we group detectors?</text>
</g>
<!-- RebinEnergy&#45;&gt;checkgroupDetectors -->
<g id="edge41" class="edge">
<title>RebinEnergy&#45;&gt;checkgroupDetectors</title>
<path fill="none" stroke="black" d="M760.14,-933.99C699.96,-921.5 619.35,-904.77 563.91,-893.26"/>
<polygon fill="black" stroke="black" points="564.37,-889.78 553.86,-891.17 562.94,-896.63 564.37,-889.78"/>
</g>
<!-- groupingDetectorsV -->
<g id="node15" class="node">
<title>groupingDetectorsV</title>
<path fill="lightskyblue" stroke="black" d="M481.06,-810C481.06,-810 351.06,-810 351.06,-810 345.06,-810 339.06,-804 339.06,-798 339.06,-798 339.06,-786 339.06,-786 339.06,-780 345.06,-774 351.06,-774 351.06,-774 481.06,-774 481.06,-774 487.06,-774 493.06,-780 493.06,-786 493.06,-786 493.06,-798 493.06,-798 493.06,-804 487.06,-810 481.06,-810"/>
<text text-anchor="middle" x="416.06" y="-788.3" font-family="Helvetica,sans-Serif" font-size="14.00">group the detectors</text>
</g>
<!-- SofQW3V -->
<g id="node16" class="node">
<title>SofQW3V</title>
<path fill="lightskyblue" stroke="black" d="M626.06,-737C626.06,-737 318.06,-737 318.06,-737 312.06,-737 306.06,-731 306.06,-725 306.06,-725 306.06,-713 306.06,-713 306.06,-707 312.06,-701 318.06,-701 318.06,-701 626.06,-701 626.06,-701 632.06,-701 638.06,-707 638.06,-713 638.06,-713 638.06,-725 638.06,-725 638.06,-731 632.06,-737 626.06,-737"/>
<text text-anchor="middle" x="472.06" y="-715.3" font-family="Helvetica,sans-Serif" font-size="14.00">transform to momentum and energy transfer</text>
</g>
<!-- groupingDetectorsV&#45;&gt;SofQW3V -->
<g id="edge44" class="edge">
<title>groupingDetectorsV&#45;&gt;SofQW3V</title>
<path fill="none" stroke="black" d="M429.61,-773.81C436.42,-765.18 444.8,-754.56 452.31,-745.03"/>
<polygon fill="black" stroke="black" points="455.18,-747.05 458.63,-737.03 449.69,-742.71 455.18,-747.05"/>
</g>
<!-- checkIsVanadium2 -->
<g id="node38" class="node">
<title>checkIsVanadium2</title>
<polygon fill="limegreen" stroke="black" points="472.06,-664 244.99,-646 472.06,-628 699.12,-646 472.06,-664"/>
<text text-anchor="middle" x="472.06" y="-642.3" font-family="Helvetica,sans-Serif" font-size="14.00">processing Vanadium or sample?</text>
</g>
<!-- SofQW3V&#45;&gt;checkIsVanadium2 -->
<g id="edge46" class="edge">
<title>SofQW3V&#45;&gt;checkIsVanadium2</title>
<path fill="none" stroke="black" d="M472.06,-700.81C472.06,-692.79 472.06,-683.05 472.06,-674.07"/>
<polygon fill="black" stroke="black" points="475.56,-674.03 472.06,-664.03 468.56,-674.03 475.56,-674.03"/>
</g>
<!-- aggregateS -->
<g id="node17" class="node">
<title>aggregateS</title>
<path fill="lightskyblue" stroke="black" d="M953.06,-2563C953.06,-2563 799.06,-2563 799.06,-2563 793.06,-2563 787.06,-2557 787.06,-2551 787.06,-2551 787.06,-2539 787.06,-2539 787.06,-2533 793.06,-2527 799.06,-2527 799.06,-2527 953.06,-2527 953.06,-2527 959.06,-2527 965.06,-2533 965.06,-2539 965.06,-2539 965.06,-2551 965.06,-2551 965.06,-2557 959.06,-2563 953.06,-2563"/>
<text text-anchor="middle" x="876.06" y="-2541.3" font-family="Helvetica,sans-Serif" font-size="14.00">aggregate sample runs</text>
</g>
<!-- aggregateS&#45;&gt;maskDetectors -->
<g id="edge9" class="edge">
<title>aggregateS&#45;&gt;maskDetectors</title>
<path fill="none" stroke="black" d="M876.06,-2526.81C876.06,-2518.79 876.06,-2509.05 876.06,-2500.07"/>
<polygon fill="black" stroke="black" points="879.56,-2500.03 876.06,-2490.03 872.56,-2500.03 879.56,-2500.03"/>
</g>
<!-- maskDetectors2 -->
<g id="node18" class="node">
<title>maskDetectors2</title>
<path fill="lightskyblue" stroke="black" d="M918.06,-1363C918.06,-1363 818.06,-1363 818.06,-1363 812.06,-1363 806.06,-1357 806.06,-1351 806.06,-1351 806.06,-1339 806.06,-1339 806.06,-1333 812.06,-1327 818.06,-1327 818.06,-1327 918.06,-1327 918.06,-1327 924.06,-1327 930.06,-1333 930.06,-1339 930.06,-1339 930.06,-1351 930.06,-1351 930.06,-1357 924.06,-1363 918.06,-1363"/>
<text text-anchor="middle" x="868.06" y="-1341.3" font-family="Helvetica,sans-Serif" font-size="14.00">mask detectors</text>
</g>
<!-- checkNormalizeByDetectorID -->
<g id="node39" class="node">
<title>checkNormalizeByDetectorID</title>
<polygon fill="limegreen" stroke="black" points="868.06,-1290 692.44,-1272 868.06,-1254 1043.68,-1272 868.06,-1290"/>
<text text-anchor="middle" x="868.06" y="-1268.3" font-family="Helvetica,sans-Serif" font-size="14.00">normalize by detectorID?</text>
</g>
<!-- maskDetectors2&#45;&gt;checkNormalizeByDetectorID -->
<g id="edge32" class="edge">
<title>maskDetectors2&#45;&gt;checkNormalizeByDetectorID</title>
<path fill="none" stroke="black" d="M868.06,-1326.81C868.06,-1318.79 868.06,-1309.05 868.06,-1300.07"/>
<polygon fill="black" stroke="black" points="871.56,-1300.03 868.06,-1290.03 864.56,-1300.03 871.56,-1300.03"/>
</g>
<!-- DivideByVanadiumDetectorID -->
<g id="node19" class="node">
<title>DivideByVanadiumDetectorID</title>
<path fill="lightskyblue" stroke="black" d="M822.56,-1203C822.56,-1203 691.56,-1203 691.56,-1203 685.56,-1203 679.56,-1197 679.56,-1191 679.56,-1191 679.56,-1179 679.56,-1179 679.56,-1173 685.56,-1167 691.56,-1167 691.56,-1167 822.56,-1167 822.56,-1167 828.56,-1167 834.56,-1173 834.56,-1179 834.56,-1179 834.56,-1191 834.56,-1191 834.56,-1197 828.56,-1203 822.56,-1203"/>
<text text-anchor="middle" x="757.06" y="-1181.3" font-family="Helvetica,sans-Serif" font-size="14.00">divide by Vanadium</text>
</g>
<!-- DivideByVanadiumDetectorID&#45;&gt;convertUnitsToEnergyV -->
<g id="edge37" class="edge">
<title>DivideByVanadiumDetectorID&#45;&gt;convertUnitsToEnergyV</title>
<path fill="none" stroke="black" d="M774.26,-1166.8C786.7,-1154.36 803.69,-1137.36 817.55,-1123.5"/>
<polygon fill="black" stroke="black" points="820.29,-1125.72 824.88,-1116.18 815.34,-1120.77 820.29,-1125.72"/>
<text text-anchor="middle" x="816.56" y="-1137.8" font-family="Helvetica,sans-Serif" font-size="14.00">Yes</text>
</g>
<!-- DivideByVanadiumQslice -->
<g id="node20" class="node">
<title>DivideByVanadiumQslice</title>
<path fill="lightskyblue" stroke="black" d="M547.56,-342C547.56,-342 416.56,-342 416.56,-342 410.56,-342 404.56,-336 404.56,-330 404.56,-330 404.56,-318 404.56,-318 404.56,-312 410.56,-306 416.56,-306 416.56,-306 547.56,-306 547.56,-306 553.56,-306 559.56,-312 559.56,-318 559.56,-318 559.56,-330 559.56,-330 559.56,-336 553.56,-342 547.56,-342"/>
<text text-anchor="middle" x="482.06" y="-320.3" font-family="Helvetica,sans-Serif" font-size="14.00">divide by Vanadium</text>
</g>
<!-- sampleStructureFactor -->
<g id="node48" class="node">
<title>sampleStructureFactor</title>
<polygon fill="grey" stroke="black" points="621.97,-269 515.53,-269 488.15,-233 594.59,-233 621.97,-269"/>
<text text-anchor="middle" x="555.06" y="-247.3" font-family="Times,serif" font-size="14.00">Ss(Q,E)</text>
</g>
<!-- DivideByVanadiumQslice&#45;&gt;sampleStructureFactor -->
<g id="edge53" class="edge">
<title>DivideByVanadiumQslice&#45;&gt;sampleStructureFactor</title>
<path fill="none" stroke="black" d="M499.73,-305.81C508.88,-296.92 520.19,-285.91 530.21,-276.17"/>
<polygon fill="black" stroke="black" points="532.82,-278.51 537.55,-269.03 527.94,-273.49 532.82,-278.51"/>
</g>
<!-- saveToDaveGroup -->
<g id="node21" class="node">
<title>saveToDaveGroup</title>
<path fill="lightskyblue" stroke="black" d="M543.56,-196C543.56,-196 390.56,-196 390.56,-196 384.56,-196 378.56,-190 378.56,-184 378.56,-184 378.56,-172 378.56,-172 378.56,-166 384.56,-160 390.56,-160 390.56,-160 543.56,-160 543.56,-160 549.56,-160 555.56,-166 555.56,-172 555.56,-172 555.56,-184 555.56,-184 555.56,-190 549.56,-196 543.56,-196"/>
<text text-anchor="middle" x="467.06" y="-174.3" font-family="Helvetica,sans-Serif" font-size="14.00">save to Dave group file</text>
</g>
<!-- checkDivideByVanadium3 -->
<g id="node41" class="node">
<title>checkDivideByVanadium3</title>
<polygon fill="limegreen" stroke="black" points="365.06,-123 217.09,-105 365.06,-87 513.03,-105 365.06,-123"/>
<text text-anchor="middle" x="365.06" y="-101.3" font-family="Helvetica,sans-Serif" font-size="14.00">divide by vanadium?</text>
</g>
<!-- saveToDaveGroup&#45;&gt;checkDivideByVanadium3 -->
<g id="edge56" class="edge">
<title>saveToDaveGroup&#45;&gt;checkDivideByVanadium3</title>
<path fill="none" stroke="black" d="M442.63,-159.99C428.24,-149.98 409.94,-137.24 394.73,-126.65"/>
<polygon fill="black" stroke="black" points="396.39,-123.54 386.18,-120.7 392.39,-129.29 396.39,-123.54"/>
</g>
<!-- saveToNexus -->
<g id="node22" class="node">
<title>saveToNexus</title>
<path fill="lightskyblue" stroke="black" d="M719.06,-196C719.06,-196 603.06,-196 603.06,-196 597.06,-196 591.06,-190 591.06,-184 591.06,-184 591.06,-172 591.06,-172 591.06,-166 597.06,-160 603.06,-160 603.06,-160 719.06,-160 719.06,-160 725.06,-160 731.06,-166 731.06,-172 731.06,-172 731.06,-184 731.06,-184 731.06,-190 725.06,-196 719.06,-196"/>
<text text-anchor="middle" x="661.06" y="-174.3" font-family="Helvetica,sans-Serif" font-size="14.00">save to Nexus file</text>
</g>
<!-- checkDivideByVanadium4 -->
<g id="node42" class="node">
<title>checkDivideByVanadium4</title>
<polygon fill="limegreen" stroke="black" points="679.06,-123 531.09,-105 679.06,-87 827.03,-105 679.06,-123"/>
<text text-anchor="middle" x="679.06" y="-101.3" font-family="Helvetica,sans-Serif" font-size="14.00">divide by vanadium?</text>
</g>
<!-- saveToNexus&#45;&gt;checkDivideByVanadium4 -->
<g id="edge60" class="edge">
<title>saveToNexus&#45;&gt;checkDivideByVanadium4</title>
<path fill="none" stroke="black" d="M665.42,-159.81C667.5,-151.58 670.05,-141.54 672.37,-132.38"/>
<polygon fill="black" stroke="black" points="675.8,-133.09 674.87,-122.54 669.02,-131.37 675.8,-133.09"/>
</g>
<!-- integrateVanadiumAroundElasticLine -->
<g id="node23" class="node">
<title>integrateVanadiumAroundElasticLine</title>
<path fill="lightskyblue" stroke="black" d="M548.06,-490C548.06,-490 402.06,-490 402.06,-490 396.06,-490 390.06,-484 390.06,-478 390.06,-478 390.06,-464 390.06,-464 390.06,-458 396.06,-452 402.06,-452 402.06,-452 548.06,-452 548.06,-452 554.06,-452 560.06,-458 560.06,-464 560.06,-464 560.06,-478 560.06,-478 560.06,-484 554.06,-490 548.06,-490"/>
<text text-anchor="middle" x="475.06" y="-474.8" font-family="Helvetica,sans-Serif" font-size="14.00">integrate Vanadium</text>
<text text-anchor="middle" x="475.06" y="-459.8" font-family="Helvetica,sans-Serif" font-size="14.00">around the elastic line</text>
</g>
<!-- vanadiumStructureFactorQ -->
<g id="node47" class="node">
<title>vanadiumStructureFactorQ</title>
<polygon fill="grey" stroke="black" points="532.29,-415 447.61,-415 425.83,-379 510.51,-379 532.29,-415"/>
<text text-anchor="middle" x="479.06" y="-393.3" font-family="Times,serif" font-size="14.00">Sv(Q)</text>
</g>
<!-- integrateVanadiumAroundElasticLine&#45;&gt;vanadiumStructureFactorQ -->
<g id="edge51" class="edge">
<title>integrateVanadiumAroundElasticLine&#45;&gt;vanadiumStructureFactorQ</title>
<path fill="none" stroke="black" d="M476.07,-451.83C476.51,-443.89 477.04,-434.41 477.52,-425.63"/>
<polygon fill="black" stroke="black" points="481.03,-425.6 478.09,-415.42 474.04,-425.21 481.03,-425.6"/>
</g>
<!-- maskFile -->
<g id="node24" class="node">
<title>maskFile</title>
<ellipse fill="khaki" stroke="black" cx="952.06" cy="-2705" rx="49.29" ry="18"/>
<text text-anchor="middle" x="952.06" y="-2701.3" font-family="Helvetica,sans-Serif" font-size="14.00">MaskFile</text>
</g>
<!-- maskFile&#45;&gt;loadMaskFile -->
<g id="edge3" class="edge">
<title>maskFile&#45;&gt;loadMaskFile</title>
<path fill="none" stroke="black" d="M974.37,-2688.77C988.37,-2679.21 1006.69,-2666.71 1022.43,-2655.96"/>
<polygon fill="black" stroke="black" points="1024.58,-2658.73 1030.86,-2650.2 1020.63,-2652.95 1024.58,-2658.73"/>
</g>
<!-- defaultMaskFile -->
<g id="node25" class="node">
<title>defaultMaskFile</title>
<ellipse fill="khaki" stroke="black" cx="1123.06" cy="-2705" rx="103.98" ry="18"/>
<text text-anchor="middle" x="1123.06" y="-2701.3" font-family="Helvetica,sans-Serif" font-size="14.00">DEFAULT_MASK_FILE</text>
</g>
<!-- defaultMaskFile&#45;&gt;loadMaskFile -->
<g id="edge4" class="edge">
<title>defaultMaskFile&#45;&gt;loadMaskFile</title>
<path fill="none" stroke="black" d="M1107.18,-2687.17C1098.88,-2678.37 1088.55,-2667.43 1079.36,-2657.69"/>
<polygon fill="black" stroke="black" points="1081.7,-2655.07 1072.29,-2650.2 1076.61,-2659.87 1081.7,-2655.07"/>
</g>
<!-- NormRunNumbers -->
<g id="node26" class="node">
<title>NormRunNumbers</title>
<ellipse fill="khaki" stroke="black" cx="321.06" cy="-2632" rx="118.08" ry="18"/>
<text text-anchor="middle" x="321.06" y="-2628.3" font-family="Helvetica,sans-Serif" font-size="14.00">Vanadium run numbers</text>
</g>
<!-- NormRunNumbers&#45;&gt;aggregateV -->
<g id="edge7" class="edge">
<title>NormRunNumbers&#45;&gt;aggregateV</title>
<path fill="none" stroke="black" d="M372.16,-2615.71C418.67,-2601.79 487.62,-2581.15 538.44,-2565.94"/>
<polygon fill="black" stroke="black" points="539.45,-2569.29 548.03,-2563.07 537.44,-2562.58 539.45,-2569.29"/>
</g>
<!-- NormWavelengthRange -->
<g id="node27" class="node">
<title>NormWavelengthRange</title>
<ellipse fill="khaki" stroke="black" cx="485.06" cy="-1773" rx="144.07" ry="18"/>
<text text-anchor="middle" x="485.06" y="-1769.3" font-family="Helvetica,sans-Serif" font-size="14.00">wavelength integration range</text>
</g>
<!-- NormWavelengthRange&#45;&gt;integrateWavelengthV -->
<g id="edge25" class="edge">
<title>NormWavelengthRange&#45;&gt;integrateWavelengthV</title>
<path fill="none" stroke="black" d="M485.46,-1754.8C485.74,-1743.16 486.1,-1727.55 486.42,-1714.24"/>
<polygon fill="black" stroke="black" points="489.92,-1714.26 486.65,-1704.18 482.92,-1714.09 489.92,-1714.26"/>
</g>
<!-- groupDetectors -->
<g id="node28" class="node">
<title>groupDetectors</title>
<ellipse fill="khaki" stroke="black" cx="488.06" cy="-952" rx="198.47" ry="18"/>
<text text-anchor="middle" x="488.06" y="-948.3" font-family="Helvetica,sans-Serif" font-size="14.00">group detectors by tube or low&#45;resolution</text>
</g>
<!-- groupDetectors&#45;&gt;checkgroupDetectors -->
<g id="edge42" class="edge">
<title>groupDetectors&#45;&gt;checkgroupDetectors</title>
<path fill="none" stroke="black" d="M490.96,-933.81C492.32,-925.79 493.97,-916.05 495.48,-907.07"/>
<polygon fill="black" stroke="black" points="498.96,-907.47 497.18,-897.03 492.06,-906.31 498.96,-907.47"/>
</g>
<!-- runNumbers -->
<g id="node29" class="node">
<title>runNumbers</title>
<ellipse fill="khaki" stroke="black" cx="876.06" cy="-2632" rx="105.08" ry="18"/>
<text text-anchor="middle" x="876.06" y="-2628.3" font-family="Helvetica,sans-Serif" font-size="14.00">sample run numbers</text>
</g>
<!-- runNumbers&#45;&gt;aggregateS -->
<g id="edge8" class="edge">
<title>runNumbers&#45;&gt;aggregateS</title>
<path fill="none" stroke="black" d="M876.06,-2613.8C876.06,-2602.16 876.06,-2586.55 876.06,-2573.24"/>
<polygon fill="black" stroke="black" points="879.56,-2573.18 876.06,-2563.18 872.56,-2573.18 879.56,-2573.18"/>
</g>
<!-- checkMaskFile -->
<g id="node30" class="node">
<title>checkMaskFile</title>
<polygon fill="limegreen" stroke="black" points="1037.06,-2810 905.68,-2792 1037.06,-2774 1168.44,-2792 1037.06,-2810"/>
<text text-anchor="middle" x="1037.06" y="-2788.3" font-family="Helvetica,sans-Serif" font-size="14.00">custom mask file?</text>
</g>
<!-- checkMaskFile&#45;&gt;maskFile -->
<g id="edge1" class="edge">
<title>checkMaskFile&#45;&gt;maskFile</title>
<path fill="none" stroke="black" d="M1021.86,-2775.8C1009.01,-2762.95 990.39,-2744.33 975.61,-2729.55"/>
<polygon fill="black" stroke="black" points="977.83,-2726.82 968.28,-2722.22 972.88,-2731.77 977.83,-2726.82"/>
<text text-anchor="middle" x="1011.56" y="-2744.8" font-family="Helvetica,sans-Serif" font-size="14.00">Yes</text>
</g>
<!-- checkMaskFile&#45;&gt;defaultMaskFile -->
<g id="edge2" class="edge">
<title>checkMaskFile&#45;&gt;defaultMaskFile</title>
<path fill="none" stroke="black" d="M1052.43,-2775.8C1065.27,-2763.12 1083.8,-2744.8 1098.66,-2730.11"/>
<polygon fill="black" stroke="black" points="1101.4,-2732.33 1106.05,-2722.81 1096.48,-2727.35 1101.4,-2732.33"/>
<text text-anchor="middle" x="1094.56" y="-2744.8" font-family="Helvetica,sans-Serif" font-size="14.00">No</text>
</g>
<!-- checkDivideByVanadium -->
<g id="node31" class="node">
<title>checkDivideByVanadium</title>
<polygon fill="limegreen" stroke="black" points="605.06,-2650 457.09,-2632 605.06,-2614 753.03,-2632 605.06,-2650"/>
<text text-anchor="middle" x="605.06" y="-2628.3" font-family="Helvetica,sans-Serif" font-size="14.00">divide by vanadium?</text>
</g>
<!-- checkDivideByVanadium&#45;&gt;aggregateV -->
<g id="edge6" class="edge">
<title>checkDivideByVanadium&#45;&gt;aggregateV</title>
<path fill="none" stroke="black" d="M605.06,-2613.8C605.06,-2602.16 605.06,-2586.55 605.06,-2573.24"/>
<polygon fill="black" stroke="black" points="608.56,-2573.18 605.06,-2563.18 601.56,-2573.18 608.56,-2573.18"/>
<text text-anchor="middle" x="616.56" y="-2584.8" font-family="Helvetica,sans-Serif" font-size="14.00">Yes</text>
</g>
<!-- checkMonNorm&#45;&gt;moderatorTzeroLinearM -->
<g id="edge15" class="edge">
<title>checkMonNorm&#45;&gt;moderatorTzeroLinearM</title>
<path fill="none" stroke="black" d="M857.35,-2236.41C841.99,-2223.61 819.99,-2205.27 802.45,-2190.66"/>
<polygon fill="black" stroke="black" points="804.68,-2187.96 794.75,-2184.25 800.2,-2193.34 804.68,-2187.96"/>
<text text-anchor="middle" x="843.56" y="-2205.8" font-family="Helvetica,sans-Serif" font-size="14.00">Yes</text>
</g>
<!-- checkMonNorm&#45;&gt;checkIsVanadium -->
<g id="edge16" class="edge">
<title>checkMonNorm&#45;&gt;checkIsVanadium</title>
<path fill="none" stroke="black" d="M913.17,-2238.53C942.34,-2225.28 978.06,-2201.92 978.06,-2167 978.06,-2167 978.06,-2167 978.06,-1932 978.06,-1914.5 968.39,-1897.63 958.22,-1884.73"/>
<polygon fill="black" stroke="black" points="960.69,-1882.24 951.56,-1876.86 955.35,-1886.76 960.69,-1882.24"/>
<text text-anchor="middle" x="987.56" y="-2045.8" font-family="Helvetica,sans-Serif" font-size="14.00">No</text>
</g>
<!-- checkByQSlice&#45;&gt;convertUnitsToEnergyV -->
<g id="edge38" class="edge">
<title>checkByQSlice&#45;&gt;convertUnitsToEnergyV</title>
<path fill="none" stroke="black" d="M753.52,-1390.11C703.47,-1380.23 651.06,-1358.14 651.06,-1309 651.06,-1309 651.06,-1309 651.06,-1184 651.06,-1142.33 689.47,-1120.94 731.85,-1110.02"/>
<polygon fill="black" stroke="black" points="732.88,-1113.37 741.8,-1107.66 731.27,-1106.56 732.88,-1113.37"/>
<text text-anchor="middle" x="662.56" y="-1268.3" font-family="Helvetica,sans-Serif" font-size="14.00">Yes</text>
</g>
<!-- checkNormalizeByDetectorID2 -->
<g id="node34" class="node">
<title>checkNormalizeByDetectorID2</title>
<polygon fill="limegreen" stroke="black" points="823.06,-1791 647.44,-1773 823.06,-1755 998.68,-1773 823.06,-1791"/>
<text text-anchor="middle" x="823.06" y="-1769.3" font-family="Helvetica,sans-Serif" font-size="14.00">normalize by detectorID?</text>
</g>
<!-- checkNormalizeByDetectorID2&#45;&gt;integrateWavelengthV -->
<g id="edge22" class="edge">
<title>checkNormalizeByDetectorID2&#45;&gt;integrateWavelengthV</title>
<path fill="none" stroke="black" d="M774.92,-1759.82C719.95,-1745.91 629.25,-1722.97 564.35,-1706.55"/>
<polygon fill="black" stroke="black" points="565.12,-1703.14 554.56,-1704.08 563.4,-1709.92 565.12,-1703.14"/>
<text text-anchor="middle" x="687.56" y="-1725.8" font-family="Helvetica,sans-Serif" font-size="14.00">Yes</text>
</g>
<!-- checkNormalizeByDetectorID2&#45;&gt;findDetectorsOutsideLimitsV -->
<g id="edge23" class="edge">
<title>checkNormalizeByDetectorID2&#45;&gt;findDetectorsOutsideLimitsV</title>
<path fill="none" stroke="black" d="M822.78,-1754.77C822.09,-1712.86 820.34,-1605.31 819.51,-1554.44"/>
<polygon fill="black" stroke="black" points="823,-1554.15 819.34,-1544.21 816,-1554.26 823,-1554.15"/>
<text text-anchor="middle" x="830.56" y="-1638.8" font-family="Helvetica,sans-Serif" font-size="14.00">No</text>
</g>
<!-- checkgroupDetectors&#45;&gt;groupingDetectorsV -->
<g id="edge43" class="edge">
<title>checkgroupDetectors&#45;&gt;groupingDetectorsV</title>
<path fill="none" stroke="black" d="M484.65,-862.41C472.23,-849.84 454.53,-831.93 440.23,-817.46"/>
<polygon fill="black" stroke="black" points="442.62,-814.9 433.1,-810.25 437.64,-819.82 442.62,-814.9"/>
<text text-anchor="middle" x="475.56" y="-831.8" font-family="Helvetica,sans-Serif" font-size="14.00">Yes</text>
</g>
<!-- checkgroupDetectors&#45;&gt;SofQW3V -->
<g id="edge45" class="edge">
<title>checkgroupDetectors&#45;&gt;SofQW3V</title>
<path fill="none" stroke="black" d="M503.14,-861.1C506.31,-840.25 509.8,-803.89 502.06,-774 499.53,-764.24 494.81,-754.37 489.86,-745.78"/>
<polygon fill="black" stroke="black" points="492.7,-743.72 484.48,-737.03 486.73,-747.38 492.7,-743.72"/>
<text text-anchor="middle" x="516.56" y="-788.3" font-family="Helvetica,sans-Serif" font-size="14.00">No</text>
</g>
<!-- checkIsVanadium&#45;&gt;checkNormalizeByDetectorID2 -->
<g id="edge21" class="edge">
<title>checkIsVanadium&#45;&gt;checkNormalizeByDetectorID2</title>
<path fill="none" stroke="black" d="M914.78,-1843.61C896.91,-1830.04 870.7,-1810.16 850.88,-1795.11"/>
<polygon fill="black" stroke="black" points="852.9,-1792.25 842.81,-1788.99 848.66,-1797.83 852.9,-1792.25"/>
<text text-anchor="middle" x="921.06" y="-1812.8" font-family="Helvetica,sans-Serif" font-size="14.00">Vanadium</text>
</g>
<!-- checkDivideByVanadium2 -->
<g id="node37" class="node">
<title>checkDivideByVanadium2</title>
<polygon fill="limegreen" stroke="black" points="1042.06,-1471 894.09,-1453 1042.06,-1435 1190.03,-1453 1042.06,-1471"/>
<text text-anchor="middle" x="1042.06" y="-1449.3" font-family="Helvetica,sans-Serif" font-size="14.00">divide by vanadium?</text>
</g>
<!-- checkIsVanadium&#45;&gt;checkDivideByVanadium2 -->
<g id="edge24" class="edge">
<title>checkIsVanadium&#45;&gt;checkDivideByVanadium2</title>
<path fill="none" stroke="black" d="M973.33,-1845C1002.27,-1831.66 1037.06,-1808.46 1037.06,-1774 1037.06,-1774 1037.06,-1774 1037.06,-1525 1037.06,-1510.52 1038.11,-1494.42 1039.24,-1481.21"/>
<polygon fill="black" stroke="black" points="1042.76,-1481.18 1040.2,-1470.9 1035.79,-1480.54 1042.76,-1481.18"/>
<text text-anchor="middle" x="1063.06" y="-1638.8" font-family="Helvetica,sans-Serif" font-size="14.00">Sample</text>
</g>
<!-- checkDivideByVanadium2&#45;&gt;convertUnitsToEnergyV -->
<g id="edge36" class="edge">
<title>checkDivideByVanadium2&#45;&gt;convertUnitsToEnergyV</title>
<path fill="none" stroke="black" d="M1054.75,-1436.42C1058.92,-1430.62 1063.2,-1423.79 1066.06,-1417 1078.52,-1387.35 1080.06,-1378.16 1080.06,-1346 1080.06,-1346 1080.06,-1346 1080.06,-1184 1080.06,-1154.43 1014.08,-1132.43 951.6,-1118.23"/>
<polygon fill="black" stroke="black" points="952.13,-1114.77 941.61,-1116.02 950.62,-1121.6 952.13,-1114.77"/>
<text text-anchor="middle" x="1089.56" y="-1268.3" font-family="Helvetica,sans-Serif" font-size="14.00">No</text>
</g>
<!-- checkDivideByVanadium2&#45;&gt;maskDetectors2 -->
<g id="edge30" class="edge">
<title>checkDivideByVanadium2&#45;&gt;maskDetectors2</title>
<path fill="none" stroke="black" d="M1041.42,-1434.85C1039.88,-1418.67 1035,-1394.87 1020.06,-1381 1008.05,-1369.85 973.45,-1361.43 940.28,-1355.64"/>
<polygon fill="black" stroke="black" points="940.5,-1352.12 930.06,-1353.92 939.35,-1359.03 940.5,-1352.12"/>
<text text-anchor="middle" x="1050.56" y="-1395.3" font-family="Helvetica,sans-Serif" font-size="14.00">Yes</text>
</g>
<!-- checkNormalizeByQslice -->
<g id="node40" class="node">
<title>checkNormalizeByQslice</title>
<polygon fill="limegreen" stroke="black" points="588.06,-577 442.6,-559 588.06,-541 733.51,-559 588.06,-577"/>
<text text-anchor="middle" x="588.06" y="-555.3" font-family="Helvetica,sans-Serif" font-size="14.00">normalize by Q slice</text>
</g>
<!-- checkIsVanadium2&#45;&gt;checkNormalizeByQslice -->
<g id="edge48" class="edge">
<title>checkIsVanadium2&#45;&gt;checkNormalizeByQslice</title>
<path fill="none" stroke="black" d="M493.07,-629.61C511.77,-615.9 539.29,-595.74 559.9,-580.63"/>
<polygon fill="black" stroke="black" points="561.99,-583.44 567.98,-574.71 557.85,-577.8 561.99,-583.44"/>
<text text-anchor="middle" x="563.06" y="-598.8" font-family="Helvetica,sans-Serif" font-size="14.00">Sample</text>
</g>
<!-- vanadiumStructureFactorQE -->
<g id="node46" class="node">
<title>vanadiumStructureFactorQE</title>
<polygon fill="grey" stroke="black" points="424.88,-577 316.99,-577 289.24,-541 397.12,-541 424.88,-577"/>
<text text-anchor="middle" x="357.06" y="-555.3" font-family="Times,serif" font-size="14.00">Sv(Q,E)</text>
</g>
<!-- checkIsVanadium2&#45;&gt;vanadiumStructureFactorQE -->
<g id="edge47" class="edge">
<title>checkIsVanadium2&#45;&gt;vanadiumStructureFactorQE</title>
<path fill="none" stroke="black" d="M451.23,-629.61C433.68,-616.63 408.29,-597.87 388.3,-583.09"/>
<polygon fill="black" stroke="black" points="390.22,-580.16 380.1,-577.03 386.06,-585.79 390.22,-580.16"/>
<text text-anchor="middle" x="457.06" y="-598.8" font-family="Helvetica,sans-Serif" font-size="14.00">Vanadium</text>
</g>
<!-- checkNormalizeByDetectorID&#45;&gt;convertUnitsToEnergyV -->
<g id="edge35" class="edge">
<title>checkNormalizeByDetectorID&#45;&gt;convertUnitsToEnergyV</title>
<path fill="none" stroke="black" d="M865.52,-1254.19C861.03,-1224.47 851.64,-1162.38 846.2,-1126.39"/>
<polygon fill="black" stroke="black" points="849.6,-1125.49 844.65,-1116.13 842.68,-1126.54 849.6,-1125.49"/>
<text text-anchor="middle" x="867.56" y="-1181.3" font-family="Helvetica,sans-Serif" font-size="14.00">No</text>
</g>
<!-- checkNormalizeByDetectorID&#45;&gt;DivideByVanadiumDetectorID -->
<g id="edge33" class="edge">
<title>checkNormalizeByDetectorID&#45;&gt;DivideByVanadiumDetectorID</title>
<path fill="none" stroke="black" d="M848.47,-1256C831.59,-1243.07 806.94,-1224.19 787.49,-1209.3"/>
<polygon fill="black" stroke="black" points="789.58,-1206.49 779.51,-1203.19 785.32,-1212.05 789.58,-1206.49"/>
<text text-anchor="middle" x="831.56" y="-1224.8" font-family="Helvetica,sans-Serif" font-size="14.00">Yes</text>
</g>
<!-- checkNormalizeByQslice&#45;&gt;integrateVanadiumAroundElasticLine -->
<g id="edge49" class="edge">
<title>checkNormalizeByQslice&#45;&gt;integrateVanadiumAroundElasticLine</title>
<path fill="none" stroke="black" d="M568.63,-543.22C551.74,-530.36 526.92,-511.47 507.09,-496.38"/>
<polygon fill="black" stroke="black" points="509.01,-493.44 498.94,-490.17 504.77,-499.01 509.01,-493.44"/>
<text text-anchor="middle" x="553.56" y="-511.8" font-family="Helvetica,sans-Serif" font-size="14.00">Yes</text>
</g>
<!-- checkNormalizeByQslice&#45;&gt;sampleStructureFactor -->
<g id="edge54" class="edge">
<title>checkNormalizeByQslice&#45;&gt;sampleStructureFactor</title>
<path fill="none" stroke="black" d="M588.06,-540.87C588.06,-523.51 588.06,-495.89 588.06,-472 588.06,-472 588.06,-472 588.06,-323 588.06,-307.03 581.11,-290.77 573.59,-277.84"/>
<polygon fill="black" stroke="black" points="576.37,-275.69 568.1,-269.07 570.44,-279.4 576.37,-275.69"/>
<text text-anchor="middle" x="597.56" y="-393.3" font-family="Helvetica,sans-Serif" font-size="14.00">No</text>
</g>
<!-- datFile -->
<g id="node49" class="node">
<title>datFile</title>
<polygon fill="grey" stroke="black" points="200.18,-36 40.91,-36 -0.06,0 159.21,0 200.18,-36"/>
<text text-anchor="middle" x="100.06" y="-14.3" font-family="Times,serif" font-size="14.00">_sqw.dat file</text>
</g>
<!-- checkDivideByVanadium3&#45;&gt;datFile -->
<g id="edge57" class="edge">
<title>checkDivideByVanadium3&#45;&gt;datFile</title>
<path fill="none" stroke="black" d="M326.53,-91.64C283.64,-77.88 213.7,-55.45 162.88,-39.15"/>
<polygon fill="black" stroke="black" points="163.89,-35.8 153.3,-36.08 161.75,-42.46 163.89,-35.8"/>
<text text-anchor="middle" x="258.56" y="-57.8" font-family="Helvetica,sans-Serif" font-size="14.00">No</text>
</g>
<!-- dividedDatFile -->
<g id="node50" class="node">
<title>dividedDatFile</title>
<polygon fill="grey" stroke="black" points="530.12,-36 281.86,-36 217.99,0 466.26,0 530.12,-36"/>
<text text-anchor="middle" x="374.06" y="-14.3" font-family="Times,serif" font-size="14.00">_divided_sqw.dat file</text>
</g>
<!-- checkDivideByVanadium3&#45;&gt;dividedDatFile -->
<g id="edge58" class="edge">
<title>checkDivideByVanadium3&#45;&gt;dividedDatFile</title>
<path fill="none" stroke="black" d="M366.84,-87.21C368.07,-75.52 369.75,-59.69 371.18,-46.22"/>
<polygon fill="black" stroke="black" points="374.68,-46.36 372.25,-36.05 367.72,-45.63 374.68,-46.36"/>
<text text-anchor="middle" x="382.56" y="-57.8" font-family="Helvetica,sans-Serif" font-size="14.00">Yes</text>
</g>
<!-- sqwFile -->
<g id="node51" class="node">
<title>sqwFile</title>
<polygon fill="grey" stroke="black" points="770.99,-36 608.84,-36 567.13,0 729.28,0 770.99,-36"/>
<text text-anchor="middle" x="669.06" y="-14.3" font-family="Times,serif" font-size="14.00">_sqw.nxs file</text>
</g>
<!-- checkDivideByVanadium4&#45;&gt;sqwFile -->
<g id="edge61" class="edge">
<title>checkDivideByVanadium4&#45;&gt;sqwFile</title>
<path fill="none" stroke="black" d="M677.08,-87.21C675.71,-75.52 673.85,-59.69 672.26,-46.22"/>
<polygon fill="black" stroke="black" points="675.71,-45.57 671.06,-36.05 668.76,-46.39 675.71,-45.57"/>
<text text-anchor="middle" x="684.56" y="-57.8" font-family="Helvetica,sans-Serif" font-size="14.00">No</text>
</g>
<!-- dividedSqwFile -->
<g id="node52" class="node">
<title>dividedSqwFile</title>
<polygon fill="grey" stroke="black" points="1105.43,-36 853.49,-36 788.68,0 1040.62,0 1105.43,-36"/>
<text text-anchor="middle" x="947.06" y="-14.3" font-family="Times,serif" font-size="14.00">_divided_sqw.nxs file</text>
</g>
<!-- checkDivideByVanadium4&#45;&gt;dividedSqwFile -->
<g id="edge62" class="edge">
<title>checkDivideByVanadium4&#45;&gt;dividedSqwFile</title>
<path fill="none" stroke="black" d="M718.03,-91.64C761.4,-77.88 832.13,-55.45 883.53,-39.15"/>
<polygon fill="black" stroke="black" points="884.74,-42.44 893.22,-36.08 882.62,-35.76 884.74,-42.44"/>
<text text-anchor="middle" x="841.56" y="-57.8" font-family="Helvetica,sans-Serif" font-size="14.00">Yes</text>
</g>
<!-- maskData&#45;&gt;maskDetectors -->
<g id="edge11" class="edge">
<title>maskData&#45;&gt;maskDetectors</title>
<path fill="none" stroke="black" d="M1004.58,-2526.99C981.03,-2517.1 951.14,-2504.54 926.12,-2494.03"/>
<polygon fill="black" stroke="black" points="927.37,-2490.76 916.79,-2490.11 924.66,-2497.21 927.37,-2490.76"/>
</g>
<!-- basisNormMask&#45;&gt;maskDetectors2 -->
<g id="edge31" class="edge">
<title>basisNormMask&#45;&gt;maskDetectors2</title>
<path fill="none" stroke="black" d="M662.37,-1434.7C657.49,-1418.87 653.67,-1395.73 666.06,-1381 682.6,-1361.34 744.73,-1352.73 795.77,-1348.95"/>
<polygon fill="black" stroke="black" points="796.08,-1352.44 805.81,-1348.26 795.6,-1345.45 796.08,-1352.44"/>
</g>
<!-- vanadiumStructureFactorL&#45;&gt;findDetectorsOutsideLimitsV -->
<g id="edge27" class="edge">
<title>vanadiumStructureFactorL&#45;&gt;findDetectorsOutsideLimitsV</title>
<path fill="none" stroke="black" d="M546.8,-1585.22C597.71,-1574.34 671.63,-1558.53 729.61,-1546.13"/>
<polygon fill="black" stroke="black" points="730.45,-1549.53 739.5,-1544.01 728.99,-1542.68 730.45,-1549.53"/>
</g>
<!-- vanadiumStructureFactorL&#45;&gt;DivideByVanadiumDetectorID -->
<g id="edge34" class="edge">
<title>vanadiumStructureFactorL&#45;&gt;DivideByVanadiumDetectorID</title>
<path fill="none" stroke="black" d="M488.19,-1580.79C489.04,-1566.42 490.06,-1545.38 490.06,-1527 490.06,-1527 490.06,-1527 490.06,-1271 490.06,-1232.65 591.34,-1209.3 669.15,-1197.01"/>
<polygon fill="black" stroke="black" points="670.12,-1200.4 679.47,-1195.43 669.06,-1193.49 670.12,-1200.4"/>
</g>
<!-- vanadiumStructureFactorQE&#45;&gt;integrateVanadiumAroundElasticLine -->
<g id="edge50" class="edge">
<title>vanadiumStructureFactorQE&#45;&gt;integrateVanadiumAroundElasticLine</title>
<path fill="none" stroke="black" d="M380.65,-540.8C398.23,-527.99 422.46,-510.34 441.97,-496.12"/>
<polygon fill="black" stroke="black" points="444.26,-498.77 450.28,-490.06 440.14,-493.12 444.26,-498.77"/>
</g>
<!-- vanadiumStructureFactorQ&#45;&gt;DivideByVanadiumQslice -->
<g id="edge52" class="edge">
<title>vanadiumStructureFactorQ&#45;&gt;DivideByVanadiumQslice</title>
<path fill="none" stroke="black" d="M479.78,-378.81C480.12,-370.79 480.54,-361.05 480.91,-352.07"/>
<polygon fill="black" stroke="black" points="484.41,-352.17 481.34,-342.03 477.42,-351.87 484.41,-352.17"/>
</g>
<!-- sampleStructureFactor&#45;&gt;saveToDaveGroup -->
<g id="edge55" class="edge">
<title>sampleStructureFactor&#45;&gt;saveToDaveGroup</title>
<path fill="none" stroke="black" d="M533.76,-232.81C522.41,-223.66 508.28,-212.26 495.96,-202.32"/>
<polygon fill="black" stroke="black" points="498.15,-199.58 488.16,-196.03 493.75,-205.03 498.15,-199.58"/>
</g>
<!-- sampleStructureFactor&#45;&gt;saveToNexus -->
<g id="edge59" class="edge">
<title>sampleStructureFactor&#45;&gt;saveToNexus</title>
<path fill="none" stroke="black" d="M580.45,-232.99C594.37,-223.67 611.83,-211.97 626.93,-201.86"/>
<polygon fill="black" stroke="black" points="629.15,-204.59 635.51,-196.11 625.25,-198.77 629.15,-204.59"/>
</g>
</g>
</svg>
