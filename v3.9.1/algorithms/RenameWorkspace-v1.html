<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>RenameWorkspace v1</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.2.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.2.0/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.9.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.2.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="" href="../index.html" />
    <link rel="next" title="RenameWorkspaces v1" href="RenameWorkspaces-v1.html" />
    <link rel="prev" title="RenameLog v1" href="RenameLog-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>3.9</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://www.mantidproject.org/Documentation">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="renameworkspace-v1">
<span id="algm-renameworkspace"></span><span id="algm-renameworkspace-v1"></span><h1>RenameWorkspace v1<a class="headerlink" href="#renameworkspace-v1" title="Permalink to this headline">¶</a></h1>
<div class="figure align-right" id="index-0">
<a class="screenshot reference internal image-reference" href="../_images/RenameWorkspace-v1_dlg.png"><img alt="../_images/RenameWorkspace-v1_dlg.png" class="screenshot" src="../_images/RenameWorkspace-v1_dlg.png" style="width: 378px;" /></a>
<p class="caption"><strong>RenameWorkspace</strong> dialog.</p>
</div>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#summary" id="id1">Summary</a></li>
<li><a class="reference internal" href="#properties" id="id2">Properties</a></li>
<li><a class="reference internal" href="#description" id="id3">Description</a></li>
<li><a class="reference internal" href="#usage" id="id4">Usage</a></li>
<li><a class="reference internal" href="#source" id="id5">Source</a></li>
</ul>
</div>
<div class="section" id="summary">
<h2><a class="toc-backref" href="#id1">Summary</a><a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>Rename the Workspace.</p>
</div>
<div class="section" id="properties">
<h2><a class="toc-backref" href="#id2">Properties</a><a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="6%" />
<col width="2%" />
<col width="9%" />
<col width="4%" />
<col width="79%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Direction</th>
<th class="head">Type</th>
<th class="head">Default</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>InputWorkspace</td>
<td>Input</td>
<td><a class="reference internal" href="../concepts/Workspace.html#workspace"><em>Workspace</em></a></td>
<td><em>Mandatory</em></td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>OutputWorkspace</td>
<td>Output</td>
<td><a class="reference internal" href="../concepts/Workspace.html#workspace"><em>Workspace</em></a></td>
<td><em>Mandatory</em></td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>RenameMonitors</td>
<td>Input</td>
<td>boolean</td>
<td>False</td>
<td>If true, and monitor workspace found attached to the source workspace, the monitors workspace is renamed too. The monitor workspace name is created from the new workspace name: NewWSName by adding the _monitors suffix (e.g.: NewWSName_monitors)</td>
</tr>
<tr class="row-odd"><td>OverwriteExisting</td>
<td>Input</td>
<td>boolean</td>
<td>True</td>
<td>If true any existing workspaces with the output name will be overwritten. Defaults to true to maintain backwards compatibility.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="description">
<h2><a class="toc-backref" href="#id3">Description</a><a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>Renames a workspace to a different name in the data service. If the same
name is provided for input and output then the algorithm will fail with
an error. The Renaming is implemented as a removal of the original
workspace from the data service and re-addition under the new name.</p>
<p>If run on a group workspace, the members of the group will be renamed if
their names follow the pattern groupName_1, groupName_2, etc. (they
will be renamed to newName_1, newname_2, etc.). Otherwise, only the
group itself will be renamed - the members will keep their previous
names.</p>
<p>The new name can be the same as any existing workspaces if the overwrite flag
is set to true. This will replace the existing workspace.
If the Overwrite flag is set to false and any name is in use RenameWorkspace
will not rename the workspace and log an error.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">RenameWorkspace is set to overwrite by default to maintain backwards compatibility.
Ensure the overwrite flag is set to false to prevent any existing workspaces being
replaced with the renamed workspace.</p>
</div>
</div>
<div class="section" id="usage">
<h2><a class="toc-backref" href="#id4">Usage</a><a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p><strong>Example</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">AnalysisDataService</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<span class="n">myWs</span><span class="o">=</span><span class="n">CreateSampleWorkspace</span><span class="p">()</span>
<span class="n">mon_ws</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">()</span>
<span class="n">myWs</span><span class="o">.</span><span class="n">setMonitorWorkspace</span><span class="p">(</span><span class="n">mon_ws</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&quot;*********************************************************************&quot;</span>
<span class="k">print</span> <span class="s">&quot;{0:20}|{1:&gt;20}|{2:&gt;20}|&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s">&quot;Existing WS names: &quot;</span><span class="p">,</span><span class="n">myWs</span><span class="o">.</span><span class="n">name</span><span class="p">(),</span><span class="n">mon_ws</span><span class="o">.</span><span class="n">name</span><span class="p">())</span>
<span class="n">obj_inADS</span> <span class="o">=</span> <span class="n">AnalysisDataService</span><span class="o">.</span><span class="n">getObjectNames</span><span class="p">()</span>
<span class="n">obj_inADS</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
<span class="k">print</span> <span class="s">&quot;{0:20}|{1:&gt;6}| With Names: |{2:&gt;20}|{3:&gt;20}|&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s">&quot;Exist in ADS: &quot;</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">obj_inADS</span><span class="p">),</span><span class="n">obj_inADS</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">obj_inADS</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="c">#</span>
<span class="n">NameA</span> <span class="o">=</span> <span class="n">RenameWorkspace</span><span class="p">(</span><span class="n">myWs</span><span class="p">)</span>
<span class="c">#</span>
<span class="k">print</span> <span class="s">&quot;***** After simple rename:&quot;</span>
<span class="k">print</span> <span class="s">&quot;{0:20}|{1:&gt;20}|{2:&gt;20}|&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s">&quot;Existing WS names: &quot;</span><span class="p">,</span><span class="n">NameA</span><span class="o">.</span><span class="n">name</span><span class="p">(),</span><span class="n">mon_ws</span><span class="o">.</span><span class="n">name</span><span class="p">())</span>
<span class="n">obj_inADS</span> <span class="o">=</span> <span class="n">AnalysisDataService</span><span class="o">.</span><span class="n">getObjectNames</span><span class="p">()</span>
<span class="n">obj_inADS</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
<span class="k">print</span> <span class="s">&quot;{0:20}|{1:&gt;6}| With Names: |{2:&gt;20}|{3:&gt;20}|&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s">&quot;Exist in ADS: &quot;</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">obj_inADS</span><span class="p">),</span><span class="n">obj_inADS</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">obj_inADS</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>

<span class="k">print</span> <span class="s">&quot;Old pointer to myWs refers to workspace with new name: &quot;</span><span class="p">,</span><span class="n">myWs</span><span class="o">.</span><span class="n">name</span><span class="p">()</span>
<span class="k">print</span> <span class="s">&quot;*********************************************************************&quot;</span>
<span class="k">print</span> <span class="s">&quot;***** After renaming workspace and monitors workspace together:&quot;</span>
<span class="c">#</span>
<span class="n">NameB</span> <span class="o">=</span> <span class="n">RenameWorkspace</span><span class="p">(</span><span class="n">myWs</span><span class="p">,</span><span class="n">RenameMonitors</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="c">#</span>
<span class="k">print</span> <span class="s">&quot;{0:20}|{1:&gt;20}|{2:&gt;20}|&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s">&quot;Existing WS names: &quot;</span><span class="p">,</span><span class="n">NameB</span><span class="o">.</span><span class="n">name</span><span class="p">(),</span><span class="n">mon_ws</span><span class="o">.</span><span class="n">name</span><span class="p">())</span>
<span class="n">obj_inADS</span> <span class="o">=</span> <span class="n">AnalysisDataService</span><span class="o">.</span><span class="n">getObjectNames</span><span class="p">()</span>
<span class="n">obj_inADS</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
<span class="k">print</span> <span class="s">&quot;{0:20}|{1:&gt;6}| With Names: |{2:&gt;20}|{3:&gt;20}|&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s">&quot;Exist in ADS: &quot;</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">obj_inADS</span><span class="p">),</span><span class="n">obj_inADS</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">obj_inADS</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="c">#</span>
<span class="n">mon_ws1</span> <span class="o">=</span> <span class="n">NameB</span><span class="o">.</span><span class="n">getMonitorWorkspace</span><span class="p">()</span>
<span class="k">print</span> <span class="s">&quot;The name of the monitor workspace attached to workspace:{0:&gt;6}| Is:  {1:&gt;10}|&quot;</span><span class="o">.</span>\
         <span class="n">format</span><span class="p">(</span><span class="n">NameB</span><span class="o">.</span><span class="n">name</span><span class="p">(),</span><span class="n">mon_ws1</span><span class="o">.</span><span class="n">name</span><span class="p">())</span>
<span class="k">print</span> <span class="s">&quot;*********************************************************************&quot;</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none"><div class="highlight"><pre>*********************************************************************
Existing WS names:  |                myWs|              mon_ws|
Exist in ADS:       |     2| With Names: |              mon_ws|                myWs|
***** After simple rename:
Existing WS names:  |               NameA|              mon_ws|
Exist in ADS:       |     2| With Names: |               NameA|              mon_ws|
Old pointer to myWs refers to workspace with new name:  NameA
*********************************************************************
***** After renaming workspace and monitors workspace together:
Existing WS names:  |               NameB|      NameB_monitors|
Exist in ADS:       |     2| With Names: |               NameB|      NameB_monitors|
The name of the monitor workspace attached to workspace: NameB| Is:  NameB_monitors|
*********************************************************************
</pre></div>
</div>
<p><strong>Example - Setting Overwrite on and off:</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="c">#Clear the ADS before starting</span>
<span class="n">AnalysisDataService</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>

<span class="c">#Create an existing workspace called &#39;wsOld&#39;</span>
<span class="n">CreateWorkspace</span><span class="p">([</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s">&quot;wsOld&quot;</span><span class="p">)</span>

<span class="c">#Next create a workspace we are going to rename</span>
<span class="n">CreateWorkspace</span><span class="p">([</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s">&quot;wsNew&quot;</span><span class="p">)</span>

<span class="c">#This will fail telling us that &#39;wsOld&#39; already exists</span>
<span class="k">print</span> <span class="s">&#39;Trying to rename with OverwriteExisting set to false.&#39;</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">RenameWorkspace</span><span class="p">(</span><span class="n">InputWorkspace</span><span class="o">=</span><span class="s">&quot;wsNew&quot;</span><span class="p">,</span> <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s">&quot;wsOld&quot;</span><span class="p">,</span> <span class="n">OverwriteExisting</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">RuntimeError</span><span class="p">:</span>
    <span class="k">print</span> <span class="s">&#39;RuntimeError: The workspace wsOld already exists&#39;</span>

<span class="c">#This will succeed in renaming and &#39;wsOld&#39; will be replaced with &#39;wsNew&#39;</span>
<span class="k">print</span> <span class="s">&#39;Trying to rename with OverwriteExisting set to true.&#39;</span>
<span class="n">RenameWorkspace</span><span class="p">(</span><span class="n">InputWorkspace</span><span class="o">=</span><span class="s">&quot;wsNew&quot;</span><span class="p">,</span> <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s">&quot;wsOld&quot;</span><span class="p">,</span> <span class="n">OverwriteExisting</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&#39;Succeeded&#39;</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none"><div class="highlight"><pre>Trying to rename with OverwriteExisting set to false.
RuntimeError: The workspace wsOld already exists
Trying to rename with OverwriteExisting set to true.
Succeeded
</pre></div>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/Algorithms.html">Algorithms</a> | <a class="reference external" href="categories/Utility/Workspaces.html">Utility\Workspaces</a></p>
</div>
<div class="section" id="source">
<h2><a class="toc-backref" href="#id5">Source</a><a class="headerlink" href="#source" title="Permalink to this headline">¶</a></h2>
<p>C++ source: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/a948b43f4e569c67c5896a3135c635a82d326bdb/Framework/Algorithms/src/RenameWorkspace.cpp">RenameWorkspace.cpp</a></p>
<p>C++ header: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/a948b43f4e569c67c5896a3135c635a82d326bdb/Framework/Algorithms/inc/MantidAlgorithms/RenameWorkspace.h">RenameWorkspace.h</a></p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="RenameLog-v1.html" title="Previous Chapter: RenameLog v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; RenameLog v1</span>
    </a>
  </li>
  <li>
    <a href="RenameWorkspaces-v1.html" title="Next Chapter: RenameWorkspaces v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">RenameWorkspaces... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>