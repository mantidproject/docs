<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>MedianBinWidth v1</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.2.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.2.0/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.9.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.2.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="" href="../index.html" />
    <link rel="next" title="MedianDetectorTest v1" href="MedianDetectorTest-v1.html" />
    <link rel="prev" title="Mean v1" href="Mean-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>3.9</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://www.mantidproject.org/Documentation">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="medianbinwidth-v1">
<span id="algm-medianbinwidth"></span><span id="algm-medianbinwidth-v1"></span><h1>MedianBinWidth v1<a class="headerlink" href="#medianbinwidth-v1" title="Permalink to this headline">¶</a></h1>
<div class="figure align-right" id="index-0">
<a class="screenshot reference internal image-reference" href="../_images/MedianBinWidth-v1_dlg.png"><img alt="../_images/MedianBinWidth-v1_dlg.png" class="screenshot" src="../_images/MedianBinWidth-v1_dlg.png" style="width: 321px;" /></a>
<p class="caption"><strong>MedianBinWidth</strong> dialog.</p>
</div>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#summary" id="id1">Summary</a></li>
<li><a class="reference internal" href="#properties" id="id2">Properties</a></li>
<li><a class="reference internal" href="#description" id="id3">Description</a><ul>
<li><a class="reference internal" href="#rounding" id="id4">Rounding</a></li>
<li><a class="reference internal" href="#restrictions-on-properties" id="id5">Restrictions on properties</a></li>
</ul>
</li>
<li><a class="reference internal" href="#usage" id="id6">Usage</a></li>
<li><a class="reference internal" href="#source" id="id7">Source</a></li>
</ul>
</div>
<div class="section" id="summary">
<h2><a class="toc-backref" href="#id1">Summary</a><a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>Calculates the average of workspace&#8217;s histograms&#8217; median bin widths.</p>
</div>
<div class="section" id="properties">
<h2><a class="toc-backref" href="#id2">Properties</a><a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="5%" />
<col width="32%" />
<col width="9%" />
<col width="41%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Direction</th>
<th class="head">Type</th>
<th class="head">Default</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>InputWorkspace</td>
<td>Input</td>
<td><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><em>MatrixWorkspace</em></a></td>
<td><em>Mandatory</em></td>
<td>The workspace containing the input data</td>
</tr>
<tr class="row-odd"><td>Rounding</td>
<td>Input</td>
<td>string</td>
<td>None</td>
<td>Bin width rounding. Allowed values: [&#8216;None&#8217;, &#8216;10^n&#8217;]</td>
</tr>
<tr class="row-even"><td>BinWidth</td>
<td>Output</td>
<td>number</td>
<td>&nbsp;</td>
<td>The averaged median bin width</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="description">
<h2><a class="toc-backref" href="#id3">Description</a><a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>This algorithm calculates the median bin width of each histogram in <em>InputWorkspace</em>. The (optionally rounded) mean value of the medians is then placed in the <em>BinWidth</em> output property.</p>
<div class="section" id="rounding">
<h3><a class="toc-backref" href="#id4">Rounding</a><a class="headerlink" href="#rounding" title="Permalink to this headline">¶</a></h3>
<p>If the <em>Rounding</em> property is set to <strong>10^n</strong>, the bin width will be rounded down to the nearest power of 10. For example, 0.11 and 0.99 will be rounded to 0.1, while 0.011 and 0.099 will be rounded to 0.01.</p>
</div>
<div class="section" id="restrictions-on-properties">
<h3><a class="toc-backref" href="#id5">Restrictions on properties</a><a class="headerlink" href="#restrictions-on-properties" title="Permalink to this headline">¶</a></h3>
<p>The <em>InputWorkspace</em> has to contain histogram data. For point data, <a class="reference internal" href="ConvertToHistogram-v1.html#algm-converttohistogram"><em>ConvertToHistogram v1</em></a> can be used first, but care should be taken if the points are not equally spaced.</p>
</div>
</div>
<div class="section" id="usage">
<h2><a class="toc-backref" href="#id6">Usage</a><a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p><strong>Example: rebinning a workspace.</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">numpy</span>

<span class="c"># For normal python lists: 3 * [0.1] = [0.1, 0.1, 0.1]</span>
<span class="n">binWidths</span> <span class="o">=</span> <span class="mi">3</span> <span class="o">*</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">4</span> <span class="o">*</span> <span class="p">[</span><span class="mf">1.7</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="mf">10.0</span><span class="p">]</span>
<span class="c"># Convert to numpy array.</span>
<span class="c"># For numpy arrays: 3 * [0.1] = [0.3], thus the above magic would not work.</span>
<span class="n">binWidhts</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">binWidths</span><span class="p">)</span>
<span class="c"># Make bin boundaries out of the widths. The first boundary is at -3.0.</span>
<span class="n">xs</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">cumsum</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mf">3.0</span><span class="p">]),</span> <span class="n">binWidths</span><span class="p">))</span>
<span class="c"># There is one less bin than the number of boundaries.</span>
<span class="n">ys</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">xs</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">CreateWorkspace</span><span class="p">(</span><span class="n">DataX</span><span class="o">=</span><span class="n">xs</span><span class="p">,</span> <span class="n">DataY</span><span class="o">=</span><span class="n">ys</span><span class="p">)</span>

<span class="n">newWidth</span> <span class="o">=</span> <span class="n">MedianBinWidth</span><span class="p">(</span><span class="n">InputWorkspace</span><span class="o">=</span><span class="n">ws</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">&#39;New bin width: {0}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">newWidth</span><span class="p">))</span>

<span class="n">rebinned</span> <span class="o">=</span> <span class="n">Rebin</span><span class="p">(</span><span class="n">InputWorkspace</span><span class="o">=</span><span class="n">ws</span><span class="p">,</span> <span class="n">Params</span><span class="o">=</span><span class="p">[</span><span class="n">newWidth</span><span class="p">],</span> <span class="n">FullBinsOnly</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="n">widths</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">readX</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">1</span><span class="p">:]</span> <span class="o">-</span> <span class="n">ws</span><span class="o">.</span><span class="n">readX</span><span class="p">(</span><span class="mi">0</span><span class="p">)[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="k">print</span><span class="p">(</span><span class="s">&#39;Bin widths before rebinning: {0}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">widths</span><span class="p">))</span>
<span class="n">widths</span> <span class="o">=</span> <span class="n">rebinned</span><span class="o">.</span><span class="n">readX</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">1</span><span class="p">:]</span> <span class="o">-</span> <span class="n">rebinned</span><span class="o">.</span><span class="n">readX</span><span class="p">(</span><span class="mi">0</span><span class="p">)[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="k">print</span><span class="p">(</span><span class="s">&#39;Bin widths after rebinning: {0}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">widths</span><span class="p">))</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none"><div class="highlight"><pre>New bin width: 1.7
Bin widths before rebinning: [  0.1   0.1   0.1   1.7   1.7   1.7   1.7  10. ]
Bin widths after rebinning: [ 1.7  1.7  1.7  1.7  1.7  1.7  1.7  1.7  1.7  1.7]
</pre></div>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/Algorithms.html">Algorithms</a> | <a class="reference external" href="categories/Utility/Calculation.html">Utility\Calculation</a></p>
</div>
<div class="section" id="source">
<h2><a class="toc-backref" href="#id7">Source</a><a class="headerlink" href="#source" title="Permalink to this headline">¶</a></h2>
<p>Python: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/a948b43f4e569c67c5896a3135c635a82d326bdb/Framework/PythonInterface/plugins/algorithms/MedianBinWidth.py">MedianBinWidth.py</a></p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="Mean-v1.html" title="Previous Chapter: Mean v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Mean v1</span>
    </a>
  </li>
  <li>
    <a href="MedianDetectorTest-v1.html" title="Next Chapter: MedianDetectorTest v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">MedianDetectorTe... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>