<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>CopyDetectorMapping v1</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.1.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.1.0/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.4.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="" href="../index.html" />
    <link rel="next" title="CopyInstrumentParameters v1" href="CopyInstrumentParameters-v1.html" />
    <link rel="prev" title="ConvolveWorkspaces v1" href="ConvolveWorkspaces-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>3.4</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://www.mantidproject.org/Documentation">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="copydetectormapping-v1">
<span id="algm-copydetectormapping"></span><span id="algm-copydetectormapping-v1"></span><h1>CopyDetectorMapping v1<a class="headerlink" href="#copydetectormapping-v1" title="Permalink to this headline">¶</a></h1>
<div class="figure align-right" id="index-0">
<a class="screenshot reference internal image-reference" href="../_images/CopyDetectorMapping-v1_dlg.png"><img alt="../_images/CopyDetectorMapping-v1_dlg.png" class="screenshot" src="../_images/CopyDetectorMapping-v1_dlg.png" style="width: 429px;" /></a>
<p class="caption"><strong>CopyDetectorMapping</strong> dialog.</p>
</div>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#summary" id="id1">Summary</a></li>
<li><a class="reference internal" href="#properties" id="id2">Properties</a></li>
<li><a class="reference internal" href="#description" id="id3">Description</a></li>
<li><a class="reference internal" href="#usage" id="id4">Usage:</a></li>
</ul>
</div>
<div class="section" id="summary">
<h2><a class="toc-backref" href="#id1">Summary</a><a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>Copies spectra to detector mapping from one Matrix Workspace to another.</p>
</div>
<div class="section" id="properties">
<h2><a class="toc-backref" href="#id2">Properties</a><a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="9%" />
<col width="2%" />
<col width="17%" />
<col width="5%" />
<col width="67%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Direction</th>
<th class="head">Type</th>
<th class="head">Default</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>WorkspaceToMatch</td>
<td>Input</td>
<td><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><em>MatrixWorkspace</em></a></td>
<td><em>Mandatory</em></td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>WorkspaceToRemap</td>
<td>InOut</td>
<td><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><em>MatrixWorkspace</em></a></td>
<td><em>Mandatory</em></td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>IndexBySpectrumNumber</td>
<td>Input</td>
<td>boolean</td>
<td>False</td>
<td>Will use mapping indexed by spectrum number rather than the default ofspectrum index (recommended when both workspaces have a vertical axis in spectrum number).</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="description">
<h2><a class="toc-backref" href="#id3">Description</a><a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>This algorithm will copy the spectra to detector ID mapping form one workspace
to the other, either on a spectrum index or spectrum number basis.</p>
<p>Typically if both the workspace to be remapped and the workspace being matched
both have their vertical axes in spectrum number then the IndexBySpectrumNumber
option should be considered. With the option disabled the algorithm will copy
the mapping based on the index of the spectrum in the workspace.</p>
<p>Both workspaces must be a <a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><em>Matrix Workspace</em></a> with the same number of
histograms.</p>
</div>
<div class="section" id="usage">
<h2><a class="toc-backref" href="#id4">Usage:</a><a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p><strong>Example: CopyDetectorMapping on generated workspaces</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># Create a sample workspace and a workspace to copy mapping to</span>
<span class="n">to_match</span> <span class="o">=</span> <span class="n">CreateSimulationWorkspace</span><span class="p">(</span><span class="n">Instrument</span><span class="o">=</span><span class="s">&#39;IRIS&#39;</span><span class="p">,</span>
                                     <span class="n">BinParams</span><span class="o">=</span><span class="s">&#39;-0.5,0.05,0.5&#39;</span><span class="p">)</span>
<span class="n">to_remap</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">(</span><span class="n">NumBanks</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">BankPixelWidth</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c"># Group the spectra in the sample workspace</span>
<span class="n">grouping_ws</span> <span class="o">=</span> <span class="n">CreateGroupingWorkspace</span><span class="p">(</span><span class="n">InstrumentName</span><span class="o">=</span><span class="s">&#39;IRIS&#39;</span><span class="p">,</span>
                                      <span class="n">FixedGroupCount</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
                                      <span class="n">ComponentName</span><span class="o">=</span><span class="s">&#39;graphite&#39;</span><span class="p">)</span>
<span class="n">to_match</span> <span class="o">=</span> <span class="n">GroupDetectors</span><span class="p">(</span><span class="n">InputWorkspace</span><span class="o">=</span><span class="n">to_match</span><span class="p">,</span> <span class="n">PreserveEvents</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
                          <span class="n">CopyGroupingFromWorkspace</span><span class="o">=</span><span class="s">&#39;grouping_ws&#39;</span><span class="p">)</span>

<span class="k">print</span> <span class="s">&#39;Spectrum 0 detectors before copy: &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">to_remap</span><span class="o">.</span><span class="n">getSpectrum</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">getDetectorIDs</span><span class="p">())</span>

<span class="c"># Copy the grouping to another workspace</span>
<span class="n">CopyDetectorMapping</span><span class="p">(</span><span class="n">WorkspaceToMatch</span><span class="o">=</span><span class="s">&#39;to_match&#39;</span><span class="p">,</span>
                    <span class="n">WorkspaceToRemap</span><span class="o">=</span><span class="s">&#39;to_remap&#39;</span><span class="p">,</span>
                    <span class="n">IndexBySpectrumNumber</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="k">print</span> <span class="s">&#39;Spectrum 0 detectors after copy: &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">to_remap</span><span class="o">.</span><span class="n">getSpectrum</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">getDetectorIDs</span><span class="p">())</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none"><div class="highlight"><pre>Spectrum 0 detectors before copy: set(1)
Spectrum 0 detectors after copy: set(3,4,5,6,7)
</pre></div>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/Algorithms.html">Algorithms</a> | <a class="reference external" href="categories/DataHandling.html">DataHandling</a></p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2015, Mantid.<br/>
    </p>
  </div>
</footer>
  </body>
</html>