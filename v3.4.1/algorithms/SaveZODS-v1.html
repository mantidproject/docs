<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>SaveZODS v1</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.1.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.1.0/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.4.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="" href="../index.html" />
    <link rel="next" title="Scale v1" href="Scale-v1.html" />
    <link rel="prev" title="SaveVulcanGSS v1" href="SaveVulcanGSS-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>3.4</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://www.mantidproject.org/Documentation">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="savezods-v1">
<span id="algm-savezods"></span><span id="algm-savezods-v1"></span><h1>SaveZODS v1<a class="headerlink" href="#savezods-v1" title="Permalink to this headline">¶</a></h1>
<div class="figure align-right" id="index-0">
<a class="screenshot reference internal image-reference" href="../_images/SaveZODS-v1_dlg.png"><img alt="../_images/SaveZODS-v1_dlg.png" class="screenshot" src="../_images/SaveZODS-v1_dlg.png" style="width: 428px;" /></a>
<p class="caption"><strong>SaveZODS</strong> dialog.</p>
</div>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#summary" id="id1">Summary</a></li>
<li><a class="reference internal" href="#properties" id="id2">Properties</a></li>
<li><a class="reference internal" href="#description" id="id3">Description</a><ul>
<li><a class="reference internal" href="#summary-of-data-format" id="id4">Summary of data format</a></li>
<li><a class="reference internal" href="#description-of-data-fields" id="id5">Description of data fields</a></li>
</ul>
</li>
<li><a class="reference internal" href="#usage" id="id6">Usage</a></li>
</ul>
</div>
<div class="section" id="summary">
<h2><a class="toc-backref" href="#id1">Summary</a><a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>Save a MDHistoWorkspace in HKL space to a HDF5 format for use with the ZODS analysis software.</p>
</div>
<div class="section" id="properties">
<h2><a class="toc-backref" href="#id2">Properties</a><a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="5%" />
<col width="16%" />
<col width="10%" />
<col width="56%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Direction</th>
<th class="head">Type</th>
<th class="head">Default</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>InputWorkspace</td>
<td>Input</td>
<td>IMDHistoWorkspace</td>
<td><em>Mandatory</em></td>
<td>An input MDHistoWorkspace in HKL space.</td>
</tr>
<tr class="row-odd"><td>Filename</td>
<td>Input</td>
<td>string</td>
<td><em>Mandatory</em></td>
<td>The name of the HDF5 file to write, as a full or relative path.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="description">
<h2><a class="toc-backref" href="#id3">Description</a><a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>Saves a HDF5 file to the ZODS (Zurich Oak Ridge Disorder Simulation
program) format. This format consists of a slice of a
<a class="reference internal" href="../concepts/MDHistoWorkspace.html#mdhistoworkspace"><em>MDHistoWorkspace</em></a> and some information about its
location.</p>
<p><strong>You must be in HKL space for the output of this algorithm to make
sense!</strong></p>
<p>From <a class="reference external" href="http://www.crystal.mat.ethz.ch/research/DiffuseXrayScattering">http://www.crystal.mat.ethz.ch/research/DiffuseXrayScattering</a>:</p>
<ul class="simple">
<li>In the frame of an international cooperation between our group, the
University of Zurich and Oak Ridge National Laboratories, we are
further developing Monte Carlo simulation techniques for modeling
disordered crystal structures. A major goal of this project is to
develop the Monte Carlo simulation computer program ZODS (Zurich Oak
Ridge Disorder Simulation program), which is designed to be not only
user friendly, but also fast and flexible. Special focus is on the
efficient use of modern super-computer architectures and of
multi-core desktop computers to take full advantage of current trends
in computing technologies.</li>
</ul>
<div class="section" id="summary-of-data-format">
<h3><a class="toc-backref" href="#id4">Summary of data format</a><a class="headerlink" href="#summary-of-data-format" title="Permalink to this headline">¶</a></h3>
<p>In general it contains collection of grids with intensities and each
grid is described by specifying origin, size of grid (in each direction)
and grid base vectors (a1,a2,a3) so a point at node (i,j,k) of grid has
coordinates r = origin+i*a1+j*a2+k*a3.</p>
<p>Please contact Michal Chodkiewicz (<a class="reference external" href="mailto:michal&#46;chodkiewicz&#37;&#52;&#48;gmail&#46;com">michal<span>&#46;</span>chodkiewicz<span>&#64;</span>gmail<span>&#46;</span>com</a>); Vickie
Lynch (<a class="reference external" href="mailto:lynchve&#37;&#52;&#48;ornl&#46;gov">lynchve<span>&#64;</span>ornl<span>&#46;</span>gov</a>) for more details.</p>
</div>
<div class="section" id="description-of-data-fields">
<h3><a class="toc-backref" href="#id5">Description of data fields</a><a class="headerlink" href="#description-of-data-fields" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The CoordinateSystem data object has the attribute &#8220;isLocal&#8221;.<ul>
<li>If <strong>isLocal</strong>=1, then we are in HKL space:<ul>
<li>The <strong>direction_1</strong> vector (0.04,0,0) represents a step of
0.04 in the (1,0,0) direction (a*) in reciprocal space.</li>
<li><strong>This is currently the only mode in which SaveZODS saves</strong>.</li>
</ul>
</li>
<li>If <strong>isLocal</strong>=0, then we are in Q-space.<ul>
<li>The <strong>direction_1</strong> vector (0.04,0,0) represents a step of
0.04 Angstrom^(-1) in X direction of Cartesian coordinate
system (with X colinear with a and Z with c*)</li>
<li>In this case CoordinateSystem has additional attribute
UnitCell, which is a vector with 6 components
(a,b,c,alpha,beta,gamma) a,b,c in angstroms and angles in
degrees.</li>
</ul>
</li>
</ul>
</li>
<li>The <strong>origin</strong> field gives the origin of the center of the (0,0,0)
cell; in HKL space for our case of isLocal=1.</li>
<li>The <strong>size</strong> field gives the number of bins in each direction.</li>
<li>The <strong>data</strong> field contains the actual intensity at each bin.<ul>
<li>The grid of points (r = origin+i*a1+j*a2+k*a3) specifies the
centers of histogram, not the corners.</li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="usage">
<h2><a class="toc-backref" href="#id6">Usage</a><a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p>This algorithm can be run on a pre-existing <a class="reference external" href="http://www.mantidproject.org/MDEventWorkspace">MDEventWorkspace</a>
or a newly created one. The example below will be done with newly created one
using <a class="reference internal" href="CreateMDWorkspace-v1.html#algm-createmdworkspace"><em>CreateMDWorkspace</em></a>.</p>
<p><strong>SaveZODS HKL MDHisto Example</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">ws</span> <span class="o">=</span> <span class="n">CreateMDHistoWorkspace</span><span class="p">(</span><span class="n">SignalInput</span><span class="o">=</span><span class="s">&#39;1,2,3,4,5,6,7,8&#39;</span><span class="p">,</span> <span class="n">ErrorInput</span><span class="o">=</span><span class="s">&#39;1,1,1,1,1,1,1,1&#39;</span><span class="p">,</span>
    <span class="n">Dimensionality</span><span class="o">=</span><span class="s">&#39;3&#39;</span><span class="p">,</span> <span class="n">Extents</span><span class="o">=</span><span class="s">&#39;-2, 2, -2, 2, -2, 2&#39;</span><span class="p">,</span> <span class="n">Names</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;[H,0,0]&#39;</span><span class="p">,</span><span class="s">&#39;[0,K,0]&#39;</span><span class="p">,</span><span class="s">&#39;[0,0,L]&#39;</span><span class="p">],</span>
    <span class="n">NumberOfBins</span><span class="o">=</span><span class="s">&#39;2,2,2&#39;</span><span class="p">,</span> <span class="n">Units</span><span class="o">=</span><span class="s">&#39;lattice,lattice,lattice&#39;</span><span class="p">)</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="n">savefile</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">config</span><span class="p">[</span><span class="s">&quot;defaultsave.directory&quot;</span><span class="p">],</span> <span class="s">&quot;ZODS.h5&quot;</span><span class="p">)</span>
<span class="n">SaveZODS</span><span class="p">(</span><span class="n">InputWorkspace</span><span class="o">=</span><span class="n">ws</span><span class="p">,</span> <span class="n">FileName</span><span class="o">=</span><span class="n">savefile</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&quot;File created:&quot;</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">savefile</span><span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none"><div class="highlight"><pre>File created: True
</pre></div>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/Algorithms.html">Algorithms</a> | <a class="reference external" href="categories/MDAlgorithms.html">MDAlgorithms</a></p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2015, Mantid.<br/>
    </p>
  </div>
</footer>
  </body>
</html>