<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Indirect Data Analysis</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.1.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.1.0/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.4.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="" href="../index.html" />
    <link rel="up" title="Interfaces" href="index.html" />
    <link rel="next" title="Indirect Data Reduction" href="Indirect_DataReduction.html" />
    <link rel="prev" title="Indirect Bayes" href="Indirect_Bayes.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>3.4</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://www.mantidproject.org/Documentation">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="indirect-data-analysis">
<h1>Indirect Data Analysis<a class="headerlink" href="#indirect-data-analysis" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#overview" id="id10">Overview</a><ul>
<li><a class="reference internal" href="#action-buttons" id="id11">Action Buttons</a></li>
</ul>
</li>
<li><a class="reference internal" href="#elwin" id="id12">Elwin</a><ul>
<li><a class="reference internal" href="#options" id="id13">Options</a></li>
</ul>
</li>
<li><a class="reference internal" href="#msd-fit" id="id14">MSD Fit</a><ul>
<li><a class="reference internal" href="#id1" id="id15">Options</a></li>
</ul>
</li>
<li><a class="reference internal" href="#i-q-t" id="id16">I(Q, t)</a><ul>
<li><a class="reference internal" href="#id2" id="id17">Options</a></li>
<li><a class="reference internal" href="#binning" id="id18">Binning</a></li>
</ul>
</li>
<li><a class="reference internal" href="#i-q-t-fit" id="id19">I(Q, t) Fit</a><ul>
<li><a class="reference internal" href="#id3" id="id20">Options</a></li>
</ul>
</li>
<li><a class="reference internal" href="#conv-fit" id="id21">Conv Fit</a><ul>
<li><a class="reference internal" href="#fitting-model" id="id22">Fitting Model</a></li>
<li><a class="reference internal" href="#id4" id="id23">Options</a></li>
<li><a class="reference internal" href="#background-options" id="id24">Background Options</a></li>
<li><a class="reference internal" href="#theory" id="id25">Theory</a></li>
</ul>
</li>
<li><a class="reference internal" href="#calculate-corrections" id="id26">Calculate Corrections</a><ul>
<li><a class="reference internal" href="#id5" id="id27">Options</a></li>
<li><a class="reference internal" href="#shape-details" id="id28">Shape Details</a><ul>
<li><a class="reference internal" href="#flat-plate" id="id29">Flat Plate</a></li>
<li><a class="reference internal" href="#cylinder" id="id30">Cylinder</a></li>
<li><a class="reference internal" href="#annulus" id="id31">Annulus</a></li>
</ul>
</li>
<li><a class="reference internal" href="#background" id="id32">Background</a></li>
</ul>
</li>
<li><a class="reference internal" href="#apply-corrections" id="id33">Apply Corrections</a><ul>
<li><a class="reference internal" href="#id6" id="id34">Options</a></li>
</ul>
</li>
<li><a class="reference internal" href="#absorption-corrections" id="id35">Absorption Corrections</a><ul>
<li><a class="reference internal" href="#common-options" id="id36">Common Options</a></li>
<li><a class="reference internal" href="#id7" id="id37">Flat Plate</a></li>
<li><a class="reference internal" href="#id8" id="id38">Annulus</a></li>
<li><a class="reference internal" href="#id9" id="id39">Cylinder</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="overview">
<h2><a class="toc-backref" href="#id10">Overview</a><a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<div class="figure align-right">
<a class="screenshot reference internal image-reference" href="../_images/Data_Analysis_interface.png"><img alt="../_images/Data_Analysis_interface.png" class="screenshot" src="../_images/Data_Analysis_interface.png" style="width: 350px;" /></a>
</div>
<p>The Indirect Data Analysis interface is a collection of tools within MantidPlot
for analysing reduced data from indirect geometry spectrometers, such as IRIS and
OSIRIS.</p>
<p>The majority of the functions used within this interface can be used with both
reduced files (<em>_red.nxs</em>) and workspaces (<em>_red</em>) created using the Indirect Data
Reduction interface or using <img class="math" src="../_images/math/af385cf70e9aa29bed9ee6fc11c442d61c12f402.png" alt="S(Q, \omega)" style="vertical-align: -4px"/> files (<em>_sqw.nxs</em>) and
workspaces (<em>_sqw</em>) created using either the Indirect Data Reduction interface or
taken from a bespoke algorithm or auto reduction.</p>
<div class="section" id="action-buttons">
<h3><a class="toc-backref" href="#id11">Action Buttons</a><a class="headerlink" href="#action-buttons" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>?</dt>
<dd>Opens this help page.</dd>
<dt>Py</dt>
<dd>Exports a Python script which will replicate the processing done by the current tab.</dd>
<dt>Run</dt>
<dd>Runs the processing configured on the current tab.</dd>
<dt>Manage Directories</dt>
<dd>Opens the Manage Directories dialog allowing you to change your search directories
and default save directory and enable/disable data archive search.</dd>
</dl>
</div>
</div>
<div class="section" id="elwin">
<h2><a class="toc-backref" href="#id12">Elwin</a><a class="headerlink" href="#elwin" title="Permalink to this headline">¶</a></h2>
<div class="figure">
<a class="screenshot reference internal image-reference" href="../_images/Data_Analysis_tabElwin_widget.png"><img alt="../_images/Data_Analysis_tabElwin_widget.png" class="screenshot" src="../_images/Data_Analysis_tabElwin_widget.png" style="width: 828px;" /></a>
</div>
<p>Provides an interface for the <a class="reference internal" href="../algorithms/ElasticWindow-v1.html#algm-elasticwindow"><em>ElasticWindow</em></a>
algorithm, with the option of selecting the range to integrate over as well as
the background range. An on-screen plot is also provided.</p>
<p>For workspaces that have a sample log or have a sample log file available in the
Mantid data search paths that contains the sample environment information the
ELF workspace can also be normalised to the lowest temperature run in the range
of input files.</p>
<div class="section" id="options">
<h3><a class="toc-backref" href="#id13">Options</a><a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Input File</dt>
<dd>Specify a range of input files that are either reduced (<em>_red.nxs</em>) or
<img class="math" src="../_images/math/af385cf70e9aa29bed9ee6fc11c442d61c12f402.png" alt="S(Q, \omega)" style="vertical-align: -4px"/>.</dd>
<dt>Integration Range</dt>
<dd>The energy range over which to integrate the values.</dd>
<dt>Background Subtraction</dt>
<dd>If checked a background will be calculated and subtracted from the raw data.</dd>
<dt>Background Range</dt>
<dd>The energy range over which a background is calculated which is subtracted from
the raw data.</dd>
<dt>Normalise to Lowest Temp</dt>
<dd>If checked the raw files will be normalised to the run with the lowest
temperature, to do this there must be a valid sample environment entry in the
sample logs for each of the input files.</dd>
<dt>SE log name</dt>
<dd>The name of the sample environment log entry in the input files sample logs
(defaults to sample).</dd>
<dt>Plot Result</dt>
<dd>If enabled will plot the result as a spectra plot.</dd>
<dt>Save Result</dt>
<dd>If enabled the result will be saved as a NeXus file in the default save
directory.</dd>
</dl>
</div>
</div>
<div class="section" id="msd-fit">
<h2><a class="toc-backref" href="#id14">MSD Fit</a><a class="headerlink" href="#msd-fit" title="Permalink to this headline">¶</a></h2>
<div class="figure">
<a class="screenshot reference internal image-reference" href="../_images/Data_Analysis_tabMSD_widget.png"><img alt="../_images/Data_Analysis_tabMSD_widget.png" class="screenshot" src="../_images/Data_Analysis_tabMSD_widget.png" style="width: 734px;" /></a>
</div>
<p>Given either a saved NeXus file or workspace generated using the ElWin tab, this
tab fits <img class="math" src="../_images/math/0bfed02a4f5f5cb07be1ec08b64e329317d48ad2.png" alt="log(intensity)" style="vertical-align: -4px"/> vs. <img class="math" src="../_images/math/6c680ef5bf03d518d7967d33dd3babd2c4a079ed.png" alt="Q^{2}" style="vertical-align: -4px"/> with a straight line for each
run specified to give the Mean Square Displacement (MSD). It then plots the MSD
as function of run number.</p>
<p>MSDFit searches for the log files named &lt;runnumber&gt;_sample.txt in your chosen
raw file directory (the name ‘sample’ is for OSIRIS). If they exist the
temperature is read and the MSD is plotted versus temperature; if they do not
exist the MSD is plotted versus run number (last 3 digits).</p>
<p>The fitted parameters for all runs are in _msd_Table and the &lt;u2&gt; in _msd. To
run the Sequential fit a workspace named &lt;inst&gt;&lt;first-run&gt;_to_&lt;last-run&gt;_lnI is
created of <img class="math" src="../_images/math/3ba3d0530c9ca84071fbc4ffb986cb1bfaefa9e1.png" alt="ln(I)" style="vertical-align: -4px"/> v. <img class="math" src="../_images/math/6c680ef5bf03d518d7967d33dd3babd2c4a079ed.png" alt="Q^{2}" style="vertical-align: -4px"/> for all runs. A contour or 3D plot of
this may be of interest.</p>
<p>A sequential fit is run by clicking the Run button at the bottom of the tab, a
single fit can be done using the Fit Single Spectrum button underneath the
preview plot.</p>
<div class="section" id="id1">
<h3><a class="toc-backref" href="#id15">Options</a><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Input File</dt>
<dd>A file that has been created using the Elwin tab with an <img class="math" src="../_images/math/86e784d473f5fc5713b6ad4bea7af624b76966c2.png" alt="x" style="vertical-align: 0px"/> axis of
<img class="math" src="../_images/math/7edac8130e66e0c0fd9585e7addfddd4f31ee3e3.png" alt="Q^2" style="vertical-align: -4px"/>.</dd>
<dt>StartX &amp; EndX</dt>
<dd>The <img class="math" src="../_images/math/86e784d473f5fc5713b6ad4bea7af624b76966c2.png" alt="x" style="vertical-align: 0px"/> range to perform fitting over.</dd>
<dt>Plot Spectrum</dt>
<dd>The spectrum shown in the preview plot and will be fitted by running Fit
Single Spectrum.</dd>
<dt>Spectra Range</dt>
<dd>The spectra range over which to perform sequential fitting.</dd>
<dt>Plot Result</dt>
<dd>If enabled will plot the result as a spectra plot.</dd>
<dt>Save Result</dt>
<dd>If enabled the result will be saved as a NeXus file in the default save
directory.</dd>
</dl>
</div>
</div>
<div class="section" id="i-q-t">
<h2><a class="toc-backref" href="#id16">I(Q, t)</a><a class="headerlink" href="#i-q-t" title="Permalink to this headline">¶</a></h2>
<div class="figure">
<a class="screenshot reference internal image-reference" href="../_images/Data_Analysis_tabIqt_widget.png"><img alt="../_images/Data_Analysis_tabIqt_widget.png" class="screenshot" src="../_images/Data_Analysis_tabIqt_widget.png" style="width: 555px;" /></a>
</div>
<p>Given sample and resolution inputs, carries out a fit as per the theory detailed
in the <a class="reference internal" href="../algorithms/TransformToIqt-v1.html#algm-transformtoiqt"><em>TransformToIqt</em></a> algorithm.</p>
<div class="section" id="id2">
<h3><a class="toc-backref" href="#id17">Options</a><a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Sample</dt>
<dd>Either a reduced file (<em>_red.nxs</em>) or workspace (<em>_red</em>) or an <img class="math" src="../_images/math/a541d552e98780191bbfcbce2f098e20c42e8abb.png" alt="S(Q,
\omega)" style="vertical-align: -4px"/> file (<em>_sqw.nxs</em>) or workspace (<em>_sqw</em>).</dd>
<dt>Resolution</dt>
<dd>Either a resolution file (_res.nxs) or workspace (_res) or an <img class="math" src="../_images/math/a541d552e98780191bbfcbce2f098e20c42e8abb.png" alt="S(Q,
\omega)" style="vertical-align: -4px"/> file (<em>_sqw.nxs</em>) or workspace (<em>_sqw</em>).</dd>
<dt>ELow, EHigh</dt>
<dd>The rebiinning range.</dd>
<dt>SampleBinning</dt>
<dd>The ratio at which to decrease the number of bins by through merging of
intensities from neighbouring bins.</dd>
<dt>Plot Result</dt>
<dd>If enabled will plot the result as a spectra plot.</dd>
<dt>Save Result</dt>
<dd>If enabled the result will be saved as a NeXus file in the default save
directory.</dd>
</dl>
</div>
<div class="section" id="binning">
<h3><a class="toc-backref" href="#id18">Binning</a><a class="headerlink" href="#binning" title="Permalink to this headline">¶</a></h3>
<p>As a bin width that is a factor of the binning range is required for this
analysis the bin width is calculated automatically based on the binning range
and the number of desired bins in the output which is in turn calculated by
reducing the number of sample bins by a given factor.</p>
<p>The calculated binning parameters are displayed alongside the binning options:</p>
<dl class="docutils">
<dt>EWidth</dt>
<dd>The calculated bin width.</dd>
<dt>SampleBins</dt>
<dd>Number of bins in the sample after rebinning.</dd>
<dt>ResolutionBins</dt>
<dd>Number of bins in the resolution after rebinning, typically this should be at
least 5 and a warning will be shown if it is less.</dd>
</dl>
</div>
</div>
<div class="section" id="i-q-t-fit">
<h2><a class="toc-backref" href="#id19">I(Q, t) Fit</a><a class="headerlink" href="#i-q-t-fit" title="Permalink to this headline">¶</a></h2>
<div class="figure">
<a class="screenshot reference internal image-reference" href="../_images/Data_Analysis_tabIqtFit_widget.png"><img alt="../_images/Data_Analysis_tabIqtFit_widget.png" class="screenshot" src="../_images/Data_Analysis_tabIqtFit_widget.png" style="width: 796px;" /></a>
</div>
<p>I(Q, t) Fit provides a simplified interface for controlling various fitting
functions (see the <a class="reference internal" href="../algorithms/Fit-v1.html#algm-fit"><em>Fit</em></a> algorithm for more info). The functions
are also available via the fit wizard.</p>
<p>Additionally, in the bottom-right of the interface there are options for doing a
sequential fit. This is where the program loops through each spectrum in the
input workspace, using the fitted values from the previous spectrum as input
values for fitting the next. This is done by means of the
<a class="reference internal" href="../algorithms/PlotPeakByLogValue-v1.html#algm-plotpeakbylogvalue"><em>PlotPeakByLogValue</em></a> algorithm.</p>
<p>A sequential fit is run by clicking the Run button at the bottom of the tab, a
single fit can be done using the Fit Single Spectrum button underneath the
preview plot.</p>
<div class="section" id="id3">
<h3><a class="toc-backref" href="#id20">Options</a><a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Input</dt>
<dd>Either a file (<em>_iqt.nxs</em>) or workspace (<em>_iqt</em>) that has been created using
the Fury tab.</dd>
<dt>Fit Type</dt>
<dd>The type of fitting to perform.</dd>
<dt>Constrain Intensities</dt>
<dd>Check to ensure that the sum of the background and intensities is always equal
to 1.</dd>
<dt>Constrain Beta over all Q</dt>
<dd>Check to use a multi-domain fitting function with the value of beta
constrained.</dd>
<dt>Plot Guess</dt>
<dd>When checked a curve will be created on the plot window based on the bitting
parameters.</dd>
<dt>StartX &amp; EndX</dt>
<dd>The range of <img class="math" src="../_images/math/86e784d473f5fc5713b6ad4bea7af624b76966c2.png" alt="x" style="vertical-align: 0px"/> over which the fitting will be applied (blue lines on
preview plot).</dd>
<dt>Linear Background A0</dt>
<dd>The constant amplitude of the background (horizontal green line on the preview
plot).</dd>
<dt>Fitting Parameters</dt>
<dd>Depending on the Fit Type the parameters shown for each of the fit functions
will differ, for more information refer to the documentation pages for the fit
function in question.</dd>
<dt>Plot Spectrum</dt>
<dd>The spectrum shown in the preview plot and will be fitted by running Fit
Single Spectrum.</dd>
<dt>Spectra Range</dt>
<dd>The spectra range over which to perform sequential fitting.</dd>
<dt>Plot Output</dt>
<dd>Allows plotting spectra plots of fitting parameters, the options available
will depend on the type of fit chosen.</dd>
<dt>Save Result</dt>
<dd>If enabled the result will be saved as a NeXus file in the default save
directory.</dd>
</dl>
</div>
</div>
<div class="section" id="conv-fit">
<h2><a class="toc-backref" href="#id21">Conv Fit</a><a class="headerlink" href="#conv-fit" title="Permalink to this headline">¶</a></h2>
<div class="figure">
<a class="screenshot reference internal image-reference" href="../_images/Data_Analysis_tabConvFit_widget.png"><img alt="../_images/Data_Analysis_tabConvFit_widget.png" class="screenshot" src="../_images/Data_Analysis_tabConvFit_widget.png" style="width: 767px;" /></a>
</div>
<p>Similarly to FuryFit, ConvFit provides a simplified interface for controlling
various fitting functions (see the <a class="reference internal" href="../algorithms/Fit-v1.html#algm-fit"><em>Fit</em></a> algorithm for more
info). The functions are also available via the fit wizard.</p>
<p>Additionally, in the bottom-right of the interface there are options for doing a
sequential fit. This is where the program loops through each spectrum in the
input workspace, using the fitted values from the previous spectrum as input
values for fitting the next. This is done by means of the
<a class="reference internal" href="../algorithms/PlotPeakByLogValue-v1.html#algm-plotpeakbylogvalue"><em>PlotPeakByLogValue</em></a> algorithm.</p>
<p>A sequential fit is run by clicking the Run button at the bottom of the tab, a
single fit can be done using the Fit Single Spectrum button underneath the
preview plot.</p>
<div class="section" id="fitting-model">
<h3><a class="toc-backref" href="#id22">Fitting Model</a><a class="headerlink" href="#fitting-model" title="Permalink to this headline">¶</a></h3>
<p>The model used to perform fitting is described in the following tree, note that
everything under the Model section is optional and determined by the <em>Fit Type</em>
and <em>Use Delta Function</em> options in the interface.</p>
<ul class="simple">
<li><a class="reference internal" href="../fitfunctions/CompositeFunction.html#func-compositefunction"><em>CompositeFunction</em></a><ul>
<li><a class="reference internal" href="../fitfunctions/LinearBackground.html#func-linearbackground"><em>LinearBackground</em></a></li>
<li><a class="reference internal" href="../fitfunctions/Convolution.html#func-convolution"><em>Convolution</em></a><ul>
<li>Resolution</li>
<li>Model (<a class="reference internal" href="../fitfunctions/CompositeFunction.html#func-compositefunction"><em>CompositeFunction</em></a>)<ul>
<li>DeltaFunction</li>
<li><a class="reference internal" href="../fitfunctions/ProductFunction.html#func-productfunction"><em>ProductFunction</em></a><ul>
<li><a class="reference internal" href="../fitfunctions/Lorentzian.html#func-lorentzian"><em>Lorentzian</em></a></li>
<li>Temperature Correction</li>
</ul>
</li>
<li><a class="reference internal" href="../fitfunctions/ProductFunction.html#func-productfunction"><em>ProductFunction</em></a><ul>
<li><a class="reference internal" href="../fitfunctions/Lorentzian.html#func-lorentzian"><em>Lorentzian</em></a></li>
<li>Temperature Correction</li>
</ul>
</li>
<li><a class="reference internal" href="../fitfunctions/ProductFunction.html#func-productfunction"><em>ProductFunction</em></a><ul>
<li><a class="reference internal" href="../fitfunctions/DiffSphere.html#func-diffsphere"><em>DiffSphere</em></a></li>
<li>Temperature Correction</li>
</ul>
</li>
<li><a class="reference internal" href="../fitfunctions/ProductFunction.html#func-productfunction"><em>ProductFunction</em></a><ul>
<li><a class="reference internal" href="../fitfunctions/DiffRotDiscreteCircle.html#func-diffrotdiscretecircle"><em>DiffRotDiscreteCircle</em></a></li>
<li>Temperature Correction</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Note that it is the Inelastic variants of <a class="reference internal" href="../fitfunctions/DiffSphere.html#func-diffsphere"><em>DiffSphere</em></a>
and <a class="reference internal" href="../fitfunctions/DiffRotDiscreteCircle.html#func-diffrotdiscretecircle"><em>DiffRotDiscreteCircle</em></a> that are used in
this interface.</p>
<p>The Temperature Correction is a <a class="reference internal" href="../fitfunctions/UserFunction.html#func-userfunction"><em>UserFunction</em></a> with the
formula <img class="math" src="../_images/math/c5d3fa457c0e479f4f1e023e47acac650dab357b.png" alt="((x * 11.606) / T) / (1 - exp(-((x * 11.606) / T)))" style="vertical-align: -5px"/> where
<img class="math" src="../_images/math/5830b1441ec19bff0c7f338ee28ccd12654c1f69.png" alt="T" style="vertical-align: 0px"/> is the temperature in Kelvin.</p>
</div>
<div class="section" id="id4">
<h3><a class="toc-backref" href="#id23">Options</a><a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Sample</dt>
<dd>Either a reduced file (<em>_red.nxs</em>) or workspace (<em>_red</em>) or an <img class="math" src="../_images/math/a541d552e98780191bbfcbce2f098e20c42e8abb.png" alt="S(Q,
\omega)" style="vertical-align: -4px"/> file (<em>_sqw.nxs</em>) or workspace (<em>_sqw</em>).</dd>
<dt>Resolution</dt>
<dd>Either a resolution file (_res.nxs) or workspace (_res) or an <img class="math" src="../_images/math/a541d552e98780191bbfcbce2f098e20c42e8abb.png" alt="S(Q,
\omega)" style="vertical-align: -4px"/> file (<em>_sqw.nxs</em>) or workspace (<em>_sqw</em>).</dd>
<dt>Fit Type</dt>
<dd>The type of fitting to perform.</dd>
<dt>Background</dt>
<dd>Select the background type, see options below.</dd>
<dt>Plot Guess</dt>
<dd>When checked a curve will be created on the plot window based on the bitting
parameters.</dd>
<dt>StartX &amp; EndX</dt>
<dd>The range of <img class="math" src="../_images/math/86e784d473f5fc5713b6ad4bea7af624b76966c2.png" alt="x" style="vertical-align: 0px"/> over which the fitting will be applied (blue lines on
preview plot).</dd>
<dt>A0 &amp; A1 (background)</dt>
<dd>The A0 and A1 parameters as they appear in the LinearBackground fir function,
depending on the Fit Type selected A1 may not be shown.</dd>
<dt>Delta Function</dt>
<dd>Enables use of a delta function.</dd>
<dt>Fitting Parameters</dt>
<dd>Depending on the Fit Type the parameters shown for each of the fit functions
will differ, for more information refer to the documentation pages for the fit
function in question.</dd>
<dt>Plot Spectrum</dt>
<dd>The spectrum shown in the preview plot and will be fitted by running Fit
Single Spectrum.</dd>
<dt>Spectra Range</dt>
<dd>The spectra range over which to perform sequential fitting.</dd>
<dt>Plot Output</dt>
<dd>Allows plotting spectra plots of fitting parameters, the options available
will depend on the type of fit chosen.</dd>
<dt>Save Result</dt>
<dd>If enabled the result will be saved as a NeXus file in the default save
directory.</dd>
</dl>
</div>
<div class="section" id="background-options">
<h3><a class="toc-backref" href="#id24">Background Options</a><a class="headerlink" href="#background-options" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Fixed Flat</dt>
<dd>The A0 parameter is applied to all points in the data.</dd>
<dt>Fit Flat</dt>
<dd>Similar to Fixed Flat, however the A0 parameter is treated as an initial guess
and will be included as a parameter to the LinearBackground fit function with
the coefficient of the linear term fixed to 0.</dd>
<dt>Fit Linear</dt>
<dd>The A0 and A1 parameters are used as parameters to the LinearBackground fit
function and the best possible fit will be used as the background.</dd>
</dl>
</div>
<div class="section" id="theory">
<h3><a class="toc-backref" href="#id25">Theory</a><a class="headerlink" href="#theory" title="Permalink to this headline">¶</a></h3>
<p>The measured data <img class="math" src="../_images/math/62eeaf9d91731a64c0b0cae683934749e9c96dab.png" alt="I(Q, \omega)" style="vertical-align: -4px"/> is proportional to the convolution of the
scattering law <img class="math" src="../_images/math/af385cf70e9aa29bed9ee6fc11c442d61c12f402.png" alt="S(Q, \omega)" style="vertical-align: -4px"/> with the resolution function <img class="math" src="../_images/math/ef8af6b1b14aa37d62c4d1b4872a9156b0345825.png" alt="R(Q,
\omega)" style="vertical-align: -4px"/> of the spectrometer via <img class="math" src="../_images/math/589024e6b7ed300d2110debdab12aa6cc3158193.png" alt="I(Q, \omega) = S(Q, \omega) ⊗  R(Q,
\omega)" style="vertical-align: -4px"/>. The traditional method of analysis has been to fit the measured
<img class="math" src="../_images/math/62eeaf9d91731a64c0b0cae683934749e9c96dab.png" alt="I(Q, \omega)" style="vertical-align: -4px"/> with an appropriate set of functions related to the form of
<img class="math" src="../_images/math/af385cf70e9aa29bed9ee6fc11c442d61c12f402.png" alt="S(Q, \omega)" style="vertical-align: -4px"/> predicted by theory.</p>
<ul class="simple">
<li>In quasielastic scattering the simplest form is when both the <img class="math" src="../_images/math/a541d552e98780191bbfcbce2f098e20c42e8abb.png" alt="S(Q,
\omega)" style="vertical-align: -4px"/> and the <img class="math" src="../_images/math/03926e75985df98d21e9d535fe2f533a621cadb4.png" alt="R(Q, \omega)" style="vertical-align: -4px"/> have the form of a Lorentzian - a
situation which is almost correct for reactor based backscattering
spectrometers such as IN10 &amp; IN16 at ILL. The convolution of two Lorentzians
is itself a Lorentzian so that the spectrum of the measured and resolution
data can both just be fitted with Lorentzians. The broadening of the sample
spectrum is then just the  difference of the two widths.</li>
<li>The next easiest case is when both <img class="math" src="../_images/math/af385cf70e9aa29bed9ee6fc11c442d61c12f402.png" alt="S(Q, \omega)" style="vertical-align: -4px"/> and <img class="math" src="../_images/math/ef8af6b1b14aa37d62c4d1b4872a9156b0345825.png" alt="R(Q,
\omega)" style="vertical-align: -4px"/> have a simple functional form and the convolution is also a function
containing the parameters of the <img class="math" src="../_images/math/af385cf70e9aa29bed9ee6fc11c442d61c12f402.png" alt="S(Q, \omega)" style="vertical-align: -4px"/> and R(Q,  omega) functions.
The convoluted function may then be fitted to the data to provide the
parameters. An example would be the case where the <img class="math" src="../_images/math/af385cf70e9aa29bed9ee6fc11c442d61c12f402.png" alt="S(Q, \omega)" style="vertical-align: -4px"/> is a
Lorentzian and the <img class="math" src="../_images/math/03926e75985df98d21e9d535fe2f533a621cadb4.png" alt="R(Q, \omega)" style="vertical-align: -4px"/> is a Gaussian.</li>
<li>For diffraction, the shape of the peak in time is a convolution of a Gaussian
with a decaying exponential and this function can be used to fit the Bragg
peaks.</li>
<li>The final case is where <img class="math" src="../_images/math/03926e75985df98d21e9d535fe2f533a621cadb4.png" alt="R(Q, \omega)" style="vertical-align: -4px"/> does not have a simple function
form so that the measured data has to be convoluted numerically with the
<img class="math" src="../_images/math/af385cf70e9aa29bed9ee6fc11c442d61c12f402.png" alt="S(Q, \omega)" style="vertical-align: -4px"/> function to provide an estimate of the sample scattering.
The result is least-squares fitted to the measured data to provide values for
the parameters in the <img class="math" src="../_images/math/af385cf70e9aa29bed9ee6fc11c442d61c12f402.png" alt="S(Q, \omega)" style="vertical-align: -4px"/> function.</li>
</ul>
<p>This latter form of peak fitting is provided by SWIFT. It employs a
least-squares algorithm which requires the derivatives of the fitting function
with respect to its parameters in order to be faster and more efficient than
those algorithms which calculate the derivatives numerically. To do this the
assumption is made that the derivative of a convolution is equal to the
convolution of the derivative-as the derivative and the convolution are
performed over different variables (function parameters and energy transfer
respectively) this should be correct. A flat background is subtracted from the
resolution data before the convolution is performed.</p>
<p>Four types of sample function are available for <img class="math" src="../_images/math/af385cf70e9aa29bed9ee6fc11c442d61c12f402.png" alt="S(Q, \omega)" style="vertical-align: -4px"/>:</p>
<dl class="docutils">
<dt>Quasielastic</dt>
<dd>This is the most common case and applies to both translational (diffusion) and
rotational modes, both of which have the form of a Lorentzian. The fitted
function is a set of Lorentzians centred at the origin in energy transfer.</dd>
<dt>Elastic</dt>
<dd>Comprising a central elastic peak together with a set of quasi-elastic
Lorentzians also centred at the origin. The elastic peak is taken to be the
un-broadened resolution function.</dd>
<dt>Shift</dt>
<dd>A central Lorentzian with pairs of energy shifted Lorentzians. This was
originally used for crystal field splitting data but more recently has been
applied to quantum tunnelling peaks. The fitting function assumes that the
peaks are symmetric about the origin in energy transfer both in position and
width. The widths of the central and side peaks may be different.</dd>
<dt>Polymer</dt>
<dd>A single quasi-elastic peak with 3 different forms of shape. The theory behind
this is described elsewhere [1,2]. Briefly, polymer theory predicts 3 forms
of the <img class="math" src="../_images/math/a66c759fb2d393072554227d08640ab32742af93.png" alt="I(Q,t)" style="vertical-align: -4px"/> in the form of <img class="math" src="../_images/math/47336f8ee2d2d54c35e4e14b0a8bdaa3fd404121.png" alt="exp(-at2/b)" style="vertical-align: -5px"/> where <img class="math" src="../_images/math/fdcf4bd764a50e69250d8e0a9e2212d63e8ecfe0.png" alt="b" style="vertical-align: 0px"/> can
be 2, 3 or 4. The Full Width Half-Maximum (FWHM) then has a Q-dependence
(power law) of the form <img class="math" src="../_images/math/3cdc55b86ab9c81825cfaaa932cf279304da8e0e.png" alt="Qb" style="vertical-align: -4px"/>. The <img class="math" src="../_images/math/a66c759fb2d393072554227d08640ab32742af93.png" alt="I(Q,t)" style="vertical-align: -4px"/> has been numerically
Fourier transformed into <img class="math" src="../_images/math/62eeaf9d91731a64c0b0cae683934749e9c96dab.png" alt="I(Q, \omega)" style="vertical-align: -4px"/> and the <img class="math" src="../_images/math/62eeaf9d91731a64c0b0cae683934749e9c96dab.png" alt="I(Q, \omega)" style="vertical-align: -4px"/>
have been fitted with functions of the form of a modified Lorentzian. These
latter functions are used in the energy fitting procedures.</dd>
</dl>
<p>References:</p>
<ol class="arabic simple">
<li>J S Higgins, R E Ghosh, W S Howells &amp; G Allen, JCS Faraday II 73 40 (1977)</li>
<li>J S Higgins, G Allen, R E Ghosh, W S Howells &amp; B Farnoux, Chem Phys Lett 49 197 (1977)</li>
</ol>
</div>
</div>
<div class="section" id="calculate-corrections">
<h2><a class="toc-backref" href="#id26">Calculate Corrections</a><a class="headerlink" href="#calculate-corrections" title="Permalink to this headline">¶</a></h2>
<div class="figure">
<a class="screenshot reference internal image-reference" href="../_images/Data_Analysis_tabCalcCorr_widget.png"><img alt="../_images/Data_Analysis_tabCalcCorr_widget.png" class="screenshot" src="../_images/Data_Analysis_tabCalcCorr_widget.png" style="width: 604px;" /></a>
</div>
<p>Calculates absorption corrections in the Paalman &amp; Pings absorption factors that
could be applied to the data when given information about the sample (and
optionally can) geometry.</p>
<div class="section" id="id5">
<h3><a class="toc-backref" href="#id27">Options</a><a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Input</dt>
<dd>Either a reduced file (<em>_red.nxs</em>) or workspace (<em>_red</em>) or an <img class="math" src="../_images/math/a541d552e98780191bbfcbce2f098e20c42e8abb.png" alt="S(Q,
\omega)" style="vertical-align: -4px"/> file (<em>_sqw.nxs</em>) or workspace (<em>_sqw</em>).</dd>
<dt>Use Can</dt>
<dd>If checked allows you to select a workspace for the container in the format of
either a reduced file (<em>_red.nxs</em>) or workspace (<em>_red</em>) or an <img class="math" src="../_images/math/a541d552e98780191bbfcbce2f098e20c42e8abb.png" alt="S(Q,
\omega)" style="vertical-align: -4px"/> file (<em>_sqw.nxs</em>) or workspace (<em>_sqw</em>).</dd>
<dt>Sample Shape</dt>
<dd>Sets the shape of the sample, this affects the options for the shape details
(see below).</dd>
<dt>Sample/Can Number Density</dt>
<dd>Density of the sample or container.</dd>
<dt>Sample/Can Chemical Formula</dt>
<dd>Chemical formula of the sample or can material. This must be provided in the
format expected by the <a class="reference internal" href="../algorithms/SetSampleMaterial-v1.html#algm-setsamplematerial"><em>SetSampleMaterial</em></a>
algorithm.</dd>
<dt>Plot Output</dt>
<dd>Plots the <img class="math" src="../_images/math/1967529dd2c5f21c2b37fb011d28fe0b10c5997d.png" alt="A_{s,s}" style="vertical-align: -6px"/>, <img class="math" src="../_images/math/bc7f9902ac1113c44915d9134a7bbb305f1e8748.png" alt="A_{s,sc}" style="vertical-align: -6px"/>, <img class="math" src="../_images/math/2cc4bcf3bef41d04fcd0a671e9b592ede5bfa80b.png" alt="A_{c,sc}" style="vertical-align: -6px"/> and
<img class="math" src="../_images/math/875ffb4fd8f1f64905cd9caf7910615c1c03ff6b.png" alt="A_{c,c}" style="vertical-align: -6px"/> workspaces as spectra plots.</dd>
<dt>Save Result</dt>
<dd>If enabled the result will be saved as a NeXus file in the default save
directory.</dd>
</dl>
</div>
<div class="section" id="shape-details">
<h3><a class="toc-backref" href="#id28">Shape Details</a><a class="headerlink" href="#shape-details" title="Permalink to this headline">¶</a></h3>
<p>Depending on the shape of the sample different parameters for the sample
dimension are required and are detailed below.</p>
<div class="section" id="flat-plate">
<h4><a class="toc-backref" href="#id29">Flat Plate</a><a class="headerlink" href="#flat-plate" title="Permalink to this headline">¶</a></h4>
<div class="figure">
<a class="screenshot reference internal image-reference" href="../_images/Data_Analysis_pgFlatPlate_widget.png"><img alt="../_images/Data_Analysis_pgFlatPlate_widget.png" class="screenshot" src="../_images/Data_Analysis_pgFlatPlate_widget.png" style="width: 621px;" /></a>
</div>
<p>The calculation for a flat plate geometry is performed by the
<a class="reference internal" href="../algorithms/FlatPlatePaalmanPingsCorrection-v1.html#algm-flatplatepaalmanpingscorrection"><em>FlatPlatePaalmanPingsCorrection</em></a>
algorithm.</p>
<dl class="docutils">
<dt>Sample Thickness</dt>
<dd>Thickness of sample in <img class="math" src="../_images/math/e1a40def7b482e6c31ea9a8a99338d1184c7b999.png" alt="cm" style="vertical-align: 0px"/>.</dd>
<dt>Sample Angle</dt>
<dd>Sample angle in degrees.</dd>
<dt>Can Front Thickness</dt>
<dd>Thickness of front container in <img class="math" src="../_images/math/e1a40def7b482e6c31ea9a8a99338d1184c7b999.png" alt="cm" style="vertical-align: 0px"/>.</dd>
<dt>Can Back Thickness</dt>
<dd>Thickness of back container in <img class="math" src="../_images/math/e1a40def7b482e6c31ea9a8a99338d1184c7b999.png" alt="cm" style="vertical-align: 0px"/>.</dd>
</dl>
</div>
<div class="section" id="cylinder">
<h4><a class="toc-backref" href="#id30">Cylinder</a><a class="headerlink" href="#cylinder" title="Permalink to this headline">¶</a></h4>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This mode is only available on Windows</p>
</div>
<div class="figure">
<a class="screenshot reference internal image-reference" href="../_images/Data_Analysis_pgCylinder_widget.png"><img alt="../_images/Data_Analysis_pgCylinder_widget.png" class="screenshot" src="../_images/Data_Analysis_pgCylinder_widget.png" style="width: 411px;" /></a>
</div>
<p>The calculation for a cylindrical geometry is performed by the
<a class="reference internal" href="../algorithms/CylinderPaalmanPingsCorrection-v1.html#algm-cylinderpaalmanpingscorrection"><em>CylinderPaalmanPingsCorrection</em></a>
algorithm, this algorithm is currently only available on Windows as it uses
FORTRAN code dependant of F2Py.</p>
<dl class="docutils">
<dt>Sample Inner Radius</dt>
<dd>Radius of the inner wall of the sample in <img class="math" src="../_images/math/e1a40def7b482e6c31ea9a8a99338d1184c7b999.png" alt="cm" style="vertical-align: 0px"/>.</dd>
<dt>Sample Outer Radius</dt>
<dd>Radius of the outer wall of the sample in <img class="math" src="../_images/math/e1a40def7b482e6c31ea9a8a99338d1184c7b999.png" alt="cm" style="vertical-align: 0px"/>.</dd>
<dt>Container Outer Radius</dt>
<dd>Radius of outer wall of the container in <img class="math" src="../_images/math/e1a40def7b482e6c31ea9a8a99338d1184c7b999.png" alt="cm" style="vertical-align: 0px"/>.</dd>
<dt>Beam Height</dt>
<dd>Height of incident beam <img class="math" src="../_images/math/e1a40def7b482e6c31ea9a8a99338d1184c7b999.png" alt="cm" style="vertical-align: 0px"/>.</dd>
<dt>Beam Width</dt>
<dd>Width of incident beam in <img class="math" src="../_images/math/e1a40def7b482e6c31ea9a8a99338d1184c7b999.png" alt="cm" style="vertical-align: 0px"/>.</dd>
<dt>Step Size</dt>
<dd>Step size used in calculation.</dd>
</dl>
</div>
<div class="section" id="annulus">
<h4><a class="toc-backref" href="#id31">Annulus</a><a class="headerlink" href="#annulus" title="Permalink to this headline">¶</a></h4>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This mode is only available on Windows</p>
</div>
<div class="figure">
<a class="screenshot reference internal image-reference" href="../_images/Data_Analysis_pgAnnulus_widget.png"><img alt="../_images/Data_Analysis_pgAnnulus_widget.png" class="screenshot" src="../_images/Data_Analysis_pgAnnulus_widget.png" style="width: 499px;" /></a>
</div>
<p>The calculation for an annular geometry is performed by the
<a class="reference internal" href="../algorithms/CylinderPaalmanPingsCorrection-v1.html#algm-cylinderpaalmanpingscorrection"><em>CylinderPaalmanPingsCorrection</em></a>
algorithm, this algorithm is currently only available on Windows as it uses
FORTRAN code dependant of F2Py.</p>
<p>The options here are the same as for Cylinder.</p>
</div>
</div>
<div class="section" id="background">
<h3><a class="toc-backref" href="#id32">Background</a><a class="headerlink" href="#background" title="Permalink to this headline">¶</a></h3>
<p>The main correction to be applied to neutron scattering data is that for
absorption both in the sample and its container, when present. For flat plate
geometry, the corrections can be analytical and have been discussed for example
by Carlile [1]. The situation for cylindrical geometry is more complex and
requires numerical integration. These techniques are well known and used in
liquid and amorphous diffraction, and are described in the ATLAS manual [2].</p>
<p>The absorption corrections use the formulism of Paalman and Pings [3] and
involve the attenuation factors <img class="math" src="../_images/math/aeb90e3584ef24e687e77c67568aa655aeafc9c6.png" alt="A_{i,j}" style="vertical-align: -6px"/> where <img class="math" src="../_images/math/4cc7324e0d6c8c591e4d865a21144bda81fd3011.png" alt="i" style="vertical-align: 0px"/> refers to
scattering and <img class="math" src="../_images/math/c18271eddf460603079ed91e4dc4af329a59eab2.png" alt="j" style="vertical-align: -4px"/> attenuation. For example, <img class="math" src="../_images/math/bc7f9902ac1113c44915d9134a7bbb305f1e8748.png" alt="A_{s,sc}" style="vertical-align: -6px"/> is the
attenuation factor for scattering in the sample and attenuation in the sample
plus container. If the scattering cross sections for sample and container are
<img class="math" src="../_images/math/28f6cea0f812971de1a2ffdb8c51d6c88e9115af.png" alt="\Sigma_{s}" style="vertical-align: -3px"/> and <img class="math" src="../_images/math/5251da20961226441b843d679c42ed8d9cd22f23.png" alt="\Sigma_{c}" style="vertical-align: -3px"/> respectively, then the measured
scattering from the empty container is <img class="math" src="../_images/math/a062d1f763aaa29b8c51076852bd5e443659be33.png" alt="I_{c} = \Sigma_{c}A_{c,c}" style="vertical-align: -6px"/> and
that from the sample plus container is <img class="math" src="../_images/math/e6ae81e5e17bc6c963e5e995d6d20cd16a3afcac.png" alt="I_{sc} = \Sigma_{s}A_{s,sc} +
\Sigma_{c}A_{c,sc}" style="vertical-align: -6px"/>, thus <img class="math" src="../_images/math/c59b78081156f2b5c4cdbf9e50fb6a1df0e37009.png" alt="\Sigma_{s} = (I_{sc} - I_{c}A_{c,sc}/A_{c,c}) /
A_{s,sc}" style="vertical-align: -6px"/>.</p>
<p>References:</p>
<ol class="arabic simple">
<li>C J Carlile, Rutherford Laboratory report, RL-74-103 (1974)</li>
<li>A K Soper, W S Howells &amp; A C Hannon, RAL Report RAL-89-046 (1989)</li>
<li>H H Paalman &amp; C J Pings, J Appl Phys 33 2635 (1962)</li>
</ol>
</div>
</div>
<div class="section" id="apply-corrections">
<h2><a class="toc-backref" href="#id33">Apply Corrections</a><a class="headerlink" href="#apply-corrections" title="Permalink to this headline">¶</a></h2>
<div class="figure">
<a class="screenshot reference internal image-reference" href="../_images/Data_Analysis_tabApplyCorr_widget.png"><img alt="../_images/Data_Analysis_tabApplyCorr_widget.png" class="screenshot" src="../_images/Data_Analysis_tabApplyCorr_widget.png" style="width: 630px;" /></a>
</div>
<p>The Apply Corrections tab applies the corrections calculated in the Calculate
Corrections tab of the Indirect Data Analysis interface.</p>
<p>This uses the <a class="reference internal" href="../algorithms/ApplyPaalmanPingsCorrection-v1.html#algm-applypaalmanpingscorrection"><em>ApplyPaalmanPingsCorrection</em></a> algorithm to apply absorption corrections in
the form of the Paalman &amp; Pings correction factors. When <em>Use Can</em> is disabled
only the <img class="math" src="../_images/math/1967529dd2c5f21c2b37fb011d28fe0b10c5997d.png" alt="A_{s,s}" style="vertical-align: -6px"/> factor must be provided, when using a container the
additional factors must be provided: <img class="math" src="../_images/math/2cc4bcf3bef41d04fcd0a671e9b592ede5bfa80b.png" alt="A_{c,sc}" style="vertical-align: -6px"/>, <img class="math" src="../_images/math/bc7f9902ac1113c44915d9134a7bbb305f1e8748.png" alt="A_{s,sc}" style="vertical-align: -6px"/> and
<img class="math" src="../_images/math/875ffb4fd8f1f64905cd9caf7910615c1c03ff6b.png" alt="A_{c,c}" style="vertical-align: -6px"/>.</p>
<p>Once run the corrected output and can correction is shown in the preview plot,
the Spectrum spin box can be used to scroll through each spectrum. Note that
when this plot shows the result of a calculation the X axis is always in
wavelength, however when data is initially selected the X axis unit matches that
of the sample workspace.</p>
<p>The input and container workspaces will be converted to wavelength (using
<a class="reference internal" href="../algorithms/ConvertUnits-v1.html#algm-convertunits"><em>ConvertUnits</em></a>) if they do not already have wavelength
as their X unit.</p>
<p>The binning of the sample, container and corrections factor workspace must all
match, if the sample and container do not match you will be given the option to
rebin (using <a class="reference internal" href="../algorithms/RebinToWorkspace-v1.html#algm-rebintoworkspace"><em>RebinToWorkspace</em></a>) the sample to
match the container, if the correction factors do not match you will be given
the option to interpolate (<a class="reference internal" href="../algorithms/SplineInterpolation-v1.html#algm-splineinterpolation"><em>SplineInterpolation</em></a>) the correction factor to match the sample.</p>
<div class="section" id="id6">
<h3><a class="toc-backref" href="#id34">Options</a><a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Input</dt>
<dd>Either a reduced file (<em>_red.nxs</em>) or workspace (<em>_red</em>) or an <img class="math" src="../_images/math/a541d552e98780191bbfcbce2f098e20c42e8abb.png" alt="S(Q,
\omega)" style="vertical-align: -4px"/> file (<em>_sqw.nxs</em>) or workspace (<em>_sqw</em>).</dd>
<dt>Geometry</dt>
<dd>Sets the sample geometry (this must match the sample shape used when running
Calculate Corrections).</dd>
<dt>Use Can</dt>
<dd>If checked allows you to select a workspace for the container in the format of
either a reduced file (<em>_red.nxs</em>) or workspace (<em>_red</em>) or an <img class="math" src="../_images/math/a541d552e98780191bbfcbce2f098e20c42e8abb.png" alt="S(Q,
\omega)" style="vertical-align: -4px"/> file (<em>_sqw.nxs</em>) or workspace (<em>_sqw</em>).</dd>
<dt>Scale Can by factor</dt>
<dd>Allows the container intensity to be scaled by a given scale factor before
being used in the corrections calculation.</dd>
<dt>Use Corrections</dt>
<dd>The Paalman &amp; Pings correction factors to use in the calculation, note that
the file or workspace name must end in either <em>_flt_abs</em> or <em>_cyl_abs</em> for the
flat plate and cylinder geometries respectively.</dd>
<dt>Plot Output</dt>
<dd>Gives the option to create either a spectra or contour plot (or both) of the
corrected workspace.</dd>
<dt>Save Result</dt>
<dd>If enabled the result will be saved as a NeXus file in the default save
directory.</dd>
</dl>
</div>
</div>
<div class="section" id="absorption-corrections">
<h2><a class="toc-backref" href="#id35">Absorption Corrections</a><a class="headerlink" href="#absorption-corrections" title="Permalink to this headline">¶</a></h2>
<div class="figure">
<a class="screenshot reference internal image-reference" href="../_images/Data_Analysis_tabAbsorptionCorrections_widget.png"><img alt="../_images/Data_Analysis_tabAbsorptionCorrections_widget.png" class="screenshot" src="../_images/Data_Analysis_tabAbsorptionCorrections_widget.png" style="width: 636px;" /></a>
</div>
<p>The Absorption Corrections tab provides a cross platform alternative to the
previous Calculate and Apply Corrections tabs.</p>
<div class="section" id="common-options">
<h3><a class="toc-backref" href="#id36">Common Options</a><a class="headerlink" href="#common-options" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Sample Input</dt>
<dd>Used to select the sample from either a file or a workspace already loaded
into Mantid.</dd>
<dt>Use Container</dt>
<dd>Used to enable or disable use of a container and selects one from either a
file or loaded workspace.</dd>
<dt>Shape</dt>
<dd>Select the shape of the sample (see specific geometry options below).</dd>
<dt>Number Density</dt>
<dd>Number density for either the sample or container.</dd>
<dt>Chemical Formula</dt>
<dd>Chemical formula for either the sample or container in the format expected by
<a class="reference internal" href="../algorithms/SetSampleMaterial-v1.html#algm-setsamplematerial"><em>SetSampleMaterial</em></a>.</dd>
<dt>Use Container Corrections</dt>
<dd>Enables full container corrections, if disabled only a can subtraction will be
performed.</dd>
<dt>Scale</dt>
<dd>Scale factor to scale container input by.</dd>
<dt>Keep Correction Factors</dt>
<dd>If checked a <a class="reference internal" href="../concepts/WorkspaceGroup.html#workspacegroup"><em>Workspace Group</em></a> containing the correction factors will also
be created, this will have the suffix <em>_Factors</em>.</dd>
<dt>Plot Result</dt>
<dd>If checked the corrected workspace and correction factors will be plotted.</dd>
<dt>Save Result</dt>
<dd>If checked the corrected workspace and (if <em>Keep Correction Factors</em> is
checked) the correction factor workspace will be saved as a NeXus file in the
default save directory.</dd>
</dl>
</div>
<div class="section" id="id7">
<h3><a class="toc-backref" href="#id37">Flat Plate</a><a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<div class="figure">
<a class="screenshot reference internal image-reference" href="../_images/Data_Analysis_pgAbsCorFlatPlate_widget.png"><img alt="../_images/Data_Analysis_pgAbsCorFlatPlate_widget.png" class="screenshot" src="../_images/Data_Analysis_pgAbsCorFlatPlate_widget.png" style="width: 547px;" /></a>
</div>
<p>Flat plate calculations are provided by the
<a class="reference internal" href="../algorithms/IndirectFlatPlateAbsorption-v1.html#algm-indirectflatplateabsorption"><em>IndirectFlatPlateAbsorption</em></a> algorithm.</p>
<dl class="docutils">
<dt>Sample Width</dt>
<dd>Width of the sample in <img class="math" src="../_images/math/e1a40def7b482e6c31ea9a8a99338d1184c7b999.png" alt="cm" style="vertical-align: 0px"/>.</dd>
<dt>Sample Height</dt>
<dd>Height of the sample in <img class="math" src="../_images/math/e1a40def7b482e6c31ea9a8a99338d1184c7b999.png" alt="cm" style="vertical-align: 0px"/>.</dd>
<dt>Sample Thickness</dt>
<dd>Thickness of the sample in <img class="math" src="../_images/math/e1a40def7b482e6c31ea9a8a99338d1184c7b999.png" alt="cm" style="vertical-align: 0px"/>.</dd>
<dt>Container Front Thickness</dt>
<dd>Thickness of the front of the container in <img class="math" src="../_images/math/e1a40def7b482e6c31ea9a8a99338d1184c7b999.png" alt="cm" style="vertical-align: 0px"/>.</dd>
<dt>Container Back Thickness</dt>
<dd>Thickness of the back of the container in <img class="math" src="../_images/math/e1a40def7b482e6c31ea9a8a99338d1184c7b999.png" alt="cm" style="vertical-align: 0px"/>.</dd>
<dt>Element Size</dt>
<dd>Size of the square &#8220;chunks&#8221; to divide the frontal area of the sample into to
calculate corrections in <img class="math" src="../_images/math/e1a40def7b482e6c31ea9a8a99338d1184c7b999.png" alt="cm" style="vertical-align: 0px"/>.</dd>
</dl>
</div>
<div class="section" id="id8">
<h3><a class="toc-backref" href="#id38">Annulus</a><a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<div class="figure">
<a class="screenshot reference internal image-reference" href="../_images/Data_Analysis_pgAbsCorAnnulus_widget.png"><img alt="../_images/Data_Analysis_pgAbsCorAnnulus_widget.png" class="screenshot" src="../_images/Data_Analysis_pgAbsCorAnnulus_widget.png" style="width: 560px;" /></a>
</div>
<p>Annulus calculations are provided by the <a class="reference internal" href="../algorithms/IndirectAnnulusAbsorption-v1.html#algm-indirectannulusabsorption"><em>IndirectAnnulusAbsorption</em></a> algorithm.</p>
<dl class="docutils">
<dt>Sample Inner Radius</dt>
<dd>Radius of the inner wall of the sample in <img class="math" src="../_images/math/e1a40def7b482e6c31ea9a8a99338d1184c7b999.png" alt="cm" style="vertical-align: 0px"/>.</dd>
<dt>Sample Outer Radius</dt>
<dd>Radius of the outer wall of the sample in <img class="math" src="../_images/math/e1a40def7b482e6c31ea9a8a99338d1184c7b999.png" alt="cm" style="vertical-align: 0px"/>.</dd>
<dt>Container Inner Radius</dt>
<dd>Radius of the inner wall of the container in <img class="math" src="../_images/math/e1a40def7b482e6c31ea9a8a99338d1184c7b999.png" alt="cm" style="vertical-align: 0px"/>.</dd>
<dt>Container Outer Radius</dt>
<dd>Radius of the outer wall of the container in <img class="math" src="../_images/math/e1a40def7b482e6c31ea9a8a99338d1184c7b999.png" alt="cm" style="vertical-align: 0px"/>.</dd>
<dt>Neutron Events</dt>
<dd>Number of events to use in the Monte Carlo simulation.</dd>
</dl>
</div>
<div class="section" id="id9">
<h3><a class="toc-backref" href="#id39">Cylinder</a><a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<div class="figure">
<a class="screenshot reference internal image-reference" href="../_images/Data_Analysis_pgAbsCorCylinder_widget.png"><img alt="../_images/Data_Analysis_pgAbsCorCylinder_widget.png" class="screenshot" src="../_images/Data_Analysis_pgAbsCorCylinder_widget.png" style="width: 471px;" /></a>
</div>
<p>Cylinder calculations are provided by the
<a class="reference internal" href="../algorithms/IndirectCylinderAbsorption-v1.html#algm-indirectcylinderabsorption"><em>IndirectCylinderAbsorption</em></a> algorithm.</p>
<dl class="docutils">
<dt>Sample Radius</dt>
<dd>Radius of the outer wall of the sample in <img class="math" src="../_images/math/e1a40def7b482e6c31ea9a8a99338d1184c7b999.png" alt="cm" style="vertical-align: 0px"/>.</dd>
<dt>Container Radius</dt>
<dd>Radius of the outer wall of the container in <img class="math" src="../_images/math/e1a40def7b482e6c31ea9a8a99338d1184c7b999.png" alt="cm" style="vertical-align: 0px"/>.</dd>
<dt>Neutron Events</dt>
<dd>Number of events to use in the Monte Carlo simulation.</dd>
</dl>
<p><strong>Categories</strong>: <a class="reference external" href="categories/Interfaces.html">Interfaces</a> | <a class="reference external" href="categories/Indirect.html">Indirect</a></p>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2015, Mantid.<br/>
    </p>
  </div>
</footer>
  </body>
</html>