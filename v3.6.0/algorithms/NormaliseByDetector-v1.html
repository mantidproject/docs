<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>NormaliseByDetector v1</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.1.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.1.0/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.6.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="" href="../index.html" />
    <link rel="next" title="NormaliseByPeakArea v1" href="NormaliseByPeakArea-v1.html" />
    <link rel="prev" title="NormaliseByCurrent v1" href="NormaliseByCurrent-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>3.6</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://www.mantidproject.org/Documentation">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="normalisebydetector-v1">
<span id="algm-normalisebydetector"></span><span id="algm-normalisebydetector-v1"></span><h1>NormaliseByDetector v1<a class="headerlink" href="#normalisebydetector-v1" title="Permalink to this headline">¶</a></h1>
<div class="figure align-right" id="index-0">
<a class="screenshot reference internal image-reference" href="../_images/NormaliseByDetector-v1_dlg.png"><img alt="../_images/NormaliseByDetector-v1_dlg.png" class="screenshot" src="../_images/NormaliseByDetector-v1_dlg.png" style="width: 399px;" /></a>
<p class="caption"><strong>NormaliseByDetector</strong> dialog.</p>
</div>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#summary" id="id1">Summary</a></li>
<li><a class="reference internal" href="#properties" id="id2">Properties</a></li>
<li><a class="reference internal" href="#description" id="id3">Description</a></li>
<li><a class="reference internal" href="#prerequisites" id="id4">Prerequisites</a><ul>
<li><a class="reference internal" href="#the-input-workspace" id="id5">The Input Workspace</a></li>
<li><a class="reference internal" href="#the-instrument-definition-file" id="id6">The Instrument Definition File</a></li>
<li><a class="reference internal" href="#background" id="id7">Background</a></li>
<li><a class="reference internal" href="#recommended-working" id="id8">Recommended Working</a></li>
<li><a class="reference internal" href="#examples" id="id9">Examples</a></li>
</ul>
</li>
<li><a class="reference internal" href="#usage" id="id10">Usage</a></li>
<li><a class="reference internal" href="#source" id="id11">Source</a></li>
</ul>
</div>
<div class="section" id="summary">
<h2><a class="toc-backref" href="#id1">Summary</a><a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>Normalise the input workspace by the detector efficiency.</p>
</div>
<div class="section" id="properties">
<h2><a class="toc-backref" href="#id2">Properties</a><a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="15%" />
<col width="6%" />
<col width="38%" />
<col width="11%" />
<col width="30%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Direction</th>
<th class="head">Type</th>
<th class="head">Default</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>InputWorkspace</td>
<td>Input</td>
<td><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><em>MatrixWorkspace</em></a></td>
<td><em>Mandatory</em></td>
<td>An input workspace in wavelength</td>
</tr>
<tr class="row-odd"><td>OutputWorkspace</td>
<td>Output</td>
<td><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><em>MatrixWorkspace</em></a></td>
<td><em>Mandatory</em></td>
<td>An output workspace.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="description">
<h2><a class="toc-backref" href="#id3">Description</a><a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>This algorithm is designed to normalise a workspace via detector
efficiency functions. <strong>For this algorithm to work, the Instrument
Defintion File `IDF &lt;http://www.mantidproject.org/IDF&gt;`_ must have fitting functions on the
component tree</strong>. The setup information for this, as well as some
examples, are provided below.</p>
<p>At a high-level, the algorithm does this:</p>
<ol class="arabic simple">
<li>Extract a detector efficiency function <img class="math" src="../_images/math/09314befc0734731f8d3901d5457def1fd87aebc.png" alt="e = f(\lambda)" style="vertical-align: -4px"/></li>
<li>Using the bin boundaries on the input workspace, calculate efficiency
Y and E values and generate a new workspace from the results</li>
<li>Divide the input workspace by the efficiency workspace</li>
</ol>
</div>
<div class="section" id="prerequisites">
<h2><a class="toc-backref" href="#id4">Prerequisites</a><a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<div class="section" id="the-input-workspace">
<h3><a class="toc-backref" href="#id5">The Input Workspace</a><a class="headerlink" href="#the-input-workspace" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li>The input workspace must be a MatrixWorkspace</li>
<li>The input workspace must have X-units of Wavelength, run
<a class="reference internal" href="ConvertUnits-v1.html#algm-convertunits"><em>ConvertUnits v1</em></a> on your input workspace if it is not
already in Wavelength.</li>
<li>The input workspace must be a histogram workspace run
<a class="reference internal" href="ConvertToHistogram-v1.html#algm-converttohistogram"><em>ConvertToHistogram v1</em></a> on your input workspace
if it is not already histogrammed.</li>
</ol>
</div>
<div class="section" id="the-instrument-definition-file">
<h3><a class="toc-backref" href="#id6">The Instrument Definition File</a><a class="headerlink" href="#the-instrument-definition-file" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="background">
<h3><a class="toc-backref" href="#id7">Background</a><a class="headerlink" href="#background" title="Permalink to this headline">¶</a></h3>
<p>In brief, the components in the IDF file form a tree structure.
Detectors and Instruments are both types of component. Detectors are
ultimately children of Instruments in the tree structure. For a more
complete description see <a class="reference external" href="http://www.mantidproject.org/IDF">IDF</a>. The tree structure of the
components, mean that fitting functions do not necessarily have to be
assigned on a detector-by-detector basis. Applying a fit function to the
instrument, will ensure that all subcomponents (including detectors),
pick-up that function. However, functions assigned to lower-level
components (such as detectors) take precidence over and exising
functions that might exist on parent components (such as the
instrument). You can even, have some parameters for a function provided
against the detector, and pick up defaults from the bank, or instrument
if they have been specified there.</p>
</div>
<div class="section" id="recommended-working">
<h3><a class="toc-backref" href="#id8">Recommended Working</a><a class="headerlink" href="#recommended-working" title="Permalink to this headline">¶</a></h3>
<p>The IDF is intended to be a definitive description of the components in
the instrument at any time. This should be the most generic form of the
instrument setup possible. To complement this, you may provide
additional Instrument Parameter files, which can be used to overload
settings in the IDF for purposes of configuration and calibration. <strong>We
strongly recommend that fitting functions are provided via Instrument
Parameter Files rather than directly in the IDF</strong>. This will give you
more flexibility to change your fitting functions without the problems
of synchronising the IDF across Mantid, and possible corruption
resulting from ad-hoc changes.</p>
<p>Instrument Parameter Files that take the form
{InstrumentName}_Parameters.xml and live in the Instrument directory of
Mantid are automatically loaded along with the IDF when a workspace is
loaded into Mantid. However, you can apply any number of additional
parameter files over the top of an existing workspace using
<a class="reference internal" href="LoadParameterFile-v1.html#algm-loadparameterfile"><em>LoadParameterFile v1</em></a>.</p>
</div>
<div class="section" id="examples">
<h3><a class="toc-backref" href="#id9">Examples</a><a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h3>
<p>Applying a LinearFunction to the whole instrument, hard-coded with A1=2
and A0=1. Fictional instrument is called basic_rect.</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;parameter-file</span> <span class="na">instrument =</span> <span class="s">&quot;basic_rect&quot;</span> <span class="na">date =</span> <span class="s">&quot;2012-01-31T00:00:00&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;component-link</span> <span class="na">name=</span><span class="s">&quot;basic_rect&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;parameter</span> <span class="na">name=</span><span class="s">&quot;LinearBackground:A0&quot;</span> <span class="na">type=</span><span class="s">&quot;fitting&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;formula</span> <span class="na">eq=</span><span class="s">&quot;1&quot;</span> <span class="na">result-unit=</span><span class="s">&quot;Wavelength&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;fixed</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/parameter&gt;</span>
  <span class="nt">&lt;parameter</span> <span class="na">name=</span><span class="s">&quot;LinearBackground:A1&quot;</span> <span class="na">type=</span><span class="s">&quot;fitting&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;formula</span> <span class="na">eq=</span><span class="s">&quot;2&quot;</span> <span class="na">result-unit=</span><span class="s">&quot;Wavelength&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;fixed</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/parameter&gt;</span>
  <span class="nt">&lt;/component-link&gt;</span>
<span class="nt">&lt;/parameter-file&gt;</span>
</pre></div>
</div>
<p>Applying the same LinearFunction to two different detectors, with
different coefficients is shown below:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;parameter-file</span> <span class="na">instrument =</span> <span class="s">&quot;basic_rect&quot;</span> <span class="na">date =</span> <span class="s">&quot;2012-01-31T00:00:00&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;component-link</span> <span class="na">name=</span><span class="s">&quot;bank1(0,0)&quot;</span><span class="nt">&gt;</span>
   <span class="nt">&lt;parameter</span> <span class="na">name=</span><span class="s">&quot;LinearBackground:A0&quot;</span> <span class="na">type=</span><span class="s">&quot;fitting&quot;</span><span class="nt">&gt;</span>
       <span class="nt">&lt;formula</span> <span class="na">eq=</span><span class="s">&quot;0&quot;</span> <span class="na">result-unit=</span><span class="s">&quot;Wavelength&quot;</span><span class="nt">/&gt;</span>
       <span class="nt">&lt;fixed</span> <span class="nt">/&gt;</span>
   <span class="nt">&lt;/parameter&gt;</span>
   <span class="nt">&lt;parameter</span> <span class="na">name=</span><span class="s">&quot;LinearBackground:A1&quot;</span> <span class="na">type=</span><span class="s">&quot;fitting&quot;</span><span class="nt">&gt;</span>
       <span class="nt">&lt;formula</span> <span class="na">eq=</span><span class="s">&quot;1&quot;</span> <span class="na">result-unit=</span><span class="s">&quot;Wavelength&quot;</span><span class="nt">/&gt;</span>
       <span class="nt">&lt;fixed</span> <span class="nt">/&gt;</span>
   <span class="nt">&lt;/parameter&gt;</span>
<span class="nt">&lt;/component-link&gt;</span>
<span class="nt">&lt;component-link</span> <span class="na">name=</span><span class="s">&quot;bank2(0,0)&quot;</span><span class="nt">&gt;</span>
   <span class="nt">&lt;parameter</span> <span class="na">name=</span><span class="s">&quot;LinearBackground:A0&quot;</span> <span class="na">type=</span><span class="s">&quot;fitting&quot;</span><span class="nt">&gt;</span>
       <span class="nt">&lt;formula</span> <span class="na">eq=</span><span class="s">&quot;1&quot;</span> <span class="na">result-unit=</span><span class="s">&quot;Wavelength&quot;</span><span class="nt">/&gt;</span>
       <span class="nt">&lt;fixed</span> <span class="nt">/&gt;</span>
   <span class="nt">&lt;/parameter&gt;</span>
   <span class="nt">&lt;parameter</span> <span class="na">name=</span><span class="s">&quot;LinearBackground:A1&quot;</span> <span class="na">type=</span><span class="s">&quot;fitting&quot;</span><span class="nt">&gt;</span>
       <span class="nt">&lt;formula</span> <span class="na">eq=</span><span class="s">&quot;1&quot;</span> <span class="na">result-unit=</span><span class="s">&quot;Wavelength&quot;</span><span class="nt">/&gt;</span>
       <span class="nt">&lt;fixed</span> <span class="nt">/&gt;</span>
   <span class="nt">&lt;/parameter&gt;</span>
<span class="nt">&lt;/component-link&gt;</span>
<span class="nt">&lt;/parameter-file&gt;</span>
</pre></div>
</div>
<p>In the following the LinearFunction A0 coefficient is set globally for
all detectors at the instrument level, while the A1 coefficient is
provided for each detector. In this way the Algorithm sees a complete
definition for the Linear function (both A1 and A0) from two incomplete
definitions on different components in the tree.</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;parameter-file</span> <span class="na">instrument =</span> <span class="s">&quot;basic_rect&quot;</span> <span class="na">date =</span> <span class="s">&quot;2012-01-31T00:00:00&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;component-link</span> <span class="na">name=</span><span class="s">&quot;basic_rect&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;parameter</span> <span class="na">name=</span><span class="s">&quot;LinearBackground:A0&quot;</span> <span class="na">type=</span><span class="s">&quot;fitting&quot;</span><span class="nt">&gt;</span>
   <span class="nt">&lt;formula</span> <span class="na">eq=</span><span class="s">&quot;3&quot;</span> <span class="na">result-unit=</span><span class="s">&quot;Wavelength&quot;</span><span class="nt">/&gt;</span>
   <span class="nt">&lt;fixed</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/parameter&gt;</span>
<span class="nt">&lt;/component-link&gt;</span>
<span class="nt">&lt;component-link</span> <span class="na">name=</span><span class="s">&quot;bank1(0,0)&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;parameter</span> <span class="na">name=</span><span class="s">&quot;LinearBackground:A1&quot;</span> <span class="na">type=</span><span class="s">&quot;fitting&quot;</span><span class="nt">&gt;</span>
   <span class="nt">&lt;formula</span> <span class="na">eq=</span><span class="s">&quot;0&quot;</span> <span class="na">result-unit=</span><span class="s">&quot;Wavelength&quot;</span><span class="nt">/&gt;</span>
   <span class="nt">&lt;fixed</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/parameter&gt;</span>
<span class="nt">&lt;/component-link&gt;</span>
<span class="nt">&lt;component-link</span> <span class="na">name=</span><span class="s">&quot;bank2(0,0)&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;parameter</span> <span class="na">name=</span><span class="s">&quot;LinearBackground:A1&quot;</span> <span class="na">type=</span><span class="s">&quot;fitting&quot;</span><span class="nt">&gt;</span>
   <span class="nt">&lt;formula</span> <span class="na">eq=</span><span class="s">&quot;1&quot;</span> <span class="na">result-unit=</span><span class="s">&quot;Wavelength&quot;</span><span class="nt">/&gt;</span>
   <span class="nt">&lt;fixed</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/parameter&gt;</span>
<span class="nt">&lt;/component-link&gt;</span>
<span class="nt">&lt;/parameter-file&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="usage">
<h2><a class="toc-backref" href="#id10">Usage</a><a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p><strong>Example - A simple linear correction</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">os</span>

<span class="c">#create a param file</span>
<span class="n">param_text</span> <span class="o">=</span> <span class="s">&#39;&#39;&#39;&lt;parameter-file instrument = &quot;basic_rect&quot; date = &quot;2012-01-31T00:00:00&quot;&gt;</span>
<span class="s">      &lt;component-link name=&quot;basic_rect&quot;&gt;</span>
<span class="s">      &lt;parameter name=&quot;LinearBackground:A0&quot; type=&quot;fitting&quot;&gt;</span>
<span class="s">        &lt;formula eq=&quot;1&quot; result-unit=&quot;Wavelength&quot;/&gt;</span>
<span class="s">        &lt;fixed /&gt;</span>
<span class="s">      &lt;/parameter&gt;</span>
<span class="s">      &lt;parameter name=&quot;LinearBackground:A1&quot; type=&quot;fitting&quot;&gt;</span>
<span class="s">        &lt;formula eq=&quot;2&quot; result-unit=&quot;Wavelength&quot;/&gt;</span>
<span class="s">        &lt;fixed /&gt;</span>
<span class="s">      &lt;/parameter&gt;</span>
<span class="s">      &lt;/component-link&gt;</span>
<span class="s">    &lt;/parameter-file&gt;&#39;&#39;&#39;</span>

<span class="c">#find a suitable directory to save the param file</span>
<span class="n">param_dir</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="s">&quot;defaultsave.directory&quot;</span><span class="p">]</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">param_dir</span><span class="p">):</span>
  <span class="c">#use the users home directory if default save is not set</span>
  <span class="n">param_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s">&#39;~&#39;</span><span class="p">)</span>
<span class="n">param_file_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">param_dir</span><span class="p">,</span><span class="s">&quot;NormByDet_Ex_param.xml&quot;</span><span class="p">)</span>
<span class="c">#write the param file out</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">param_file_path</span><span class="p">,</span> <span class="s">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">param_file</span><span class="p">:</span>
  <span class="n">param_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">param_text</span><span class="p">)</span>


<span class="c"># a sample workspace with a sample instrument</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">()</span>
<span class="c"># convert to Wavelength</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">ConvertUnits</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span><span class="s">&quot;Wavelength&quot;</span><span class="p">)</span>
<span class="c">#Load the param file into the workspace</span>
<span class="n">LoadParameterFile</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span><span class="n">param_file_path</span><span class="p">)</span>

<span class="c">#Now we are ready to run the correction</span>
<span class="n">wsCorrected</span> <span class="o">=</span> <span class="n">NormaliseByDetector</span><span class="p">(</span><span class="n">ws</span><span class="p">)</span>

<span class="k">print</span> <span class="p">(</span><span class="s">&quot;The correction will divide the data by an increasing linear function.&quot;</span><span class="p">)</span>
<span class="k">print</span> <span class="p">(</span><span class="s">&quot;f(x) = 2x + 1&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">wsCorrected</span><span class="o">.</span><span class="n">blocksize</span><span class="p">(),</span><span class="mi">10</span><span class="p">):</span>
  <span class="k">print</span> <span class="p">(</span><span class="s">&quot;The correct value in bin </span><span class="si">%i</span><span class="s"> is </span><span class="si">%.2f</span><span class="s"> compared to </span><span class="si">%.2f</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">wsCorrected</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="n">i</span><span class="p">],</span><span class="n">ws</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="n">i</span><span class="p">]))</span>

<span class="c">#clean up the file</span>
<span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">param_file_path</span><span class="p">):</span>
  <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">param_file_path</span><span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none"><div class="highlight"><pre>The correction will divide the data by an increasing linear function.
f(x) = 2x + 1
The correct value in bin 0 is 0.28 compared to 0.30
The correct value in bin 10 is 0.14 compared to 0.30
The correct value in bin 20 is 0.09 compared to 0.30
The correct value in bin 30 is 0.07 compared to 0.30
The correct value in bin 40 is 0.06 compared to 0.30
The correct value in bin 50 is 1.63 compared to 10.30
The correct value in bin 60 is 0.04 compared to 0.30
The correct value in bin 70 is 0.04 compared to 0.30
The correct value in bin 80 is 0.03 compared to 0.30
The correct value in bin 90 is 0.03 compared to 0.30
</pre></div>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/Algorithms.html">Algorithms</a> | <a class="reference external" href="categories/CorrectionFunctions/NormalisationCorrections.html">CorrectionFunctions\NormalisationCorrections</a></p>
</div>
<div class="section" id="source">
<h2><a class="toc-backref" href="#id11">Source</a><a class="headerlink" href="#source" title="Permalink to this headline">¶</a></h2>
<p>C++ source: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/928349c406ed0cdd1d18d429ed0a1a931814016c/Framework/Algorithms/src/NormaliseByDetector.cpp">NormaliseByDetector.cpp</a></p>
<p>C++ header: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/928349c406ed0cdd1d18d429ed0a1a931814016c/Framework/Algorithms/inc/MantidAlgorithms/NormaliseByDetector.h">NormaliseByDetector.h</a></p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="NormaliseByCurrent-v1.html" title="Previous Chapter: NormaliseByCurrent v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm">&laquo; NormaliseByCurre...</span>
    </a>
  </li>
  <li>
    <a href="NormaliseByPeakArea-v1.html" title="Next Chapter: NormaliseByPeakArea v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm">NormaliseByPeakA... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>