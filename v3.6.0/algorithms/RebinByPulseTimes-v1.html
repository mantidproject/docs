<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>RebinByPulseTimes v1</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.1.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.1.0/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.6.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="" href="../index.html" />
    <link rel="next" title="RebinByTimeAtSample v1" href="RebinByTimeAtSample-v1.html" />
    <link rel="prev" title="Rebin2D v1" href="Rebin2D-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>3.6</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://www.mantidproject.org/Documentation">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="rebinbypulsetimes-v1">
<span id="algm-rebinbypulsetimes"></span><span id="algm-rebinbypulsetimes-v1"></span><h1>RebinByPulseTimes v1<a class="headerlink" href="#rebinbypulsetimes-v1" title="Permalink to this headline">¶</a></h1>
<div class="figure align-right" id="index-0">
<a class="screenshot reference internal image-reference" href="../_images/RebinByPulseTimes-v1_dlg.png"><img alt="../_images/RebinByPulseTimes-v1_dlg.png" class="screenshot" src="../_images/RebinByPulseTimes-v1_dlg.png" style="width: 395px;" /></a>
<p class="caption"><strong>RebinByPulseTimes</strong> dialog.</p>
</div>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#summary" id="id1">Summary</a></li>
<li><a class="reference internal" href="#properties" id="id2">Properties</a></li>
<li><a class="reference internal" href="#description" id="id3">Description</a></li>
<li><a class="reference internal" href="#example-of-use" id="id4">Example of Use</a></li>
<li><a class="reference internal" href="#usage" id="id5">Usage</a></li>
<li><a class="reference internal" href="#source" id="id6">Source</a></li>
</ul>
</div>
<div class="section" id="summary">
<h2><a class="toc-backref" href="#id1">Summary</a><a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>Bins events according to pulse time. Binning parameters are specified relative to the start of the run.</p>
</div>
<div class="section" id="properties">
<h2><a class="toc-backref" href="#id2">Properties</a><a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="6%" />
<col width="3%" />
<col width="15%" />
<col width="4%" />
<col width="72%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Direction</th>
<th class="head">Type</th>
<th class="head">Default</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>InputWorkspace</td>
<td>Input</td>
<td>IEventWorkspace</td>
<td><em>Mandatory</em></td>
<td>An input workspace containing TOF events.</td>
</tr>
<tr class="row-odd"><td>Params</td>
<td>Input</td>
<td>dbl list</td>
<td><em>Mandatory</em></td>
<td>A comma separated list of first bin boundary, width, last bin boundary. Optionally this can be followed by a comma and more widths and last boundary pairs. Values are in seconds since run start.</td>
</tr>
<tr class="row-even"><td>OutputWorkspace</td>
<td>Output</td>
<td><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><em>MatrixWorkspace</em></a></td>
<td><em>Mandatory</em></td>
<td>An output workspace.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="description">
<h2><a class="toc-backref" href="#id3">Description</a><a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>Rebins an EventWorkspace according to the pulse times of each event
rather than the time of flight <a class="reference internal" href="Rebin-v1.html#algm-rebin"><em>Rebin v1</em></a>. The Params inputs may
be expressed in an identical manner to the <a class="reference internal" href="Rebin-v1.html#algm-rebin"><em>Rebin v1</em></a> algorithm. Param arguments are
in seconds since run start. Users may either provide a single value, which is interpreted as the
<em>step</em> (in seconds), or three comma separated values <em>start</em>, <em>step</em>,
<em>end</em>, where all units are in seconds, and start and end are relative to
the start of the run.</p>
<p>The x-axis is expressed in relative time to the start of the run in
seconds.</p>
<p>This algorithm may be used to diagnose problems with the electronics or
data collection. Typically, detectors should see a uniform distribution
of the events generated between the start and end of the run. This
algorithm allows anomalies to be detected.</p>
</div>
<div class="section" id="example-of-use">
<h2><a class="toc-backref" href="#id4">Example of Use</a><a class="headerlink" href="#example-of-use" title="Permalink to this headline">¶</a></h2>
<p>This diagnostic algorithm is particularly useful when coupled with the
Instrument View. In the example below is a real-world usage example
where we were able to highlight issues with data collection on the ISIS
WISH instrument. Some blocks of tubes, where tubes are arranged
vertically, are missing neutrons within large block of pulse time as a
result of data-buffering. After running RebinByPulseTime, we were able
to find both, which banks were affected, as well as the missing pulse
times for each bank. The horizontal slider in the instrument view allows
us to easily integrate over a section of pulse time and see the results
as a colour map.</p>
<div class="figure">
<img alt="RebinByPulseTime.png" src="../_images/RebinByPulseTime.png" />
<p class="caption">Instrument view of WISH with data projected after rebinning by pulse times</p>
</div>
</div>
<div class="section" id="usage">
<h2><a class="toc-backref" href="#id5">Usage</a><a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p><strong>Example - Rebinning an EventWorkspace by pulse times</strong></p>
<p>Input workspace has raw events</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># Load RAW event data</span>
<span class="n">event_ws</span> <span class="o">=</span> <span class="n">Load</span><span class="p">(</span><span class="s">&#39;CNCS_7860_event.nxs&#39;</span><span class="p">)</span>
<span class="c"># Start time</span>
<span class="n">start_time_in_seconds</span> <span class="o">=</span> <span class="mi">0</span>
<span class="c"># End time</span>
<span class="n">end_time_in_seconds</span> <span class="o">=</span> <span class="mf">1e2</span>
<span class="c"># Step size</span>
<span class="n">time_step_in_seconds</span> <span class="o">=</span> <span class="mi">1</span>
<span class="c"># Perform the rebin</span>
<span class="n">pulse_t_ws</span> <span class="o">=</span> <span class="n">RebinByPulseTimes</span><span class="p">(</span><span class="n">InputWorkspace</span><span class="o">=</span><span class="n">event_ws</span><span class="p">,</span> <span class="n">Params</span><span class="o">=</span><span class="p">[</span><span class="n">start_time_in_seconds</span><span class="p">,</span> <span class="n">time_step_in_seconds</span><span class="p">,</span> <span class="n">end_time_in_seconds</span><span class="p">])</span>

<span class="k">print</span> <span class="s">&quot;Events are rebinned into: &quot;</span><span class="p">,</span>  <span class="n">pulse_t_ws</span><span class="o">.</span><span class="n">blocksize</span><span class="p">(),</span> <span class="s">&quot;bins per histogram&quot;</span>
<span class="k">print</span> <span class="s">&quot;X-axis relative start time in seconds: &quot;</span><span class="p">,</span> <span class="n">pulse_t_ws</span><span class="o">.</span><span class="n">readX</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="k">print</span> <span class="s">&quot;X-axis relative end time in seconds: &quot;</span><span class="p">,</span> <span class="n">pulse_t_ws</span><span class="o">.</span><span class="n">readX</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none"><div class="highlight"><pre>Events are rebinned into:  100 bins per histogram
X-axis relative start time in seconds:  0.0
X-axis relative end time in seconds:  100.0
</pre></div>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/Algorithms.html">Algorithms</a> | <a class="reference external" href="categories/Transforms/Rebin.html">Transforms\Rebin</a></p>
</div>
<div class="section" id="source">
<h2><a class="toc-backref" href="#id6">Source</a><a class="headerlink" href="#source" title="Permalink to this headline">¶</a></h2>
<p>C++ source: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/928349c406ed0cdd1d18d429ed0a1a931814016c/Framework/Algorithms/src/RebinByPulseTimes.cpp">RebinByPulseTimes.cpp</a></p>
<p>C++ header: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/928349c406ed0cdd1d18d429ed0a1a931814016c/Framework/Algorithms/inc/MantidAlgorithms/RebinByPulseTimes.h">RebinByPulseTimes.h</a></p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="Rebin2D-v1.html" title="Previous Chapter: Rebin2D v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm">&laquo; Rebin2D v1</span>
    </a>
  </li>
  <li>
    <a href="RebinByTimeAtSample-v1.html" title="Next Chapter: RebinByTimeAtSample v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm">RebinByTimeAtSam... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>