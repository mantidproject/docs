<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>SetInstrumentParameter v1</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.12.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="" href="../index.html" />
    <link rel="next" title="SetMDFrame v1" href="SetMDFrame-v1.html" />
    <link rel="prev" title="SetGoniometer v1" href="SetGoniometer-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>3.12</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://docs.mantidproject.org/nightly/">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="setinstrumentparameter-v1">
<span id="algm-setinstrumentparameter"></span><span id="algm-setinstrumentparameter-v1"></span><h1>SetInstrumentParameter v1<a class="headerlink" href="#setinstrumentparameter-v1" title="Permalink to this headline">¶</a></h1>
<div class="figure align-right" id="index-0">
<a class="screenshot reference internal image-reference" href="../_images/SetInstrumentParameter-v1_dlg.png"><img alt="../_images/SetInstrumentParameter-v1_dlg.png" class="screenshot" src="../_images/SetInstrumentParameter-v1_dlg.png" style="width: 267px;" /></a>
<p class="caption"><strong>SetInstrumentParameter</strong> dialog.</p>
</div>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#summary" id="id1">Summary</a></li>
<li><a class="reference internal" href="#properties" id="id2">Properties</a></li>
<li><a class="reference internal" href="#description" id="id3">Description</a></li>
<li><a class="reference internal" href="#parameter-types" id="id4">Parameter Types</a></li>
<li><a class="reference internal" href="#usage" id="id5">Usage</a></li>
<li><a class="reference internal" href="#source" id="id6">Source</a></li>
</ul>
</div>
<div class="section" id="summary">
<h2><a class="toc-backref" href="#id1">Summary</a><a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>Add or replace an parameter attached to an instrument component.</p>
</div>
<div class="section" id="properties">
<h2><a class="toc-backref" href="#id2">Properties</a><a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="9%" />
<col width="4%" />
<col width="19%" />
<col width="8%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Direction</th>
<th class="head">Type</th>
<th class="head">Default</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Workspace</td>
<td>InOut</td>
<td><a class="reference internal" href="../concepts/Workspace.html#workspace"><em>Workspace</em></a></td>
<td><em>Mandatory</em></td>
<td>Workspace to add the log entry to</td>
</tr>
<tr class="row-odd"><td>ComponentName</td>
<td>Input</td>
<td>string</td>
<td>&nbsp;</td>
<td>The name of the component to attach the parameter to. Default: the whole instrument</td>
</tr>
<tr class="row-even"><td>DetectorList</td>
<td>Input</td>
<td>int list</td>
<td>&nbsp;</td>
<td>The detector ID list to attach the parameter to. If set this will override any ComponentName</td>
</tr>
<tr class="row-odd"><td>ParameterName</td>
<td>Input</td>
<td>string</td>
<td><em>Mandatory</em></td>
<td>The name that will identify the parameter</td>
</tr>
<tr class="row-even"><td>ParameterType</td>
<td>Input</td>
<td>string</td>
<td>String</td>
<td>The type that the parameter value will be. Allowed values: [&#8216;String&#8217;, &#8216;Number&#8217;, &#8216;Bool&#8217;]</td>
</tr>
<tr class="row-odd"><td>Value</td>
<td>Input</td>
<td>string</td>
<td>&nbsp;</td>
<td>The content of the Parameter</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="description">
<h2><a class="toc-backref" href="#id3">Description</a><a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>This algorithm adds or replaces an parameter attached to an instrument
component, or the entire instrument. Instrument parameters are specific
to a workspace, they will get carried on to output workspaces created
from an input workspace to an algorithm, but will not appear one
unrelated workspaces that happen to have been recorded on the same
instrument.</p>
<p>The workspace must have a instrument already defined, and will be
altered in place. If the name of the instrument component to attach the
parameter is not specified it will be attached to the whole instrument.</p>
<p>At present this algorithm only supports simple instrument parameters,
NOT fitting parameters.</p>
</div>
<div class="section" id="parameter-types">
<h2><a class="toc-backref" href="#id4">Parameter Types</a><a class="headerlink" href="#parameter-types" title="Permalink to this headline">¶</a></h2>
<p>The algorithm supports three types of parameters; <cite>Number</cite> (integer or floating point), <cite>String</cite> and <cite>Bool</cite>.
For <cite>Bool</cite> type, valid values are <cite>1</cite>, <cite>0</cite>, <cite>true</cite> or <cite>false</cite> (not case-sensitive).</p>
</div>
<div class="section" id="usage">
<h2><a class="toc-backref" href="#id5">Usage</a><a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p><strong>Example - a few simple parameters</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">ws</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">()</span>
<span class="c">#set a string parameter on the whole instrument</span>
<span class="n">SetInstrumentParameter</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span><span class="n">ParameterName</span><span class="o">=</span><span class="s">&quot;TestParam&quot;</span><span class="p">,</span><span class="n">Value</span><span class="o">=</span><span class="s">&quot;Hello&quot;</span><span class="p">)</span>

<span class="c">#set a Number parameter just for bank 1</span>
<span class="n">SetInstrumentParameter</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span><span class="n">ParameterName</span><span class="o">=</span><span class="s">&quot;NumberParam&quot;</span><span class="p">,</span><span class="n">Value</span><span class="o">=</span><span class="s">&quot;3&quot;</span><span class="p">,</span> <span class="n">ComponentName</span><span class="o">=</span><span class="s">&quot;bank1&quot;</span><span class="p">,</span><span class="n">ParameterType</span><span class="o">=</span><span class="s">&quot;Number&quot;</span><span class="p">)</span>

<span class="c">#set a different value on bank 2</span>
<span class="n">SetInstrumentParameter</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span><span class="n">ParameterName</span><span class="o">=</span><span class="s">&quot;NumberParam&quot;</span><span class="p">,</span><span class="n">Value</span><span class="o">=</span><span class="s">&quot;3.5&quot;</span><span class="p">,</span> <span class="n">ComponentName</span><span class="o">=</span><span class="s">&quot;bank2&quot;</span><span class="p">,</span><span class="n">ParameterType</span><span class="o">=</span><span class="s">&quot;Number&quot;</span><span class="p">)</span>

<span class="n">instrument</span><span class="o">=</span><span class="n">ws</span><span class="o">.</span><span class="n">getInstrument</span><span class="p">()</span>
<span class="n">bank1</span><span class="o">=</span><span class="n">instrument</span><span class="o">.</span><span class="n">getComponentByName</span><span class="p">(</span><span class="s">&quot;bank1&quot;</span><span class="p">)</span>
<span class="n">bank2</span><span class="o">=</span><span class="n">instrument</span><span class="o">.</span><span class="n">getComponentByName</span><span class="p">(</span><span class="s">&quot;bank2&quot;</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="s">&quot;The whole instrument parameter can be read from anywhere.&quot;</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;  The instrument: &quot;</span> <span class="o">+</span> <span class="n">instrument</span><span class="o">.</span><span class="n">getStringParameter</span><span class="p">(</span><span class="s">&quot;TestParam&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;  bank 1: &quot;</span> <span class="o">+</span> <span class="n">bank1</span><span class="o">.</span><span class="n">getStringParameter</span><span class="p">(</span><span class="s">&quot;TestParam&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;  bank 2: &quot;</span> <span class="o">+</span> <span class="n">bank2</span><span class="o">.</span><span class="n">getStringParameter</span><span class="p">(</span><span class="s">&quot;TestParam&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>

<span class="k">print</span><span class="p">(</span><span class="s">&quot;The parameters  on the Bank 1 can be read from the bank or below.&quot;</span><span class="p">)</span>
<span class="c">#For this one call getIntParameter as the number was an int</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;  bank 1: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">bank1</span><span class="o">.</span><span class="n">getIntParameter</span><span class="p">(</span><span class="s">&quot;NumberParam&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]))</span>
<span class="c">#For this one call getNumberParameter as the number was a float</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;  bank 2: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">bank2</span><span class="o">.</span><span class="n">getNumberParameter</span><span class="p">(</span><span class="s">&quot;NumberParam&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]))</span>
<span class="c">#if you are not sure of the type of a parameter you can call getParameterType</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;  The type of NumberParam in bank 1: &quot;</span> <span class="o">+</span> <span class="n">bank1</span><span class="o">.</span><span class="n">getParameterType</span><span class="p">(</span><span class="s">&quot;NumberParam&quot;</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;  The type of NumberParam in bank 2: &quot;</span> <span class="o">+</span> <span class="n">bank2</span><span class="o">.</span><span class="n">getParameterType</span><span class="p">(</span><span class="s">&quot;NumberParam&quot;</span><span class="p">))</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none"><div class="highlight"><pre>The whole instrument parameter can be read from anywhere.
  The instrument: Hello
  bank 1: Hello
  bank 2: Hello
The parameters  on the Bank 1 can be read from the bank or below.
  bank 1: 3
  bank 2: 3.5
  The type of NumberParam in bank 1: int
  The type of NumberParam in bank 2: double
</pre></div>
</div>
<p><strong>Example - Overwriting existing values</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">ws</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">()</span>
<span class="c">#set a string parameter on the whole instrument</span>
<span class="n">SetInstrumentParameter</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span><span class="n">ParameterName</span><span class="o">=</span><span class="s">&quot;TestParam&quot;</span><span class="p">,</span><span class="n">Value</span><span class="o">=</span><span class="s">&quot;Hello&quot;</span><span class="p">)</span>
<span class="n">SetInstrumentParameter</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span><span class="n">ParameterName</span><span class="o">=</span><span class="s">&quot;TestParam&quot;</span><span class="p">,</span><span class="n">Value</span><span class="o">=</span><span class="s">&quot;Goodbye&quot;</span><span class="p">)</span>
<span class="n">SetInstrumentParameter</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span><span class="n">ParameterName</span><span class="o">=</span><span class="s">&quot;TestParam&quot;</span><span class="p">,</span><span class="n">Value</span><span class="o">=</span><span class="s">&quot;Hello from bank 1&quot;</span><span class="p">,</span><span class="n">ComponentName</span><span class="o">=</span><span class="s">&quot;bank1&quot;</span><span class="p">)</span>

<span class="n">instrument</span><span class="o">=</span><span class="n">ws</span><span class="o">.</span><span class="n">getInstrument</span><span class="p">()</span>
<span class="n">bank1</span><span class="o">=</span><span class="n">instrument</span><span class="o">.</span><span class="n">getComponentByName</span><span class="p">(</span><span class="s">&quot;bank1&quot;</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="s">&quot;The SetInstrumentParameter overwrites previous values where the ParameterName and Component match.&quot;</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;  The test param for the instrument is: &quot;</span> <span class="o">+</span> <span class="n">instrument</span><span class="o">.</span><span class="n">getStringParameter</span><span class="p">(</span><span class="s">&quot;TestParam&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;Different Components can have the same Parameter Name with different values.&quot;</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;You will receive the closest value to the component you ask from.&quot;</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;  The test param for bank 1 is: &quot;</span> <span class="o">+</span> <span class="n">bank1</span><span class="o">.</span><span class="n">getStringParameter</span><span class="p">(</span><span class="s">&quot;TestParam&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none"><div class="highlight"><pre>The SetInstrumentParameter overwrites previous values where the ParameterName and Component match.
  The test param for the instrument is: Goodbye
Different Components can have the same Parameter Name with different values.
You will receive the closest value to the component you ask from.
  The test param for bank 1 is: Hello from bank 1
</pre></div>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/Algorithms.html">Algorithms</a> | <a class="reference external" href="categories/DataHandling/Instrument.html">DataHandling\Instrument</a></p>
</div>
<div class="section" id="source">
<h2><a class="toc-backref" href="#id6">Source</a><a class="headerlink" href="#source" title="Permalink to this headline">¶</a></h2>
<p>C++ source: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/e07b2bf50bc7eaeb32967b712b3665c1ffc8a2c4/Framework/Algorithms/src/SetInstrumentParameter.cpp">SetInstrumentParameter.cpp</a> <em>(last modified: 2017-02-23)</em></p>
<p>C++ header: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/e07b2bf50bc7eaeb32967b712b3665c1ffc8a2c4/Framework/Algorithms/inc/MantidAlgorithms/SetInstrumentParameter.h">SetInstrumentParameter.h</a> <em>(last modified: 2017-02-23)</em></p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="SetGoniometer-v1.html" title="Previous Chapter: SetGoniometer v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; SetGoniometer v1</span>
    </a>
  </li>
  <li>
    <a href="SetMDFrame-v1.html" title="Next Chapter: SetMDFrame v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">SetMDFrame v1 &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
      Last updated on 2018-03-19.<br/>
    </p>
  </div>
</footer>
  </body>
</html>