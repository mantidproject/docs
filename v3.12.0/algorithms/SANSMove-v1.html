<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>SANSMove v1</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.12.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="" href="../index.html" />
    <link rel="next" title="SANSNormalizeToMonitor v1" href="SANSNormalizeToMonitor-v1.html" />
    <link rel="prev" title="SANSMaskWorkspace v1" href="SANSMaskWorkspace-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>3.12</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://docs.mantidproject.org/nightly/">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="sansmove-v1">
<span id="algm-sansmove"></span><span id="algm-sansmove-v1"></span><h1>SANSMove v1<a class="headerlink" href="#sansmove-v1" title="Permalink to this headline">¶</a></h1>
<div class="figure align-right" id="index-0">
<a class="screenshot reference internal image-reference" href="../_images/SANSMove-v1_dlg.png"><img alt="../_images/SANSMove-v1_dlg.png" class="screenshot" src="../_images/SANSMove-v1_dlg.png" style="width: 333px;" /></a>
<p class="caption"><strong>SANSMove</strong> dialog.</p>
</div>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#summary" id="id1">Summary</a></li>
<li><a class="reference internal" href="#properties" id="id2">Properties</a></li>
<li><a class="reference internal" href="#description" id="id3">Description</a><ul>
<li><a class="reference internal" href="#relevant-sansstate-entries-for-sansmove" id="id4">Relevant SANSState entries for SANSMove</a></li>
<li><a class="reference internal" href="#move-options-initialmove-elementarydisplacement-settozero" id="id5">Move options: <em>InitialMove</em>, <em>ElementaryDisplacement</em>, <em>SetToZero</em></a></li>
<li><a class="reference internal" href="#beam-centre" id="id6">Beam Centre</a></li>
</ul>
</li>
<li><a class="reference internal" href="#source" id="id7">Source</a></li>
</ul>
</div>
<div class="section" id="summary">
<h2><a class="toc-backref" href="#id1">Summary</a><a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>Moves SANS workspaces.</p>
</div>
<div class="section" id="properties">
<h2><a class="toc-backref" href="#id2">Properties</a><a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="7%" />
<col width="2%" />
<col width="12%" />
<col width="7%" />
<col width="73%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Direction</th>
<th class="head">Type</th>
<th class="head">Default</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>SANSState</td>
<td>Input</td>
<td>Dictionary</td>
<td>&nbsp;</td>
<td>A property manager which fulfills the SANSState contract.</td>
</tr>
<tr class="row-odd"><td>Workspace</td>
<td>InOut</td>
<td><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><em>MatrixWorkspace</em></a></td>
<td><em>Mandatory</em></td>
<td>The sample scatter workspace. This workspace does not contain monitors.</td>
</tr>
<tr class="row-even"><td>MoveType</td>
<td>Input</td>
<td>string</td>
<td>ElementaryDisplacement</td>
<td>The type of movement. This can be: 1) InitialMove for freshly workspaces, 2) ElementaryDisplacement of the instrument component, 3) SetToZero resets a component to the initial position. Allowed values: [&#8216;InitialMove&#8217;, &#8216;ElementaryDisplacement&#8217;, &#8216;SetToZero&#8217;]</td>
</tr>
<tr class="row-odd"><td>BeamCoordinates</td>
<td>Input</td>
<td>dbl list</td>
<td>&nbsp;</td>
<td>The coordinates which are used to position the instrument component(s). If nothing is specified, then the coordinates from SANSState are used</td>
</tr>
<tr class="row-even"><td>Component</td>
<td>Input</td>
<td>string</td>
<td>&nbsp;</td>
<td>Component that should be moved.</td>
</tr>
<tr class="row-odd"><td>IsTransmissionWorkspace</td>
<td>Input</td>
<td>boolean</td>
<td>False</td>
<td>If the input workspace is a transmission or direct workspace</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="description">
<h2><a class="toc-backref" href="#id3">Description</a><a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>This algorithm moves a SANS workspace according to the settings in the state object. Additionally the user can specify
the beam centre. Note that if the beam centre is also specified in the state object, then the manual selection takes
precedence. The way we perform a move is highly-instrument and in fact data-dependent. Currently the move mechanism
is implemented for <strong>SANS2D</strong>, <strong>LOQ</strong> and <strong>LARMOR</strong>.</p>
<div class="section" id="relevant-sansstate-entries-for-sansmove">
<h3><a class="toc-backref" href="#id4">Relevant SANSState entries for SANSMove</a><a class="headerlink" href="#relevant-sansstate-entries-for-sansmove" title="Permalink to this headline">¶</a></h3>
<p>The required information for the move operation is retrieved from a state object. It contains information which is
specific to each instrument and to the specific IDF.</p>
<p>Common elements of the move state object are:</p>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="19%" />
<col width="35%" />
<col width="9%" />
<col width="17%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Entry</th>
<th class="head">Type</th>
<th class="head">Description</th>
<th class="head">Mandatory</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>sample_offset</td>
<td>Float</td>
<td>The offset of the sample in m</td>
<td>No</td>
<td>0.0</td>
</tr>
<tr class="row-odd"><td>sample_offset_direction</td>
<td>CanonicalCoordinates enum</td>
<td>The direction of the sample offset</td>
<td>No</td>
<td>CanonicalCoordinates.Z</td>
</tr>
<tr class="row-even"><td>detectors</td>
<td>Dict</td>
<td>Dictionary of detectors.</td>
<td>auto setup</td>
<td>auto setup</td>
</tr>
<tr class="row-odd"><td>monitor_names</td>
<td>Dict</td>
<td>A dictionary with monitor index vs monitor name</td>
<td>auto setup</td>
<td>auto setup</td>
</tr>
</tbody>
</table>
<p>The detectors dictionary above maps to a state object for the individual detectors:</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="6%" />
<col width="54%" />
<col width="9%" />
<col width="11%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Entry</th>
<th class="head">Type</th>
<th class="head">Description</th>
<th class="head">Mandatory</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>x_translation_correction</td>
<td>Float</td>
<td>X translation for the detector in m</td>
<td>No</td>
<td>0.0</td>
</tr>
<tr class="row-odd"><td>y_translation_correction</td>
<td>Float</td>
<td>Y translation for the detector in m</td>
<td>No</td>
<td>0.0</td>
</tr>
<tr class="row-even"><td>z_translation_correction</td>
<td>Float</td>
<td>X translation for the detector in m</td>
<td>No</td>
<td>0.0</td>
</tr>
<tr class="row-odd"><td>rotation_correction</td>
<td>Float</td>
<td>Rotation correction for the detector in degrees</td>
<td>No</td>
<td>0.0</td>
</tr>
<tr class="row-even"><td>side_correction</td>
<td>Float</td>
<td>Side correction for the detector in m</td>
<td>No</td>
<td>0.0</td>
</tr>
<tr class="row-odd"><td>radius_correction</td>
<td>Float</td>
<td>Radius correction for the detector in m</td>
<td>No</td>
<td>0.0</td>
</tr>
<tr class="row-even"><td>x_tilt_correction</td>
<td>Float</td>
<td>X tilt correction for the detector in degrees</td>
<td>No</td>
<td>0.0</td>
</tr>
<tr class="row-odd"><td>y_tilt_correction</td>
<td>Float</td>
<td>Y tilt correction for the detector in degrees</td>
<td>No</td>
<td>0.0</td>
</tr>
<tr class="row-even"><td>z_tilt_correction</td>
<td>Float</td>
<td>Z tilt correction for the detector in degrees</td>
<td>No</td>
<td>0.0</td>
</tr>
<tr class="row-odd"><td>sample_centre_pos1</td>
<td>Float</td>
<td>Position 1 of the beam centre in m or degree, depending on the setting</td>
<td>No</td>
<td>0.0</td>
</tr>
<tr class="row-even"><td>sample_centre_pos2</td>
<td>Float</td>
<td>Position 2 of the beam centre in m</td>
<td>No</td>
<td>0.0</td>
</tr>
<tr class="row-odd"><td>detector_name</td>
<td>String</td>
<td>Detector name</td>
<td>auto setup</td>
<td>auto setup</td>
</tr>
<tr class="row-even"><td>detector_name_short</td>
<td>String</td>
<td>Short detector name</td>
<td>auto setup</td>
<td>auto setup</td>
</tr>
</tbody>
</table>
<p>The individual instruments have additional settings.</p>
<p>For LOQ:</p>
<table border="1" class="docutils">
<colgroup>
<col width="17%" />
<col width="7%" />
<col width="48%" />
<col width="14%" />
<col width="15%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Entry</th>
<th class="head">Type</th>
<th class="head">Description</th>
<th class="head">Mandatory</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>center_position</td>
<td>Float</td>
<td>The centre position</td>
<td>No</td>
<td>317.5 / 1000.</td>
</tr>
</tbody>
</table>
<p>For SANS2D:</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="6%" />
<col width="45%" />
<col width="11%" />
<col width="14%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Entry</th>
<th class="head">Type</th>
<th class="head">Description</th>
<th class="head">Mandatory</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>hab_detector_radius</td>
<td>Float</td>
<td>Radius for the front detector in m</td>
<td>auto setup</td>
<td>306.0 / 1000.</td>
</tr>
<tr class="row-even"><td>hab_detector_default_sd_m</td>
<td>Float</td>
<td>Default sd for front detector in m</td>
<td>auto setup</td>
<td><ol class="first last arabic simple" start="4">
<li></li>
</ol>
</td>
</tr>
<tr class="row-odd"><td>hab_detector_default_x_m</td>
<td>Float</td>
<td>Default x for the front detector in m</td>
<td>auto setup</td>
<td>1.1</td>
</tr>
<tr class="row-even"><td>lab_detector_default_sd_m</td>
<td>Float</td>
<td>Default sd for the rear detector in m</td>
<td>auto setup</td>
<td><ol class="first last arabic simple" start="4">
<li></li>
</ol>
</td>
</tr>
<tr class="row-odd"><td>hab_detector_x</td>
<td>Float</td>
<td>X for the front detector in m</td>
<td>auto setup</td>
<td><ol class="first last arabic simple" start="0">
<li></li>
</ol>
</td>
</tr>
<tr class="row-even"><td>hab_detector_z</td>
<td>Float</td>
<td>Z for the front detector in m</td>
<td>auto setup</td>
<td><ol class="first last arabic simple" start="0">
<li></li>
</ol>
</td>
</tr>
<tr class="row-odd"><td>hab_detector_rotation</td>
<td>Float</td>
<td>Rotation for the front detector</td>
<td>auto setup</td>
<td><ol class="first last arabic simple" start="0">
<li></li>
</ol>
</td>
</tr>
<tr class="row-even"><td>lab_detector_x</td>
<td>Float</td>
<td>X for the rear detector in m</td>
<td>auto setup</td>
<td><ol class="first last arabic simple" start="0">
<li></li>
</ol>
</td>
</tr>
<tr class="row-odd"><td>lab_detector_z</td>
<td>Float</td>
<td>Z for the rear detector in m</td>
<td>auto setup</td>
<td><ol class="first last arabic simple" start="0">
<li></li>
</ol>
</td>
</tr>
<tr class="row-even"><td>monitor_4_offset</td>
<td>Float</td>
<td>Offset for monitor 4</td>
<td>No</td>
<td><ol class="first last arabic simple" start="0">
<li></li>
</ol>
</td>
</tr>
</tbody>
</table>
<p>For LARMOR</p>
<table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="7%" />
<col width="49%" />
<col width="12%" />
<col width="15%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Entry</th>
<th class="head">Type</th>
<th class="head">Description</th>
<th class="head">Mandatory</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>bench_rotation</td>
<td>Float</td>
<td>The angle for the bench rotation</td>
<td>No</td>
<td><ol class="first last arabic simple" start="0">
<li></li>
</ol>
</td>
</tr>
</tbody>
</table>
<p><strong>Note that these settings should be only populated via the GUI or the Python Interface of ISIS SANS.</strong></p>
</div>
<div class="section" id="move-options-initialmove-elementarydisplacement-settozero">
<h3><a class="toc-backref" href="#id5">Move options: <em>InitialMove</em>, <em>ElementaryDisplacement</em>, <em>SetToZero</em></a><a class="headerlink" href="#move-options-initialmove-elementarydisplacement-settozero" title="Permalink to this headline">¶</a></h3>
<p>The <em>InitialMove</em> setting is relevant when loading data before a reduction. It will apply all corrections which are specified in the state object.</p>
<p>The <em>ElementaryDisplacement</em> will perform a relative translation/rotation according to the specified beam centre value.</p>
<p>The <em>SetToZero</em> places the component into the default position.</p>
</div>
<div class="section" id="beam-centre">
<h3><a class="toc-backref" href="#id6">Beam Centre</a><a class="headerlink" href="#beam-centre" title="Permalink to this headline">¶</a></h3>
<p>The beam centre for a reduction is normally specified in the state object, but it can also be specified in manually here.
If the beam centre is specified explicitly, then it is being used instead of the setting in the state object.</p>
<p><strong>Categories</strong>: <a class="reference external" href="categories/Algorithms.html">Algorithms</a> | <a class="reference external" href="categories/SANS/Move.html">SANS\Move</a></p>
</div>
</div>
<div class="section" id="source">
<h2><a class="toc-backref" href="#id7">Source</a><a class="headerlink" href="#source" title="Permalink to this headline">¶</a></h2>
<p>Python: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/e07b2bf50bc7eaeb32967b712b3665c1ffc8a2c4/Framework/PythonInterface/plugins/algorithms/WorkflowAlgorithms/SANS/SANSMove.py">SANSMove.py</a> <em>(last modified: 2017-12-21)</em></p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="SANSMaskWorkspace-v1.html" title="Previous Chapter: SANSMaskWorkspace v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; SANSMaskWorkspac...</span>
    </a>
  </li>
  <li>
    <a href="SANSNormalizeToMonitor-v1.html" title="Next Chapter: SANSNormalizeToMonitor v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">SANSNormalizeToM... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
      Last updated on 2018-03-19.<br/>
    </p>
  </div>
</footer>
  </body>
</html>