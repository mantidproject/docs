<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Framework Changes</title>
    <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap-3.3.6/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap-3.3.6/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '6.2.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Indirect Geometry Changes" href="indirect_geometry.html" />
    <link rel="prev" title="Direct Geometry Changes" href="direct_geometry.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.2</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://docs.mantidproject.org/nightly/">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <p><span class="math">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<div class="section" id="framework-changes">
<h1>Framework Changes<a class="headerlink" href="#framework-changes" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#algorithms" id="id5">Algorithms</a><ul>
<li><a class="reference internal" href="#new-features" id="id6">New Features</a></li>
<li><a class="reference internal" href="#improvements" id="id7">Improvements</a></li>
<li><a class="reference internal" href="#bugfixes" id="id8">Bugfixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#instrument-definition-files" id="id9">Instrument Definition Files</a></li>
<li><a class="reference internal" href="#data-objects" id="id10">Data Objects</a><ul>
<li><a class="reference internal" href="#id1" id="id11">New Features</a></li>
<li><a class="reference internal" href="#id2" id="id12">Improvements</a></li>
<li><a class="reference internal" href="#id3" id="id13">Bugfixes</a></li>
</ul>
</li>
</ul>
</div>
<div class="figure align-right" id="id4" style="width: 350px">
<a class="screenshot reference internal image-reference" href="../../_images/Multiple_Scatter_Intensity.png"><img alt="../../_images/Multiple_Scatter_Intensity.png" class="screenshot" src="../../_images/Multiple_Scatter_Intensity.png" style="width: 350px;" /></a>
<p class="caption"><span class="caption-text">Calculated multiple scattering intensity using POLARIS data for a cylindrical Si sample</span></p>
</div>
<div class="section" id="algorithms">
<h2><a class="toc-backref" href="#id5">Algorithms</a><a class="headerlink" href="#algorithms" title="Permalink to this headline">¶</a></h2>
<div class="section" id="new-features">
<h3><a class="toc-backref" href="#id6">New Features</a><a class="headerlink" href="#new-features" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>New algorithm <a class="reference internal" href="../../algorithms/RebinRagged-v1.html#algm-rebinragged"><span class="std std-ref">RebinRagged</span></a> which can rebin a workspace with different binning parameters for each spectrum.</li>
<li><strong>New algorithm</strong> <span class="xref std std-ref">CalculateMultipleScattering</span> <strong>to calculate multiple scattering corrections using a Monte Carlo integration approach that doesn’t rely on assumptions about isotropic scattering or constant ratios between different scattering orders and can run on any sample shape (mesh or CSG)</strong>. The implementation is based on Fortran code developed by Mike Johnson and Spencer Howells under the names Muscat, MODES and DISCUS. The algorithm only supports elastic instruments so far but support for inelastic instruments will be added at a later date.</li>
<li>New algorithm <a class="reference internal" href="../../algorithms/GeneratePythonFitScript-v1.html#algm-generatepythonfitscript"><span class="std std-ref">GeneratePythonFitScript</span></a> allows the creation of a python script for sequential fitting.</li>
<li>New algorithm <a class="reference internal" href="../../algorithms/GenerateLogbook-v1.html#algm-generatelogbook"><span class="std std-ref">GenerateLogbook</span></a>, that allows creating TableWorkspace logbooks based on provided directory path with raw data.</li>
<li>New algorithm <a class="reference internal" href="../../algorithms/ProfileChiSquared1D-v1.html#algm-profilechisquared1d"><span class="std std-ref">ProfileChiSquared1D</span></a> to profile chi squared after a fit. This can be used to find better estimates of parameter errors.</li>
</ul>
</div>
<div class="section" id="improvements">
<h3><a class="toc-backref" href="#id7">Improvements</a><a class="headerlink" href="#improvements" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference internal" href="../../api/python/mantid/kernel/Material.html#mantid.kernel.Material" title="mantid.kernel.Material"><code class="xref py py-obj docutils literal"><span class="pre">mantid.kernel.Material</span></code></a> has a new attribute <code class="docutils literal"><span class="pre">totalAtoms</span></code> to aid in converting atom multiplicity to concentration</li>
<li><a class="reference internal" href="../../algorithms/LoadNexusLogs-v1.html#algm-loadnexuslogs"><span class="std std-ref">LoadNexusLogs</span></a> has additional parameters to allow or block specific logs from being loaded.</li>
<li><a class="reference internal" href="../../algorithms/LoadEventNexus-v1.html#algm-loadeventnexus"><span class="std std-ref">LoadEventNexus</span></a> now utilizes the log filter provided by <cite>LoadNexusLogs &lt;algm-LoadNexusLogs&gt;</cite>.</li>
<li><a class="reference internal" href="../../algorithms/CompareWorkspaces-v1.html#algm-compareworkspaces"><span class="std std-ref">CompareWorkspaces</span></a> now compares the positions of both source and sample (if extant) when property <cite>checkInstrument</cite> is set.</li>
<li><a class="reference internal" href="../../algorithms/SetGoniometer-v1.html#algm-setgoniometer"><span class="std std-ref">SetGoniometer</span></a> can now set multiple goniometers from log values instead of just the time-averaged value.</li>
<li>Added the ability to specify the spectrum number in <a class="reference internal" href="../../algorithms/FindPeaksAutomatic-v1.html#algm-findpeaksautomatic"><span class="std std-ref">FindPeaksAutomatic</span></a>.</li>
<li><a class="reference internal" href="../../algorithms/LoadLog-v1.html#algm-loadlog"><span class="std std-ref">LoadLog</span></a> will now detect old unsupported log files and will provide a user-friendly error explaining the problem.</li>
<li><a class="reference internal" href="../../algorithms/Stitch1DMany-v1.html#algm-stitch1dmany"><span class="std std-ref">Stitch1DMany</span></a> has additional property <cite>IndexOfReference</cite> to allow user to decide which of the provided workspaces should give reference for scaling</li>
<li><a class="reference internal" href="../../algorithms/SaveAscii-v2.html#algm-saveascii"><span class="std std-ref">SaveAscii</span></a> can now create a header for the output file containing sample logs specified through the new property <cite>LogList</cite>.</li>
<li>The algorithm <a class="reference internal" href="../../algorithms/PaalmanPingsMonteCarloAbsorption-v1.html#algm-paalmanpingsmontecarloabsorption"><span class="std std-ref">PaalmanPingsMonteCarloAbsorption</span></a> now accepts a negative angle for the SampleAngle parameter of the FlatPlate shape</li>
<li><a class="reference internal" href="../../algorithms/AnvredCorrection-v1.html#algm-anvredcorrection"><span class="std std-ref">AnvredCorrection</span></a> now extrapolates to determine the spherical absorption correction factor for very absorbing samples (a warning is printed to the log to inform the user when this occurs).</li>
</ul>
</div>
<div class="section" id="bugfixes">
<h3><a class="toc-backref" href="#id8">Bugfixes</a><a class="headerlink" href="#bugfixes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Fix problem with dictionary parameters on <a class="reference internal" href="../../algorithms/SetSample-v1.html#algm-setsample"><span class="std std-ref">SetSample</span></a> algorithm when running from the algorithm dialog</li>
<li>Fix segmentation fault when running <a class="reference internal" href="../../algorithms/MonteCarloAbsorption-v1.html#algm-montecarloabsorption"><span class="std std-ref">MonteCarloAbsorption</span></a> algorithm on Ubuntu without a material defined on one of the sampleenvironment shapes</li>
<li>Fix calculation of region where scattering points are sampled in <a class="reference internal" href="../../algorithms/MonteCarloAbsorption-v1.html#algm-montecarloabsorption"><span class="std std-ref">MonteCarloAbsorption</span></a> when a shape is defined for the environment but not the sample</li>
<li>Fix bug in the a<sub>ss</sub> calculation in <a class="reference internal" href="../../algorithms/PaalmanPingsMonteCarloAbsorption-v1.html#algm-paalmanpingsmontecarloabsorption"><span class="std std-ref">PaalmanPingsMonteCarloAbsorption</span></a> when run on shapes already present on input workspace</li>
</ul>
</div>
</div>
<div class="section" id="instrument-definition-files">
<h2><a class="toc-backref" href="#id9">Instrument Definition Files</a><a class="headerlink" href="#instrument-definition-files" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>The ARGUS IDF has been updated</li>
</ul>
</div>
<div class="section" id="data-objects">
<h2><a class="toc-backref" href="#id10">Data Objects</a><a class="headerlink" href="#data-objects" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id1">
<h3><a class="toc-backref" href="#id11">New Features</a><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><strong>Sample Shapes from .stl mesh files can now be plotted in Workbench. For more details see</strong> <a class="reference internal" href="../../plotting/MeshPlotHelp.html#mesh-plots"><span class="std std-ref">3D Mesh Plots for Sample Shapes</span></a>.</li>
</ul>
<div class="figure align-center">
<a class="screenshot reference internal image-reference" href="../../_images/PyplotSampleMesh.png"><img alt="../../_images/PyplotSampleMesh.png" class="screenshot" src="../../_images/PyplotSampleMesh.png" style="width: 400px;" /></a>
</div>
</div>
<div class="section" id="id2">
<h3><a class="toc-backref" href="#id12">Improvements</a><a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Exposed <code class="docutils literal"><span class="pre">geographicalAngles</span></code> method on <a class="reference internal" href="../../api/python/mantid/api/SpectrumInfo.html#mantid.api.SpectrumInfo" title="mantid.api.SpectrumInfo"><code class="xref py py-obj docutils literal"><span class="pre">mantid.api.SpectrumInfo</span></code></a>.</li>
<li><code class="docutils literal"><span class="pre">BinEdgeAxis</span></code> now overrides the label in order to return the bin center and not the edge.</li>
<li><a class="reference internal" href="../../api/python/mantid/api/Run.html#mantid-api-run"><span class="std std-ref">Run</span></a> has been modified to allow multiple goniometers to be stored.</li>
<li><a class="reference internal" href="../../api/python/mantid/api/FileFinderImpl.html#mantid-api-filefinderimpl"><span class="std std-ref">FileFinder</span></a> has been modified to improve search times when loading multiple runs on the same instrument.</li>
</ul>
</div>
<div class="section" id="id3">
<h3><a class="toc-backref" href="#id13">Bugfixes</a><a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Fix crash on macOS when creating a UnitLabel with non-ascii characters using the single argument constructor</li>
</ul>
<p><a class="reference internal" href="index.html#v6-1-0"><span class="std std-ref">Release 6.1.0</span></a></p>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="direct_geometry.html" title="Previous Chapter: Direct Geometry Changes"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Direct Geomet...</span>
    </a>
  </li>
  <li>
    <a href="indirect_geometry.html" title="Next Chapter: Indirect Geometry Changes"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Indirect Geom... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
      Last updated on 2021-09-29.<br/>
    </p>
  </div>
</footer>
  </body>
</html>