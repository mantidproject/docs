<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>LoadFlexiNexus v1</title>
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '6.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="LoadFullprofFile v1" href="LoadFullprofFile-v1.html" />
    <link rel="prev" title="LoadFITS v1" href="LoadFITS-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.1</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://docs.mantidproject.org/nightly/">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <p><span class="math">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<div class="section" id="loadflexinexus-v1">
<span id="algm-loadflexinexus"></span><span id="algm-loadflexinexus-v1"></span><h1>LoadFlexiNexus v1<a class="headerlink" href="#loadflexinexus-v1" title="Permalink to this headline">¶</a></h1>
<div class="figure align-right" id="id1">
<span id="index-0"></span><a class="screenshot reference internal image-reference" href="../_images/LoadFlexiNexus-v1_dlg.png"><img alt="../_images/LoadFlexiNexus-v1_dlg.png" class="screenshot" src="../_images/LoadFlexiNexus-v1_dlg.png" style="width: 447px;" /></a>
<p class="caption"><span class="caption-text"><strong>LoadFlexiNexus</strong> dialog.</span></p>
</div>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#summary" id="id2">Summary</a><ul>
<li><a class="reference internal" href="#see-also" id="id3">See Also</a></li>
</ul>
</li>
<li><a class="reference internal" href="#properties" id="id4">Properties</a></li>
<li><a class="reference internal" href="#description" id="id5">Description</a></li>
<li><a class="reference internal" href="#usage" id="id6">Usage</a></li>
<li><a class="reference internal" href="#source" id="id7">Source</a></li>
</ul>
</div>
<div class="section" id="summary">
<h2><a class="toc-backref" href="#id2">Summary</a><a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>Loads a NeXus file directed by a dictionary file</p>
<div class="section" id="see-also">
<h3><a class="toc-backref" href="#id3">See Also</a><a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="LoadNexus-v1.html#algm-loadnexus"><span class="std std-ref">LoadNexus</span></a></p>
</div>
</div>
<div class="section" id="properties">
<h2><a class="toc-backref" href="#id4">Properties</a><a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="11%" />
<col width="5%" />
<col width="20%" />
<col width="8%" />
<col width="56%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Direction</th>
<th class="head">Type</th>
<th class="head">Default</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Filename</td>
<td>Input</td>
<td>string</td>
<td><em>Mandatory</em></td>
<td>A NeXus file. Allowed values: [‘.hdf’, ‘.h5’, ‘’]</td>
</tr>
<tr class="row-odd"><td>Dictionary</td>
<td>Input</td>
<td>string</td>
<td><em>Mandatory</em></td>
<td>A Dictionary for controlling NeXus loading. Allowed values: [‘.txt’, ‘.dic’, ‘’]</td>
</tr>
<tr class="row-even"><td>OutputWorkspace</td>
<td>Output</td>
<td><a class="reference internal" href="../concepts/Workspace.html#workspace"><span class="std std-ref">Workspace</span></a></td>
<td><em>Mandatory</em></td>
<td>&#160;</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="description">
<h2><a class="toc-backref" href="#id5">Description</a><a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>This algorithm is a flexible NeXus file loader. Data loading is driven
by a dictionary. Correspondingly the algorithm takes as arguments: a
filename, a path to a dictionary file and an output workspace name.</p>
<p>The dictionary itself is a list of key=value pairs, one per line.
Normally dictionary entries take the form key-path-into-Nexus-file. The
default action is to store the data found at path-into-NeXus-file under
key key in the Run information of the result workspace. But some keys
are interpreted specially:</p>
<dl class="docutils">
<dt>data=path-into-nexus-file</dt>
<dd>This is a required entry. path-into-nexus-file is the path in the
NeXus file to the data which is the main bulk workspace data.
Usually the counts. From the dimensionality of this data the type of
result workspace is determined. If the rank is &lt;= 2, then a
Workspace2D is created, else a MDHistoWorkspace.</dd>
<dt>x-axis=path-into-nexus-file</dt>
<dd>The data found under the path into the NeXus file will be used as
axis 0 on the dataset</dd>
<dt>x-axis-name=text</dt>
<dd>The text specified will become the name of the axis 0</dd>
<dt>y-axis=path-into-nexus-file</dt>
<dd>The data found under the path into the NeXus file will be used as
axis 1 on the dataset</dd>
<dt>y-axis-name=text</dt>
<dd>The text specified will become the name of the axis 1</dd>
<dt>z-axis=path-into-nexus-file</dt>
<dd>The data found under the path into the NeXus file will be used as
axis 2 on the dataset</dd>
<dt>z-axis-name=text</dt>
<dd>The text specified will become the name of the axis 0</dd>
<dt>title=path-into-nexus-file or text</dt>
<dd>If the value contains a / then it is interpreted as a path into the
NeXus file, the value of which will be stored as workspace title.
Else the text value will be stored as the title name directly.</dd>
<dt>sample=path-into-nexus-file or text</dt>
<dd>If the value contains a / then it is interpreted as a path into the
NeXus file, the value of which will be stored as workspace sample.
Else the text value will be stored as the sample name directly.</dd>
</dl>
<p>Please note that the dimensions on the MDHistoWorkspace are inverted
when compared with the ones in the NeXus file. This is a fix which
allows to efficiently transfer the NeXus data in C storage order into
the MDHistoWorkspace which has fortran storage order.</p>
</div>
<div class="section" id="usage">
<h2><a class="toc-backref" href="#id6">Usage</a><a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">To run these usage examples please first download the
<a class="reference external" href="https://sourceforge.net/projects/mantid/files/Sample%20Data/UsageData.zip/download">usage data</a>,
and add these to your path. In Mantid this is done using <a class="reference external" href="http://www.mantidproject.org/ManageUserDirectories">Manage User Directories</a>.</p>
</div>
<p><strong>Example - Load AMOR Nexus file from SINQ/PSI:</strong></p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="n">dictionary_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;instrumentDefinition.directory&quot;</span><span class="p">],</span> <span class="s2">&quot;nexusdictionaries&quot;</span><span class="p">)</span>
<span class="n">wsOut</span> <span class="o">=</span> <span class="n">LoadFlexiNexus</span><span class="p">(</span><span class="n">Filename</span><span class="o">=</span><span class="s1">&#39;amor2013n000366.hdf&#39;</span><span class="p">,</span>
    <span class="n">Dictionary</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">dictionary_path</span><span class="p">,</span> <span class="s1">&#39;amor.dic&#39;</span><span class="p">))</span>

<span class="n">num_dims</span> <span class="o">=</span> <span class="n">wsOut</span><span class="o">.</span><span class="n">getNumDims</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;This has loaded a MD Workspace with </span><span class="si">{}</span><span class="s2"> dimensions&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">num_dims</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Name   Bins   Min     Max&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">dim_index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_dims</span><span class="p">):</span>
    <span class="n">dim</span> <span class="o">=</span> <span class="n">wsOut</span><span class="o">.</span><span class="n">getDimension</span><span class="p">(</span><span class="n">dim_index</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2">      </span><span class="si">{}</span><span class="s2">    </span><span class="si">{:.2f}</span><span class="s2">  </span><span class="si">{:.2f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">dim</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
         <span class="n">dim</span><span class="o">.</span><span class="n">getNBins</span><span class="p">(),</span> <span class="n">dim</span><span class="o">.</span><span class="n">getMinimum</span><span class="p">(),</span> <span class="n">dim</span><span class="o">.</span><span class="n">getMaximum</span><span class="p">()))</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>This has loaded a MD Workspace with 3 dimensions
Name   Bins   Min     Max
z      360    32471.45  194590.44
y      256    -95.00  94.26
x      128    -86.00  84.66
</pre></div>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/AlgorithmIndex.html">AlgorithmIndex</a> | <a class="reference external" href="categories/DataHandling/Nexus.html">DataHandling\Nexus</a></p>
</div>
<div class="section" id="source">
<h2><a class="toc-backref" href="#id7">Source</a><a class="headerlink" href="#source" title="Permalink to this headline">¶</a></h2>
<p>C++ header: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/5498c57ddbfd1fd2cfdfe331c04b104ba5040e83/Framework/SINQ/inc/MantidSINQ/LoadFlexiNexus.h">LoadFlexiNexus.h</a> <em>(last modified: 2021-03-31)</em></p>
<p>C++ source: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/5498c57ddbfd1fd2cfdfe331c04b104ba5040e83/Framework/SINQ/src/LoadFlexiNexus.cpp">LoadFlexiNexus.cpp</a> <em>(last modified: 2021-03-31)</em></p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="LoadFITS-v1.html" title="Previous Chapter: LoadFITS v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; LoadFITS v1</span>
    </a>
  </li>
  <li>
    <a href="LoadFullprofFile-v1.html" title="Next Chapter: LoadFullprofFile v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">LoadFullprofFile v1 &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
      Last updated on 2021-06-03.<br/>
    </p>
  </div>
</footer>
  </body>
</html>