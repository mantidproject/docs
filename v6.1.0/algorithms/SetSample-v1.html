<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>SetSample v1</title>
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '6.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="SetSampleMaterial v1" href="SetSampleMaterial-v1.html" />
    <link rel="prev" title="SetMDUsingMask v1" href="SetMDUsingMask-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.1</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://docs.mantidproject.org/nightly/">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <p><span class="math">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<div class="section" id="setsample-v1">
<span id="algm-setsample"></span><span id="algm-setsample-v1"></span><h1>SetSample v1<a class="headerlink" href="#setsample-v1" title="Permalink to this headline">¶</a></h1>
<div class="figure align-right" id="id1">
<span id="index-0"></span><a class="screenshot reference internal image-reference" href="../_images/SetSample-v1_dlg.png"><img alt="../_images/SetSample-v1_dlg.png" class="screenshot" src="../_images/SetSample-v1_dlg.png" style="width: 349px;" /></a>
<p class="caption"><span class="caption-text"><strong>SetSample</strong> dialog.</span></p>
</div>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#summary" id="id2">Summary</a><ul>
<li><a class="reference internal" href="#see-also" id="id3">See Also</a></li>
</ul>
</li>
<li><a class="reference internal" href="#properties" id="id4">Properties</a></li>
<li><a class="reference internal" href="#description" id="id5">Description</a><ul>
<li><a class="reference internal" href="#geometry-and-containergeometry" id="id6">Geometry and ContainerGeometry</a></li>
<li><a class="reference internal" href="#material-and-containermaterial" id="id7">Material and ContainerMaterial</a></li>
<li><a class="reference internal" href="#environment" id="id8">Environment</a><ul>
<li><a class="reference internal" href="#environment-definition-file" id="id9">Environment Definition File</a></li>
<li><a class="reference internal" href="#container-geometry-and-material" id="id10">Container Geometry and Material</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#usage" id="id11">Usage</a></li>
<li><a class="reference internal" href="#source" id="id12">Source</a></li>
</ul>
</div>
<div class="section" id="summary">
<h2><a class="toc-backref" href="#id2">Summary</a><a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>Set properties of the sample and its environment for a workspace</p>
<div class="section" id="see-also">
<h3><a class="toc-backref" href="#id3">See Also</a><a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="SetSampleMaterial-v1.html#algm-setsamplematerial"><span class="std std-ref">SetSampleMaterial</span></a>, <a class="reference internal" href="CreateSampleShape-v1.html#algm-createsampleshape"><span class="std std-ref">CreateSampleShape</span></a>, <a class="reference internal" href="CopySample-v1.html#algm-copysample"><span class="std std-ref">CopySample</span></a>, <a class="reference internal" href="SetBeam-v1.html#algm-setbeam"><span class="std std-ref">SetBeam</span></a></p>
</div>
</div>
<div class="section" id="properties">
<h2><a class="toc-backref" href="#id4">Properties</a><a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="11%" />
<col width="4%" />
<col width="17%" />
<col width="7%" />
<col width="61%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Direction</th>
<th class="head">Type</th>
<th class="head">Default</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>InputWorkspace</td>
<td>InOut</td>
<td><a class="reference internal" href="../concepts/Workspace.html#workspace"><span class="std std-ref">Workspace</span></a></td>
<td><em>Mandatory</em></td>
<td>A workspace whose sample properties will be updated</td>
</tr>
<tr class="row-odd"><td>Geometry</td>
<td>Input</td>
<td>Dictionary</td>
<td>&#160;</td>
<td>A dictionary of geometry parameters for the sample.</td>
</tr>
<tr class="row-even"><td>Material</td>
<td>Input</td>
<td>Dictionary</td>
<td>&#160;</td>
<td>A dictionary of material parameters for the sample. See SetSampleMaterial for all accepted parameters</td>
</tr>
<tr class="row-odd"><td>Environment</td>
<td>Input</td>
<td>Dictionary</td>
<td>&#160;</td>
<td>A dictionary of parameters to configure the sample environment</td>
</tr>
<tr class="row-even"><td>ContainerGeometry</td>
<td>Input</td>
<td>Dictionary</td>
<td>&#160;</td>
<td>A dictionary of geometry parameters for the container.</td>
</tr>
<tr class="row-odd"><td>ContainerMaterial</td>
<td>Input</td>
<td>Dictionary</td>
<td>&#160;</td>
<td>A dictionary of material parameters for the container.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="description">
<h2><a class="toc-backref" href="#id5">Description</a><a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>Set properties of the sample and its environment on a workspace.</p>
<p>The arguments to this algorithm are all expected to be
dictionaries specifying multiple parameters that relate to the
respective argument, as explained below.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Contrary to the <a class="reference internal" href="../concepts/HowToDefineGeometricShape.html#howtodefinegeometricshape"><span class="std std-ref">xml forms of defining the geometry</span></a> which are in metres,
<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-obj docutils literal"><span class="pre">dict</span></code></a> versions are in centimetres.</p>
</div>
<div class="section" id="geometry-and-containergeometry">
<h3><a class="toc-backref" href="#id6">Geometry and ContainerGeometry</a><a class="headerlink" href="#geometry-and-containergeometry" title="Permalink to this headline">¶</a></h3>
<p>Specifies the shape of the sample (and container). This can be specified in the following ways:</p>
<ul class="simple">
<li>a sample geometry can be defined in the environment definition file using either CSG or Mesh geometry.
If this approach is taken then the Geometry property can be left blank</li>
<li>if an environment is specified that already knows the geometry of the sample and that geometry
is defined using a CSG shape (ie non-mesh shape) then the fields of the known geometry container
can be customized. See <a class="reference internal" href="../concepts/SampleEnvironment.html#sampleenvironment"><span class="std std-ref">Sample Environment</span></a> concept page for further details</li>
<li>a full definition of the shape can be supplied in this property.</li>
</ul>
<p>For defining the full shape a key called <code class="docutils literal"><span class="pre">Shape</span></code> specifying the desired shape is
expected along with additional keys specifying the values (all values are assumed to
be in centimeters):</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">FlatPlate</span></code>: Width, Height, Thick, Center, Angle</li>
<li><code class="docutils literal"><span class="pre">Cylinder</span></code>: Height, Radius, Center</li>
<li><code class="docutils literal"><span class="pre">HollowCylinder</span></code>: Height, InnerRadius, OuterRadius, Center</li>
<li><code class="docutils literal"><span class="pre">FlatPlateHolder</span></code>: Width, Height, Thick, Center, Angle, FrontThick, BackThick. This is a CSG union of 2 FlatPlates tightly wrapping a FlatPlate sample. To be used for the ContainerGeometry.</li>
<li><code class="docutils literal"><span class="pre">HollowCylinderHolder</span></code>: Height, InnerRadius, InnerOuterRadius, OuterInnerRadius, OuterRadius, Center. This is a CSG union of 2 HollowCylinders tightly wrapping a HollowCylinder sample. To be used for the ContainerGeometry.</li>
<li><code class="docutils literal"><span class="pre">CSG</span></code>: Value is a string containing any generic shape as detailed in <a class="reference internal" href="../concepts/HowToDefineGeometricShape.html#howtodefinegeometricshape"><span class="std std-ref">How To Define Geometric Shape</span></a></li>
</ul>
<p>The <code class="docutils literal"><span class="pre">Center</span></code> key is expected to be a list of three values indicating the <code class="code highlight docutils literal"><span class="pre">[X,Y,Z]</span></code>
position of the center, which would be the geometrical center of the shape.
The reference frame of the defined instrument is used to
set the coordinate system for the shape.</p>
<p>The <code class="docutils literal"><span class="pre">Angle</span></code> argument for a flat plate shape is expected to be in degrees and is defined as
the angle between the positive beam axis and the normal to the face perpendicular to the
beam axis when it is not rotated, increasing in an anti-clockwise sense. The rotation is
performed about the vertical axis of the instrument’s reference frame.</p>
</div>
<div class="section" id="material-and-containermaterial">
<h3><a class="toc-backref" href="#id7">Material and ContainerMaterial</a><a class="headerlink" href="#material-and-containermaterial" title="Permalink to this headline">¶</a></h3>
<p>Specifies the composition of the sample (or its container) using properties from the <a class="reference internal" href="SetSampleMaterial-v1.html#algm-setsamplematerial-v1"><span class="std std-ref">SetSampleMaterial v1</span></a> algorithm.
Please see the algorithm documentation for the supported keywords.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Note that for the keys which historically had the <strong>Sample</strong> prefix (e.g. SampleNumberDensity) the prefix should not be specified here; that is, <strong>NumberDensity</strong> instead of <strong>SampleNumberDensity</strong>, etc. However, for backwards compatibility, it works also with prefixes.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Note that this algorithm does not invoke <a class="reference internal" href="SetSampleMaterial-v1.html#algm-setsamplematerial-v1"><span class="std std-ref">SetSampleMaterial v1</span></a> anymore, but sets the material directly through the API.</p>
</div>
</div>
<div class="section" id="environment">
<h3><a class="toc-backref" href="#id8">Environment</a><a class="headerlink" href="#environment" title="Permalink to this headline">¶</a></h3>
<p>Specifies the sample environment kit to be used. There are two possibilities:</p>
<div class="section" id="environment-definition-file">
<h4><a class="toc-backref" href="#id9">Environment Definition File</a><a class="headerlink" href="#environment-definition-file" title="Permalink to this headline">¶</a></h4>
<p>In this case the environment kit must be defined in the XML format. See <a class="reference internal" href="../concepts/SampleEnvironment.html#sampleenvironment"><span class="std std-ref">Sample Environment</span></a> concept page for further details on how the creating
a definition file.</p>
<p>Two keywords must be specified in the <code class="docutils literal"><span class="pre">Environment</span></code> dictionary:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">Name</span></code>: The name of the predefined kit (required)</li>
<li><code class="docutils literal"><span class="pre">Container</span></code>: The id of the container within the predefined kit. (required if there is more than one container defined for the kit).</li>
</ul>
<p>The name of a kit must be unique for a given instrument. The following
procedure is used when trying to find a named definition, e.g <code class="docutils literal"><span class="pre">CRYO-01</span></code>:</p>
<ul class="simple">
<li>check the instrument name on the input workspace:<ul>
<li>if this is a known instrument at a known facility (is in Facilities.xml) then
use these as <code class="docutils literal"><span class="pre">FACILITY</span></code> &amp; <code class="docutils literal"><span class="pre">INSTRUMENT</span></code> respectively</li>
<li>else use the default facility and instrument as <code class="docutils literal"><span class="pre">FACILITY</span></code> &amp; <code class="docutils literal"><span class="pre">INSTRUMENT</span></code> respectively</li>
</ul>
</li>
<li>append <code class="docutils literal"><span class="pre">.xml</span></code> to the given kit name</li>
<li>find the current list of directories containing instrument definition files
(see <a class="reference internal" href="../concepts/InstrumentDefinitionFile.html#instrumentdefinitionfile-directories"><span class="std std-ref">Instrument Definition Directories</span></a>
for the default directory list)</li>
<li>for each (<code class="docutils literal"><span class="pre">INSTDIR</span></code>) in turn:<ul>
<li>construct a test path <code class="docutils literal"><span class="pre">INSTDIR/sampleenvironments/FACILITY/INSTRUMENT/CRYO-01.xml</span></code></li>
<li>if this file exists then select this as the kit file and the search stops</li>
<li>otherwise if the file does not exist continue onto the next <code class="docutils literal"><span class="pre">INSTDIR</span></code></li>
<li>repeat for the facility directories if not found in for the specific instrument</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="container-geometry-and-material">
<h4><a class="toc-backref" href="#id10">Container Geometry and Material</a><a class="headerlink" href="#container-geometry-and-material" title="Permalink to this headline">¶</a></h4>
<p>You can specify the geometry and the material of a single container directly with the ContainerGeometry and ContainerMaterial dictionaries.
This option is used only when Environment input is left blank. See the sections above for the available keywords to configure those.</p>
</div>
</div>
</div>
<div class="section" id="usage">
<h2><a class="toc-backref" href="#id11">Usage</a><a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p>The following example uses a test file called <code class="docutils literal"><span class="pre">CRYO-01.xml</span></code> in the
<code class="docutils literal"><span class="pre">[INSTALLDIR]/instrument/sampleenvironments/TEST_LIVE/ISIS_Histogram/</span></code> directory.</p>
<p>If the examples are run via the Mantid user interface then double instead of single quotes will need to be
used for the dictionary parameters.</p>
<p><strong>Example - Container with preset cylinderical sample geometry</strong></p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># A fake host workspace, replace this with your real one.</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">()</span>

<span class="c1"># Use geometry as is from environment definition</span>
<span class="n">SetSample</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span> <span class="n">Environment</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Name&#39;</span><span class="p">:</span> <span class="s1">&#39;CRYO-01&#39;</span><span class="p">,</span> <span class="s1">&#39;Container&#39;</span><span class="p">:</span> <span class="s1">&#39;8mm&#39;</span><span class="p">},</span>
          <span class="n">Material</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;ChemicalFormula&#39;</span><span class="p">:</span> <span class="s1">&#39;(Li7)2-C-H4-N-Cl6&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;NumberDensity&#39;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">})</span>
</pre></div>
</div>
<p><strong>Example - Override height of preset cylinder sample</strong></p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># A fake host workspace, replace this with your real one.</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">()</span>
<span class="c1"># Use geometry from environment but set different height for sample</span>
<span class="n">SetSample</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span> <span class="n">Environment</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Name&#39;</span><span class="p">:</span> <span class="s1">&#39;CRYO-01&#39;</span><span class="p">,</span> <span class="s1">&#39;Container&#39;</span><span class="p">:</span> <span class="s1">&#39;8mm&#39;</span><span class="p">},</span>
          <span class="n">Geometry</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Height&#39;</span><span class="p">:</span> <span class="mf">4.0</span><span class="p">},</span>
          <span class="n">Material</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;ChemicalFormula&#39;</span><span class="p">:</span> <span class="s1">&#39;(Li7)2-C-H4-N-Cl6&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;NumberDensity&#39;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">})</span>
</pre></div>
</div>
<p><strong>Example - Specify height and mass of preset cylinder sample</strong></p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># A fake host workspace, replace this with your real one.</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">()</span>
<span class="c1"># Use geometry from environment but set different height for sample</span>
<span class="c1"># and calculate density with supplied sample mass</span>
<span class="n">SetSample</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span> <span class="n">Environment</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Name&#39;</span><span class="p">:</span> <span class="s1">&#39;CRYO-01&#39;</span><span class="p">,</span> <span class="s1">&#39;Container&#39;</span><span class="p">:</span> <span class="s1">&#39;8mm&#39;</span><span class="p">},</span>
          <span class="n">Geometry</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Height&#39;</span><span class="p">:</span> <span class="mf">4.0</span><span class="p">},</span>
          <span class="n">Material</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;ChemicalFormula&#39;</span><span class="p">:</span> <span class="s1">&#39;(Li7)2-C-H4-N-Cl6&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;Mass&#39;</span><span class="p">:</span> <span class="mf">3.0</span><span class="p">})</span>
</pre></div>
</div>
<p><strong>Example - Override complete sample geometry</strong></p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># A fake host workspace, replace this with your real one.</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">()</span>
<span class="c1"># Use geometry from environment but set different height for sample</span>
<span class="n">SetSample</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span> <span class="n">Environment</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Name&#39;</span><span class="p">:</span> <span class="s1">&#39;CRYO-01&#39;</span><span class="p">,</span> <span class="s1">&#39;Container&#39;</span><span class="p">:</span> <span class="s1">&#39;8mm&#39;</span><span class="p">},</span>
          <span class="n">Geometry</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Shape&#39;</span><span class="p">:</span> <span class="s1">&#39;HollowCylinder&#39;</span><span class="p">,</span> <span class="s1">&#39;Height&#39;</span><span class="p">:</span> <span class="mf">4.0</span><span class="p">,</span>
                    <span class="s1">&#39;InnerRadius&#39;</span><span class="p">:</span> <span class="mf">0.8</span><span class="p">,</span> <span class="s1">&#39;OuterRadius&#39;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
                    <span class="s1">&#39;Center&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">]},</span>
          <span class="n">Material</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;ChemicalFormula&#39;</span><span class="p">:</span> <span class="s1">&#39;(Li7)2-C-H4-N-Cl6&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;NumberDensity&#39;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">})</span>
</pre></div>
</div>
<p><strong>Example - Specify shape using CSG object</strong></p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># A fake host workspace, replace this with your real one.</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">()</span>
<span class="c1"># Specify a Sphere geometry using CSG</span>
<span class="n">sphere_xml</span> <span class="o">=</span> <span class="s2">&quot; </span><span class="se">\</span>
<span class="s2">&lt;sphere id=&#39;some-sphere&#39;&gt; </span><span class="se">\</span>
<span class="s2">    &lt;centre x=&#39;0.0&#39;  y=&#39;0.0&#39; z=&#39;0.0&#39; /&gt; </span><span class="se">\</span>
<span class="s2">    &lt;radius val=&#39;0.5&#39; /&gt; </span><span class="se">\</span>
<span class="s2">&lt;/sphere&gt; </span><span class="se">\</span>
<span class="s2">&lt;algebra val=&#39;some-sphere&#39; /&gt; </span><span class="se">\</span>
<span class="s2">&quot;</span>
<span class="c1"># Set sample geometry of workspace to this CSG object Sphere</span>
<span class="n">SetSample</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span> <span class="n">Geometry</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Shape&#39;</span><span class="p">:</span> <span class="s1">&#39;CSG&#39;</span><span class="p">,</span> <span class="s1">&#39;Value&#39;</span><span class="p">:</span> <span class="n">sphere_xml</span><span class="p">})</span>
</pre></div>
</div>
<p><strong>Example - Flat plate sample in a flat plate holder container</strong></p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># A fake host workspace, replace this with your real one.</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">()</span>
<span class="n">SetSample</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span>
        <span class="n">Geometry</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Shape&#39;</span><span class="p">:</span> <span class="s1">&#39;FlatPlate&#39;</span><span class="p">,</span> <span class="s1">&#39;Height&#39;</span><span class="p">:</span> <span class="mf">4.0</span><span class="p">,</span>
                  <span class="s1">&#39;Width&#39;</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">,</span> <span class="s1">&#39;Thick&#39;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
                  <span class="s1">&#39;Center&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">]},</span>
        <span class="n">Material</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;ChemicalFormula&#39;</span><span class="p">:</span> <span class="s1">&#39;(Li7)2-C-H4-N-Cl6&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;NumberDensity&#39;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">},</span>
        <span class="n">ContainerGeometry</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Shape&#39;</span><span class="p">:</span> <span class="s1">&#39;FlatPlateHolder&#39;</span><span class="p">,</span> <span class="s1">&#39;Height&#39;</span><span class="p">:</span> <span class="mf">4.0</span><span class="p">,</span>
                  <span class="s1">&#39;Width&#39;</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">,</span> <span class="s1">&#39;Thick&#39;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span> <span class="s1">&#39;FrontThick&#39;</span><span class="p">:</span> <span class="mf">0.3</span><span class="p">,</span> <span class="s1">&#39;BackThick&#39;</span><span class="p">:</span> <span class="mf">0.4</span><span class="p">,</span>
                  <span class="s1">&#39;Center&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">]},</span>
        <span class="n">ContainerMaterial</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;ChemicalFormula&#39;</span><span class="p">:</span> <span class="s1">&#39;Al&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;NumberDensity&#39;</span><span class="p">:</span> <span class="mf">0.01</span><span class="p">})</span>
</pre></div>
</div>
<p><strong>Example - Cylinder sample in a hollow cylinder container</strong></p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># A fake host workspace, replace this with your real one.</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">()</span>
<span class="n">SetSample</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span>
        <span class="n">Geometry</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Shape&#39;</span><span class="p">:</span> <span class="s1">&#39;Cylinder&#39;</span><span class="p">,</span> <span class="s1">&#39;Height&#39;</span><span class="p">:</span> <span class="mf">4.0</span><span class="p">,</span>
                  <span class="s1">&#39;Radius&#39;</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">,</span> <span class="s1">&#39;Center&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">]},</span>
        <span class="n">Material</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;ChemicalFormula&#39;</span><span class="p">:</span> <span class="s1">&#39;(Li7)2-C-H4-N-Cl6&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;NumberDensity&#39;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">},</span>
        <span class="n">ContainerGeometry</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Shape&#39;</span><span class="p">:</span> <span class="s1">&#39;HollowCylinder&#39;</span><span class="p">,</span> <span class="s1">&#39;Height&#39;</span><span class="p">:</span> <span class="mf">4.0</span><span class="p">,</span>
                  <span class="s1">&#39;InnerRadius&#39;</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">,</span> <span class="s1">&#39;OuterRadius&#39;</span><span class="p">:</span> <span class="mf">2.3</span><span class="p">,</span>
                  <span class="s1">&#39;Center&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">]},</span>
        <span class="n">ContainerMaterial</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;ChemicalFormula&#39;</span><span class="p">:</span> <span class="s1">&#39;Al&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;NumberDensity&#39;</span><span class="p">:</span> <span class="mf">0.01</span><span class="p">})</span>
</pre></div>
</div>
<p><strong>Example - Hollow cylinder sample in a hollow cylinder holder container</strong></p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># A fake host workspace, replace this with your real one.</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">()</span>
<span class="n">SetSample</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span>
        <span class="n">Geometry</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Shape&#39;</span><span class="p">:</span> <span class="s1">&#39;HollowCylinder&#39;</span><span class="p">,</span> <span class="s1">&#39;Height&#39;</span><span class="p">:</span> <span class="mf">4.0</span><span class="p">,</span>
                  <span class="s1">&#39;InnerRadius&#39;</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">,</span> <span class="s1">&#39;OuterRadius&#39;</span><span class="p">:</span> <span class="mf">3.0</span><span class="p">,</span> <span class="s1">&#39;Center&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">]},</span>
        <span class="n">Material</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;ChemicalFormula&#39;</span><span class="p">:</span> <span class="s1">&#39;(Li7)2-C-H4-N-Cl6&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;NumberDensity&#39;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">},</span>
        <span class="n">ContainerGeometry</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Shape&#39;</span><span class="p">:</span> <span class="s1">&#39;HollowCylinderHolder&#39;</span><span class="p">,</span> <span class="s1">&#39;Height&#39;</span><span class="p">:</span> <span class="mf">4.0</span><span class="p">,</span>
                  <span class="s1">&#39;InnerRadius&#39;</span><span class="p">:</span> <span class="mf">1.5</span><span class="p">,</span> <span class="s1">&#39;InnerOuterRadius&#39;</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">,</span> <span class="s1">&#39;OuterInnerRadius&#39;</span><span class="p">:</span> <span class="mf">3.0</span><span class="p">,</span> <span class="s1">&#39;OuterRadius&#39;</span><span class="p">:</span> <span class="mf">4.0</span><span class="p">,</span>
                  <span class="s1">&#39;Center&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">]},</span>
        <span class="n">ContainerMaterial</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;ChemicalFormula&#39;</span><span class="p">:</span> <span class="s1">&#39;Al&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;NumberDensity&#39;</span><span class="p">:</span> <span class="mf">0.01</span><span class="p">})</span>
</pre></div>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/AlgorithmIndex.html">AlgorithmIndex</a> | <a class="reference external" href="categories/Sample.html">Sample</a></p>
</div>
<div class="section" id="source">
<h2><a class="toc-backref" href="#id12">Source</a><a class="headerlink" href="#source" title="Permalink to this headline">¶</a></h2>
<p>C++ header: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/5498c57ddbfd1fd2cfdfe331c04b104ba5040e83/Framework/DataHandling/inc/MantidDataHandling/SetSample.h">SetSample.h</a> <em>(last modified: 2021-03-31)</em></p>
<p>C++ source: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/5498c57ddbfd1fd2cfdfe331c04b104ba5040e83/Framework/DataHandling/src/SetSample.cpp">SetSample.cpp</a> <em>(last modified: 2021-03-31)</em></p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="SetMDUsingMask-v1.html" title="Previous Chapter: SetMDUsingMask v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; SetMDUsingMask v1</span>
    </a>
  </li>
  <li>
    <a href="SetSampleMaterial-v1.html" title="Next Chapter: SetSampleMaterial v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">SetSampleMaterial v1 &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
      Last updated on 2021-06-03.<br/>
    </p>
  </div>
</footer>
  </body>
</html>