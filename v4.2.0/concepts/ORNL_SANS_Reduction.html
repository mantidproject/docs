<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Reduction for ORNL SANS</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '4.2.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="" href="../index.html" />
    <link rel="up" title="Concepts" href="index.html" />
    <link rel="next" title="PSI Muon Bin File" href="PSIMuonBinFile.html" />
    <link rel="prev" title="Nexus File" href="NexusFile.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>4.2</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://docs.mantidproject.org/nightly/">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="reduction-for-ornl-sans">
<span id="id1"></span><h1>Reduction for ORNL SANS<a class="headerlink" href="#reduction-for-ornl-sans" title="Permalink to this headline">¶</a></h1>
<p>This document explains how to use Mantid to perform reduction of ORNL SANS data.
Information about the underlying Mantid algorithms involved can be found in the
<a class="reference internal" href="../algorithms/SANSReduction-v1.html#algm-sansreduction"><em>SANSReduction</em></a> algorithm documentation.
For HFIR reduction specifically, you can also see the <a class="reference internal" href="../algorithms/HFIRSANSReduction-v1.html#algm-hfirsansreduction"><em>HFIRSANSReduction</em></a> algorithm documentation.</p>
<p>Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#reduction-script">Reduction script</a></li>
<li><a class="reference internal" href="#reduction-commands">Reduction commands</a></li>
</ul>
<blockquote>
<div><ul class="simple">
<li><a class="reference internal" href="#instrument-selection">Instrument selection</a></li>
<li><a class="reference internal" href="#beam-center">Beam center</a></li>
<li><a class="reference internal" href="#normalization-options">Normalization options</a></li>
<li><a class="reference internal" href="#absolute-normalization">Absolute normalization</a></li>
<li><a class="reference internal" href="#dark-current-subtraction">Dark current subtraction</a></li>
<li><a class="reference internal" href="#pixel-masking">Pixel masking</a></li>
<li><a class="reference internal" href="#sensitivity-correction">Sensitivity correction</a></li>
<li><a class="reference internal" href="#solid-angle-correction">Solid angle correction</a></li>
<li><a class="reference internal" href="#transmission-correction">Transmission correction</a></li>
<li><a class="reference internal" href="#background-subtraction">Background subtraction</a></li>
<li><a class="reference internal" href="#i-q-calculation">I(Q) calculation</a></li>
<li><a class="reference internal" href="#wedge-calculation">Wedge calculation</a></li>
<li><a class="reference internal" href="#data-stitching">Data stitching</a></li>
<li><a class="reference internal" href="#general-commands">General commands</a></li>
</ul>
</div></blockquote>
<div class="section" id="reduction-script">
<span id="id2"></span><h2>Reduction script<a class="headerlink" href="#reduction-script" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">mantid</span>
<span class="kn">from</span> <span class="nn">mantid.simpleapi</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">reduction_workflow.instruments.sans.hfir_command_interface</span> <span class="kn">import</span> <span class="o">*</span>

<span class="n">GPSANS</span><span class="p">()</span>
<span class="n">SetSampleDetectorDistance</span><span class="p">(</span><span class="mf">1802.5</span><span class="p">)</span>
<span class="n">SetWavelength</span><span class="p">(</span><span class="mf">4.86</span><span class="p">,</span> <span class="mf">0.13</span><span class="p">)</span>
<span class="n">NoSolidAngle</span><span class="p">()</span>
<span class="n">NoNormalization</span><span class="p">()</span>
<span class="n">SetAbsoluteScale</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">AzimuthalAverage</span><span class="p">(</span><span class="n">n_bins</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">n_subpix</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">log_binning</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="n">IQxQy</span><span class="p">(</span><span class="n">nbins</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="n">SetWedges</span><span class="p">(</span><span class="n">number_of_wedges</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">wedge_angle</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">wedge_offset</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">SetBeamCenter</span><span class="p">(</span><span class="mf">95.5</span><span class="p">,</span> <span class="mf">127.5</span><span class="p">)</span>
<span class="n">NoSensitivityCorrection</span><span class="p">()</span>
<span class="n">SetTransmission</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">ThetaDependentTransmission</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
<span class="n">TransmissionDarkCurrent</span><span class="p">(</span><span class="s">&quot;HiResSANS_exp5_scan0032_0001.xml&quot;</span><span class="p">)</span>
<span class="n">DataPath</span><span class="p">(</span><span class="s">&quot;/SNS/users/m2d&quot;</span><span class="p">)</span>
<span class="n">AppendDataFile</span><span class="p">([</span><span class="s">&quot;/SNS/users/m2d/scan30test1.xml&quot;</span><span class="p">])</span>
<span class="n">SaveIq</span><span class="p">()</span>
<span class="n">Reduce</span><span class="p">()</span>
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">hfir_command_interface</span></tt> import statement gives us access the the various commands we will use to set up the reduction process.</p>
<p>The first important part of the script is to declare which instrument you are using.
This will define the general flow of the reduction process. In this particular case, this is done by calling <tt class="docutils literal"><span class="pre">GPSANS()</span></tt>.
The <tt class="docutils literal"><span class="pre">DataPath()</span></tt> command sets the directory where the data file will be found.
Once this has been done, only the name of the data files need to be supplied to the various reduction commands.</p>
<p>The rest of the commands are setting up options for the reduction. Those commands do not need to be typed in any particular order. They only set options and define the reduction process that will be used later when processing each data file. See the list of commands for more details.</p>
<p>The <tt class="docutils literal"><span class="pre">AppendDataFile()</span></tt> command appends a data file to the list of files to be reduced. The reducer can process any number of data files, and the same reduction process will be applied to each of them.
The <tt class="docutils literal"><span class="pre">Reduce()</span></tt> command tell the reducer to start the reduction process. Since this command does the actual execution, it needs to be the last command in the reduction script.</p>
</div>
<div class="section" id="reduction-commands">
<span id="id3"></span><h2>Reduction commands<a class="headerlink" href="#reduction-commands" title="Permalink to this headline">¶</a></h2>
<p>The following is a list of reduction commands to apply corrections to the data and produce <img class="math" src="../_images/math/be63bafd1491d3345b88da5ffd1910eaa5a368aa.png" alt="I(Q)" style="vertical-align: -4px"/>.</p>
<div class="section" id="instrument-selection">
<span id="id4"></span><h3>Instrument Selection<a class="headerlink" href="#instrument-selection" title="Permalink to this headline">¶</a></h3>
<p>Since each instrument has its own configuration parameters, the first command called is the name of the instrument.</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">GPSANS()</span></tt></dt>
<dd>Sets up the GPSANS reduction options.</dd>
<dt><tt class="docutils literal"><span class="pre">BIOSANS()</span></tt></dt>
<dd>Sets up the BIOSANS reduction options.</dd>
<dt><tt class="docutils literal"><span class="pre">EQSANS()</span></tt></dt>
<dd>Sets up the EQSANS reduction options.</dd>
</dl>
</div>
<div class="section" id="beam-center">
<span id="id5"></span><h3>Beam Center<a class="headerlink" href="#beam-center" title="Permalink to this headline">¶</a></h3>
<p>Options for finding the beam center</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">SetBeamCenter(x,y)</span></tt></dt>
<dd>Sets the beam center location to be used, in pixel coordinates.</dd>
<dt><tt class="docutils literal"><span class="pre">DirectBeamCenter(datafile)</span></tt></dt>
<dd><p class="first">Finds the beam center using the direct beam method. The position of the beam center p is given by</p>
<blockquote>
<div><img class="math" src="../_images/math/93f5e708ade64d89d426adc54bbcfd223f43bf7b.png" alt="p(x,y) = \frac{\sum_i I_i \ d_i(x,y)}{\sum_i I_i}" style="vertical-align: -10px"/></div></blockquote>
<p class="last">where <tt class="docutils literal"><span class="pre">i</span></tt> runs over all pixels within the largest square detector area centered on the initial guess for the beam center position. The initial guess is the center of the detector. <img class="math" src="../_images/math/2f7d8606f8268045fcbdccb990703f9f7ad4ed0c.png" alt="I_i" style="vertical-align: -3px"/> is the detector count for pixel <tt class="docutils literal"><span class="pre">i</span></tt>, and <img class="math" src="../_images/math/42c795130614776622fac2cb5635a73bcadca75e.png" alt="d_i(x,y)" style="vertical-align: -4px"/> is the pixel coordinates. The calculation above is repeated iteratively by replacing the initial guess with the position found with the previous iteration. The process stops when the difference between the positions found with two consecutive iterations is smaller than 0.25 pixel.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">ScatteringBeamCenter(datafile,</span> <span class="pre">beam_radius=3.0)</span></tt></dt>
<dd>Finds the beam center using the scattered beam method. The process is identical to the direct beam method, with the only difference being that the pixels within a distance R (the <tt class="docutils literal"><span class="pre">beam_radius</span></tt> parameter) of the beam center guess are excluded from the calculation. The direct beam is thus excluded and only the scattered data is used.</dd>
<dt><tt class="docutils literal"><span class="pre">TotalChargeNormalization(normalize_to_beam=True,</span> <span class="pre">beam_file='')</span></tt></dt>
<dd>[<strong>EQSANS only</strong>] Specifies that we want to normalize by the total proton charge, using the specified <tt class="docutils literal"><span class="pre">beam_file</span></tt> for the beam profile.</dd>
<dt><tt class="docutils literal"><span class="pre">BeamMonitorNormalization(reference_flux_file)</span></tt></dt>
<dd>[<strong>EQSANS only</strong>] Specifies that we want to normalize by the beam monitor, using the specified reference flux file.</dd>
</dl>
</div>
<div class="section" id="normalization-options">
<span id="id6"></span><h3>Normalization options<a class="headerlink" href="#normalization-options" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">TimeNormalization()</span></tt></dt>
<dd>Tells the reducer to normalize the data to counting time.</dd>
<dt><tt class="docutils literal"><span class="pre">MonitorNormalization()</span></tt></dt>
<dd>Tells the reducer to normalize the data to the beam monitor.</dd>
<dt><tt class="docutils literal"><span class="pre">NoNormalization()</span></tt></dt>
<dd>Tells the reducer not to normalize the data.</dd>
</dl>
</div>
<div class="section" id="absolute-normalization">
<span id="id7"></span><h3>Absolute Normalization<a class="headerlink" href="#absolute-normalization" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">SetAbsoluteScale(factor=1.0)</span></tt></dt>
<dd>Sets a multiplicative scale factor to obtain I(Q) in absolute scale.</dd>
<dt><tt class="docutils literal"><span class="pre">SetDirectBeamAbsoluteScale(direct_beam,</span> <span class="pre">beamstop_radius=None,</span> <span class="pre">attenuator_trans=1.0,</span> <span class="pre">sample_thickness=None,</span> <span class="pre">apply_sensitivity=False)</span></tt></dt>
<dd><p class="first">Tells the reducer to use the direct beam method to compute the absolute scale factor. The direct_beam parameter is a valid file path to the direct beam data file. attenuator_trans is the attenuator transmission. The sample_thickness should be given in cm. If apply_sensitivity=True, the sensitivity correction will be applied to the direct beam data before the absolute scale factor is computed.</p>
<p>The absolute cross-section in 1/cm is computed after all corrections including the transmission correction have been applied to the sample data. It is given by:</p>
<blockquote>
<div><img class="math" src="../_images/math/cb3730fd034ca6350d9bbec25a8f3a5e99360014.png" alt="d\Sigma/d\Omega = \frac{I(Q)}{KD}" style="vertical-align: -6px"/></div></blockquote>
<p>where <em>D</em> is the sample thickness in <em>cm</em> and <em>K</em> is given by</p>
<blockquote>
<div><img class="math" src="../_images/math/30bbde9fac2bb75c5fa071661a5eb9b03b94e43c.png" alt="K=N \ \Delta\Omega" style="vertical-align: 0px"/></div></blockquote>
<p class="last">where <em>N</em> is the total empty beam detector counts per monitor count divided by the attenuation factor at the used wavelength, and <img class="math" src="../_images/math/57d5700e496af42dd03c64ecefe5653963a1c713.png" alt="\Delta\Omega" style="vertical-align: 0px"/> is the square of the ratio of the pixel size to the sample-detector distance.</p>
</dd>
</dl>
</div>
<div class="section" id="dark-current-subtraction">
<span id="id8"></span><h3>Dark current subtraction<a class="headerlink" href="#dark-current-subtraction" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">NoDarkCurrent()</span></tt></dt>
<dd>Lets the reducer know that no dark current should be subtracted.</dd>
<dt><tt class="docutils literal"><span class="pre">DarkCurrent(datafile)</span></tt></dt>
<dd><p class="first">Specifies which data file to use for the dark current. The dark current is subtracted pixel by pixel by normalizing the dark current data by counting time, as follows:</p>
<blockquote>
<div><img class="math" src="../_images/math/6642ed192a20c8474e028758cca92dde399f97b8.png" alt="I'(x,y) = I_{data}(x,y) - \frac{T_{data}}{T_{dc}} \ I_{dc}(x,y)" style="vertical-align: -8px"/></div></blockquote>
<p class="last">where the T-values are the counting times for the data set and the dark current (dc).</p>
</dd>
</dl>
</div>
<div class="section" id="pixel-masking">
<span id="id9"></span><h3>Pixel masking<a class="headerlink" href="#pixel-masking" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">Mask(nx_low=0,</span> <span class="pre">nx_high=0,</span> <span class="pre">ny_low=0,</span> <span class="pre">ny_high=0,</span> <span class="pre">component_name=None)</span></tt></dt>
<dd>A band of pixels on each side of the detector is masked according to the input parameters.
By default this is done only for the main detector (See IDF tag &#8216;detector-name&#8217;). For Biosans one can specify &#8216;component_name=&#8221;wing_detector&#8221;&#8217;.</dd>
<dt><tt class="docutils literal"><span class="pre">MaskRectangle(x_min,</span> <span class="pre">x_max,</span> <span class="pre">y_min,</span> <span class="pre">y_max)</span></tt></dt>
<dd>Masks a rectangular region on the detector defined by the given pixel numbers.</dd>
<dt><tt class="docutils literal"><span class="pre">MaskDetectors(det_list)</span></tt></dt>
<dd>Masks the given detector IDs.</dd>
<dt><tt class="docutils literal"><span class="pre">MaskDetectorSide(side_to_mask=None)</span></tt></dt>
<dd>Masks a detector plane. Choices are &#8216;Front&#8217;, &#8216;Back&#8217;, and &#8216;None&#8217;.</dd>
<dt><tt class="docutils literal"><span class="pre">MaskComponent(component_name)</span></tt></dt>
<dd>Masks the given component_name. See the instrument IDF for the correct component name. Useful for BIOSANS to mask the &#8216;wing_detector&#8217;.</dd>
</dl>
</div>
<div class="section" id="sensitivity-correction">
<span id="id10"></span><h3>Sensitivity correction<a class="headerlink" href="#sensitivity-correction" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">SensitivityCorrection(flood_data,</span> <span class="pre">min_sensitivity=0.5,</span> <span class="pre">max_sensitivity=1.5,</span> <span class="pre">dark_current=None,</span> <span class="pre">use_sample_dc=False)</span></tt></dt>
<dd><p class="first">The relative detector efficiency is computed the following way</p>
<blockquote>
<div><img class="math" src="../_images/math/01957e448d8bebb74875ad5cefd07a679487e03c.png" alt="S(x,y) = \frac{I_{flood}(x,y)}{1/N_{pixels} \ \sum_{i,j} \ I_{flood}(i,j)}" style="vertical-align: -12px"/></div></blockquote>
<p>where <img class="math" src="../_images/math/1219d39a3fec34c9d3c855b62eb3e32a51478674.png" alt="I_{flood}(x,y)" style="vertical-align: -6px"/> is the pixel count of the flood data in pixel (x,y). If a minimum and/or maximum sensitivity is given, the pixels having an efficiency outside the given limits are masked and the efficiency is recomputed without using those pixels.
The sample data is then corrected by dividing the intensity in each pixels by the efficiency S</p>
<blockquote>
<div><img class="math" src="../_images/math/f83dabed08302a970012ffe0d843bb175e5d7107.png" alt="I'_{sample}(x,y) = \frac{I_{sample}(x,y)}{S(x,y)}" style="vertical-align: -9px"/></div></blockquote>
<p>The pixels found to have an efficiency outside the given limits are also masked in the sample data so that they don’t enter any subsequent calculations.</p>
<p>If <tt class="docutils literal"><span class="pre">use_sample_dc</span></tt> is set to True, the dark current data that was chosen to be subtracted from the sample data will also be subtracted from the flood data. The subtraction is done before the sensitivity is calculated. Alternatively, a different file can be selected by specifying the <tt class="docutils literal"><span class="pre">dark_current</span></tt> parameter.</p>
<p>If the user chose to use the solid angle correction for the reduction process, that correction will be applied to the flood data before the sensitivity is calculated.</p>
<p class="last"><strong>Note</strong>: The solid angle correction is either not applied at all, or applied to both the flood data to calculate the sensitivity correction and applied to the sample data as part of the reduction process.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">NoSensitivityCorrection()</span></tt></dt>
<dd>Tells the reducer not to correct for detector sensitivity.</dd>
<dt><tt class="docutils literal"><span class="pre">SetSensitivityBeamCenter(x,y)</span></tt></dt>
<dd>Sets the beam center for the flood data (may be different from the sample data).</dd>
<dt><tt class="docutils literal"><span class="pre">SensitivityDirectBeamCenter(datafile)</span></tt></dt>
<dd>Tells the reducer to use the direct beam center finding method for the flood data (see DirectBeamCenter for details).</dd>
<dt><tt class="docutils literal"><span class="pre">SensitivityScatteringBeamCenter(datafile,</span> <span class="pre">beam_radius=3.0)</span></tt></dt>
<dd>Tells the reducer to use the scattering beam center finding method for the flood data (see ScatteringBeamCenter for details).</dd>
</dl>
</div>
<div class="section" id="solid-angle-correction">
<span id="id11"></span><h3>Solid angle correction<a class="headerlink" href="#solid-angle-correction" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">SolidAngle(detector_tubes=False,</span> <span class="pre">detector_wing=False)</span></tt></dt>
<dd><p class="first">Tells the reducer to apply the solid angle correction. The solid angle correction is applied as follows:</p>
<blockquote>
<div><p><img class="math" src="../_images/math/87f3c0d3c76b139a1144c6f4f5087533fb582fbd.png" alt="I'(x,y) = \frac{I(x,y)}{\cos^3(2\theta)}" style="vertical-align: -9px"/></p>
<p><img class="math" src="../_images/math/89bc7016235c9bbaf233b1379d5761088d6326f1.png" alt="\sigma_{i'(x,y)} = \frac{\sigma_{I(x,y)}}{|\cos^3(2\theta)|}" style="vertical-align: -9px"/></p>
</div></blockquote>
<p>If <tt class="docutils literal"><span class="pre">detector_tubes</span></tt> is selected, the correction is calculated according to a tube geometry. The cosine term above then becomes:</p>
<blockquote>
<div><img class="math" src="../_images/math/ff8e5c3997a450bf596f02670683b2f81a5e6ef1.png" alt="\cos^3(2\theta) \rightarrow \cos^2(2\theta) \cos(\alpha)" style="vertical-align: -4px"/></div></blockquote>
<p>where <img class="math" src="../_images/math/23bf3bdd8ce99fdb75f17e8b49934c62e9cf0841.png" alt="\alpha" style="vertical-align: 0px"/>: is the angle between the sample-to-pixel vector and its projection on the X-Z plane.</p>
<p class="last"><tt class="docutils literal"><span class="pre">detector_wing=True</span></tt> is used only for BioSANS wing detector.</p>
</dd>
</dl>
<div class="figure align-right" style="width: 10cm">
<img alt="Definition of angles for tube solid angle correction." src="../_images/sans_solid_angle_correction.png" />
</div>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">NoSolidAngle()</span></tt></dt>
<dd>Tells the reducer not to apply the solid angle correction.</dd>
</dl>
</div>
<div class="section" id="transmission-correction">
<span id="id12"></span><h3>Transmission correction<a class="headerlink" href="#transmission-correction" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">SetTransmission(trans,</span> <span class="pre">error)</span></tt></dt>
<dd>[<strong>HFIR only</strong>] Sets the sample transmission. For each detector pixel, the transmission correction is applied as follows:</dd>
</dl>
<div class="math">
<p><img src="../_images/math/759ed5057f39d3478a594068f6def3eaab1fd557.png" alt="I'(x,y) = \frac{I(x,y)}{T^{[1+\sec(2\theta)]/2}}

\sigma_{I'(x,y)} = \left[ \left[ \frac{\sigma_I}{T^{[1+\sec(2\theta)]/2}} \right]^2 + \left[ \frac{I(x,y)\sigma_T\left( \frac{1+\sec(2\theta)}{2}\right)}{T^{[\sec(2\theta)-1]/2}} \right]^2 \right]^{1/2}"/></p>
</div><dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">DirectBeamTransmissionsample_file,</span> <span class="pre">empty_file,</span> <span class="pre">beam_radius=3.0,</span> <span class="pre">theta_dependent=True,</span> <span class="pre">use_sample_dc=True)</span></tt></dt>
<dd><p class="first">Tells the reducer to use the direct beam method to calculate the sample transmission. The transmission is calculated as follows:</p>
<blockquote>
<div><img class="math" src="../_images/math/36200695efe2c1d68fb71c38a85eef2c66da8957.png" alt="T=\frac{\sum_{i; \ d(i,j)&lt;R} \sum_j{\frac{I_{sample}(i,j)}{T_{sample}}}}{\sum_{i; \ d(i,j)&lt;R} \sum_j{\frac{I_{beam}(i,j)}{T_{beam}}}}" style="vertical-align: -18px"/></div></blockquote>
<p>where <img class="math" src="../_images/math/0a4c04a3b7063fbe9ceac42c8e57752f14197518.png" alt="I_{sample}" style="vertical-align: -6px"/> and <img class="math" src="../_images/math/f29a6d23e8dcc3ea56ce021217a99ccb692d12a0.png" alt="I_{beam}" style="vertical-align: -3px"/> are the pixel counts for the sample data set and the direct beam data set, respectively. The sums for each data set runs only over the pixels within a distance <tt class="docutils literal"><span class="pre">R=beam_radium</span></tt> of the beam center. <img class="math" src="../_images/math/639ab78ab58b0dcfbd8e38b28db93bd02420ee35.png" alt="T_{sample}" style="vertical-align: -6px"/> and <img class="math" src="../_images/math/639ab78ab58b0dcfbd8e38b28db93bd02420ee35.png" alt="T_{sample}" style="vertical-align: -6px"/> are the counting times for each of the two data sets. If the user chose to normalize the data using the beam monitor when setting up the reduction process, the beam monitor will be used to normalize the sample and direct beam data sets instead of the timer.</p>
<p>If <tt class="docutils literal"><span class="pre">use_sample_dc</span></tt> is set to True, the dark current data that was chosen to be subtracted from the sample data will also be subtracted from the flood data.</p>
<p class="last">Once the transmission is calculated, it is applied to the input data set in the same way as described for <tt class="docutils literal"><span class="pre">SetTransmission()</span></tt>.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">BeamSpreaderTransmission(sample_spreader,</span> <span class="pre">direct_spreader,</span> <span class="pre">sample_scattering,</span> <span class="pre">direct_scattering,</span> <span class="pre">spreader_transmission=1.0,</span> <span class="pre">spreader_transmission_err=0.0,</span> <span class="pre">theta_dependent=True)</span></tt></dt>
<dd><p class="first">Tells the reducer to use the beam spreader (&#8220;glassy carbon&#8221;) method to calculate the sample transmission. The transmission is calculated as follows:</p>
<blockquote>
<div><img class="math" src="../_images/math/da71105e6ea14dd940f52d98edece610a04209df.png" alt="T=\frac{N_{gc, sample}/T_{gc, sample} - T_{gc}N_{sample}/T_{sample}}{N_{gc, empty}/T_{gc, empty} - T_{gc}N_{empty}/T_{empty}}" style="vertical-align: -10px"/></div></blockquote>
<p>where <img class="math" src="../_images/math/8776e82d76723927ee74accfd4df1d7744ef8d4e.png" alt="N_{gc, sample}" style="vertical-align: -6px"/> and <img class="math" src="../_images/math/93f03606ebec4db01ce38e83ca0746ce961f94d8.png" alt="N_{gc, empty}" style="vertical-align: -6px"/> are the sums of all pixel counts for the sample and direct beam data sets with glass carbon, and <img class="math" src="../_images/math/6643dda0c9b963e88663301bb5dbc2b8bccf575d.png" alt="N_{sample}" style="vertical-align: -6px"/> and <img class="math" src="../_images/math/bdeff294a72b6b6e8dfc1facd100744bb3b54ac9.png" alt="N_{empty}" style="vertical-align: -6px"/> are the sums of all the pixel counts for the sample and direct beam without glassy carbon. The T values are the corresponding counting times. If the user chose to normalize the data using the beam monitor when setting up the reduction process, the beam monitor will be used to normalize all data sets instead of the timer.</p>
<p>If the user chose to use a dark current data set when starting the reduction process, that dark current data will be subtracted from all data sets before the transmission is calculated.</p>
<p class="last">Once the transmission is calculated, it is applied to the input data set in the same way as described for <tt class="docutils literal"><span class="pre">SetTransmission()</span></tt>.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">NoTransmission()</span></tt></dt>
<dd>Tells the reducer not to apply a transmission correction.</dd>
<dt><tt class="docutils literal"><span class="pre">TransmissionDarkCurrent(dark_current)</span></tt></dt>
<dd>Sets the dark current to be subtracted for the transmission measurement.</dd>
<dt><tt class="docutils literal"><span class="pre">ThetaDependentTransmission(theta_dependence=True)</span></tt></dt>
<dd>If set to False, the transmission correction will be applied by dividing each pixel by the zero-angle transmission, without theta dependence.</dd>
<dt><tt class="docutils literal"><span class="pre">SetTransmissionBeamCenter(x,</span> <span class="pre">y)</span></tt></dt>
<dd>Sets the beam center position to be used when applying the transmission correction. The beam center position of the sample data is otherwise used.</dd>
<dt><tt class="docutils literal"><span class="pre">TransmissionDirectBeamCenter(datafile)</span></tt></dt>
<dd>Specifies a direct beam data file to use to determine a beam center to use when applying the transmission correction. The beam center position of the sample data is otherwise used.</dd>
</dl>
</div>
<div class="section" id="background-subtraction">
<span id="id13"></span><h3>Background subtraction<a class="headerlink" href="#background-subtraction" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">Background(datafile)</span></tt></dt>
<dd>The same reduction steps that are applied to the sample data are applied to the background data set. Those are the dark current subtraction, the data normalization, applying the detector mask, the sensitivity correction, the solid angle correction and the transmission correction. Although the same sensitivity correction is used for both sample and background, the background transmission is calculated separately from the sample transmission. Once all those reduction steps are applied to the background data set, the resulting background is subtracted from the sample data.</dd>
<dt><tt class="docutils literal"><span class="pre">NoBackground()</span></tt></dt>
<dd>Tells the reducer not to subtract background.</dd>
<dt><tt class="docutils literal"><span class="pre">NoBckTransmission()</span></tt></dt>
<dd>Specifies that we do not want a transmission correction for the background.</dd>
<dt><tt class="docutils literal"><span class="pre">SetBckTransmission(trans,</span> <span class="pre">error,</span> <span class="pre">theta_dependent=True)</span></tt></dt>
<dd>Sets the background transmission.</dd>
<dt><tt class="docutils literal"><span class="pre">BckDirectBeamTransmission(sample_file,</span> <span class="pre">empty_file,</span> <span class="pre">beam_radius=3.0,</span> <span class="pre">theta_dependent=True)</span></tt></dt>
<dd>Similar to <tt class="docutils literal"><span class="pre">DirectBeamTransmission</span></tt>, this command sets the options to measure the background transmission.</dd>
<dt><tt class="docutils literal"><span class="pre">BckBeamSpreaderTransmission(sample_spreader,</span> <span class="pre">direct_spreader,</span> <span class="pre">sample_scattering,</span> <span class="pre">direct_scattering,</span> <span class="pre">spreader_transmission=1.0,</span> <span class="pre">spreader_transmission_err=0.0,</span> <span class="pre">theta_dependent=True)</span></tt></dt>
<dd>Similar to <tt class="docutils literal"><span class="pre">BeamSpreaderTransmission</span></tt>, this command sets the options to measure the background transmission.</dd>
<dt><tt class="docutils literal"><span class="pre">BckTransmissionDarkCurrent(dark_current)</span></tt></dt>
<dd>Similar to <tt class="docutils literal"><span class="pre">TransmissionDarkCurrent</span></tt>, this command sets the dark current for the background.</dd>
<dt><tt class="docutils literal"><span class="pre">BckThetaDependentTransmission(theta_dependence=True)</span></tt></dt>
<dd>Similar to <tt class="docutils literal"><span class="pre">ThetaDependentTransmission</span></tt>, this command sets the theta-dependence option of the transmission correction for the background.</dd>
<dt><tt class="docutils literal"><span class="pre">SetBckTransmissionBeamCenter(x,</span> <span class="pre">y)</span></tt></dt>
<dd>Similar to <tt class="docutils literal"><span class="pre">SetTransmissionBeamCenter</span></tt>, sets the beam center position to be used when applying the transmission correction. The beam center position of the background data is otherwise used.</dd>
<dt><tt class="docutils literal"><span class="pre">BckTransmissionDirectBeamCenter(datafile)</span></tt></dt>
<dd>Similar to <tt class="docutils literal"><span class="pre">TransmissionDirectBeamCenter</span></tt>,  specifies a direct beam data file to use to determine a beam center to use when applying the transmission correction. The beam center position of the background data is otherwise used.</dd>
</dl>
</div>
<div class="section" id="i-q-calculation">
<span id="id14"></span><h3>I(Q) calculation<a class="headerlink" href="#i-q-calculation" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">AzimuthalAverage(binning=None,</span> <span class="pre">suffix=&quot;_Iq&quot;,</span> <span class="pre">error_weighting=False,</span> <span class="pre">n_bins=100,</span> <span class="pre">n_subpix=1,</span> <span class="pre">log_binning=False,</span> <span class="pre">align_log_with_decades=False)</span></tt></dt>
<dd><p class="first">Sets the options for azimuthal averaging. The binning parameter sets the binning of the output I(q) distribution in the following format: <img class="math" src="../_images/math/3676cae0be5aa422b420ee30c905b4db6bcae6a5.png" alt="Q_{min}, \Delta Q, Q_{max}" style="vertical-align: -4px"/> (the binning will be found automatically if the <tt class="docutils literal"><span class="pre">binning</span></tt> parameter is not supplied). When letting the binning be calculated automatically, setting <tt class="docutils literal"><span class="pre">log_binning=True</span></tt> will tell the reducer to find the best log binning. Setting <tt class="docutils literal"><span class="pre">align_log_with_decades=True</span></tt> will ensure that <tt class="docutils literal"><span class="pre">q</span></tt> points fall on decades. The <tt class="docutils literal"><span class="pre">suffix</span></tt> parameter sets the suffix appended to the I(q) workspace name. If <tt class="docutils literal"><span class="pre">error_weighting</span></tt> is set to True, the pixel counts will be weighted by a function of the error when computing I(q) (see below).</p>
<p>The binning of the output <em>I(Q)</em> distribution is defined by the user.
It runs from <img class="math" src="../_images/math/81d80ab1d0c21cb3b6058005b91d88f0474741c9.png" alt="Q_{min}" style="vertical-align: -4px"/> to <img class="math" src="../_images/math/fdda2d2398f6a9e925a34c742af9d02814c28c49.png" alt="Q_{max}" style="vertical-align: -4px"/> in steps of <img class="math" src="../_images/math/eba61ec4c67bf8f5d6047e2500e7a4a9fc861263.png" alt="\Delta Q" style="vertical-align: -4px"/>.
Each pixel is divided in <img class="math" src="../_images/math/8b7fa53b172c91e90e40fa391c07db66388fd82c.png" alt="N_{sub} \times N_{sub}" style="vertical-align: -3px"/> sub-pixels. Each sub-pixel is assigned a count equal to  of the original pixel count.</p>
<p>The intensity I(Q) in each Q bin is given by</p>
<blockquote>
<div><img class="math" src="../_images/math/ec8301ca0210103cd8f09cda42163e2ed92971c1.png" alt="I(Q_j) = \frac{1}{\sum_i \ w} \ \sum_i \ wI_i" style="vertical-align: -10px"/></div></blockquote>
<p>where the sum runs over all sub-pixels <em>i</em> such that <img class="math" src="../_images/math/667180dd2f9dee7fead1c56d30b1426c495e86b4.png" alt="Q_j &lt; q_i &lt; Q_{j+1}" style="vertical-align: -6px"/>, where <img class="math" src="../_images/math/22192d21978df3b54ed2099ed4ad5c6766f243d3.png" alt="q_i" style="vertical-align: -4px"/> is the q-value of the given sub-pixel:</p>
<blockquote>
<div><img class="math" src="../_images/math/785d07354c946f300b6f676802a7f7fb8ca08b86.png" alt="q_i = \frac{4\pi \ \sin(\theta)}{\lambda}" style="vertical-align: -6px"/></div></blockquote>
<p>The <em>w</em> factor is a weight that is set to 1 by default. Alternatively, pixels can be weighted as a function of their error by setting <img class="math" src="../_images/math/4550b63fd5bf95770889b1f68c0f0576a56e95b6.png" alt="w=1/\Delta I_i" style="vertical-align: -5px"/>.</p>
<p class="last">The resolution in Q is computed using Mildner-Carpenter.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">IQxQy(nbins=100,</span> <span class="pre">log_binning=False)</span></tt></dt>
<dd>Option to produce the reduced <cite>I(Qx, Qy)</cite>. If <cite>log_binning</cite> is <cite>True</cite> the output <cite>QxQy</cite> will be logarithmic of base 10. By default the output <cite>QxQy</cite> is linear.</dd>
<dt><tt class="docutils literal"><span class="pre">NoIQxQy()</span></tt></dt>
<dd>Turns off the option to produce the reduced I(Qx, Qy).</dd>
<dt><tt class="docutils literal"><span class="pre">SaveIq(output_dir)</span></tt></dt>
<dd>Tells the reducer to save the output I(q) to an ascii file. The file will have a name similar to the input file, with &#8220;_Iq&#8221; appended to it. The file will be located in the specified directory.</dd>
<dt><tt class="docutils literal"><span class="pre">NoSaveIq()</span></tt></dt>
<dd>Do not save the I(q) result.</dd>
</dl>
</div>
<div class="section" id="wedge-calculation">
<span id="id15"></span><h3>Wedge calculation<a class="headerlink" href="#wedge-calculation" title="Permalink to this headline">¶</a></h3>
<p>Wedge calculation is done as part of the azimuthal averaging algorithm. The image below shows how the wedges are defined. A wedge includes both the forward and backward direction relative to the beam center. Any number of wedges can be used. They will be uniformly distributed around <img class="math" src="../_images/math/fafa780e8af64bb5b218556a84c9bdcd730eadf7.png" alt="2\pi" style="vertical-align: 0px"/>. Each wedge is computed independently, so overlapping wedges are possible. As shown on the figure below, the angular offset is definited with respect to the x-axis.</p>
<div class="figure align-right" style="width: 10cm">
<img alt="Wedge definition." src="../_images/SANS_wedge_definition.png" />
</div>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">SetWedges(number_of_wedges=2,</span> <span class="pre">wedge_angle=30.0,</span> <span class="pre">wedge_offset=0.0)</span></tt></dt>
<dd><p class="first">Specifies I(q) wedges to compute.</p>
<ul class="last simple">
<li><tt class="docutils literal"><span class="pre">number_of_wedges</span></tt>: number of wedges to calculate</li>
<li><tt class="docutils literal"><span class="pre">wedge_angle</span></tt>: opening angle of each wedge, in degrees</li>
<li><tt class="docutils literal"><span class="pre">wedge_offset</span></tt>: angular offset relative to the x-axis, defining the first wedge.</li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="data-stitching">
<span id="id16"></span><h3>Data Stitching<a class="headerlink" href="#data-stitching" title="Permalink to this headline">¶</a></h3>
<p>Data stitching can be done using the SANS reduction UI, or by calling the underlying command directly. The stitching process lets you pick an overlap region that will be used to scale data sets to each other. For any number of input data sets, the data sets are scaled to the first set in the input series. The second set is scaled to the first set, then the third set is scaled to the modified second set. The process continues in pairs until all the data sets are rescaled.</p>
<p>In the process of scaling two data sets, all the points of the lower Q set with a Q value lower than the higher bound of the overlap region are kept. All the points of the higher Q set with a Q value higher than the lower bound of the overlap region are kept (see image). All data points in the overlap region are kept.</p>
<div class="figure align-right" style="width: 10cm">
<img alt="Description of stitching process." src="../_images/stitching_description.png" />
</div>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">Stitch(data_list=[],</span> <span class="pre">q_min=None,</span> <span class="pre">q_max=None,</span> <span class="pre">output_workspace=None,</span> <span class="pre">scale=None,</span> <span class="pre">save_output=False)</span></tt></dt>
<dd><p class="first">Stitches a set of SANS data sets</p>
<ul class="last simple">
<li><tt class="docutils literal"><span class="pre">data_list</span></tt>: List of workspaces to stitch.</li>
<li><tt class="docutils literal"><span class="pre">q_min</span></tt>: Minimum Q-value of the overlap between two consecutive data sets. The q_min argument must be an array when stitching more than two data sets. The length of the array should be 1 less than the number of data sets.</li>
<li><tt class="docutils literal"><span class="pre">q_max</span></tt>: Maximum Q-value of the overlap between two consecutive data sets (must be an array for more than two data sets). The q_max argument must be an array when stitching more than two data sets. The length of the array should be 1 less than the number of data sets.</li>
<li><tt class="docutils literal"><span class="pre">output_workspace</span></tt>: Name of the output workspace containing the stitched data.</li>
<li><tt class="docutils literal"><span class="pre">scale</span></tt>: Scaling factor. The scaling factor should either be a single number or a list of length equal to the number of data sets. The former will scale everything by the given factor, while the latter will assign the given scaling factors to the data sets.</li>
<li><tt class="docutils literal"><span class="pre">save_output</span></tt>: If true, the output will be saved in the current working directory.</li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="general-commands">
<span id="id17"></span><h3>General commands<a class="headerlink" href="#general-commands" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">DataPath(path)</span></tt></dt>
<dd>Sets the directory containing all data files.</dd>
<dt><tt class="docutils literal"><span class="pre">Reduce()</span></tt></dt>
<dd>Tells the reducer to execute the reduction process.</dd>
<dt><tt class="docutils literal"><span class="pre">AppendDataFile(datafile,</span> <span class="pre">workspace=None)</span></tt></dt>
<dd>Appends a data file to the list of files to be reduced.</dd>
<dt><tt class="docutils literal"><span class="pre">SetSampleDetectorOffset(distance)</span></tt></dt>
<dd>Sets an additive sample-detector distance offset, in mm.</dd>
<dt><tt class="docutils literal"><span class="pre">SetSampleDetectorDistance(distance)</span></tt></dt>
<dd>Sets the sample-detector distance, in mm. If set, this distance will take priority over the distance found in the data file.</dd>
<dt><tt class="docutils literal"><span class="pre">SetWavelength(wavelength,</span> <span class="pre">spread)</span></tt></dt>
<dd>Sets the wavelength, in Angstrom. If set, this wavelength will take priority over the wavelength found in the data file.</dd>
<dt><tt class="docutils literal"><span class="pre">ResetWavelength()</span></tt></dt>
<dd>Resets the wavelength to the value found in the data file.</dd>
<dt><tt class="docutils literal"><span class="pre">DivideByThickness(thickness=1.0)</span></tt></dt>
<dd>Specifies a thickness to normalize the output I(q) by, in cm.</dd>
<dt><tt class="docutils literal"><span class="pre">PerformFlightPathCorrection(do_correction=True)</span></tt></dt>
<dd>Specifies that we want to perform the flight path correction.</dd>
<dt><tt class="docutils literal"><span class="pre">SetTOFTailsCutoff(low_cut=0.0,</span> <span class="pre">high_cut=0.0)</span></tt></dt>
<dd>Specifies the TOF width to cut on each side of the TOF distribution.</dd>
<dt><tt class="docutils literal"><span class="pre">UseConfigTOFTailsCutoff(use_config=True)</span></tt></dt>
<dd>Use the TOF cut specified in the instrument configuration on /SNS/EQSANS.</dd>
<dt><tt class="docutils literal"><span class="pre">SkipTOFCorrection(skip=True)</span></tt></dt>
<dd>Skips the TOF correction. This is likely to give you bad results unless you know what you are doing.</dd>
<dt><tt class="docutils literal"><span class="pre">UseConfigMask(use_config=True)</span></tt></dt>
<dd>Use the mask configuration defined in the instrument configuration on /SNS/EQSANS.</dd>
<dt><tt class="docutils literal"><span class="pre">SetWavelengthStep(step=0.1)</span></tt></dt>
<dd>Sets the wavelength step size used when binning the TOF data after converting to wavelength. The I(q) is computed independently for each wavelength bin and combined afterwards.</dd>
<dt><tt class="docutils literal"><span class="pre">UseConfig(use_config=True)</span></tt></dt>
<dd>Use the instrument configuration on /SNS/EQSANS.</dd>
<dt><tt class="docutils literal"><span class="pre">CombineTransmissionFits(combine_frames=True)</span></tt></dt>
<dd>If True and we are running in frame-skipping mode, both frames will be processed together when measuring the transmission.</dd>
<dt><tt class="docutils literal"><span class="pre">BckCombineTransmissionFits(combine_frames=True)</span></tt></dt>
<dd>Similar to <tt class="docutils literal"><span class="pre">CombineTransmissionFits</span></tt>, but for the background.</dd>
<dt><tt class="docutils literal"><span class="pre">Resolution(sample_aperture_diameter=10.0)</span></tt></dt>
<dd>Specifies that we want to q-resolution to be computed.</dd>
<dt><tt class="docutils literal"><span class="pre">LoadNexusInstrumentXML(True)</span></tt></dt>
<dd>By default if the instrument definition is present in the NeXus file it is read. However one can pass <tt class="docutils literal"><span class="pre">LoadNexusInstrumentXML(False)</span></tt> to make sure the local IDF is read.</dd>
</dl>
<p><strong>Category</strong>: <a class="reference external" href="../api/python/mantid/api/categories/Concepts.html">Concepts</a></p>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="NexusFile.html" title="Previous Chapter: Nexus File"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Nexus File</span>
    </a>
  </li>
  <li>
    <a href="PSIMuonBinFile.html" title="Next Chapter: PSI Muon Bin File"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">PSI Muon Bin Fil... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
      Last updated on 2019-11-18.<br/>
    </p>
  </div>
</footer>
  </body>
</html>