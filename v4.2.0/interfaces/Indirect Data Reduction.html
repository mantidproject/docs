<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Indirect Data Reduction</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '4.2.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="" href="../index.html" />
    <link rel="up" title="Interfaces" href="index.html" />
    <link rel="next" title="Indirect Diffraction" href="Indirect Diffraction.html" />
    <link rel="prev" title="Indirect Data Analysis" href="Indirect Data Analysis.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>4.2</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://docs.mantidproject.org/nightly/">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="indirect-data-reduction">
<span id="interface-indirect-data-reduction"></span><h1>Indirect Data Reduction<a class="headerlink" href="#indirect-data-reduction" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#overview" id="id7">Overview</a><ul>
<li><a class="reference internal" href="#instrument-options" id="id8">Instrument Options</a></li>
<li><a class="reference internal" href="#action-buttons" id="id9">Action Buttons</a></li>
</ul>
</li>
<li><a class="reference internal" href="#isis-ill-energy-transfer" id="id10">ISIS/ILL Energy Transfer</a><ul>
<li><a class="reference internal" href="#isis-energy-transfer" id="id11">ISIS Energy Transfer</a><ul>
<li><a class="reference internal" href="#isis-energy-transfer-options" id="id12">ISIS Energy Transfer Options</a></li>
<li><a class="reference internal" href="#isis-energy-transfer-example-workflow" id="id13">ISIS Energy Transfer Example Workflow</a></li>
<li><a class="reference internal" href="#grouping" id="id14">Grouping</a></li>
<li><a class="reference internal" href="#rebinning" id="id15">Rebinning</a></li>
<li><a class="reference internal" href="#a-note-on-masked-detectors" id="id16">A note on Masked Detectors</a></li>
</ul>
</li>
<li><a class="reference internal" href="#ill-energy-transfer" id="id17">ILL Energy Transfer</a><ul>
<li><a class="reference internal" href="#reduction-type" id="id18">Reduction Type</a></li>
<li><a class="reference internal" href="#common-options" id="id19">Common Options</a></li>
<li><a class="reference internal" href="#qens-only-options" id="id20">QENS-only Options</a></li>
<li><a class="reference internal" href="#fws-only-options" id="id21">FWS-only Options</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#isis-calibration" id="id22">ISIS Calibration</a><ul>
<li><a class="reference internal" href="#isis-calibration-options" id="id23">ISIS Calibration Options</a><ul>
<li><a class="reference internal" href="#calibration" id="id24">Calibration</a></li>
<li><a class="reference internal" href="#resolution" id="id25">Resolution</a></li>
</ul>
</li>
<li><a class="reference internal" href="#options" id="id26">Options</a></li>
<li><a class="reference internal" href="#isis-calibration-example-workflow" id="id27">ISIS Calibration Example Workflow</a></li>
</ul>
</li>
<li><a class="reference internal" href="#isis-diagnostics" id="id28">ISIS Diagnostics</a><ul>
<li><a class="reference internal" href="#isis-diagnostics-options" id="id29">ISIS Diagnostics Options</a></li>
<li><a class="reference internal" href="#isis-diagnostics-example-workflow" id="id30">ISIS Diagnostics Example Workflow</a></li>
</ul>
</li>
<li><a class="reference internal" href="#transmission" id="id31">Transmission</a><ul>
<li><a class="reference internal" href="#transmission-options" id="id32">Transmission Options</a></li>
<li><a class="reference internal" href="#transmission-example-workflow" id="id33">Transmission Example Workflow</a></li>
</ul>
</li>
<li><a class="reference internal" href="#symmetrise" id="id34">Symmetrise</a><ul>
<li><a class="reference internal" href="#symmetrise-options" id="id35">Symmetrise Options</a></li>
<li><a class="reference internal" href="#preview" id="id36">Preview</a></li>
<li><a class="reference internal" href="#symmetrise-example-workflow" id="id37">Symmetrise Example Workflow</a></li>
</ul>
</li>
<li><a class="reference internal" href="#s-q-w" id="id38">S(Q, w)</a><ul>
<li><a class="reference internal" href="#s-q-w-options" id="id39">S(Q, w) Options</a></li>
<li><a class="reference internal" href="#s-q-w-example-workflow" id="id40">S(Q, w) Example Workflow</a></li>
</ul>
</li>
<li><a class="reference internal" href="#moments" id="id41">Moments</a><ul>
<li><a class="reference internal" href="#moments-options" id="id42">Moments Options</a></li>
<li><a class="reference internal" href="#moments-example-workflow" id="id43">Moments Example Workflow</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="overview">
<h2><a class="toc-backref" href="#id7">Overview</a><a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>The Indirect Data Reduction interface provides the initial reduction that
is used to convert raw instrument data to S(Q, w) for analysis in the
Indirect Data Analysis and Indirect Bayes interfaces.</p>
<p>The tabs shown on this interface will vary depending on the current default
facility such that only tabs that will work with data from the facility are
shown, this page describes all the tabs which can possibly be shown.</p>
<div class="figure align-right">
<a class="screenshot reference internal image-reference" href="../_images/Data_Reduction_interface.png"><img alt="../_images/Data_Reduction_interface.png" class="screenshot" src="../_images/Data_Reduction_interface.png" style="width: 350px;" /></a>
</div>
<div class="section" id="instrument-options">
<h3><a class="toc-backref" href="#id8">Instrument Options</a><a class="headerlink" href="#instrument-options" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Instrument</dt>
<dd>Used to select the instrument on which the data being reduced was created on.</dd>
<dt>Analyser</dt>
<dd>The analyser bank that was active when the experiment was run, or for which
you are interested in seeing the results of.</dd>
<dt>Reflection</dt>
<dd>The reflection plane of the instrument set up.</dd>
</dl>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">If you need clarification as to the instrument setup you should use
please speak to the instrument scientist who dealt with your experiment.</p>
</div>
</div>
<div class="section" id="action-buttons">
<h3><a class="toc-backref" href="#id9">Action Buttons</a><a class="headerlink" href="#action-buttons" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Settings</dt>
<dd>Opens the <a class="reference internal" href="Indirect Settings.html#interface-indirect-settings"><em>Settings</em></a> GUI which allows you to
customize the settings for the Indirect interfaces.</dd>
</dl>
<dl class="docutils">
<dt>?</dt>
<dd>Opens this help page.</dd>
<dt>Py</dt>
<dd>Exports a Python script which will replicate the processing done by the current tab.</dd>
<dt>Manage Directories</dt>
<dd>Opens the Manage Directories dialog allowing you to change your search directories
and default save directory and enable/disable data archive search.</dd>
</dl>
</div>
</div>
<div class="section" id="isis-ill-energy-transfer">
<h2><a class="toc-backref" href="#id10">ISIS/ILL Energy Transfer</a><a class="headerlink" href="#isis-ill-energy-transfer" title="Permalink to this headline">¶</a></h2>
<p>If the default facility has been set to ISIS, then the ISIS Energy Transfer tab will be available. However, this tab will
be replaced by the ILL Energy Transfer tab if the default facility has been set to ILL. A further explanation of each tab
can be found below.</p>
<div class="section" id="isis-energy-transfer">
<h3><a class="toc-backref" href="#id11">ISIS Energy Transfer</a><a class="headerlink" href="#isis-energy-transfer" title="Permalink to this headline">¶</a></h3>
<p>This tab provides you with the functionality to convert the raw data from the experiment run into
units of <img class="math" src="../_images/math/e7f3976c8fc98924a2661d692ffbe4a2f6b7e4d8.png" alt="\Delta E" style="vertical-align: 0px"/>. See the algorithm <a class="reference internal" href="../algorithms/ISISIndirectEnergyTransfer-v1.html#algm-isisindirectenergytransfer"><em>ISISIndirectEnergyTransfer</em></a>.</p>
<div class="figure">
<a class="screenshot reference internal image-reference" href="../_images/Data_Reduction_tabISISEnergyTransfer_widget.png"><img alt="../_images/Data_Reduction_tabISISEnergyTransfer_widget.png" class="screenshot" src="../_images/Data_Reduction_tabISISEnergyTransfer_widget.png" style="width: 680px;" /></a>
</div>
<div class="section" id="isis-energy-transfer-options">
<h4><a class="toc-backref" href="#id12">ISIS Energy Transfer Options</a><a class="headerlink" href="#isis-energy-transfer-options" title="Permalink to this headline">¶</a></h4>
<dl class="docutils">
<dt>Input Runs</dt>
<dd>Allows you to select the raw data files for an experiment. You can enter these
either by clicking on the Browse button and selecting them, or entering the run
numbers. Multiple files can be selected, multiple run numbers can be separated
by a comma (,) or a range can be specified by using a dash (-).</dd>
<dt>Sum Files</dt>
<dd>If selected the data from each raw file will be summed and from then on
treated as a single run.</dd>
<dt>Load Log Files</dt>
<dd>If selected the sample logs will be loaded from each of the run files.</dd>
<dt>Use Calib File &amp; Calibration File</dt>
<dd>Allows you to select a calibration file created using the Calibration tab.</dd>
<dt>Efixed</dt>
<dd>This option allows you to override the default fixed final energy for the
analyser and reflection number setting. This can be useful in correcting an
offset peak caused by the sample being slightly out of centre.</dd>
<dt>Spectra Min/Spectra Max</dt>
<dd>Used to specify a range of spectra.</dd>
<dt>Detector Grouping</dt>
<dd>Used to specify a method for grouping spectra. Possible grouping options include Individual, All,
File, Groups and Custom. The TOSCA instrument also has the Default grouping option which will use the grouping
specified in the IPF.</dd>
<dt>Background Removal</dt>
<dd>Allows removal of a background given a time-of-flight range.</dd>
<dt>Detailed Balance</dt>
<dd>Gives the option to perform an exponential correction on the data once it has
been converted to Energy based on the temperature. This is automatically loaded
from the sample logs of the input file if available.</dd>
<dt>Scale by Factor</dt>
<dd>Gives the option to scale the output by a given factor.</dd>
<dt>Do Not Rebin</dt>
<dd>If selected it will disable the rebinning step.</dd>
<dt>Rebin Steps</dt>
<dd>Select the type of rebinning you wish to perform.</dd>
<dt>Plot Time</dt>
<dd>Creates a time of flight plot of the grouping of the spectra in the range
defined in the Plot Time section. To include a single spectrum, set the Spectra
Min and Spectra Max selectors to the same value. Note that this first rebins
the sample input to ensure that each detector spectrum has the same binning in
order to be grouped into a single spectrum.</dd>
<dt>Spectra Min &amp; Spectra Max</dt>
<dd>Select the range of detectors you are interested in, default values are
chosen based on the instrument and analyser bank selected.</dd>
<dt>Run</dt>
<dd>Runs the processing configured on the current tab.</dd>
<dt>Plot Spectra</dt>
<dd>If enabled, it will plot the selected workspace indices in the selected output workspace.</dd>
<dt>Plot Contour</dt>
<dd>If enabled, it will plot the selected output workspace as a contour plot.</dd>
<dt>Group Output</dt>
<dd>This will place the output reduced files from a reduction into a group workspace.</dd>
<dt>Fold Multiple Frames</dt>
<dd>This option is only relevant for TOSCA. If checked, then multiple-framed data
will be folded back into a single spectra, if unchecked the frames will be
left as is with the frame number given at the end of the workspace name.</dd>
<dt>Output in <img class="math" src="../_images/math/4b957dfcf6372398dbe5cb300bddb225cf4fac03.png" alt="cm^{-1}" style="vertical-align: 0px"/></dt>
<dd>Converts the units of the energy axis from <img class="math" src="../_images/math/60f5e78df788eaac1573b14c0ed79978c0895da0.png" alt="meV" style="vertical-align: 0px"/> to wave number
(<img class="math" src="../_images/math/4b957dfcf6372398dbe5cb300bddb225cf4fac03.png" alt="cm^{-1}" style="vertical-align: 0px"/>).</dd>
<dt>Select Save Formats</dt>
<dd>Allows you to select multiple output save formats to save the reduced data as,
in all cases the file will be saved in the default save directory.</dd>
</dl>
</div>
<div class="section" id="isis-energy-transfer-example-workflow">
<span id="id1"></span><h4><a class="toc-backref" href="#id13">ISIS Energy Transfer Example Workflow</a><a class="headerlink" href="#isis-energy-transfer-example-workflow" title="Permalink to this headline">¶</a></h4>
<p>The ISIS Energy Transfer tab operates on raw TOF data files. Before starting this workflow, go to
<strong>Manage Directories</strong> and make sure that <strong>Search Data Archive</strong> is set to <strong>all</strong>.</p>
<ol class="arabic simple">
<li>Set the <strong>Instrument</strong> to be OSIRIS, the <strong>Analyser</strong> to be graphite and the <strong>Reflection</strong> to
be 002.</li>
<li>In <strong>Input Runs</strong>, enter the run numbers 104371-104375 and press enter.</li>
<li>Change the <strong>Spectra Min</strong> and <strong>Spectra Max</strong> if you want to avoid some of the detectors. For
the purposes of this demonstration, keep them at their default values.</li>
<li>The <strong>Detector Grouping</strong> option allows you to specify how you want to group your detectors. The
different option available are explained in the <a class="reference internal" href="#detector-grouping"><em>Grouping</em></a> section. For this
demonstration, choose <strong>Individual</strong>.</li>
<li>Click <strong>Run</strong> and wait for the interface to finish processing. This should generate a
workspace ending in _red.</li>
<li>Choose a default save directory and then tick the <strong>Nexus</strong> checkbox. Click <strong>Save</strong> to save the
output workspace. The workspace ending in _red will be used in the <a class="reference internal" href="Indirect Data Analysis.html#elwin-example-workflow"><em>Elwin Example Workflow</em></a>.</li>
</ol>
<p>Go to the <a class="reference internal" href="#isis-calibration-example-workflow"><em>ISIS Calibration Example Workflow</em></a>.</p>
</div>
<div class="section" id="grouping">
<span id="detector-grouping"></span><h4><a class="toc-backref" href="#id14">Grouping</a><a class="headerlink" href="#grouping" title="Permalink to this headline">¶</a></h4>
<p>The following options are available for grouping output data:</p>
<dl class="docutils">
<dt>Custom</dt>
<dd><p class="first">Follows the same grouping patterns used in the <a class="reference internal" href="../algorithms/GroupDetectors-v2.html#algm-groupdetectors"><em>GroupDetectors</em></a> algorithm.
An example of the syntax is 1,2+3,4-6,7-10</p>
<p class="last">This would produce spectra for: spectra 1, the sum of spectra 2 and 3, the sum of spectra 4-6 (4+5+6)
and individual spectra from 7 to 10 (7,8,9,10)</p>
</dd>
<dt>Individual</dt>
<dd>All detectors will remain on individual spectra.</dd>
<dt>Groups</dt>
<dd>The detectors will automatically be divided into a given number of equal size groups. Any
left over will be added as an additional group.</dd>
<dt>All</dt>
<dd>All detectors will be grouped into a single spectra.</dd>
<dt>File</dt>
<dd>Gives the option of supplying a grouping file to be used with the
<a class="reference internal" href="../algorithms/GroupDetectors-v2.html#algm-groupdetectors"><em>GroupDetectors</em></a> algorithm.</dd>
<dt>Default</dt>
<dd>This grouping option is only available for TOSCA. It uses the spectra grouping specified in the IPF.</dd>
</dl>
</div>
<div class="section" id="rebinning">
<h4><a class="toc-backref" href="#id15">Rebinning</a><a class="headerlink" href="#rebinning" title="Permalink to this headline">¶</a></h4>
<p>Rebinning can be done using either a single step or multiple steps as described
in the sections below.</p>
<dl class="docutils">
<dt>Single</dt>
<dd>In this mode only a single binning range is defined as a range and width.</dd>
</dl>
<div class="figure">
<a class="screenshot reference internal image-reference" href="../_images/Data_Reduction_pgSingleRebin_widget.png"><img alt="../_images/Data_Reduction_pgSingleRebin_widget.png" class="screenshot" src="../_images/Data_Reduction_pgSingleRebin_widget.png" style="width: 471px;" /></a>
</div>
<dl class="docutils">
<dt>Multiple</dt>
<dd>In this mode multiple binning ranges can be defined using the rebin string syntax
used by the <a class="reference internal" href="../algorithms/Rebin-v1.html#algm-rebin"><em>Rebin</em></a> algorithm.</dd>
</dl>
<div class="figure">
<a class="screenshot reference internal image-reference" href="../_images/Data_Reduction_pgMultipleRebin_widget.png"><img alt="../_images/Data_Reduction_pgMultipleRebin_widget.png" class="screenshot" src="../_images/Data_Reduction_pgMultipleRebin_widget.png" style="width: 258px;" /></a>
</div>
</div>
<div class="section" id="a-note-on-masked-detectors">
<h4><a class="toc-backref" href="#id16">A note on Masked Detectors</a><a class="headerlink" href="#a-note-on-masked-detectors" title="Permalink to this headline">¶</a></h4>
<p>When a reduction of a single run number takes place, the masked detectors used for the
reduction are found using the <a class="reference internal" href="../algorithms/IdentifyNoisyDetectors-v1.html#algm-identifynoisydetectors"><em>IdentifyNoisyDetectors</em></a>
algorithm.</p>
<p>When using the <strong>Sum Files</strong> option the noisy detectors for each of the run numbers could
be different. In this case, the masked detectors for the summed run is found by first finding
the noisy detectors for each of the individual runs within the summed run using
<a class="reference internal" href="../algorithms/IdentifyNoisyDetectors-v1.html#algm-identifynoisydetectors"><em>IdentifyNoisyDetectors</em></a>. For instance, let us say that we
find that the following run numbers have these noisy detectors:</p>
<div class="highlight-sh"><div class="highlight"><pre>Run number 22841 has noisy detectors 53, 54, 55
Run number 22842 has noisy detectors 53, 54, 56
Run number 22843 has noisy detectors 53, 55, 56
</pre></div>
</div>
<p>To find the detectors which should be masked for a summed run of 22841-22843 we first combine
these noisy detectors so that we have 53, 54, 55 and 56. A summed file is then calculated from
these run numbers and the <a class="reference internal" href="../algorithms/IdentifyNoisyDetectors-v1.html#algm-identifynoisydetectors"><em>IdentifyNoisyDetectors</em></a> algorithm
finds the noisy detectors for this summed file.</p>
<div class="highlight-sh"><div class="highlight"><pre>Summed file 22841-22843 has noisy detectors 13, 53, 54, 55
</pre></div>
</div>
<p>The masked detectors used for the summed run would also include any additional detectors found
to be noisy for the summed run. The masked detectors used for the summed reduction of 22841-22843
would therefore be 13, 53, 54, 55 and 56.</p>
</div>
</div>
<div class="section" id="ill-energy-transfer">
<h3><a class="toc-backref" href="#id17">ILL Energy Transfer</a><a class="headerlink" href="#ill-energy-transfer" title="Permalink to this headline">¶</a></h3>
<p>This tab handles the reduction of data from the IN16B instrument and will appear when the default facility is set to be
the ILL. See the algorithm <a class="reference internal" href="../algorithms/IndirectILLEnergyTransfer-v1.html#algm-indirectillenergytransfer"><em>IndirectILLEnergyTransfer</em></a>.</p>
<div class="figure">
<a class="screenshot reference internal image-reference" href="../_images/Data_Reduction_tabILLEnergyTransfer_widget.png"><img alt="../_images/Data_Reduction_tabILLEnergyTransfer_widget.png" class="screenshot" src="../_images/Data_Reduction_tabILLEnergyTransfer_widget.png" style="width: 650px;" /></a>
</div>
<div class="section" id="reduction-type">
<h4><a class="toc-backref" href="#id18">Reduction Type</a><a class="headerlink" href="#reduction-type" title="Permalink to this headline">¶</a></h4>
<p>There are two reduction types of IN16B data: Quasi-Elastic Neutron Scattering (QENS) or Fixed Window Scans (FWS).
The latter can be either Elastic (EFWS) or Inelastic (IFWS).
If one or another reduction type is checked, the corresponding algorithm will be invoked
(see <a class="reference internal" href="../algorithms/IndirectILLReductionQENS-v1.html#algm-indirectillreductionqens"><em>IndirectILLReductionQENS</em></a> and <a class="reference internal" href="../algorithms/IndirectILLReductionFWS-v1.html#algm-indirectillreductionfws"><em>IndirectILLReductionFWS</em></a>).
There are several properties in common between the two, and several others that are specific to one or the other.
The specific ones will show up or disappear corresponding to the choice of the reduction type.</p>
</div>
<div class="section" id="common-options">
<h4><a class="toc-backref" href="#id19">Common Options</a><a class="headerlink" href="#common-options" title="Permalink to this headline">¶</a></h4>
<dl class="docutils">
<dt>Input File</dt>
<dd>Used to select the raw data in <tt class="docutils literal"><span class="pre">.nxs</span></tt> format. Note that multiple files can be specified following <a class="reference internal" href="../api/python/mantid/api/MultipleFileProperty.html#mantid.api.MultipleFileProperty" title="mantid.api.MultipleFileProperty"><tt class="xref py py-obj docutils literal"><span class="pre">MultipleFileProperty</span></tt></a> instructions.</dd>
<dt>Detector Grouping</dt>
<dd>Used to switch between grouping as per the IDF (<em>Default</em>) or grouping using a
mapping file (<em>Map File</em>). This defines e.g. the summing of the vertical pixels per PSDs.</dd>
<dt>Background Subtraction</dt>
<dd>Used to specify the background (i.e. empty can) runs to subtract. A scale factor can be applied to background subtraction.</dd>
<dt>Detector Calibration</dt>
<dd>Used to specify the calibration (i.e. vanadium) runs to divide by.</dd>
<dt>Background Subtraction for Calibration</dt>
<dd>Used to specify the background (i.e. empty can) runs to subtract from the vanadium calibration runs.</dd>
<dt>Output Name</dt>
<dd>This will be the name of the resulting reduced workspace group.</dd>
<dt>Spectrum Axis</dt>
<dd>This allows the spectrum axis to be converted to elastic momentum transfer or scattering angle if desired.</dd>
<dt>Plot</dt>
<dd>If enabled, it will plot the result (of the first run) as a contour plot.</dd>
<dt>Save</dt>
<dd>If enabled the reduced workspace group will be saved as a <tt class="docutils literal"><span class="pre">.nxs</span></tt> file in the default save
directory.</dd>
</dl>
</div>
<div class="section" id="qens-only-options">
<h4><a class="toc-backref" href="#id20">QENS-only Options</a><a class="headerlink" href="#qens-only-options" title="Permalink to this headline">¶</a></h4>
<dl class="docutils">
<dt>Sum All Runs</dt>
<dd>If checked, all the input runs will be summed while loading.</dd>
<dt>Crop Dead Monitor Channels</dt>
<dd>If checked, the few channels in the beginning and at the end of the spectra that contain zero monitor counts will be cropped out.
As a result, the doppler maximum energy will be mapped to the first and last non-zero monitor channels, resulting in narrower peaks.
Care must be taken with this option; since this alters the total number of bins,
problems might occur while subtracting the background or performing unmirroring if the number of dead monitor channels are different.</dd>
<dt>Calibration Peak Range</dt>
<dd>This defines the integration range over the peak in calibration run in <tt class="docutils literal"><span class="pre">meV</span></tt>.</dd>
<dt>Unmirror Options</dt>
<dd>This is used to choose the option of summing of the left and right wings of the data, when recorded in mirror sense.
See <a class="reference internal" href="../algorithms/IndirectILLReductionQENS-v1.html#algm-indirectillreductionqens"><em>IndirectILLReductionQENS</em></a> for full details.
Unmirror option 5 and 7 require vanadium alignment run.</dd>
</dl>
</div>
<div class="section" id="fws-only-options">
<h4><a class="toc-backref" href="#id21">FWS-only Options</a><a class="headerlink" href="#fws-only-options" title="Permalink to this headline">¶</a></h4>
<dl class="docutils">
<dt>Observable</dt>
<dd>This is the scanning observable, that will become the x-axis of the final result.
It can be any numeric sample parameter defined in Sample Logs (e.g. sample.*) or a time-stamp string (e.g. start_time).
It can also be the run number. It can not be an instrument parameter.</dd>
<dt>Sort X Axis</dt>
<dd>If checked, the x-axis of the final results will be sorted.</dd>
<dt>Sum/Interpolate</dt>
<dd>Both background and calibration have options to use the summed (averaged) or interpolated values over different observable points.
Default behaviour is Sum. Interpolation is done using cubic (or linear for 2 measured values only) splines.
If interpolation is requested, x-axis will be sorted automatically.</dd>
</dl>
</div>
</div>
</div>
<div class="section" id="isis-calibration">
<h2><a class="toc-backref" href="#id22">ISIS Calibration</a><a class="headerlink" href="#isis-calibration" title="Permalink to this headline">¶</a></h2>
<p>This tab gives you the ability to create Calibration and Resolution files, and is only available when the default facility is set to ISIS.</p>
<p>The calibration file is normalised to an average of 1.</p>
<div class="figure">
<a class="screenshot reference internal image-reference" href="../_images/Data_Reduction_tabISISCalibration_widget.png"><img alt="../_images/Data_Reduction_tabISISCalibration_widget.png" class="screenshot" src="../_images/Data_Reduction_tabISISCalibration_widget.png" style="width: 500px;" /></a>
</div>
<div class="section" id="isis-calibration-options">
<h3><a class="toc-backref" href="#id23">ISIS Calibration Options</a><a class="headerlink" href="#isis-calibration-options" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Input Runs</dt>
<dd>This allows you to select a run for the function to use, either by selecting the
<em>.raw</em> file with the Browse button or through entering the number in the box.</dd>
<dt>Plot Raw</dt>
<dd>Updates the preview plots.</dd>
<dt>Intensity Scale Factor</dt>
<dd>Optionally applies a scale by a given factor to the raw input data.</dd>
<dt>Load Log Files</dt>
<dd>This will load the log files if enabled.</dd>
<dt>Run</dt>
<dd>Runs the processing configured on the current tab.</dd>
<dt>Plot Spectra</dt>
<dd>If enabled, it will plot the selected workspace indices in the selected output workspace.</dd>
<dt>Plot Bins</dt>
<dd>If enabled, it will plot the selected bin indices in the selected output workspace.</dd>
<dt>Save Result</dt>
<dd>If enabled the result will be saved as a NeXus file in the default save
directory.</dd>
</dl>
<div class="section" id="calibration">
<h4><a class="toc-backref" href="#id24">Calibration</a><a class="headerlink" href="#calibration" title="Permalink to this headline">¶</a></h4>
<dl class="docutils">
<dt>Peak Min &amp; Peak Max</dt>
<dd>Selects the time-of-flight range corresponding to the peak. A default starting
value is generally provided from the instrument&#8217;s parameter file.</dd>
<dt>Back Min &amp; Back Max</dt>
<dd>Selects the time-of-flight range corresponding to the background. A default
starting value is generally provided from the instrument&#8217;s parameter file.</dd>
</dl>
</div>
<div class="section" id="resolution">
<h4><a class="toc-backref" href="#id25">Resolution</a><a class="headerlink" href="#resolution" title="Permalink to this headline">¶</a></h4>
<dl class="docutils">
<dt>Create RES File</dt>
<dd>If selected, it will create a resolution file when the tab is run.</dd>
<dt>Smooth RES</dt>
<dd>If selected, the <a class="reference internal" href="../algorithms/WienerSmooth-v1.html#algm-wienersmooth"><em>WienerSmooth</em></a> algorithm will be
applied to the output of the resolution algorithm.</dd>
<dt>Scale RES</dt>
<dd>Applies a scale by a given factor to the resolution output.</dd>
<dt>Spectra Min &amp; Spectra Max</dt>
<dd>Allows restriction of the range of spectra used when creating the resolution curve.</dd>
<dt>Background Start &amp; Background End</dt>
<dd>Defines the time-of-flight range used to calculate the background noise.</dd>
<dt>Low, Width &amp; High</dt>
<dd>Binning parameters used to rebin the resolution curve.</dd>
</dl>
</div>
</div>
<div class="section" id="options">
<h3><a class="toc-backref" href="#id26">Options</a><a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Input Files</dt>
<dd>File for the calibration (e.g. vanadium) run. If multiple specified, they will be automatically summed.</dd>
<dt>Grouping</dt>
<dd>Used to switch between grouping as per the IDF (<em>Default</em>) or grouping using a
mapping file (<em>Map File</em>).</dd>
<dt>Peak Range</dt>
<dd>Sets the integration range over the peak in <img class="math" src="../_images/math/60f5e78df788eaac1573b14c0ed79978c0895da0.png" alt="meV" style="vertical-align: 0px"/></dd>
<dt>Scale Factor</dt>
<dd>Factor to scale the intensities with</dd>
</dl>
</div>
<div class="section" id="isis-calibration-example-workflow">
<span id="id2"></span><h3><a class="toc-backref" href="#id27">ISIS Calibration Example Workflow</a><a class="headerlink" href="#isis-calibration-example-workflow" title="Permalink to this headline">¶</a></h3>
<p>The ISIS Calibration tab operates on raw TOF data files. Before starting this workflow, go to
<strong>Manage Directories</strong> and make sure that <strong>Search Data Archive</strong> is set to <strong>all</strong>.</p>
<ol class="arabic simple">
<li>Set the <strong>Instrument</strong> to be IRIS, the <strong>Analyser</strong> to be graphite and the <strong>Reflection</strong> to
be 002.</li>
<li>In <strong>Input Runs</strong>, enter the run number 26176 and press enter.</li>
<li>Tick <strong>Create RES File</strong>. This will create a workspace ending in _res.</li>
<li>Click <strong>Run</strong> and wait for the interface to finish processing. This should generate
workspaces ending in _red, _res and _calib. The calibration workspace can be used in the ISIS
Energy Transfer tab by ticking <strong>Use Calib File</strong>.</li>
<li>Select the workspace ending in _calib in the output options. Enter index 0 in the neighbouring box,
and then click the down arrow on the <strong>Plot Spectra</strong> button, and select <strong>Plot Bins</strong>. This will
plot the bin at index 0.</li>
<li>Select the workspace ending in _res in the output options. Enter index 0 in the neighbouring box,
and then click the <strong>Plot Spectra</strong> button. This will plot the spectrum at workspace index 0.</li>
<li>Choose a default save directory and then click <strong>Save Result</strong> to save the workspaces ending
in _res and _calib. The _res file is used in the <a class="reference internal" href="Indirect Data Analysis.html#iqt-example-workflow"><em>I(Q, t) Example Workflow</em></a> and
<a class="reference internal" href="Indirect Data Analysis.html#convfit-example-workflow"><em>ConvFit Example Workflow</em></a>. The _calib file is used in the
<a class="reference internal" href="#isis-diagnostics-example-workflow"><em>ISIS Diagnostics Example Workflow</em></a>.</li>
</ol>
</div>
</div>
<div class="section" id="isis-diagnostics">
<h2><a class="toc-backref" href="#id28">ISIS Diagnostics</a><a class="headerlink" href="#isis-diagnostics" title="Permalink to this headline">¶</a></h2>
<p>This tab allows you to perform an integration on a raw file over a specified
time of flight range, and is equivalent to the Slice functionality found in
MODES. It is only available when the default facility is set to ISIS.</p>
<div class="figure">
<a class="screenshot reference internal image-reference" href="../_images/Data_Reduction_tabISISDiagnostics_widget.png"><img alt="../_images/Data_Reduction_tabISISDiagnostics_widget.png" class="screenshot" src="../_images/Data_Reduction_tabISISDiagnostics_widget.png" style="width: 500px;" /></a>
</div>
<div class="section" id="isis-diagnostics-options">
<h3><a class="toc-backref" href="#id29">ISIS Diagnostics Options</a><a class="headerlink" href="#isis-diagnostics-options" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Input Runs</dt>
<dd>This allows you to select a run for the function to use, either by selecting the
<em>.raw</em> file with the Browse button or through entering the number in the box.
Multiple files can be selected, in the same manner as described for the Energy
Transfer tab.</dd>
<dt>Use Calibration</dt>
<dd>Allows you to select either a calibration file or workspace to apply to the raw
files.</dd>
<dt>Preview Spectrum</dt>
<dd>Allows selection of the spectrum to be shown in the preview plot to the right
of the Time Slice section.</dd>
<dt>Spectra Min &amp; Spectra Max</dt>
<dd>Allows selection of the range of detectors you are interested in, this is
automatically set based on the instrument and analyser bank that are currently
selected.</dd>
<dt>Peak</dt>
<dd>The time-of-flight range that will be integrated over to give the result (the
blue range in the plot window). A default starting value is generally provided
from the instrument&#8217;s parameter file.</dd>
<dt>Use Two Ranges</dt>
<dd>If selected, enables subtraction of the background range.</dd>
<dt>Background</dt>
<dd>An optional range denoting background noise that is to be removed from the raw
data before the integration is performed. A default starting value is generally
provided from the instrument&#8217;s parameter file.</dd>
<dt>Run</dt>
<dd>Runs the processing configured on the current tab.</dd>
<dt>Plot Spectra</dt>
<dd>If enabled, it will plot the selected workspace indices in the selected output workspace.</dd>
<dt>Save Result</dt>
<dd>If enabled the result will be saved as a NeXus file in the default save
directory.</dd>
</dl>
</div>
<div class="section" id="isis-diagnostics-example-workflow">
<span id="id3"></span><h3><a class="toc-backref" href="#id30">ISIS Diagnostics Example Workflow</a><a class="headerlink" href="#isis-diagnostics-example-workflow" title="Permalink to this headline">¶</a></h3>
<p>The ISIS Diagnostics tab operates on raw TOF data files. Before starting this workflow, go to
<strong>Manage Directories</strong> and make sure that <strong>Search Data Archive</strong> is set to <strong>all</strong>.</p>
<ol class="arabic simple">
<li>Set the <strong>Instrument</strong> to be IRIS, the <strong>Analyser</strong> to be graphite and the <strong>Reflection</strong> to
be 002.</li>
<li>In <strong>Input Runs</strong>, enter the run number 26176 and press enter.</li>
<li>Tick <strong>Use Calibration</strong> and load the file named <tt class="docutils literal"><span class="pre">irs26173_graphite002_calib</span></tt>.</li>
<li>Change the <strong>Preview Spectrum</strong> variable to view a different spectrum in the mini-plot.</li>
<li>Change the <strong>Start</strong> and <strong>End</strong> variables to specify a PeakRange for the
<a class="reference internal" href="../algorithms/TimeSlice-v1.html#algm-timeslice"><em>TimeSlice</em></a> algorithm. Alternatively, you can move the blue sliders on the
mini-plot.</li>
<li>Click <strong>Run</strong> and wait for the interface to finish processing. This should generate a
workspace ending in _slice. The <strong>Preview</strong> mini-plot will be updated.</li>
<li>Click <strong>Plot Spectra</strong> to produce a larger plot of the <strong>Preview</strong> mini-plot.</li>
</ol>
<p>Go to the <a class="reference internal" href="#transmission-example-workflow"><em>Transmission Example Workflow</em></a>.</p>
</div>
</div>
<div class="section" id="transmission">
<h2><a class="toc-backref" href="#id31">Transmission</a><a class="headerlink" href="#transmission" title="Permalink to this headline">¶</a></h2>
<p>Calculates the sample transmission using the raw data files of the sample and
its background or container. The incident and transmission monitors are
converted to wavelength and the transmission monitor is normalised to the
incident monitor over the common wavelength range. The sample is then divided by
the background/container to give the sample transmission as a function of
wavelength.</p>
<div class="figure">
<a class="screenshot reference internal image-reference" href="../_images/Data_Reduction_tabTransmission_widget.png"><img alt="../_images/Data_Reduction_tabTransmission_widget.png" class="screenshot" src="../_images/Data_Reduction_tabTransmission_widget.png" style="width: 500px;" /></a>
</div>
<div class="section" id="transmission-options">
<h3><a class="toc-backref" href="#id32">Transmission Options</a><a class="headerlink" href="#transmission-options" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Sample</dt>
<dd>Allows the selection of a raw file to be used as the sample.</dd>
<dt>Background</dt>
<dd>Allows the selection of a raw file to be used as the background.</dd>
<dt>Run</dt>
<dd>Runs the processing configured on the current tab.</dd>
<dt>Plot Spectra</dt>
<dd>If enabled, it will plot the selected spectra indices in the selected output workspace.</dd>
<dt>Save Result</dt>
<dd>If enabled the result will be saved as a NeXus file in the default save
directory.</dd>
</dl>
</div>
<div class="section" id="transmission-example-workflow">
<span id="id4"></span><h3><a class="toc-backref" href="#id33">Transmission Example Workflow</a><a class="headerlink" href="#transmission-example-workflow" title="Permalink to this headline">¶</a></h3>
<p>The Transmission tab operates on raw TOF data files. Before starting this workflow, go to
<strong>Manage Directories</strong> and make sure that <strong>Search Data Archive</strong> is set to <strong>all</strong>.</p>
<ol class="arabic simple">
<li>Set the <strong>Instrument</strong> to be IRIS, the <strong>Analyser</strong> to be graphite and the <strong>Reflection</strong> to
be 002.</li>
<li>In the <strong>Sample</strong> box, enter the run number 26176 and press enter. In the <strong>Background</strong> box,
enter the run number 26174 and press enter.</li>
<li>Click <strong>Run</strong> and wait for the interface to finish processing. This will run the algorithm
<a class="reference internal" href="../algorithms/IndirectTransmissionMonitor-v1.html#algm-indirecttransmissionmonitor"><em>IndirectTransmissionMonitor</em></a> and plots the output
workspaces in the <strong>Preview</strong> mini-plot.</li>
<li>Click <strong>Plot Spectra</strong> to produce a larger plot of the <strong>Preview</strong> mini-plot.</li>
</ol>
<p>Go to the <a class="reference internal" href="#symmetrise-example-workflow"><em>Symmetrise Example Workflow</em></a>.</p>
</div>
</div>
<div class="section" id="symmetrise">
<h2><a class="toc-backref" href="#id34">Symmetrise</a><a class="headerlink" href="#symmetrise" title="Permalink to this headline">¶</a></h2>
<p>This tab allows you to take an asymmetric reduced file (<em>_red.nxs</em>) and symmetrise it about
the Y axis.</p>
<p>The curve is symmetrised such that the range of positive values between <img class="math" src="../_images/math/e3852128c338641e9045b4b0110ce2fb4b13766f.png" alt="EMin" style="vertical-align: 0px"/>
and <img class="math" src="../_images/math/5c1945eb25a61b4bef616abf01864060aed7394a.png" alt="EMax" style="vertical-align: 0px"/> are reflected about the Y axis and replaces the negative values
in the range <img class="math" src="../_images/math/ec8c497521ce2980d6c7192348e96c93d0e1124a.png" alt="-EMax" style="vertical-align: 0px"/> to <img class="math" src="../_images/math/e2cfbe59ae1bed74cc52ece8742fad882884ab3c.png" alt="-EMin" style="vertical-align: 0px"/>, the curve between <img class="math" src="../_images/math/e2cfbe59ae1bed74cc52ece8742fad882884ab3c.png" alt="-EMin" style="vertical-align: 0px"/> and
<img class="math" src="../_images/math/e3852128c338641e9045b4b0110ce2fb4b13766f.png" alt="EMin" style="vertical-align: 0px"/> is not modified.</p>
<div class="figure">
<a class="screenshot reference internal image-reference" href="../_images/Data_Reduction_tabSymmetrise_widget.png"><img alt="../_images/Data_Reduction_tabSymmetrise_widget.png" class="screenshot" src="../_images/Data_Reduction_tabSymmetrise_widget.png" style="width: 500px;" /></a>
</div>
<div class="section" id="symmetrise-options">
<h3><a class="toc-backref" href="#id35">Symmetrise Options</a><a class="headerlink" href="#symmetrise-options" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Input</dt>
<dd>Allows you to select a reduced NeXus file (<em>_red.nxs</em>) or workspace (<em>_red</em>) as the
input to the algorithm.</dd>
<dt>EMin &amp; EMax</dt>
<dd>Sets the energy range that is to be reflected about <img class="math" src="../_images/math/4a8ca51fda072a5665a48fcec556db2677e987f0.png" alt="y=0" style="vertical-align: -4px"/>.</dd>
<dt>Spectrum No</dt>
<dd>Changes the spectrum shown in the preview plots.</dd>
<dt>XRange</dt>
<dd>Changes the range of the preview plot, this can be useful for inspecting the
curve before running the algorithm.</dd>
<dt>Preview</dt>
<dd>This button will update the preview plot and parameters under the Preview
section.</dd>
<dt>Run</dt>
<dd>Runs the processing configured on the current tab.</dd>
<dt>Plot Spectra</dt>
<dd>If enabled, it will plot the selected workspace indices in the selected output workspace.</dd>
<dt>Save Result</dt>
<dd>If enabled the result will be saved as a NeXus file in the default save
directory.</dd>
</dl>
</div>
<div class="section" id="preview">
<span id="preview-properties"></span><h3><a class="toc-backref" href="#id36">Preview</a><a class="headerlink" href="#preview" title="Permalink to this headline">¶</a></h3>
<p>The preview section shows what a given spectra in the input will look like after
it has been symmetrised and gives an idea of how well the value of EMin fits the
curve on both sides of the peak.</p>
<dl class="docutils">
<dt>Negative Y</dt>
<dd>The value of <img class="math" src="../_images/math/95ca3c6a1fbeaaafe5800c3269c4c9c2cf2e5406.png" alt="y" style="vertical-align: -4px"/> at <img class="math" src="../_images/math/986ec401a2dbb362eed279fcb841895025b2ab7d.png" alt="x=-EMin" style="vertical-align: 0px"/>.</dd>
<dt>Positive Y</dt>
<dd>The value of <img class="math" src="../_images/math/95ca3c6a1fbeaaafe5800c3269c4c9c2cf2e5406.png" alt="y" style="vertical-align: -4px"/> at <img class="math" src="../_images/math/0eb8dea675cec56178082deb0cf38b9d7b46803d.png" alt="x=EMin" style="vertical-align: 0px"/>.</dd>
<dt>Delta Y</dt>
<dd>The difference between Negative and Positive Y. Typically this should be as
close to zero as possible.</dd>
</dl>
</div>
<div class="section" id="symmetrise-example-workflow">
<span id="id5"></span><h3><a class="toc-backref" href="#id37">Symmetrise Example Workflow</a><a class="headerlink" href="#symmetrise-example-workflow" title="Permalink to this headline">¶</a></h3>
<p>The Symmetrise tab operates on <tt class="docutils literal"><span class="pre">_red</span></tt> files. The file used in this workflow can
be produced using the 26176 run number on the ISIS Energy Transfer tab. The instrument used to
produce this file is IRIS, the analyser is graphite and the reflection is 002. See the
<a class="reference internal" href="#isis-energy-transfer-example-workflow"><em>ISIS Energy Transfer Example Workflow</em></a>.</p>
<ol class="arabic simple">
<li>In the <strong>Input</strong> box, load the file named <tt class="docutils literal"><span class="pre">iris26176_graphite002_red</span></tt>. This will
automatically plot the data on the first mini-plot.</li>
<li>Move the green slider located at x = -0.5 to be at x = -0.4.</li>
<li>Click <strong>Preview</strong>. This will update the <a class="reference internal" href="#preview-properties"><em>Preview properties</em></a> and
the neighbouring mini-plot.</li>
<li>Click <strong>Run</strong> and wait for the interface to finish processing. This will run the
<a class="reference internal" href="../algorithms/Symmetrise-v1.html#algm-symmetrise"><em>Symmetrise</em></a> algorithm. The output workspace is called
<tt class="docutils literal"><span class="pre">iris26176_graphite002_sym_red</span></tt>.</li>
<li>Click <strong>Plot Spectra</strong> to produce a spectra plot of the output workspace. Other indices can be
plotted by entering indices in the box next to the <strong>Plot Spectra</strong> button. For example,
entering indices 0-2,4,6-7 will plot the spectra with workspace indices 0, 1, 2, 4, 6 and 7.</li>
</ol>
<p>Go to the <a class="reference internal" href="#sqw-example-workflow"><em>S(Q, w) Example Workflow</em></a>.</p>
</div>
</div>
<div class="section" id="s-q-w">
<h2><a class="toc-backref" href="#id38">S(Q, w)</a><a class="headerlink" href="#s-q-w" title="Permalink to this headline">¶</a></h2>
<p>Provides an interface for running the <a class="reference internal" href="../algorithms/SofQW-v1.html#algm-sofqw"><em>SofQW</em></a> algorithm.</p>
<div class="figure">
<a class="screenshot reference internal image-reference" href="../_images/Data_Reduction_tabSQw_widget.png"><img alt="../_images/Data_Reduction_tabSQw_widget.png" class="screenshot" src="../_images/Data_Reduction_tabSQw_widget.png" style="width: 500px;" /></a>
</div>
<div class="section" id="s-q-w-options">
<h3><a class="toc-backref" href="#id39">S(Q, w) Options</a><a class="headerlink" href="#s-q-w-options" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Input</dt>
<dd>Allows you to select a reduced NeXus file (<em>_red.nxs</em>) or workspace (<em>_red</em>) as the
input to the algorithm. An automatic contour plot of <em>_rqw</em> will be plotted in the preview
plot once a file has finished loading.</dd>
<dt>Q Low, Q Width &amp; Q High</dt>
<dd>Q binning parameters that are passed to the <a class="reference internal" href="../algorithms/SofQW-v1.html#algm-sofqw"><em>SofQW</em></a> algorithm. The low and high
values can be determined using the neighbouring contour plot.</dd>
<dt>Rebin in Energy</dt>
<dd>If enabled the data will first be rebinned in energy before being passed to
the <a class="reference internal" href="../algorithms/SofQW-v1.html#algm-sofqw"><em>SofQW</em></a> algorithm.</dd>
<dt>E Low, E Width &amp; E High</dt>
<dd>The energy rebinning parameters. The low and high values can be determined using the neighbouring contour plot.</dd>
<dt>Run</dt>
<dd>Runs the processing configured on the current tab.</dd>
<dt>Plot Spectra</dt>
<dd>If enabled, it will plot the selected workspace indices in the selected output workspace.</dd>
<dt>Plot Contour</dt>
<dd>If enabled, it will plot the selected output workspace as a contour plot.</dd>
<dt>Save Result</dt>
<dd>If enabled the result will be saved as a NeXus file in the default save directory.</dd>
</dl>
</div>
<div class="section" id="s-q-w-example-workflow">
<span id="sqw-example-workflow"></span><h3><a class="toc-backref" href="#id40">S(Q, w) Example Workflow</a><a class="headerlink" href="#s-q-w-example-workflow" title="Permalink to this headline">¶</a></h3>
<p>The S(Q, w) tab operates on <tt class="docutils literal"><span class="pre">_red</span></tt> files. The file used in this workflow can be produced
using the 26176 run number on the ISIS Energy Transfer tab. The instrument used to
produce this file is IRIS, the analyser is graphite and the reflection is 002. See the
<a class="reference internal" href="#isis-energy-transfer-example-workflow"><em>ISIS Energy Transfer Example Workflow</em></a>.</p>
<ol class="arabic simple">
<li>In the <strong>Input</strong> box, load the file named <tt class="docutils literal"><span class="pre">iris26176_graphite002_red</span></tt>. This will
automatically plot the data as a contour plot within the interface.</li>
<li>Set the <strong>Q Low</strong>, <strong>Q Width</strong> and <strong>Q High</strong> to be 0.5, 0.05 and 1.8. These values are
read from the contour plot.</li>
<li>Tick <strong>Rebin in Energy</strong>.</li>
<li>Set the <strong>E Low</strong>, <strong>E Width</strong> and <strong>E High</strong> to be -0.5, 0.005 and 0.5. Again, these values
should be read from the contour plot.</li>
<li>Click <strong>Run</strong> and wait for the interface to finish processing. This will perform an energy
rebin before performing the <a class="reference internal" href="../algorithms/SofQW-v1.html#algm-sofqw"><em>SofQW</em></a> algorithm. The output workspace ends
with suffix _sqw and is called <tt class="docutils literal"><span class="pre">iris26176_graphite002_sqw</span></tt>.</li>
<li>Enter a list of workspace indices in the output options (e.g. 0-2,4,6-7) and then click
<strong>Plot Spectra</strong> to plot spectra from the output workspace.</li>
</ol>
<ol class="arabic simple" start="6">
<li>Click the down arrow on the <strong>Plot Spectra</strong> button, and select <strong>Plot Contour</strong>. This will
produce a contour plot of the output workspace.</li>
<li>Choose a default save directory and then click <strong>Save Result</strong> to save the output workspace.
The _sqw file is used in the <a class="reference internal" href="#moments-example-workflow"><em>Moments Example Workflow</em></a>.</li>
</ol>
</div>
</div>
<div class="section" id="moments">
<h2><a class="toc-backref" href="#id41">Moments</a><a class="headerlink" href="#moments" title="Permalink to this headline">¶</a></h2>
<p>This interface uses the <a class="reference internal" href="../algorithms/SofQWMoments-v1.html#algm-sofqwmoments"><em>SofQWMoments</em></a> algorithm to
calculate the <img class="math" src="../_images/math/a9cc4e6e1b32f5ad5e5976176a48a6ecdf3acf08.png" alt="n^{th}" style="vertical-align: 0px"/> moment of an <img class="math" src="../_images/math/af385cf70e9aa29bed9ee6fc11c442d61c12f402.png" alt="S(Q, \omega)" style="vertical-align: -4px"/> workspace created
by the SofQW tab.</p>
<div class="figure">
<a class="screenshot reference internal image-reference" href="../_images/Data_Reduction_tabMoments_widget.png"><img alt="../_images/Data_Reduction_tabMoments_widget.png" class="screenshot" src="../_images/Data_Reduction_tabMoments_widget.png" style="width: 500px;" /></a>
</div>
<div class="section" id="moments-options">
<h3><a class="toc-backref" href="#id42">Moments Options</a><a class="headerlink" href="#moments-options" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Input</dt>
<dd>Allows you to select an <img class="math" src="../_images/math/af385cf70e9aa29bed9ee6fc11c442d61c12f402.png" alt="S(Q, \omega)" style="vertical-align: -4px"/> file (<em>_sqw.nxs</em>) or workspace
(<em>_sqw</em>) as the input to the algorithm.</dd>
<dt>Scale By</dt>
<dd>Used to set an optional scale factor by which to scale the output of the
algorithm.</dd>
<dt>EMin &amp; EMax</dt>
<dd>Used to set the energy range of the sample that the algorithm will use for
processing.</dd>
<dt>Run</dt>
<dd>Runs the processing configured on the current tab.</dd>
<dt>Plot Spectra</dt>
<dd>If enabled, it will plot the selected workspace indices in the selected output workspace.</dd>
<dt>Save Result</dt>
<dd>If enabled the result will be saved as a NeXus file in the default save directory.</dd>
</dl>
</div>
<div class="section" id="moments-example-workflow">
<span id="id6"></span><h3><a class="toc-backref" href="#id43">Moments Example Workflow</a><a class="headerlink" href="#moments-example-workflow" title="Permalink to this headline">¶</a></h3>
<p>The Moments tab operates on <tt class="docutils literal"><span class="pre">_sqw</span></tt> files. The file used in this workflow is produced during
the <a class="reference internal" href="#sqw-example-workflow"><em>S(Q, w) Example Workflow</em></a>.</p>
<ol class="arabic simple">
<li>In the <strong>Input</strong> box, load the file named <tt class="docutils literal"><span class="pre">irs26176_graphite002_sqw</span></tt>. This will
automatically plot the data in the first mini-plot.</li>
<li>Drag the blue sliders on the mini-plot so they are x=-0.4 and x=0.4.</li>
<li>Click <strong>Run</strong> and wait for the interface to finish processing. This will run the
<a class="reference internal" href="../algorithms/SofQWMoments-v1.html#algm-sofqwmoments"><em>SofQWMoments</em></a> algorithm. The output workspace ends
with suffix _moments and is called <tt class="docutils literal"><span class="pre">iris26176_graphite002_moments</span></tt>.</li>
</ol>
<p><strong>Categories</strong>: <a class="reference external" href="categories/Interfaces.html">Interfaces</a> | <a class="reference external" href="categories/Indirect.html">Indirect</a></p>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="Indirect Data Analysis.html" title="Previous Chapter: Indirect Data Analysis"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Indirect Data An...</span>
    </a>
  </li>
  <li>
    <a href="Indirect Diffraction.html" title="Next Chapter: Indirect Diffraction"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Indirect Diffrac... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
      Last updated on 2019-11-18.<br/>
    </p>
  </div>
</footer>
  </body>
</html>