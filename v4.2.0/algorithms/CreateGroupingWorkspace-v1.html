<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>CreateGroupingWorkspace v1</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '4.2.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="" href="../index.html" />
    <link rel="next" title="CreateLeBailFitInput v1" href="CreateLeBailFitInput-v1.html" />
    <link rel="prev" title="CreateFloodWorkspace v1" href="CreateFloodWorkspace-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>4.2</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://docs.mantidproject.org/nightly/">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="creategroupingworkspace-v1">
<span id="algm-creategroupingworkspace"></span><span id="algm-creategroupingworkspace-v1"></span><h1>CreateGroupingWorkspace v1<a class="headerlink" href="#creategroupingworkspace-v1" title="Permalink to this headline">¶</a></h1>
<div class="figure align-right" id="index-0">
<a class="screenshot reference internal image-reference" href="../_images/CreateGroupingWorkspace-v1_dlg.png"><img alt="../_images/CreateGroupingWorkspace-v1_dlg.png" class="screenshot" src="../_images/CreateGroupingWorkspace-v1_dlg.png" style="width: 332px;" /></a>
<p class="caption"><strong>CreateGroupingWorkspace</strong> dialog.</p>
</div>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#summary" id="id1">Summary</a><ul>
<li><a class="reference internal" href="#see-also" id="id2">See Also</a></li>
</ul>
</li>
<li><a class="reference internal" href="#properties" id="id3">Properties</a></li>
<li><a class="reference internal" href="#description" id="id4">Description</a></li>
<li><a class="reference internal" href="#usage" id="id5">Usage</a></li>
<li><a class="reference internal" href="#source" id="id6">Source</a></li>
</ul>
</div>
<div class="section" id="summary">
<h2><a class="toc-backref" href="#id1">Summary</a><a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>Creates a new GroupingWorkspace using an instrument from one of: an input workspace, an instrument name, or an instrument IDF file.
Optionally uses bank names to create the groups.</p>
<div class="section" id="see-also">
<h3><a class="toc-backref" href="#id2">See Also</a><a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="DiffractionFocussing-v2.html#algm-diffractionfocussing"><em>DiffractionFocussing</em></a>, <a class="reference internal" href="LoadCalFile-v1.html#algm-loadcalfile"><em>LoadCalFile</em></a></p>
</div>
</div>
<div class="section" id="properties">
<h2><a class="toc-backref" href="#id3">Properties</a><a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="11%" />
<col width="3%" />
<col width="16%" />
<col width="1%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Direction</th>
<th class="head">Type</th>
<th class="head">Default</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>InputWorkspace</td>
<td>Input</td>
<td><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><em>MatrixWorkspace</em></a></td>
<td>&nbsp;</td>
<td>Optional: An input workspace with the instrument we want to use.</td>
</tr>
<tr class="row-odd"><td>InstrumentName</td>
<td>Input</td>
<td>string</td>
<td>&nbsp;</td>
<td>Optional: Name of the instrument to base the GroupingWorkspace on which to base the GroupingWorkspace.</td>
</tr>
<tr class="row-even"><td>InstrumentFilename</td>
<td>Input</td>
<td>string</td>
<td>&nbsp;</td>
<td>Optional: Path to the instrument definition file on which to base the GroupingWorkspace. Allowed extensions: [&#8216;.xml&#8217;]</td>
</tr>
<tr class="row-odd"><td>OldCalFilename</td>
<td>Input</td>
<td>string</td>
<td>&nbsp;</td>
<td>Optional: Path to the old-style .cal grouping/calibration file (multi-column ASCII). You must also specify the instrument. Allowed extensions: [&#8216;.cal&#8217;]</td>
</tr>
<tr class="row-even"><td>GroupNames</td>
<td>Input</td>
<td>string</td>
<td>&nbsp;</td>
<td>Optional: A string of the instrument component names to use as separate groups. Use / or , to separate multiple groups. If empty, then an empty GroupingWorkspace will be created.</td>
</tr>
<tr class="row-odd"><td>GroupDetectorsBy</td>
<td>Input</td>
<td>string</td>
<td>&nbsp;</td>
<td>Only used if GroupNames is empty. Allowed values: [&#8216;&#8217;, &#8216;All&#8217;, &#8216;Group&#8217;, &#8216;2_4Grouping&#8217;, &#8216;Column&#8217;, &#8216;bank&#8217;]</td>
</tr>
<tr class="row-even"><td>MaxRecursionDepth</td>
<td>Input</td>
<td>number</td>
<td>5</td>
<td>Number of levels to search into the instrument (default=5)</td>
</tr>
<tr class="row-odd"><td>FixedGroupCount</td>
<td>Input</td>
<td>number</td>
<td>0</td>
<td>Used to distribute the detectors of a given component into a fixed number of groups</td>
</tr>
<tr class="row-even"><td>ComponentName</td>
<td>Input</td>
<td>string</td>
<td>&nbsp;</td>
<td>Specify the instrument component to group into a fixed number of groups</td>
</tr>
<tr class="row-odd"><td>OutputWorkspace</td>
<td>Output</td>
<td>GroupingWorkspace</td>
<td>&nbsp;</td>
<td>An output GroupingWorkspace.</td>
</tr>
<tr class="row-even"><td>NumberGroupedSpectraResult</td>
<td>Output</td>
<td>number</td>
<td>&nbsp;</td>
<td>The number of spectra in groups</td>
</tr>
<tr class="row-odd"><td>NumberGroupsResult</td>
<td>Output</td>
<td>number</td>
<td>&nbsp;</td>
<td>The number of groups</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="description">
<h2><a class="toc-backref" href="#id4">Description</a><a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>A <tt class="docutils literal"><span class="pre">GroupingWorkspace</span></tt> is a simple workspace with one value per
detector pixel; this value corresponds to the group number that will
be used when focussing or summing another workspace.</p>
<p>This algorithm creates a blank <tt class="docutils literal"><span class="pre">GroupingWorkspace</span></tt>. It uses the
<tt class="docutils literal"><span class="pre">InputWorkspace</span></tt>, <tt class="docutils literal"><span class="pre">InstrumentName</span></tt>, OR <tt class="docutils literal"><span class="pre">InstrumentFilename</span></tt>
parameter to determine which Instrument to create.</p>
<p>If the <tt class="docutils literal"><span class="pre">OldCalFilename</span></tt> parameter is given, the <tt class="docutils literal"><span class="pre">.cal</span></tt> ASCII file
will be loaded to fill the group data.</p>
<p>If the <tt class="docutils literal"><span class="pre">GroupNames</span> <span class="pre">parameter</span></tt> is given, the names of banks matching
the comma-separated strings in the parameter will be used to
sequentially number the groups in the output.</p>
<p>If both the <tt class="docutils literal"><span class="pre">FixedGroupCount</span></tt> and <tt class="docutils literal"><span class="pre">ComponentName</span></tt> parameter are
given then the detectors for the given component will be grouped into
the number of groups specified, detectors will be left ungrouped in
the event that the number of detectors does not divide equally into
the number of groups.</p>
<p><tt class="docutils literal"><span class="pre">GroupDetectorsBy</span></tt> has five options</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">All</span></tt> create one group for the whole instrument</li>
<li><tt class="docutils literal"><span class="pre">bank</span></tt> Creates one group per instrument component that starts with the word <tt class="docutils literal"><span class="pre">bank</span></tt></li>
<li><tt class="docutils literal"><span class="pre">Group</span></tt> Creates one group per instrument component that starts with the word <tt class="docutils literal"><span class="pre">Group</span></tt>. POWGEN will create groups for <tt class="docutils literal"><span class="pre">North</span></tt> and <tt class="docutils literal"><span class="pre">South</span></tt>. SNAP will create groups for <tt class="docutils literal"><span class="pre">East</span></tt> and <tt class="docutils literal"><span class="pre">West</span></tt>.</li>
<li><tt class="docutils literal"><span class="pre">Column</span></tt> Creates one group per instrument component that starts with the word <tt class="docutils literal"><span class="pre">Column</span></tt></li>
<li><tt class="docutils literal"><span class="pre">2_4Grouping</span></tt> (SNAP only) creates one group of 4 columns of SNAP detectors and another with the remaining 2 columns. This grouping is used frequently in their reduction.</li>
</ul>
</div>
<div class="section" id="usage">
<h2><a class="toc-backref" href="#id5">Usage</a><a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p><strong>Example - CreateGroupingWorkspace for MUSR Instrument</strong></p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">To run these usage examples please first download the
<a class="reference external" href="https://sourceforge.net/projects/mantid/files/Sample%20Data/UsageData.zip/download">usage data</a>,
and add these to your path. In MantidPlot this is done using <a class="reference external" href="http://www.mantidproject.org/ManageUserDirectories">Manage User Directories</a>.</p>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># Run algorithm with instrument specified</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">CreateGroupingWorkspace</span><span class="p">(</span><span class="n">InstrumentName</span><span class="o">=</span><span class="s">&quot;MUSR&quot;</span><span class="p">)</span>

<span class="c"># Confirm instrument in grouping workspace.</span>
<span class="n">grouping</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">inst1</span> <span class="o">=</span> <span class="n">grouping</span><span class="o">.</span><span class="n">getInstrument</span><span class="p">()</span>
<span class="n">comp1</span> <span class="o">=</span> <span class="n">inst1</span><span class="o">.</span><span class="n">getComponentByName</span><span class="p">(</span><span class="s">&quot;MUSR&quot;</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;Instrument name = {}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">comp1</span><span class="o">.</span><span class="n">getName</span><span class="p">()))</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none"><div class="highlight"><pre>Instrument name = MUSR
</pre></div>
</div>
<p><strong>Example - CreateGroupingWorkspace from MUSR workspace</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># Create Workspace</span>
<span class="n">load_result</span> <span class="o">=</span> <span class="n">Load</span><span class="p">(</span><span class="s">&quot;MUSR00015189&quot;</span><span class="p">)</span>
<span class="n">group</span> <span class="o">=</span> <span class="n">load_result</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">ws_1</span> <span class="o">=</span> <span class="n">group</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

<span class="c"># Run algorithm with workspace</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">CreateGroupingWorkspace</span><span class="p">(</span><span class="n">InputWorkspace</span><span class="o">=</span><span class="n">ws_1</span><span class="p">)</span>

<span class="c"># Confirm instrument in grouping workspace.</span>
<span class="n">grouping</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">inst1</span> <span class="o">=</span> <span class="n">grouping</span><span class="o">.</span><span class="n">getInstrument</span><span class="p">()</span>
<span class="n">comp1</span> <span class="o">=</span> <span class="n">inst1</span><span class="o">.</span><span class="n">getComponentByName</span><span class="p">(</span><span class="s">&quot;MUSR&quot;</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;Instrument name = {}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">comp1</span><span class="o">.</span><span class="n">getName</span><span class="p">()))</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none"><div class="highlight"><pre>Instrument name = MUSR
</pre></div>
</div>
<p><strong>Example - CreateGroupingWorkspace from GEM Instrument Definition</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># Run algorithm with Instrument Definition File</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">CreateGroupingWorkspace</span><span class="p">(</span><span class="n">InstrumentFilename</span><span class="o">=</span><span class="s">&quot;GEM_Definition.xml&quot;</span><span class="p">)</span>

<span class="c"># Confirm instrument in grouping workspace.</span>
<span class="n">grouping</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">inst1</span> <span class="o">=</span> <span class="n">grouping</span><span class="o">.</span><span class="n">getInstrument</span><span class="p">()</span>
<span class="n">comp1</span> <span class="o">=</span> <span class="n">inst1</span><span class="o">.</span><span class="n">getComponentByName</span><span class="p">(</span><span class="s">&quot;GEM&quot;</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;Instrument name = {}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">comp1</span><span class="o">.</span><span class="n">getName</span><span class="p">()))</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none"><div class="highlight"><pre>Instrument name = GEM
</pre></div>
</div>
<p><strong>Example - CreateGroupingWorkspace for IRIS graphite component</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">grouping_ws</span><span class="p">,</span> <span class="n">spectra_count</span><span class="p">,</span> <span class="n">group_count</span> <span class="o">=</span> <span class="n">CreateGroupingWorkspace</span><span class="p">(</span><span class="n">InstrumentName</span><span class="o">=</span><span class="s">&#39;IRIS&#39;</span><span class="p">,</span> <span class="n">ComponentName</span><span class="o">=</span><span class="s">&#39;graphite&#39;</span><span class="p">,</span> <span class="n">FixedGroupCount</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="s">&quot;Number of grouped spectra: {}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">spectra_count</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;Number of groups: {}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">group_count</span><span class="p">))</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none"><div class="highlight"><pre>Number of grouped spectra: 50
Number of groups: 5
</pre></div>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/AlgorithmIndex.html">AlgorithmIndex</a> | <a class="reference external" href="categories/Utility/Workspaces.html">Utility\Workspaces</a> | <a class="reference external" href="categories/Transforms/Grouping.html">Transforms\Grouping</a></p>
</div>
<div class="section" id="source">
<h2><a class="toc-backref" href="#id6">Source</a><a class="headerlink" href="#source" title="Permalink to this headline">¶</a></h2>
<p>C++ source: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/242afc63eface10e47f5e9e6aeaed50e11e3eb4c/Framework/Algorithms/src/CreateGroupingWorkspace.cpp">CreateGroupingWorkspace.cpp</a> <em>(last modified: 2019-06-05)</em></p>
<p>C++ header: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/242afc63eface10e47f5e9e6aeaed50e11e3eb4c/Framework/Algorithms/inc/MantidAlgorithms/CreateGroupingWorkspace.h">CreateGroupingWorkspace.h</a> <em>(last modified: 2018-10-05)</em></p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="CreateFloodWorkspace-v1.html" title="Previous Chapter: CreateFloodWorkspace v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; CreateFloodWorks...</span>
    </a>
  </li>
  <li>
    <a href="CreateLeBailFitInput-v1.html" title="Next Chapter: CreateLeBailFitInput v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">CreateLeBailFitI... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
      Last updated on 2019-11-18.<br/>
    </p>
  </div>
</footer>
  </body>
</html>