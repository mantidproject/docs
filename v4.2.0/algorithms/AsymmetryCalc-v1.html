<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>AsymmetryCalc v1</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '4.2.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="" href="../index.html" />
    <link rel="next" title="Authenticate v1" href="Authenticate-v1.html" />
    <link rel="prev" title="ApplyTransmissionCorrection v1" href="ApplyTransmissionCorrection-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>4.2</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://docs.mantidproject.org/nightly/">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="asymmetrycalc-v1">
<span id="algm-asymmetrycalc"></span><span id="algm-asymmetrycalc-v1"></span><h1>AsymmetryCalc v1<a class="headerlink" href="#asymmetrycalc-v1" title="Permalink to this headline">¶</a></h1>
<div class="figure align-right" id="index-0">
<a class="screenshot reference internal image-reference" href="../_images/AsymmetryCalc-v1_dlg.png"><img alt="../_images/AsymmetryCalc-v1_dlg.png" class="screenshot" src="../_images/AsymmetryCalc-v1_dlg.png" style="width: 337px;" /></a>
<p class="caption"><strong>AsymmetryCalc</strong> dialog.</p>
</div>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#summary" id="id3">Summary</a><ul>
<li><a class="reference internal" href="#see-also" id="id4">See Also</a></li>
</ul>
</li>
<li><a class="reference internal" href="#properties" id="id5">Properties</a></li>
<li><a class="reference internal" href="#description" id="id6">Description</a></li>
<li><a class="reference internal" href="#usage" id="id7">Usage</a></li>
<li><a class="reference internal" href="#source" id="id8">Source</a></li>
</ul>
</div>
<div class="section" id="summary">
<h2><a class="toc-backref" href="#id3">Summary</a><a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>Calculates the asymmetry between two groups of detectors for a muon workspace.</p>
<div class="section" id="see-also">
<h3><a class="toc-backref" href="#id4">See Also</a><a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="CalculateMuonAsymmetry-v1.html#algm-calculatemuonasymmetry"><em>CalculateMuonAsymmetry</em></a></p>
</div>
</div>
<div class="section" id="properties">
<h2><a class="toc-backref" href="#id5">Properties</a><a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="11%" />
<col width="5%" />
<col width="28%" />
<col width="8%" />
<col width="48%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Direction</th>
<th class="head">Type</th>
<th class="head">Default</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>InputWorkspace</td>
<td>Input</td>
<td><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><em>MatrixWorkspace</em></a></td>
<td><em>Mandatory</em></td>
<td>Name of the input workspace</td>
</tr>
<tr class="row-odd"><td>OutputWorkspace</td>
<td>Output</td>
<td><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><em>MatrixWorkspace</em></a></td>
<td><em>Mandatory</em></td>
<td>The name of the workspace to be created as the output of the algorithm</td>
</tr>
<tr class="row-even"><td>ForwardSpectra</td>
<td>Input</td>
<td>int list</td>
<td>&nbsp;</td>
<td>The spectra numbers of the forward group</td>
</tr>
<tr class="row-odd"><td>BackwardSpectra</td>
<td>Input</td>
<td>int list</td>
<td>&nbsp;</td>
<td>The spectra numbers of the backward group</td>
</tr>
<tr class="row-even"><td>Alpha</td>
<td>Input</td>
<td>number</td>
<td>1</td>
<td>The balance parameter (default 1)</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="description">
<h2><a class="toc-backref" href="#id6">Description</a><a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>This algorithm is used to calculate the asymmetry for a Muon workspace.
It first groups the input workspace according to the spectra numbers
provided as <em>ForwardSpectra</em> and <em>BackwardSpectra</em>. If these properties
are not supplied, the algorithm assumes that the first spectrum in the
workspace is the forward group and the second one is the backward
group. It then calculates the asymmetry, <img class="math" src="../_images/math/565d5265a5771ce110bca359c85a858ec1d8e7e2.png" alt="A" style="vertical-align: 0px"/>, as:</p>
<div class="math">
<p><img src="../_images/math/f584d5dec094a2fc1f3103eee16dab165a14744c.png" alt="A = \frac{F-\alpha B}{F+\alpha B},"/></p>
</div><p>where <img class="math" src="../_images/math/68b0fc4683e0c8842b3a6cc6920f022f1c0db3fa.png" alt="F" style="vertical-align: 0px"/> is the front spectra, <img class="math" src="../_images/math/fd8a1eb9153f0dc573e5ebe023a59474dadd17ef.png" alt="B" style="vertical-align: 0px"/> is the back spectra
and <img class="math" src="../_images/math/23bf3bdd8ce99fdb75f17e8b49934c62e9cf0841.png" alt="\alpha" style="vertical-align: 0px"/> is the balance parameter <a class="footnote-reference" href="#id2" id="id1">[1]</a>.</p>
<p>The error in <img class="math" src="../_images/math/565d5265a5771ce110bca359c85a858ec1d8e7e2.png" alt="A" style="vertical-align: 0px"/>, <img class="math" src="../_images/math/8b9b56ae5c4e8407f7f98286dd3cf14e13d7ba09.png" alt="\sigma_A" style="vertical-align: -3px"/> is calculated using standard error propagation. First the errors in <img class="math" src="../_images/math/820326754c4b9deaacf74b734497a35aabc340eb.png" alt="F-\alpha B" style="vertical-align: 0px"/> and <img class="math" src="../_images/math/a4eb607764fb98dc5a5c55bdea4519fef56fcd8a.png" alt="F+\alpha B" style="vertical-align: -2px"/> are calculated
by adding the errors in <img class="math" src="../_images/math/68b0fc4683e0c8842b3a6cc6920f022f1c0db3fa.png" alt="F" style="vertical-align: 0px"/> and <img class="math" src="../_images/math/fd8a1eb9153f0dc573e5ebe023a59474dadd17ef.png" alt="B" style="vertical-align: 0px"/> in quadrature (<img class="math" src="../_images/math/23bf3bdd8ce99fdb75f17e8b49934c62e9cf0841.png" alt="\alpha" style="vertical-align: 0px"/> is assumed to have no error);</p>
<div class="math">
<p><img src="../_images/math/217edbb9a634e9cf5eaf3f34bc1796080e9e670c.png" alt="\sigma_{F + \alpha B} = \sigma_{F - \alpha B} = \sqrt{ \sigma_F^2 + \alpha^2 \sigma_B^2  },"/></p>
</div><p>Then the error in the asymmetry is given by;</p>
<div class="math">
<p><img src="../_images/math/3da12bc84c8cd79c42f2645bf42bde6c9f24b827.png" alt="\sigma_A = A \sqrt{ \left( \frac{\sigma_{F + \alpha B} }{F + \alpha B} \right)^2 + \left( \frac{\sigma_{F- \alpha B}}{ F - \alpha B} \right)^2    },"/></p>
</div><p>using the fact that the errors on counts <img class="math" src="../_images/math/5dd48391b88dbb13f4154204b8c56df0bd8ce74b.png" alt="F,B" style="vertical-align: -4px"/> can be taken to be Poisson errors (<img class="math" src="../_images/math/8652dace53e610f138d742af5303a48db3c4cec4.png" alt="\sigma_{F} = \sqrt{F}" style="vertical-align: -3px"/>, <img class="math" src="../_images/math/286098e7a5f328b8b1058d80d080e1e5dac88264.png" alt="\sigma_{B} = \sqrt{B}" style="vertical-align: -3px"/>), this can be simplified to</p>
<div class="math">
<p><img src="../_images/math/ea117d6de5e17ab665375848caa1acb1e819255e.png" alt="\sigma_A = \frac{\sqrt{ F + \alpha^2 B} \sqrt{1 + A^2} }{F + \alpha B}."/></p>
</div><p>If any bins have <img class="math" src="../_images/math/203acf50d0fd16379fd851f012993016bf413d0a.png" alt="F=B=0" style="vertical-align: 0px"/>, then the result is <img class="math" src="../_images/math/5759b7571ee4b7ba4e075f24a46a38e5534b2260.png" alt="A=0.0, \sigma_A =1.0" style="vertical-align: -4px"/>.</p>
<p>The output workspace contains one set of data for the time of flight:
the asymmetry and the asymmetry errors.</p>
<table class="docutils footnote" frame="void" id="id2" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>See <a class="reference internal" href="AlphaCalc-v1.html#algm-alphacalc"><em>AlphaCalc v1</em></a></td></tr>
</tbody>
</table>
</div>
<div class="section" id="usage">
<h2><a class="toc-backref" href="#id7">Usage</a><a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p><strong>Example - Calculating asymmetry:</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">12</span><span class="p">]</span>
<span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]</span> <span class="o">*</span> <span class="mi">2</span>
<span class="n">e</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="mi">2</span>
<span class="nb">input</span> <span class="o">=</span> <span class="n">CreateWorkspace</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">NSpec</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

<span class="n">asymmetry</span> <span class="o">=</span> <span class="n">AsymmetryCalc</span><span class="p">(</span><span class="nb">input</span><span class="p">,</span> <span class="n">Alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="s">&#39;Asymmetry: {}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">asymmetry</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)))</span>
<span class="k">print</span><span class="p">(</span><span class="s">&#39;Errors: {}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">asymmetry</span><span class="o">.</span><span class="n">readE</span><span class="p">(</span><span class="mi">0</span><span class="p">)))</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none"><div class="highlight"><pre>Asymmetry: [-0.2         0.6        -0.33333333]
Errors: [ 0.5396295   0.69971423  0.28688766]
</pre></div>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/AlgorithmIndex.html">AlgorithmIndex</a> | <a class="reference external" href="categories/Muon.html">Muon</a></p>
</div>
<div class="section" id="source">
<h2><a class="toc-backref" href="#id8">Source</a><a class="headerlink" href="#source" title="Permalink to this headline">¶</a></h2>
<p>C++ source: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/242afc63eface10e47f5e9e6aeaed50e11e3eb4c/Framework/Muon/src/AsymmetryCalc.cpp">AsymmetryCalc.cpp</a> <em>(last modified: 2019-06-05)</em></p>
<p>C++ header: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/242afc63eface10e47f5e9e6aeaed50e11e3eb4c/Framework/Muon/inc/MantidMuon/AsymmetryCalc.h">AsymmetryCalc.h</a> <em>(last modified: 2019-10-28)</em></p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="ApplyTransmissionCorrection-v1.html" title="Previous Chapter: ApplyTransmissionCorrection v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; ApplyTransmissio...</span>
    </a>
  </li>
  <li>
    <a href="Authenticate-v1.html" title="Next Chapter: Authenticate v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Authenticate v1 &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
      Last updated on 2019-11-18.<br/>
    </p>
  </div>
</footer>
  </body>
</html>