<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>MedianDetectorTest v1</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.11.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="" href="../index.html" />
    <link rel="next" title="MergeCalFiles v1" href="MergeCalFiles-v1.html" />
    <link rel="prev" title="MedianBinWidth v1" href="MedianBinWidth-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>3.11</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://www.mantidproject.org/Documentation">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="mediandetectortest-v1">
<span id="algm-mediandetectortest"></span><span id="algm-mediandetectortest-v1"></span><h1>MedianDetectorTest v1<a class="headerlink" href="#mediandetectortest-v1" title="Permalink to this headline">¶</a></h1>
<div class="figure align-right" id="index-0">
<a class="screenshot reference internal image-reference" href="../_images/MedianDetectorTest-v1_dlg.png"><img alt="../_images/MedianDetectorTest-v1_dlg.png" class="screenshot" src="../_images/MedianDetectorTest-v1_dlg.png" style="width: 216px;" /></a>
<p class="caption"><strong>MedianDetectorTest</strong> dialog.</p>
</div>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#summary" id="id1">Summary</a></li>
<li><a class="reference internal" href="#properties" id="id2">Properties</a></li>
<li><a class="reference internal" href="#description" id="id3">Description</a><ul>
<li><a class="reference internal" href="#childalgorithms-used" id="id4">ChildAlgorithms used</a></li>
</ul>
</li>
<li><a class="reference internal" href="#source" id="id5">Source</a></li>
</ul>
</div>
<div class="section" id="summary">
<h2><a class="toc-backref" href="#id1">Summary</a><a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>Identifies histograms and their detectors that have total numbers of counts over a user defined maximum or less than the user define minimum.</p>
</div>
<div class="section" id="properties">
<h2><a class="toc-backref" href="#id2">Properties</a><a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="9%" />
<col width="3%" />
<col width="16%" />
<col width="5%" />
<col width="67%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Direction</th>
<th class="head">Type</th>
<th class="head">Default</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>InputWorkspace</td>
<td>Input</td>
<td><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><em>MatrixWorkspace</em></a></td>
<td><em>Mandatory</em></td>
<td>Name of the input workspace</td>
</tr>
<tr class="row-odd"><td>OutputWorkspace</td>
<td>Output</td>
<td><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><em>MatrixWorkspace</em></a></td>
<td><em>Mandatory</em></td>
<td>A MaskWorkspace where 0 denotes a masked spectra. Any spectra containinga zero is also masked on the output</td>
</tr>
<tr class="row-even"><td>LevelsUp</td>
<td>Input</td>
<td>number</td>
<td>0</td>
<td>Levels above pixel that will be used to compute the median. If no level is specified, or 0, the median is over the whole instrument.</td>
</tr>
<tr class="row-odd"><td>SignificanceTest</td>
<td>Input</td>
<td>number</td>
<td>3.3</td>
<td>Error criterion as a multiple of error bar i.e. to fail the test, the magnitude of the difference with respect to the median value must also exceed this number of error bars</td>
</tr>
<tr class="row-even"><td>LowThreshold</td>
<td>Input</td>
<td>number</td>
<td>0.1</td>
<td>Lower acceptable bound as fraction of median value</td>
</tr>
<tr class="row-odd"><td>HighThreshold</td>
<td>Input</td>
<td>number</td>
<td>1.5</td>
<td>Upper acceptable bound as fraction of median value</td>
</tr>
<tr class="row-even"><td>LowOutlier</td>
<td>Input</td>
<td>number</td>
<td>0.01</td>
<td>Lower bound defining outliers as fraction of median value</td>
</tr>
<tr class="row-odd"><td>HighOutlier</td>
<td>Input</td>
<td>number</td>
<td>100</td>
<td>Upper bound defining outliers as fraction of median value</td>
</tr>
<tr class="row-even"><td>ExcludeZeroesFromMedian</td>
<td>Input</td>
<td>boolean</td>
<td>False</td>
<td>If false (default) zeroes will be included in the median calculation, otherwise they will not be included but they will be left unmasked</td>
</tr>
<tr class="row-odd"><td>StartWorkspaceIndex</td>
<td>Input</td>
<td>number</td>
<td>0</td>
<td>The index number of the first spectrum to include in the calculation (default 0)</td>
</tr>
<tr class="row-even"><td>EndWorkspaceIndex</td>
<td>Input</td>
<td>number</td>
<td><em>Optional</em></td>
<td>The index number of the last spectrum to include in the calculation (default the last histogram)</td>
</tr>
<tr class="row-odd"><td>RangeLower</td>
<td>Input</td>
<td>number</td>
<td><em>Optional</em></td>
<td>No bin with a boundary at an x value less than this will be included in the summation used to decide if a detector is &#8216;bad&#8217; (default: the start of each histogram)</td>
</tr>
<tr class="row-even"><td>RangeUpper</td>
<td>Input</td>
<td>number</td>
<td><em>Optional</em></td>
<td>No bin with a boundary at an x value higher than this value will be included in the summation used to decide if a detector is &#8216;bad&#8217; (default: the end of each histogram)</td>
</tr>
<tr class="row-odd"><td>CorrectForSolidAngle</td>
<td>Input</td>
<td>boolean</td>
<td>False</td>
<td>Flag to correct for solid angle efficiency. False by default.</td>
</tr>
<tr class="row-even"><td>NumberOfFailures</td>
<td>Output</td>
<td>number</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="description">
<h2><a class="toc-backref" href="#id3">Description</a><a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>If instrument geometry information is available the
<a class="reference internal" href="SolidAngle-v1.html#algm-solidangle"><em>SolidAngle v1</em></a> algorithm is used to calculate the number of
counts per unit solid angle, otherwise numbers of counts are used
without correction. First the median number of counts in all the bins is
calculated. Then the ratio of the total number of counts and the median
number is calculated for each histogram. This ratio is compared against
the user defined upper and lower thresholds and if the ratio is outside
the limits the statistical significance test is done.</p>
<p>In the statistical significance test the difference between the number
of counts in each spectrum and the median number is compared to the
spectrum&#8217;s error value. Any spectra where the ratio of the its deviation
from the mean and the its error is less than the value of the property
SignificanceTest will not be labelled bad. This test is particularly
important when the number of counts is low, for example when examining
the low count &#8220;background&#8221; parts of spectra.</p>
<p>Optionally, some might want to do median on a tube, or a bank. Fot that,
use the LevelsUp input. For example, in the CNCS instrument, the
detector is called a pixel. The parent of a pixel is a tube, while an
eightpack contains 8 tubes. To calculate the median of a tube, use
LevelsUp=1, for an eightpack use LevelsUp=2. LevelsUp=0 will calculate
the median over the whole instrument.</p>
<p>The output workspace contains a MaskWorkspace where those spectra that
fail the tests are masked and those that pass them are assigned a single
positive value.</p>
<div class="section" id="childalgorithms-used">
<h3><a class="toc-backref" href="#id4">ChildAlgorithms used</a><a class="headerlink" href="#childalgorithms-used" title="Permalink to this headline">¶</a></h3>
<p>Uses the <a class="reference internal" href="SolidAngle-v1.html#algm-solidangle"><em>SolidAngle v1</em></a>, <a class="reference internal" href="Integration-v1.html#algm-integration"><em>Integration v1</em></a> and
<a class="reference internal" href="ConvertToDistribution-v1.html#algm-converttodistribution"><em>ConvertToDistribution v1</em></a> algorithms.</p>
<p><strong>Categories</strong>: <a class="reference external" href="categories/Algorithms.html">Algorithms</a> | <a class="reference external" href="categories/Diagnostics.html">Diagnostics</a></p>
</div>
</div>
<div class="section" id="source">
<h2><a class="toc-backref" href="#id5">Source</a><a class="headerlink" href="#source" title="Permalink to this headline">¶</a></h2>
<p>C++ source: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/2f15ec50de5065d8b6a032a915ac44d99f4a8835/Framework/Algorithms/src/MedianDetectorTest.cpp">MedianDetectorTest.cpp</a></p>
<p>C++ header: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/2f15ec50de5065d8b6a032a915ac44d99f4a8835/Framework/Algorithms/inc/MantidAlgorithms/MedianDetectorTest.h">MedianDetectorTest.h</a></p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="MedianBinWidth-v1.html" title="Previous Chapter: MedianBinWidth v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; MedianBinWidth v...</span>
    </a>
  </li>
  <li>
    <a href="MergeCalFiles-v1.html" title="Next Chapter: MergeCalFiles v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">MergeCalFiles v1 &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>