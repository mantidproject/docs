<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>MaxEnt v1</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.11.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="" href="../index.html" />
    <link rel="next" title="MaxMin v1" href="MaxMin-v1.html" />
    <link rel="prev" title="Max v1" href="Max-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>3.11</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://www.mantidproject.org/Documentation">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="maxent-v1">
<span id="algm-maxent"></span><span id="algm-maxent-v1"></span><h1>MaxEnt v1<a class="headerlink" href="#maxent-v1" title="Permalink to this headline">¶</a></h1>
<div class="figure align-right" id="index-0">
<a class="screenshot reference internal image-reference" href="../_images/MaxEnt-v1_dlg.png"><img alt="../_images/MaxEnt-v1_dlg.png" class="screenshot" src="../_images/MaxEnt-v1_dlg.png" style="width: 191px;" /></a>
<p class="caption"><strong>MaxEnt</strong> dialog.</p>
</div>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#summary" id="id1">Summary</a></li>
<li><a class="reference internal" href="#properties" id="id2">Properties</a></li>
<li><a class="reference internal" href="#description" id="id3">Description</a></li>
<li><a class="reference internal" href="#output-workspaces" id="id4">Output Workspaces</a></li>
<li><a class="reference internal" href="#usage" id="id5">Usage</a></li>
<li><a class="reference internal" href="#positive-images" id="id6">Positive Images</a></li>
<li><a class="reference internal" href="#complex-images" id="id7">Complex Images</a></li>
<li><a class="reference internal" href="#increasing-the-number-of-points-in-the-image" id="id8">Increasing the number of points in the image</a></li>
<li><a class="reference internal" href="#references" id="id9">References</a></li>
<li><a class="reference internal" href="#source" id="id10">Source</a></li>
</ul>
</div>
<div class="section" id="summary">
<h2><a class="toc-backref" href="#id1">Summary</a><a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>Runs Maximum Entropy method on every spectrum of an input workspace. It currently works for the case where data and image are related by a 1D Fourier transform.</p>
</div>
<div class="section" id="properties">
<h2><a class="toc-backref" href="#id2">Properties</a><a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="5%" />
<col width="2%" />
<col width="11%" />
<col width="3%" />
<col width="78%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Direction</th>
<th class="head">Type</th>
<th class="head">Default</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>InputWorkspace</td>
<td>Input</td>
<td><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><em>MatrixWorkspace</em></a></td>
<td><em>Mandatory</em></td>
<td>An input workspace.</td>
</tr>
<tr class="row-odd"><td>ComplexData</td>
<td>Input</td>
<td>boolean</td>
<td>False</td>
<td>If true, the input data is assumed to be complex and the input workspace is expected to have an even number of histograms (2N). Spectrum numbers S and S+N are assumed to be the real and imaginary part of the complex signal respectively.</td>
</tr>
<tr class="row-even"><td>ComplexImage</td>
<td>Input</td>
<td>boolean</td>
<td>True</td>
<td>If true, the algorithm will use complex images for the calculations. This is the recommended option when there is no prior knowledge about the image. If the image is known to be real, this option can be set to false and the algorithm will only consider the real part for calculations.</td>
</tr>
<tr class="row-odd"><td>PositiveImage</td>
<td>Input</td>
<td>boolean</td>
<td>False</td>
<td>If true, the reconstructed image is only allowed to take positive values. It can take negative values otherwise. This option defines the entropy formula that will be used for the calculations (see next section for more details).</td>
</tr>
<tr class="row-even"><td>AutoShift</td>
<td>Input</td>
<td>boolean</td>
<td>False</td>
<td>Automatically calculate and apply phase shift. Zero on the X axis is assumed to be in the first bin. If it is not, setting this property will automatically correct for this.</td>
</tr>
<tr class="row-odd"><td>ResolutionFactor</td>
<td>Input</td>
<td>m</td>
<td>1</td>
<td>An integer number indicating the factor by which the number of points will be increased in the image and reconstructed data</td>
</tr>
<tr class="row-even"><td>A</td>
<td>Input</td>
<td>number</td>
<td>0.4</td>
<td>A maximum entropy constant</td>
</tr>
<tr class="row-odd"><td>ChiTarget</td>
<td>Input</td>
<td>number</td>
<td>100</td>
<td>Target value of Chi-square</td>
</tr>
<tr class="row-even"><td>ChiEps</td>
<td>Input</td>
<td>number</td>
<td>0.001</td>
<td>Required precision for Chi-square</td>
</tr>
<tr class="row-odd"><td>DistancePenalty</td>
<td>Input</td>
<td>number</td>
<td>0.1</td>
<td>Distance penalty applied to the current image at each iteration.</td>
</tr>
<tr class="row-even"><td>MaxAngle</td>
<td>Input</td>
<td>number</td>
<td>0.05</td>
<td>Maximum degree of non-parallelism between S and C.</td>
</tr>
<tr class="row-odd"><td>MaxIterations</td>
<td>Input</td>
<td>m</td>
<td>20000</td>
<td>Maximum number of iterations.</td>
</tr>
<tr class="row-even"><td>AlphaChopIterations</td>
<td>Input</td>
<td>m</td>
<td>500</td>
<td>Maximum number of iterations in alpha chop.</td>
</tr>
<tr class="row-odd"><td>EvolChi</td>
<td>Output</td>
<td><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><em>MatrixWorkspace</em></a></td>
<td><em>Mandatory</em></td>
<td>Output workspace containing the evolution of Chi-sq.</td>
</tr>
<tr class="row-even"><td>EvolAngle</td>
<td>Output</td>
<td><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><em>MatrixWorkspace</em></a></td>
<td><em>Mandatory</em></td>
<td>Output workspace containing the evolution of non-paralellism between S and C.</td>
</tr>
<tr class="row-odd"><td>ReconstructedImage</td>
<td>Output</td>
<td><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><em>MatrixWorkspace</em></a></td>
<td><em>Mandatory</em></td>
<td>The output workspace containing the reconstructed image.</td>
</tr>
<tr class="row-even"><td>ReconstructedData</td>
<td>Output</td>
<td><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><em>MatrixWorkspace</em></a></td>
<td><em>Mandatory</em></td>
<td>The output workspace containing the reconstructed data.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="description">
<h2><a class="toc-backref" href="#id3">Description</a><a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>The maximum entropy method (MEM) is used as a signal processing technique for reconstructing
images from noisy data. It selects a single
image from the many images which fit the data with the same value of the statistic,
<img class="math" src="../_images/math/4dcb4a08df7a8b829443c0b6705fa279c77218c3.png" alt="\chi^2" style="vertical-align: -4px"/>. The maximum entropy method selects from this <em>feasible set</em> of images, the one which
has minimum information (maximum entropy).
More specifically, the algorithm maximizes the entropy <img class="math" src="../_images/math/ac03014cb17bc3e6d0dfeecf14622691de6b9a23.png" alt="S\left(x\right)" style="vertical-align: -4px"/> subject to the constraint:</p>
<div class="math">
<p><img src="../_images/math/6988cdf077d241e0d7b95d6f09132f4a6aef56fa.png" alt="\chi^2 = \sum_m \frac{\left(d_m - d_m^c\right)^2}{\sigma_m^2} \leq C_{target}"/></p>
</div><p>where <img class="math" src="../_images/math/89eea7a0bfe4a5cdfdda8c0cc6ea0d4b90b7cc73.png" alt="d_m" style="vertical-align: -3px"/> are the experimental data, <img class="math" src="../_images/math/4ef82dbfaa61b89f474c51a8cd3c4d6c4802cb54.png" alt="\sigma_m" style="vertical-align: -3px"/> the associated errors, and <img class="math" src="../_images/math/e718106c24d632050653264e7a8fee340d76473f.png" alt="d_m^c" style="vertical-align: -5px"/>
the calculated or reconstructed data. The image is a set of numbers
<img class="math" src="../_images/math/9dfdd52e71c31a059552d74d202e28572f08e583.png" alt="\{x_0, x_1, \dots, x_N\}" style="vertical-align: -5px"/> related to the measured data via a 1D Fourier transform:</p>
<div class="math">
<p><img src="../_images/math/a01a94de73ec38606232d596c2c1c4462f837ed2.png" alt="d_m = \sum_{j=0}^{N-1} x_j e^{i 2\pi m j / N}"/></p>
</div><p>Note that even for real input data the reconstructed image can be complex, which means that both the real and
imaginary parts will be taken into account for the calculations. This is the default behaviour, which can be
changed by setting the input property <em>ComplexImage</em> to <em>False</em>. Note that the algorithm will fail to converge
if the image is complex (i.e. the data does not satisfy Friedel&#8217;s law) and this option is set to <em>False</em>.
For this reason, it is recomended to use the default when no prior knowledge is available.</p>
<p>The entropy is defined on the image <img class="math" src="../_images/math/fa952c1d14608b1840a95a3c48c3db764c61e3d8.png" alt="\{x_j\}" style="vertical-align: -6px"/> as:</p>
<div class="math">
<p><img src="../_images/math/6de59187f0381a62bb0fc6d9fb71c86e94f7f2cf.png" alt="S = \sum_j \left[ \sqrt{x_j^2 + A^2} - x_j \sinh^{-1}\left(\frac{x_j}{A}\right) \right]"/></p>
</div><p>or</p>
<div class="math">
<p><img src="../_images/math/cbd4c581d0ab5d491dc10bc8462c0173ee8ba6be.png" alt="S = -\sum_j x_j \left(\log(x_j/A)-1\right)"/></p>
</div><p>where <img class="math" src="../_images/math/565d5265a5771ce110bca359c85a858ec1d8e7e2.png" alt="A" style="vertical-align: 0px"/> is a constant and the formula which is used depends on the input property <em>PositiveImage</em>: when it is
set to <em>False</em> the first equation will be applied, whereas the latter expresion will be used if this property
is set to <em>True</em>. The sensitive of the reconstructed image to reconstructed
image will vary depending on the data. In general a smaller value would preduce a
sharper image. See section 4.7 in Ref. [1] for recommended strategy to selected <img class="math" src="../_images/math/565d5265a5771ce110bca359c85a858ec1d8e7e2.png" alt="A" style="vertical-align: 0px"/>.</p>
<p>The implementation used to find the solution where the entropy is maximized
subject to the constraint in <img class="math" src="../_images/math/4dcb4a08df7a8b829443c0b6705fa279c77218c3.png" alt="\chi^2" style="vertical-align: -4px"/> follows the approach by Skilling &amp; Bryan [2], which is an
algorithm that is not explicitly using Lagrange multiplier. Instead, they
construct a subspace from a set of <em>search directions</em> to approach the maximum entropy solution. Initially,
the image <img class="math" src="../_images/math/86e784d473f5fc5713b6ad4bea7af624b76966c2.png" alt="x" style="vertical-align: 0px"/> is set to the flat background <img class="math" src="../_images/math/565d5265a5771ce110bca359c85a858ec1d8e7e2.png" alt="A" style="vertical-align: 0px"/> and the search directions are constructed
using the gradients of <img class="math" src="../_images/math/c6263458cb30b8d89520cf776bc3431879c1f0b5.png" alt="S" style="vertical-align: 0px"/> and <img class="math" src="../_images/math/4dcb4a08df7a8b829443c0b6705fa279c77218c3.png" alt="\chi^2" style="vertical-align: -4px"/>:</p>
<div class="math">
<p><img src="../_images/math/659dc09f18352b6a08454640b4219224ebbd8051.png" alt="\mathbf{e}_1 = \left|x\right|\left(\nabla S\right)"/></p>
</div><div class="math">
<p><img src="../_images/math/837fa96eb819130bea2e1d0edc1c87143592c550.png" alt="\mathbf{e}_2 = \left|x\right|\left(\nabla \chi^2\right)"/></p>
</div><p>where <img class="math" src="../_images/math/a64e283c04580ab6b79cbf1f51569b0bc8c8d8eb.png" alt="a\left(b\right)" style="vertical-align: -4px"/> stands for a componentwise multiplication between vectors
<img class="math" src="../_images/math/d7bd06a860633f7d8ead0d84fbb30ac7e88b558b.png" alt="a" style="vertical-align: 0px"/> and <img class="math" src="../_images/math/fdcf4bd764a50e69250d8e0a9e2212d63e8ecfe0.png" alt="b" style="vertical-align: 0px"/>. The algorithm next uses
a quadratic approximation to determine the increment <img class="math" src="../_images/math/629e392e42ea9cee455ddb33a84761224b10adad.png" alt="\delta \mathbf{x}" style="vertical-align: -1px"/> that <em>moves</em> the image
one step closer to the solution:</p>
<div class="math">
<p><img src="../_images/math/90ca8019743e2569e69ed25760699ddb78faf648.png" alt="\mathbf{x} = \mathbf{x} + \delta \mathbf{x}"/></p>
</div></div>
<div class="section" id="output-workspaces">
<h2><a class="toc-backref" href="#id4">Output Workspaces</a><a class="headerlink" href="#output-workspaces" title="Permalink to this headline">¶</a></h2>
<p>There are four output workspaces: <em>ReconstructedImage</em> and <em>ReconstructedData</em> contain the image and
calculated data respectively, and <em>EvolChi</em> and <em>EvolAngle</em> record the algorithm&#8217;s evolution.
<em>ReconstructedData</em> can be used to check that the calculated data approaches the experimental,
measured data, and <em>ReconstructedImage</em> corresponds to its Fourier transform. If the input data are real they
contain twice the original number of spectra, as the Fourier transform will be a complex signal
in general. The real and imaginary parts are organized as follows (see Table 1): assuming your input workspace has
<img class="math" src="../_images/math/b6e6bf2d998d1a33904141106a453324f9c97b35.png" alt="M" style="vertical-align: 0px"/> spectra, the real part of the reconstructed spectrum <img class="math" src="../_images/math/e18de4c737a19a61a76f13c0a52a3d99cbe7748c.png" alt="s" style="vertical-align: 0px"/> corresponds to
spectrum <img class="math" src="../_images/math/e18de4c737a19a61a76f13c0a52a3d99cbe7748c.png" alt="s" style="vertical-align: 0px"/> in the output workspaces <em>ReconstructedImage</em> and <em>ReconstructedData</em>, while the imaginary part can be found in spectrum <img class="math" src="../_images/math/8ffd241d0a3f3a2dd30720d547f31e5ed056291a.png" alt="s+M" style="vertical-align: -1px"/>.</p>
<p>When the input data are complex, the input workspace is expected to have <img class="math" src="../_images/math/b74132ce7add74ce5d40e260e5c190eecdad663b.png" alt="2M" style="vertical-align: 0px"/> spectra, where
real and imaginary parts of input <img class="math" src="../_images/math/e18de4c737a19a61a76f13c0a52a3d99cbe7748c.png" alt="s" style="vertical-align: 0px"/>, are arranged in spectra <img class="math" src="../_images/math/0f3fc85aac56587f0d5b97a4d1d09252cee66f61.png" alt="(s, s+M)" style="vertical-align: -4px"/> respectively. In other words,
<em>ReconstructedData</em> and <em>ReconstructedImage</em> will contain <img class="math" src="../_images/math/b74132ce7add74ce5d40e260e5c190eecdad663b.png" alt="2M" style="vertical-align: 0px"/> spectra, where spectra
<img class="math" src="../_images/math/0f3fc85aac56587f0d5b97a4d1d09252cee66f61.png" alt="(s, s+M)" style="vertical-align: -4px"/> correspond to the real and imaginary parts reconstructed from the input signal at
<img class="math" src="../_images/math/0f3fc85aac56587f0d5b97a4d1d09252cee66f61.png" alt="(s, s+M)" style="vertical-align: -4px"/> in the input workspace (see Table 2 below).</p>
<p>The workspaces <em>EvolChi</em> and <em>EvolAngle</em> record the evolution of <img class="math" src="../_images/math/4dcb4a08df7a8b829443c0b6705fa279c77218c3.png" alt="\chi^2" style="vertical-align: -4px"/> and the angle (or
non-parallelism) between <img class="math" src="../_images/math/cafb07379b9b8d5a9e0e9b0010e675b60bffe092.png" alt="\nabla S" style="vertical-align: -1px"/> and <img class="math" src="../_images/math/b23a061c3db6be7aeac3553ce8d01b459676d577.png" alt="\nabla \chi^2" style="vertical-align: -4px"/>. Note that the algorithm runs
until a solution is found, and that an image is considered to be a true maximum entropy
solution when the following two conditions are met simultaneously:</p>
<div class="math">
<p><img src="../_images/math/bf1efa3b753f14d5ac30a727ed56b0ec34ddec51.png" alt="\chi^2_{Target} - \chi^2 &lt; \epsilon_1, \qquad \frac{1}{2} \left| \frac{\nabla S}{\left|\nabla S\right|} - \frac{\nabla \chi^2}{\left|\nabla \chi^2\right|} \right| &lt; \epsilon_2"/></p>
</div><p>While one of these conditions is not satisfied the algorithm keeps running until it reaches the maximum
number of iterations. When the maximum number of iterations is reached, the last
reconstructed image and its corresponding calculated data are returned, even if they do not correspond to
a true maximum entropy solution satisfying the conditions above. In this way, the user can check by inspecting
the output workspaces whether the algorithm was evolving towards the correct solution or not.
On the other hand, the user must always check the validity of the solution by inspecting <em>EvolChi</em> and <em>EvolAngle</em>,
whose values will be set to zero once the true maximum entropy solution is found.</p>
<table border="1" class="docutils">
<caption>Table 1. Output workspaces for a real input workspace with M histograms and N bins</caption>
<colgroup>
<col width="5%" />
<col width="8%" />
<col width="4%" />
<col width="83%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Workspace</th>
<th class="head">Number of histograms</th>
<th class="head">Number of bins</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>EvolChi</td>
<td>M</td>
<td>MaxIterations</td>
<td>Evolution of <img class="math" src="../_images/math/4dcb4a08df7a8b829443c0b6705fa279c77218c3.png" alt="\chi^2" style="vertical-align: -4px"/> until the solution is found. Then all values are set to zero.</td>
</tr>
<tr class="row-odd"><td>EvolAngle</td>
<td>M</td>
<td>MaxIterations</td>
<td>Evolution of the angle between <img class="math" src="../_images/math/cafb07379b9b8d5a9e0e9b0010e675b60bffe092.png" alt="\nabla S" style="vertical-align: -1px"/> and <img class="math" src="../_images/math/b23a061c3db6be7aeac3553ce8d01b459676d577.png" alt="\nabla \chi^2" style="vertical-align: -4px"/>, until the solution is found. Then all values are set to zero.</td>
</tr>
<tr class="row-even"><td>ReconstructedImage</td>
<td>2M</td>
<td>N</td>
<td>For spectrum <img class="math" src="../_images/math/e18de4c737a19a61a76f13c0a52a3d99cbe7748c.png" alt="s" style="vertical-align: 0px"/> in the input workspace, the reconstructed image is stored in spectra <img class="math" src="../_images/math/e18de4c737a19a61a76f13c0a52a3d99cbe7748c.png" alt="s" style="vertical-align: 0px"/> (real part) and <img class="math" src="../_images/math/8ffd241d0a3f3a2dd30720d547f31e5ed056291a.png" alt="s+M" style="vertical-align: -1px"/> (imaginary part)</td>
</tr>
<tr class="row-odd"><td>ReconstructedData</td>
<td>2M</td>
<td>N</td>
<td>For spectrum <img class="math" src="../_images/math/e18de4c737a19a61a76f13c0a52a3d99cbe7748c.png" alt="s" style="vertical-align: 0px"/> in the input workspace, the reconstructed data are stored in spectrum <img class="math" src="../_images/math/e18de4c737a19a61a76f13c0a52a3d99cbe7748c.png" alt="s" style="vertical-align: 0px"/> (real part) and <img class="math" src="../_images/math/8ffd241d0a3f3a2dd30720d547f31e5ed056291a.png" alt="s+M" style="vertical-align: -1px"/> (imaginary part). Note that although the input is real, the imaginary part is recorded for debugging purposes, it should be zero for all data points.</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<caption>Table 2. Output workspaces for a complex input workspace with 2M histograms and N bins.</caption>
<colgroup>
<col width="9%" />
<col width="14%" />
<col width="7%" />
<col width="71%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Workspace</th>
<th class="head">Number of histograms</th>
<th class="head">Number of bins</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>EvolChi</td>
<td>M</td>
<td>MaxIterations</td>
<td>Evolution of <img class="math" src="../_images/math/4dcb4a08df7a8b829443c0b6705fa279c77218c3.png" alt="\chi^2" style="vertical-align: -4px"/> until the solution is found. Then all values are set to zero.</td>
</tr>
<tr class="row-odd"><td>EvolAngle</td>
<td>M</td>
<td>MaxIterations</td>
<td>Evolution of the angle between <img class="math" src="../_images/math/cafb07379b9b8d5a9e0e9b0010e675b60bffe092.png" alt="\nabla S" style="vertical-align: -1px"/> and <img class="math" src="../_images/math/b23a061c3db6be7aeac3553ce8d01b459676d577.png" alt="\nabla \chi^2" style="vertical-align: -4px"/>, until the solution is found. Then all values are set to zero.</td>
</tr>
<tr class="row-even"><td>ReconstructedImage</td>
<td>2M</td>
<td><img class="math" src="../_images/math/8c45b38d633fb6de83fc7087c4db116a5565752a.png" alt="N" style="vertical-align: 0px"/></td>
<td>For spectrum <img class="math" src="../_images/math/0f3fc85aac56587f0d5b97a4d1d09252cee66f61.png" alt="(s, s+M)" style="vertical-align: -4px"/> in the input workspace, the reconstructed image is stored in spectra <img class="math" src="../_images/math/e18de4c737a19a61a76f13c0a52a3d99cbe7748c.png" alt="s" style="vertical-align: 0px"/> (real part) and <img class="math" src="../_images/math/8ffd241d0a3f3a2dd30720d547f31e5ed056291a.png" alt="s+M" style="vertical-align: -1px"/> (imaginary part)</td>
</tr>
<tr class="row-odd"><td>ReconstructedData</td>
<td>2M</td>
<td><img class="math" src="../_images/math/8c45b38d633fb6de83fc7087c4db116a5565752a.png" alt="N" style="vertical-align: 0px"/></td>
<td>For spectrum <img class="math" src="../_images/math/0f3fc85aac56587f0d5b97a4d1d09252cee66f61.png" alt="(s, s+M)" style="vertical-align: -4px"/> in the input workspace, the reconstructed data are stored in spectra <img class="math" src="../_images/math/e18de4c737a19a61a76f13c0a52a3d99cbe7748c.png" alt="s" style="vertical-align: 0px"/> (real part) and <img class="math" src="../_images/math/8ffd241d0a3f3a2dd30720d547f31e5ed056291a.png" alt="s+M" style="vertical-align: -1px"/> (imaginary part)</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="usage">
<h2><a class="toc-backref" href="#id5">Usage</a><a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p><strong>Example - Reconstruct Fourier coefficients</strong></p>
<p>In the example below, a workspace containing five Fourier coefficients is created and
used as input to <a class="reference internal" href="#algm-maxent"><em>MaxEnt v1</em></a>. In the figure we show the original and reconstructed data (left),
and the reconstructed image, i.e. Fourier transform (right).</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># Create an empty workspace</span>
<span class="n">X</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">Y</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">E</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">N</span> <span class="o">=</span> <span class="mi">200</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">N</span><span class="p">):</span>
    <span class="n">x</span> <span class="o">=</span> <span class="p">((</span><span class="n">i</span><span class="o">-</span><span class="n">N</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span> <span class="o">*</span><span class="mf">1.</span><span class="o">/</span><span class="n">N</span><span class="p">)</span>
    <span class="n">X</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="n">Y</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">E</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mf">0.001</span><span class="p">)</span>

<span class="c"># Fill in five Fourier coefficients</span>
<span class="c"># The input signal must be symmetric to get a real image</span>
<span class="n">Y</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="n">Y</span><span class="p">[</span><span class="mi">195</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.85</span>
<span class="n">Y</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="n">Y</span><span class="p">[</span><span class="mi">190</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.85</span>
<span class="n">Y</span><span class="p">[</span><span class="mi">20</span><span class="p">]</span> <span class="o">=</span> <span class="n">Y</span><span class="p">[</span><span class="mi">180</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.85</span>
<span class="n">Y</span><span class="p">[</span><span class="mi">12</span><span class="p">]</span> <span class="o">=</span> <span class="n">Y</span><span class="p">[</span><span class="mi">188</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.90</span>
<span class="n">Y</span><span class="p">[</span><span class="mi">14</span><span class="p">]</span> <span class="o">=</span> <span class="n">Y</span><span class="p">[</span><span class="mi">186</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.90</span>
<span class="n">CreateWorkspace</span><span class="p">(</span><span class="n">OutputWorkspace</span><span class="o">=</span><span class="s">&#39;inputws&#39;</span><span class="p">,</span><span class="n">DataX</span><span class="o">=</span><span class="n">X</span><span class="p">,</span><span class="n">DataY</span><span class="o">=</span><span class="n">Y</span><span class="p">,</span><span class="n">DataE</span><span class="o">=</span><span class="n">E</span><span class="p">,</span><span class="n">NSpec</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">evolChi</span><span class="p">,</span> <span class="n">evolAngle</span><span class="p">,</span> <span class="n">image</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">MaxEnt</span><span class="p">(</span><span class="n">InputWorkspace</span><span class="o">=</span><span class="s">&#39;inputws&#39;</span><span class="p">,</span> <span class="n">chiTarget</span><span class="o">=</span><span class="n">N</span><span class="p">,</span> <span class="n">A</span><span class="o">=</span><span class="mf">0.0001</span><span class="p">)</span>

<span class="k">print</span> <span class="s">&quot;First  reconstructed coefficient: </span><span class="si">%.3f</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">data</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">5</span><span class="p">]</span>
<span class="k">print</span> <span class="s">&quot;Second reconstructed coefficient: </span><span class="si">%.3f</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">data</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">10</span><span class="p">]</span>
<span class="k">print</span> <span class="s">&quot;Third  reconstructed coefficient: </span><span class="si">%.3f</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">data</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">20</span><span class="p">]</span>
<span class="k">print</span> <span class="s">&quot;Fourth reconstructed coefficient: </span><span class="si">%.3f</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">data</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">12</span><span class="p">]</span>
<span class="k">print</span> <span class="s">&quot;Fifth  reconstructed coefficient: </span><span class="si">%.3f</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">data</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">14</span><span class="p">]</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none"><div class="highlight"><pre>First  reconstructed coefficient: 0.847
Second reconstructed coefficient: 0.846
Third  reconstructed coefficient: 0.846
Fourth reconstructed coefficient: 0.896
Fifth  reconstructed coefficient: 0.896
</pre></div>
</div>
<div class="figure align-center">
<img alt="../_images/MaxEntFourierCoefficients.png" src="../_images/MaxEntFourierCoefficients.png" />
</div>
<p><strong>Example - Reconstruct a real muon dataset</strong></p>
<p>In this example, <a class="reference internal" href="#algm-maxent"><em>MaxEnt v1</em></a> is run on a pre-analyzed muon dataset. The corresponding figure shows
the original and reconstructed data (left), and the real part of the image obtained with <a class="reference internal" href="#algm-maxent"><em>MaxEnt v1</em></a>
and <a class="reference internal" href="FFT-v1.html#algm-fft"><em>FFT v1</em></a> (right).</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">Load</span><span class="p">(</span><span class="n">Filename</span><span class="o">=</span><span class="s">r&#39;MUSR00022725.nxs&#39;</span><span class="p">,</span> <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s">&#39;MUSR00022725&#39;</span><span class="p">)</span>
<span class="n">CropWorkspace</span><span class="p">(</span><span class="n">InputWorkspace</span><span class="o">=</span><span class="s">&#39;MUSR00022725&#39;</span><span class="p">,</span> <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s">&#39;MUSR00022725&#39;</span><span class="p">,</span> <span class="n">XMin</span><span class="o">=</span><span class="mf">0.11</span><span class="p">,</span> <span class="n">XMax</span><span class="o">=</span><span class="mf">1.6</span><span class="p">,</span> <span class="n">EndWorkspaceIndex</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">RemoveExpDecay</span><span class="p">(</span><span class="n">InputWorkspace</span><span class="o">=</span><span class="s">&#39;MUSR00022725&#39;</span><span class="p">,</span> <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s">&#39;MUSR00022725&#39;</span><span class="p">)</span>
<span class="n">Rebin</span><span class="p">(</span><span class="n">InputWorkspace</span><span class="o">=</span><span class="s">&#39;MUSR00022725&#39;</span><span class="p">,</span> <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s">&#39;MUSR00022725&#39;</span><span class="p">,</span> <span class="n">Params</span><span class="o">=</span><span class="s">&#39;0.016&#39;</span><span class="p">)</span>
<span class="n">evolChi</span><span class="p">,</span> <span class="n">evolAngle</span><span class="p">,</span> <span class="n">image</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">MaxEnt</span><span class="p">(</span><span class="n">InputWorkspace</span><span class="o">=</span><span class="s">&#39;MUSR00022725&#39;</span><span class="p">,</span> <span class="n">A</span><span class="o">=</span><span class="mf">0.005</span><span class="p">,</span> <span class="n">ChiTarget</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>
<span class="c"># Compare MaxEnt to FFT</span>
<span class="n">imageFFT</span> <span class="o">=</span> <span class="n">FFT</span><span class="p">(</span><span class="n">InputWorkspace</span><span class="o">=</span><span class="s">&#39;MUSR00022725&#39;</span><span class="p">)</span>

<span class="k">print</span> <span class="s">&quot;Image at </span><span class="si">%.3f</span><span class="s">: </span><span class="si">%.3f</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">image</span><span class="o">.</span><span class="n">readX</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">44</span><span class="p">],</span> <span class="n">image</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">44</span><span class="p">])</span>
<span class="k">print</span> <span class="s">&quot;Image at </span><span class="si">%.3f</span><span class="s">: </span><span class="si">%.3f</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">image</span><span class="o">.</span><span class="n">readX</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">46</span><span class="p">],</span> <span class="n">image</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">46</span><span class="p">])</span>
<span class="k">print</span> <span class="s">&quot;Image at </span><span class="si">%.3f</span><span class="s">: </span><span class="si">%.3f</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">image</span><span class="o">.</span><span class="n">readX</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">48</span><span class="p">],</span> <span class="n">image</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">48</span><span class="p">])</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none"><div class="highlight"><pre>Image at -1.359: 0.100
Image at 0.000: 0.009
Image at 1.359: 0.100
</pre></div>
</div>
<div class="figure align-center">
<img alt="../_images/MaxEntMUSR00022725.png" src="../_images/MaxEntMUSR00022725.png" />
</div>
<p>Next, <a class="reference internal" href="#algm-maxent"><em>MaxEnt v1</em></a> is run on a different muon dataset. The figure shows
the original and reconstructed data (left), the real part of the image (middle)
and its imaginary part (right).</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">Load</span><span class="p">(</span><span class="n">Filename</span><span class="o">=</span><span class="s">r&#39;EMU00020884.nxs&#39;</span><span class="p">,</span> <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s">&#39;EMU00020884&#39;</span><span class="p">)</span>
<span class="n">CropWorkspace</span><span class="p">(</span><span class="n">InputWorkspace</span><span class="o">=</span><span class="s">&#39;EMU00020884&#39;</span><span class="p">,</span> <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s">&#39;EMU00020884&#39;</span><span class="p">,</span> <span class="n">XMin</span><span class="o">=</span><span class="mf">0.17</span><span class="p">,</span> <span class="n">XMax</span><span class="o">=</span><span class="mf">4.5</span><span class="p">,</span> <span class="n">EndWorkspaceIndex</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">RemoveExpDecay</span><span class="p">(</span><span class="n">InputWorkspace</span><span class="o">=</span><span class="s">&#39;EMU00020884&#39;</span><span class="p">,</span> <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s">&#39;EMU00020884&#39;</span><span class="p">)</span>
<span class="n">Rebin</span><span class="p">(</span><span class="n">InputWorkspace</span><span class="o">=</span><span class="s">&#39;EMU00020884&#39;</span><span class="p">,</span> <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s">&#39;EMU00020884&#39;</span><span class="p">,</span> <span class="n">Params</span><span class="o">=</span><span class="s">&#39;0.016&#39;</span><span class="p">)</span>
<span class="n">evolChi</span><span class="p">,</span> <span class="n">evolAngle</span><span class="p">,</span> <span class="n">image</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">MaxEnt</span><span class="p">(</span><span class="n">InputWorkspace</span><span class="o">=</span><span class="s">&#39;EMU00020884&#39;</span><span class="p">,</span> <span class="n">A</span><span class="o">=</span><span class="mf">0.0001</span><span class="p">,</span> <span class="n">ChiTarget</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">MaxIterations</span><span class="o">=</span><span class="mi">2500</span><span class="p">)</span>
<span class="c"># Compare MaxEnt to FFT</span>
<span class="n">imageFFT</span> <span class="o">=</span> <span class="n">FFT</span><span class="p">(</span><span class="n">InputWorkspace</span><span class="o">=</span><span class="s">&#39;EMU00020884&#39;</span><span class="p">)</span>

<span class="k">print</span> <span class="s">&quot;Image (real part) at </span><span class="si">%.3f</span><span class="s">: </span><span class="si">%.3f</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">image</span><span class="o">.</span><span class="n">readX</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">129</span><span class="p">],</span> <span class="n">image</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">129</span><span class="p">])</span>
<span class="k">print</span> <span class="s">&quot;Image (real part) at  </span><span class="si">%.3f</span><span class="s">:  </span><span class="si">%.3f</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">image</span><span class="o">.</span><span class="n">readX</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">135</span><span class="p">],</span> <span class="n">image</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">135</span><span class="p">])</span>
<span class="k">print</span> <span class="s">&quot;Image (real part) at  </span><span class="si">%.3f</span><span class="s">: </span><span class="si">%.3f</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">image</span><span class="o">.</span><span class="n">readX</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">141</span><span class="p">],</span> <span class="n">image</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">141</span><span class="p">])</span>
<span class="k">print</span> <span class="s">&quot;Image (imaginary part) at </span><span class="si">%.3f</span><span class="s">: </span><span class="si">%.3f</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">image</span><span class="o">.</span><span class="n">readX</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">129</span><span class="p">],</span> <span class="n">image</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">129</span><span class="p">])</span>
<span class="k">print</span> <span class="s">&quot;Image (imaginary part) at  </span><span class="si">%.3f</span><span class="s">:  </span><span class="si">%.3f</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">image</span><span class="o">.</span><span class="n">readX</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">135</span><span class="p">],</span> <span class="n">image</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">135</span><span class="p">])</span>
<span class="k">print</span> <span class="s">&quot;Image (imaginary part) at  </span><span class="si">%.3f</span><span class="s">: </span><span class="si">%.3f</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">image</span><span class="o">.</span><span class="n">readX</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">141</span><span class="p">],</span> <span class="n">image</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">141</span><span class="p">])</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none"><div class="highlight"><pre>Image (real part) at -1.389: -0.079
Image (real part) at  0.000:  0.015
Image (real part) at  1.389: -0.079
Image (imaginary part) at -1.389: -0.079
Image (imaginary part) at  0.000:  0.015
Image (imaginary part) at  1.389: -0.079
</pre></div>
</div>
<div class="figure align-center">
<img alt="../_images/MaxEntMUSR00020884.png" src="../_images/MaxEntMUSR00020884.png" />
</div>
<p>Finally, we show an example where a complex signal is analyzed. In this case, the input workspace contains two spectra corresponding to the
real and imaginary part of the same signal. The figure shows
the original and reconstructed data (left), and the reconstructed image (right).</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">pi</span><span class="p">,</span> <span class="n">sin</span><span class="p">,</span> <span class="n">cos</span>
<span class="kn">from</span> <span class="nn">random</span> <span class="kn">import</span> <span class="n">random</span><span class="p">,</span> <span class="n">seed</span>
<span class="n">seed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="c"># Create a test workspace</span>
<span class="n">X</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">YRe</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">YIm</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">E</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">N</span> <span class="o">=</span> <span class="mi">200</span>
<span class="n">w</span> <span class="o">=</span> <span class="mi">3</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">N</span><span class="p">):</span>
    <span class="n">x</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="o">*</span><span class="n">i</span><span class="o">/</span><span class="n">N</span>
    <span class="n">X</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="n">YRe</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cos</span><span class="p">(</span><span class="n">w</span><span class="o">*</span><span class="n">x</span><span class="p">)</span><span class="o">+</span><span class="p">(</span><span class="n">random</span><span class="p">()</span><span class="o">-</span><span class="mf">0.5</span><span class="p">)</span><span class="o">*</span><span class="mf">0.3</span><span class="p">)</span>
    <span class="n">YIm</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">w</span><span class="o">*</span><span class="n">x</span><span class="p">)</span><span class="o">+</span><span class="p">(</span><span class="n">random</span><span class="p">()</span><span class="o">-</span><span class="mf">0.5</span><span class="p">)</span><span class="o">*</span><span class="mf">0.3</span><span class="p">)</span>
    <span class="n">E</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
<span class="n">CreateWorkspace</span><span class="p">(</span><span class="n">OutputWorkspace</span><span class="o">=</span><span class="s">&#39;ws&#39;</span><span class="p">,</span><span class="n">DataX</span><span class="o">=</span><span class="n">X</span><span class="o">+</span><span class="n">X</span><span class="p">,</span><span class="n">DataY</span><span class="o">=</span><span class="n">YRe</span><span class="o">+</span><span class="n">YIm</span><span class="p">,</span><span class="n">DataE</span><span class="o">=</span><span class="n">E</span><span class="o">+</span><span class="n">E</span><span class="p">,</span><span class="n">NSpec</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">evolChi</span><span class="p">,</span> <span class="n">evolAngle</span><span class="p">,</span> <span class="n">image</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">MaxEnt</span><span class="p">(</span><span class="n">InputWorkspace</span><span class="o">=</span><span class="s">&#39;ws&#39;</span><span class="p">,</span> <span class="n">ComplexData</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">chiTarget</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="n">N</span><span class="p">,</span> <span class="n">A</span><span class="o">=</span><span class="mf">0.001</span><span class="p">)</span>

<span class="k">print</span> <span class="s">&quot;Image (real part) at </span><span class="si">%.3f</span><span class="s">: </span><span class="si">%.3f</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">image</span><span class="o">.</span><span class="n">readX</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">102</span><span class="p">],</span> <span class="n">image</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">102</span><span class="p">])</span>
<span class="k">print</span> <span class="s">&quot;Image (real part) at </span><span class="si">%.3f</span><span class="s">: </span><span class="si">%.3f</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">image</span><span class="o">.</span><span class="n">readX</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">103</span><span class="p">],</span> <span class="n">image</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">103</span><span class="p">])</span>
<span class="k">print</span> <span class="s">&quot;Image (real part) at </span><span class="si">%.3f</span><span class="s">: </span><span class="si">%.3f</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">image</span><span class="o">.</span><span class="n">readX</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">104</span><span class="p">],</span> <span class="n">image</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">104</span><span class="p">])</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none"><div class="highlight"><pre>Image (real part) at 0.318: 0.000
Image (real part) at 0.477: 5.842
Image (real part) at 0.637: 0.000
</pre></div>
</div>
<div class="figure align-center">
<img alt="../_images/MaxEntComplexData.png" src="../_images/MaxEntComplexData.png" />
</div>
</div>
<div class="section" id="positive-images">
<h2><a class="toc-backref" href="#id6">Positive Images</a><a class="headerlink" href="#positive-images" title="Permalink to this headline">¶</a></h2>
<p>The algorithm allows users to restrict the reconstructed image to positive values only. This behaviour can be
selected by setting the input property <em>PositiveImage</em> to true. In this case, the entropy is defined by the
expression:</p>
<div class="math">
<p><img src="../_images/math/cbd4c581d0ab5d491dc10bc8462c0173ee8ba6be.png" alt="S = -\sum_j x_j \left(\log(x_j/A)-1\right)"/></p>
</div><p>In addition, the algorithm explicitly protects against negative values by setting those to a fraction of the maximum entropy constant <em>A</em>.
In the example below both modes are compared. As the input is a complex signal with expected Fourier transform <img class="math" src="../_images/math/45e78115b76977ce1c847f44d431a3f61bb5ed65.png" alt="F(\omega) = \delta\left(\omega-\omega_0\right)" style="vertical-align: -4px"/>,
i.e. positive,
both modes should produce the same results (note that the maximum entropy constant <em>A</em> typically needs to be set to smaller values for positive
image in order to obtain smooth results).</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">pi</span><span class="p">,</span> <span class="n">sin</span><span class="p">,</span> <span class="n">cos</span>
<span class="kn">from</span> <span class="nn">random</span> <span class="kn">import</span> <span class="n">random</span><span class="p">,</span> <span class="n">seed</span>
<span class="n">seed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="c"># Create a test workspace</span>
<span class="n">X</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">YRe</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">YIm</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">E</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">N</span> <span class="o">=</span> <span class="mi">200</span>
<span class="n">w</span> <span class="o">=</span> <span class="mi">3</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">N</span><span class="p">):</span>
    <span class="n">x</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="o">*</span><span class="n">i</span><span class="o">/</span><span class="n">N</span>
    <span class="n">X</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="n">YRe</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cos</span><span class="p">(</span><span class="n">w</span><span class="o">*</span><span class="n">x</span><span class="p">)</span><span class="o">+</span><span class="p">(</span><span class="n">random</span><span class="p">()</span><span class="o">-</span><span class="mf">0.5</span><span class="p">)</span><span class="o">*</span><span class="mf">0.3</span><span class="p">)</span>
    <span class="n">YIm</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">w</span><span class="o">*</span><span class="n">x</span><span class="p">)</span><span class="o">+</span><span class="p">(</span><span class="n">random</span><span class="p">()</span><span class="o">-</span><span class="mf">0.5</span><span class="p">)</span><span class="o">*</span><span class="mf">0.3</span><span class="p">)</span>
    <span class="n">E</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
<span class="n">CreateWorkspace</span><span class="p">(</span><span class="n">OutputWorkspace</span><span class="o">=</span><span class="s">&#39;ws&#39;</span><span class="p">,</span><span class="n">DataX</span><span class="o">=</span><span class="n">X</span><span class="o">+</span><span class="n">X</span><span class="p">,</span><span class="n">DataY</span><span class="o">=</span><span class="n">YRe</span><span class="o">+</span><span class="n">YIm</span><span class="p">,</span><span class="n">DataE</span><span class="o">=</span><span class="n">E</span><span class="o">+</span><span class="n">E</span><span class="p">,</span><span class="n">NSpec</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">evolChi</span><span class="p">,</span> <span class="n">evolAngle</span><span class="p">,</span> <span class="n">image</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">MaxEnt</span><span class="p">(</span><span class="n">InputWorkspace</span><span class="o">=</span><span class="s">&#39;ws&#39;</span><span class="p">,</span> <span class="n">ComplexData</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">chiTarget</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="n">N</span><span class="p">,</span> <span class="n">A</span><span class="o">=</span><span class="mf">0.001</span><span class="p">,</span> <span class="n">PositiveImage</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="n">evolChiP</span><span class="p">,</span> <span class="n">evolAngleP</span><span class="p">,</span> <span class="n">imageP</span><span class="p">,</span> <span class="n">dataP</span> <span class="o">=</span> <span class="n">MaxEnt</span><span class="p">(</span><span class="n">InputWorkspace</span><span class="o">=</span><span class="s">&#39;ws&#39;</span><span class="p">,</span> <span class="n">ComplexData</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">chiTarget</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="n">N</span><span class="p">,</span> <span class="n">A</span><span class="o">=</span><span class="mf">0.001</span><span class="p">,</span> <span class="n">PositiveImage</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="k">print</span> <span class="s">&quot;Image at </span><span class="si">%.3f</span><span class="s">: </span><span class="si">%.3f</span><span class="s"> (PositiveImage=False), </span><span class="si">%.3f</span><span class="s"> (PositiveImage=True)&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">image</span><span class="o">.</span><span class="n">readX</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">102</span><span class="p">],</span> <span class="n">image</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">102</span><span class="p">],</span> <span class="n">imageP</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">102</span><span class="p">])</span>
<span class="k">print</span> <span class="s">&quot;Image at </span><span class="si">%.3f</span><span class="s">: </span><span class="si">%.3f</span><span class="s"> (PositiveImage=False), </span><span class="si">%.3f</span><span class="s"> (PositiveImage=True)&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">image</span><span class="o">.</span><span class="n">readX</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">103</span><span class="p">],</span> <span class="n">image</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">103</span><span class="p">],</span> <span class="n">imageP</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">103</span><span class="p">])</span>
<span class="k">print</span> <span class="s">&quot;Image at </span><span class="si">%.3f</span><span class="s">: </span><span class="si">%.3f</span><span class="s"> (PositiveImage=False), </span><span class="si">%.3f</span><span class="s"> (PositiveImage=True)&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">image</span><span class="o">.</span><span class="n">readX</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">104</span><span class="p">],</span> <span class="n">image</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">104</span><span class="p">],</span> <span class="n">imageP</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">102</span><span class="p">])</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none"><div class="highlight"><pre>Image at 0.318: 0.000 (PositiveImage=False), 0.000 (PositiveImage=True)
Image at 0.477: 5.842 (PositiveImage=False), 5.842 (PositiveImage=True)
Image at 0.637: 0.000 (PositiveImage=False), 0.000 (PositiveImage=True)
</pre></div>
</div>
<div class="figure align-center">
<img alt="../_images/MaxEntPositiveImage.png" src="../_images/MaxEntPositiveImage.png" />
</div>
</div>
<div class="section" id="complex-images">
<h2><a class="toc-backref" href="#id7">Complex Images</a><a class="headerlink" href="#complex-images" title="Permalink to this headline">¶</a></h2>
<p>By default the input property <em>ComplexImage</em> is set to <em>True</em> and the algorithm will assume complex images for the calculations.
This means that the set of numbers <img class="math" src="../_images/math/fa952c1d14608b1840a95a3c48c3db764c61e3d8.png" alt="\{x_j\}" style="vertical-align: -6px"/> that form the image will have a real and an imaginary part, and both components will be
considered to evaluate the entropy, <img class="math" src="../_images/math/5e537c3df0e5d8ca20f4dfa4979240a14c17e9db.png" alt="S\left(x_j\right)" style="vertical-align: -6px"/>, and its derivative, <img class="math" src="../_images/math/75532387d46621ef278a945c8e7c814c97891721.png" alt="\nabla S\left(x_j\right)" style="vertical-align: -6px"/>. This effectively means
splitting the entropy (the same applies to its derivative) in two terms, <img class="math" src="../_images/math/cd7bea420375c4a6cb3aeb8badd5d13101be72ad.png" alt="S\left(x_j\right) = \left[S\left(x_j^{re}\right), S\left(x_j^{im}\right)\right]" style="vertical-align: -8px"/>,
where the first one refers to the real part of the entropy and the second one to the imaginary part. This is the recommended option when no prior knowledge
about the image is available, as trying to reconstruct images that are inherently complex discarding the imaginary part will prevent the algorithm
from converging. If the image is known to be real this property can be safely set to <em>False</em>.</p>
</div>
<div class="section" id="increasing-the-number-of-points-in-the-image">
<h2><a class="toc-backref" href="#id8">Increasing the number of points in the image</a><a class="headerlink" href="#increasing-the-number-of-points-in-the-image" title="Permalink to this headline">¶</a></h2>
<p>The algorithm has an input property, <em>ResolutionFactor</em>, that allows to increase the number of points in the reconstructed image. This is
at present done by extending the range (and therefore the number of points) in the reconstructed data. The number of reconstructed
points can be increased by any integer factor, but note that this will slow down the algorithm and you may need to increase the number of
maxent iterations so that the algorithm is able to converge to a solution.</p>
<p>An example script where the density of points is increased by a factor of 2 can be found below. Note that when a factor of 2 is used,
the reconstructed data is twice the size of the original (experimental) data.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">Load</span><span class="p">(</span><span class="n">Filename</span><span class="o">=</span><span class="s">r&#39;EMU00020884.nxs&#39;</span><span class="p">,</span> <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s">&#39;ws&#39;</span><span class="p">)</span>
<span class="n">CropWorkspace</span><span class="p">(</span><span class="n">InputWorkspace</span><span class="o">=</span><span class="s">&#39;ws&#39;</span><span class="p">,</span> <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s">&#39;ws&#39;</span><span class="p">,</span> <span class="n">XMin</span><span class="o">=</span><span class="mf">0.17</span><span class="p">,</span> <span class="n">XMax</span><span class="o">=</span><span class="mf">4.5</span><span class="p">,</span> <span class="n">EndWorkspaceIndex</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">RemoveExpDecay</span><span class="p">(</span><span class="n">InputWorkspace</span><span class="o">=</span><span class="s">&#39;ws&#39;</span><span class="p">)</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">Rebin</span><span class="p">(</span><span class="n">InputWorkspace</span><span class="o">=</span><span class="s">&#39;ws&#39;</span><span class="p">,</span> <span class="n">Params</span><span class="o">=</span><span class="s">&#39;0.016&#39;</span><span class="p">)</span>
<span class="n">evolChi1</span><span class="p">,</span> <span class="n">evolAngle1</span><span class="p">,</span> <span class="n">image1</span><span class="p">,</span> <span class="n">data1</span> <span class="o">=</span> <span class="n">MaxEnt</span><span class="p">(</span><span class="n">InputWorkspace</span><span class="o">=</span><span class="s">&#39;ws&#39;</span><span class="p">,</span> <span class="n">A</span><span class="o">=</span><span class="mf">0.0001</span><span class="p">,</span> <span class="n">ChiTarget</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">MaxIterations</span><span class="o">=</span><span class="mi">2500</span><span class="p">,</span> <span class="n">ResolutionFactor</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">evolChi2</span><span class="p">,</span> <span class="n">evolAngle2</span><span class="p">,</span> <span class="n">image2</span><span class="p">,</span> <span class="n">data2</span> <span class="o">=</span> <span class="n">MaxEnt</span><span class="p">(</span><span class="n">InputWorkspace</span><span class="o">=</span><span class="s">&#39;ws&#39;</span><span class="p">,</span> <span class="n">A</span><span class="o">=</span><span class="mf">0.0001</span><span class="p">,</span> <span class="n">ChiTarget</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">MaxIterations</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="n">ResolutionFactor</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

<span class="k">print</span> <span class="s">&quot;Image at </span><span class="si">%.3f</span><span class="s">: </span><span class="si">%.3f</span><span class="s"> (ResolutionFactor=1)&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">image1</span><span class="o">.</span><span class="n">readX</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">135</span><span class="p">],</span> <span class="n">image1</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">135</span><span class="p">])</span>
<span class="k">print</span> <span class="s">&quot;Image at </span><span class="si">%.3f</span><span class="s">: </span><span class="si">%.3f</span><span class="s"> (ResolutionFactor=2)&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">image2</span><span class="o">.</span><span class="n">readX</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">270</span><span class="p">],</span> <span class="n">image2</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">270</span><span class="p">])</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none"><div class="highlight"><pre>Image at 0.000: 0.015 (ResolutionFactor=1)
Image at 0.000: 0.079 (ResolutionFactor=2)
</pre></div>
</div>
<div class="figure align-center">
<img alt="../_images/MaxEntResolutionFactor.png" src="../_images/MaxEntResolutionFactor.png" />
</div>
<p>In the next example, we increased the density of points by factors of 10, 20 and 40. We show the reconstructed image (left) and
a zoom into the region <img class="math" src="../_images/math/a5ce8de94ff468dab66ac3ce7dc87b3f5f5abdfb.png" alt="0.82 &lt; x &lt; 1.44" style="vertical-align: -1px"/> and <img class="math" src="../_images/math/2786d5fab7978bf88d251f9c5df8058a59017376.png" alt="-0.187 &lt; y &lt; 0.004" style="vertical-align: -4px"/>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">Load</span><span class="p">(</span><span class="n">Filename</span><span class="o">=</span><span class="s">r&#39;EMU00020884.nxs&#39;</span><span class="p">,</span> <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s">&#39;ws&#39;</span><span class="p">)</span>
<span class="n">CropWorkspace</span><span class="p">(</span><span class="n">InputWorkspace</span><span class="o">=</span><span class="s">&#39;ws&#39;</span><span class="p">,</span> <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s">&#39;ws&#39;</span><span class="p">,</span> <span class="n">XMin</span><span class="o">=</span><span class="mf">0.17</span><span class="p">,</span> <span class="n">XMax</span><span class="o">=</span><span class="mf">4.5</span><span class="p">,</span> <span class="n">EndWorkspaceIndex</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">RemoveExpDecay</span><span class="p">(</span><span class="n">InputWorkspace</span><span class="o">=</span><span class="s">&#39;ws&#39;</span><span class="p">)</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">Rebin</span><span class="p">(</span><span class="n">InputWorkspace</span><span class="o">=</span><span class="s">&#39;ws&#39;</span><span class="p">,</span> <span class="n">Params</span><span class="o">=</span><span class="s">&#39;0.016&#39;</span><span class="p">)</span>
<span class="n">evolChi1</span><span class="p">,</span> <span class="n">evolAngle1</span><span class="p">,</span> <span class="n">image1</span><span class="p">,</span> <span class="n">data1</span> <span class="o">=</span> <span class="n">MaxEnt</span><span class="p">(</span><span class="n">InputWorkspace</span><span class="o">=</span><span class="s">&#39;ws&#39;</span><span class="p">,</span> <span class="n">A</span><span class="o">=</span><span class="mf">0.0001</span><span class="p">,</span> <span class="n">ChiTarget</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">MaxIterations</span><span class="o">=</span><span class="mi">2500</span><span class="p">,</span> <span class="n">ResolutionFactor</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">evolChi10</span><span class="p">,</span> <span class="n">evolAngle10</span><span class="p">,</span> <span class="n">image10</span><span class="p">,</span> <span class="n">data10</span> <span class="o">=</span> <span class="n">MaxEnt</span><span class="p">(</span><span class="n">InputWorkspace</span><span class="o">=</span><span class="s">&#39;ws&#39;</span><span class="p">,</span> <span class="n">A</span><span class="o">=</span><span class="mf">0.0001</span><span class="p">,</span> <span class="n">ChiTarget</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">MaxIterations</span><span class="o">=</span><span class="mi">25000</span><span class="p">,</span> <span class="n">ResolutionFactor</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">evolChi20</span><span class="p">,</span> <span class="n">evolAngle20</span><span class="p">,</span> <span class="n">image20</span><span class="p">,</span> <span class="n">data20</span> <span class="o">=</span> <span class="n">MaxEnt</span><span class="p">(</span><span class="n">InputWorkspace</span><span class="o">=</span><span class="s">&#39;ws&#39;</span><span class="p">,</span> <span class="n">A</span><span class="o">=</span><span class="mf">0.0001</span><span class="p">,</span> <span class="n">ChiTarget</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">MaxIterations</span><span class="o">=</span><span class="mi">50000</span><span class="p">,</span> <span class="n">ResolutionFactor</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="n">evolChi40</span><span class="p">,</span> <span class="n">evolAngle40</span><span class="p">,</span> <span class="n">image40</span><span class="p">,</span> <span class="n">data40</span> <span class="o">=</span> <span class="n">MaxEnt</span><span class="p">(</span><span class="n">InputWorkspace</span><span class="o">=</span><span class="s">&#39;ws&#39;</span><span class="p">,</span> <span class="n">A</span><span class="o">=</span><span class="mf">0.0001</span><span class="p">,</span> <span class="n">ChiTarget</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">MaxIterations</span><span class="o">=</span><span class="mi">75000</span><span class="p">,</span> <span class="n">ResolutionFactor</span><span class="o">=</span><span class="mi">40</span><span class="p">)</span>
</pre></div>
</div>
<div class="figure align-center">
<img alt="../_images/MaxEntResolutionFactor2.png" src="../_images/MaxEntResolutionFactor2.png" />
</div>
</div>
<div class="section" id="references">
<h2><a class="toc-backref" href="#id9">References</a><a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h2>
<p>[1] Anders Johannes Markvardsen, (2000). Polarised neutron diffraction measurements of PrBa2Cu3O6+x and the Bayesian statistical analysis of such data. DPhil. University of Oxford (<a class="reference external" href="http://ora.ox.ac.uk/objects/uuid:bef0c991-4e1c-4b07-952a-a0fe7e4943f7">http://ora.ox.ac.uk/objects/uuid:bef0c991-4e1c-4b07-952a-a0fe7e4943f7</a>)</p>
<p>[2] Skilling &amp; Bryan, (1984). Maximum entropy image reconstruction: general algorithm. Mon. Not. R. astr. Soc. 211, 111-124.</p>
<p><strong>Categories</strong>: <a class="reference external" href="categories/Algorithms.html">Algorithms</a> | <a class="reference external" href="categories/Arithmetic/FFT.html">Arithmetic\FFT</a></p>
</div>
<div class="section" id="source">
<h2><a class="toc-backref" href="#id10">Source</a><a class="headerlink" href="#source" title="Permalink to this headline">¶</a></h2>
<p>C++ source: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/2f15ec50de5065d8b6a032a915ac44d99f4a8835/Framework/Algorithms/src/MaxEnt.cpp">MaxEnt.cpp</a></p>
<p>C++ header: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/2f15ec50de5065d8b6a032a915ac44d99f4a8835/Framework/Algorithms/inc/MantidAlgorithms/MaxEnt.h">MaxEnt.h</a></p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="Max-v1.html" title="Previous Chapter: Max v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Max v1</span>
    </a>
  </li>
  <li>
    <a href="MaxMin-v1.html" title="Next Chapter: MaxMin v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">MaxMin v1 &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>