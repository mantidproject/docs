<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>LoadNexusMonitors v2</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.11.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="" href="../index.html" />
    <link rel="next" title="LoadNexusProcessed v1" href="LoadNexusProcessed-v1.html" />
    <link rel="prev" title="LoadNexusMonitors v1" href="LoadNexusMonitors-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>3.11</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://www.mantidproject.org/Documentation">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="loadnexusmonitors-v2">
<span id="algm-loadnexusmonitors"></span><span id="algm-loadnexusmonitors-v2"></span><h1>LoadNexusMonitors v2<a class="headerlink" href="#loadnexusmonitors-v2" title="Permalink to this headline">¶</a></h1>
<div class="figure align-right" id="index-0">
<a class="screenshot reference internal image-reference" href="../_images/LoadNexusMonitors-v2_dlg.png"><img alt="../_images/LoadNexusMonitors-v2_dlg.png" class="screenshot" src="../_images/LoadNexusMonitors-v2_dlg.png" style="width: 416px;" /></a>
<p class="caption"><strong>LoadNexusMonitors</strong> dialog.</p>
</div>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#summary" id="id1">Summary</a></li>
<li><a class="reference internal" href="#properties" id="id2">Properties</a></li>
<li><a class="reference internal" href="#description" id="id3">Description</a><ul>
<li><a class="reference internal" href="#event-monitor-and-histogram-monitor" id="id4">Event monitor and histogram monitor</a></li>
<li><a class="reference internal" href="#isis-event-monitor" id="id5">ISIS event monitor</a></li>
<li><a class="reference internal" href="#load-nexus-file-containing-both-event-monitor-and-histogram-monitor" id="id6">Load NeXus file containing both event monitor and histogram monitor</a></li>
</ul>
</li>
<li><a class="reference internal" href="#usage" id="id7">Usage</a></li>
<li><a class="reference internal" href="#source" id="id8">Source</a></li>
</ul>
</div>
<div class="section" id="summary">
<h2><a class="toc-backref" href="#id1">Summary</a><a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>Load all monitors from a NeXus file into a workspace.</p>
</div>
<div class="section" id="properties">
<h2><a class="toc-backref" href="#id2">Properties</a><a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="6%" />
<col width="2%" />
<col width="9%" />
<col width="4%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Direction</th>
<th class="head">Type</th>
<th class="head">Default</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Filename</td>
<td>Input</td>
<td>string</td>
<td><em>Mandatory</em></td>
<td>The name (including its full or relative path) of the NeXus file to attempt to load. The file extension must either be .nxs or .NXS. Allowed extensions: [&#8216;.nxs&#8217;]</td>
</tr>
<tr class="row-odd"><td>OutputWorkspace</td>
<td>Output</td>
<td><a class="reference internal" href="../concepts/Workspace.html#workspace"><em>Workspace</em></a></td>
<td><em>Mandatory</em></td>
<td>The name of the output workspace in which to load the NeXus monitors.</td>
</tr>
<tr class="row-even"><td>MonitorsAsEvents</td>
<td>Input</td>
<td>boolean</td>
<td>True</td>
<td>If enabled (by default), load the monitors as events (into an EventWorkspace), as long as there is event data. If disabled, load monitors as spectra (into a Workspace2D, regardless of whether event data is found.</td>
</tr>
<tr class="row-odd"><td>LoadEventMonitors</td>
<td>Input</td>
<td>boolean</td>
<td>True</td>
<td>Load event monitor in NeXus file both event monitor and histogram monitor found in NeXus file.If both of LoadEventMonitor and LoadHistoMonitor are true, or both of them are false,then it is in the auto mode such that any existing monitor will be loaded.</td>
</tr>
<tr class="row-even"><td>LoadHistoMonitors</td>
<td>Input</td>
<td>boolean</td>
<td>True</td>
<td>Load histogram monitor in NeXus file both event monitor and histogram monitor found in NeXus file.If both of LoadEventMonitor and LoadHistoMonitor are true, or both of them are false,then it is in the auto mode such that any existing monitor will be loaded.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="description">
<h2><a class="toc-backref" href="#id3">Description</a><a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>This algorithm loads all monitors found in a NeXus file into a single
<a class="reference internal" href="../concepts/Workspace2D.html#workspace2d"><em>Workspace2D</em></a> (if there is no event data or if
MonitorsAsEvents is false) or into an
<a class="reference internal" href="../concepts/EventWorkspace.html#eventworkspace"><em>EventWorkspace</em></a> (if event monitor data is
found).  The algorithm assumes that all of the monitors are histograms
and have the same bin boundaries. <strong>NOTE:</strong> The entry is assumed to be
in SNS or ISIS format, so the loader is currently not generically
applicable.</p>
<p>This version (v2) fixes a bug in the first version and now returns a
group workspace when invoked from Python with a multiperiod input
workspace. As a side-effect of the fix, the contained individual
workspaces for each of the periods are named slightly differently.</p>
<div class="section" id="event-monitor-and-histogram-monitor">
<h3><a class="toc-backref" href="#id4">Event monitor and histogram monitor</a><a class="headerlink" href="#event-monitor-and-histogram-monitor" title="Permalink to this headline">¶</a></h3>
<p>There are two types of monitors, event monitors and histograms monitors.
Both of them are of class <em>NXmonitor</em> in NeXus file.</p>
<blockquote>
<div><ul class="simple">
<li>Event monitor must contain all of the following three entries:
* event_index
* event_time_offset
* event_time_zero</li>
<li>Histogram monitor must contain entry
* data
* period_index</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="isis-event-monitor">
<h3><a class="toc-backref" href="#id5">ISIS event monitor</a><a class="headerlink" href="#isis-event-monitor" title="Permalink to this headline">¶</a></h3>
<p>ISIS monitor of event mode may contain entry <em>data</em>.  In this case,
the monitor of event mode can be loaded in histogram mode.</p>
</div>
<div class="section" id="load-nexus-file-containing-both-event-monitor-and-histogram-monitor">
<h3><a class="toc-backref" href="#id6">Load NeXus file containing both event monitor and histogram monitor</a><a class="headerlink" href="#load-nexus-file-containing-both-event-monitor-and-histogram-monitor" title="Permalink to this headline">¶</a></h3>
<p>There are a few use cases to load monitor&#8217;s data if the NeXus file has coexisting
event monitors and histogram monitors.</p>
<blockquote>
<div><ol class="arabic simple">
<li>Load all monitors as histogram.
* requirement: all event monitors have entry <em>data</em>;
* Set <em>MonitorsAsEvents</em> to False, <em>LoadEventMonitor</em> to True and <em>LoadHistoMonitor</em> to True;</li>
<li>Load monitors in event mode only.
* Set <em>MonitorsAsEvents</em> to True, <em>LoadEventMonitor</em> to True and <em>LoadHistoMonitor</em> to False;</li>
<li>Load monitors in histogram mode only.
* Set <em>MonitorsAsEvents</em> to False, <em>LoadEventMonitor</em> to False and <em>LoadHistoMonitor</em> to True.</li>
</ol>
</div></blockquote>
</div>
</div>
<div class="section" id="usage">
<h2><a class="toc-backref" href="#id7">Usage</a><a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">To run these usage examples please first download the
<a class="reference external" href="https://sourceforge.net/projects/mantid/files/Sample%20Data/UsageData.zip/download">usage data</a>,
and add these to your path. In MantidPlot this is done using <a class="reference external" href="http://www.mantidproject.org/ManageUserDirectories">Manage User Directories</a>.</p>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="n">ws</span> <span class="o">=</span> <span class="n">LoadNexusMonitors</span><span class="p">(</span><span class="s">&quot;CNCS_7860_event.nxs&quot;</span><span class="p">)</span>
<span class="c"># CNCS has 3 monitors</span>
<span class="k">print</span> <span class="s">&quot;Number of monitors =&quot;</span><span class="p">,</span> <span class="n">ws</span><span class="o">.</span><span class="n">getNumberHistograms</span><span class="p">()</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none"><div class="highlight"><pre>Number of monitors = 3
</pre></div>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/Algorithms.html">Algorithms</a> | <a class="reference external" href="categories/DataHandling/Nexus.html">DataHandling\Nexus</a></p>
</div>
<div class="section" id="source">
<h2><a class="toc-backref" href="#id8">Source</a><a class="headerlink" href="#source" title="Permalink to this headline">¶</a></h2>
<p>C++ source: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/2f15ec50de5065d8b6a032a915ac44d99f4a8835/Framework/DataHandling/src/LoadNexusMonitors2.cpp">LoadNexusMonitors2.cpp</a></p>
<p>C++ header: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/2f15ec50de5065d8b6a032a915ac44d99f4a8835/Framework/DataHandling/inc/MantidDataHandling/LoadNexusMonitors2.h">LoadNexusMonitors2.h</a></p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="LoadNexusMonitors-v1.html" title="Previous Chapter: LoadNexusMonitors v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; LoadNexusMonitor...</span>
    </a>
  </li>
  <li>
    <a href="LoadNexusProcessed-v1.html" title="Next Chapter: LoadNexusProcessed v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">LoadNexusProcess... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>