<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>ConvertToMD v1</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.11.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="" href="../index.html" />
    <link rel="next" title="ConvertToMDMinMaxGlobal v1" href="ConvertToMDMinMaxGlobal-v1.html" />
    <link rel="prev" title="ConvertToHistogram v1" href="ConvertToHistogram-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>3.11</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://www.mantidproject.org/Documentation">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="converttomd-v1">
<span id="algm-converttomd"></span><span id="algm-converttomd-v1"></span><h1>ConvertToMD v1<a class="headerlink" href="#converttomd-v1" title="Permalink to this headline">¶</a></h1>
<div class="figure align-right" id="index-0">
<a class="screenshot reference internal image-reference" href="../_images/ConvertToMD-v1_dlg.png"><img alt="../_images/ConvertToMD-v1_dlg.png" class="screenshot" src="../_images/ConvertToMD-v1_dlg.png" style="width: 215px;" /></a>
<p class="caption"><strong>ConvertToMD</strong> dialog.</p>
</div>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#summary" id="id1">Summary</a></li>
<li><a class="reference internal" href="#properties" id="id2">Properties</a></li>
<li><a class="reference internal" href="#description" id="id3">Description</a></li>
<li><a class="reference internal" href="#used-subalgorithms" id="id4">Used Subalgorithms</a></li>
<li><a class="reference internal" href="#notes" id="id5">Notes</a></li>
<li><a class="reference internal" href="#how-to-write-custom-converttomd-plugin" id="id6">How to write custom ConvertToMD plugin</a></li>
<li><a class="reference internal" href="#usage-examples" id="id7">Usage examples</a></li>
<li><a class="reference internal" href="#source" id="id8">Source</a></li>
</ul>
</div>
<div class="section" id="summary">
<h2><a class="toc-backref" href="#id1">Summary</a><a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>Create a MDEventWorkspace with selected dimensions, e.g. the reciprocal space of momentums (Qx, Qy, Qz) or momentums modules mod(Q), energy transfer dE if available and any other user specified log values which can be treated as dimensions.</p>
</div>
<div class="section" id="properties">
<h2><a class="toc-backref" href="#id2">Properties</a><a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="2%" />
<col width="1%" />
<col width="5%" />
<col width="3%" />
<col width="89%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Direction</th>
<th class="head">Type</th>
<th class="head">Default</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>InputWorkspace</td>
<td>Input</td>
<td><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><em>MatrixWorkspace</em></a></td>
<td><em>Mandatory</em></td>
<td>An input Matrix Workspace (2DMatrix or Event workspace)</td>
</tr>
<tr class="row-odd"><td>QDimensions</td>
<td>InOut</td>
<td>string</td>
<td>CopyToMD</td>
<td>String, describing available analysis modes, registered with MD Transformation factory.There are 3 modes currently available and described in details on <em>MD Transformation factory</em> page.The modes names are <strong>CopyToMD</strong>, <strong>|Q|</strong> and <strong>Q3D</strong>. Allowed values: [&#8216;CopyToMD&#8217;, &#8216;Q3D&#8217;, &#8216;|Q|&#8217;]</td>
</tr>
<tr class="row-even"><td>dEAnalysisMode</td>
<td>InOut</td>
<td>string</td>
<td>Direct</td>
<td>You can analyze neutron energy transfer in <strong>Direct</strong>, <strong>Indirect</strong> or <strong>Elastic</strong> mode.The analysis mode has to correspond to experimental set up. Selecting inelastic mode increasesthe number of the target workspace dimensions by one. See <em>MD Transformation factory</em> for further details. Allowed values: [&#8216;Elastic&#8217;, &#8216;Direct&#8217;, &#8216;Indirect&#8217;]</td>
</tr>
<tr class="row-odd"><td>Q3DFrames</td>
<td>Input</td>
<td>string</td>
<td>AutoSelect</td>
<td>Selects Q-dimensions of the output workspace in <strong>Q3D</strong> case.  <strong>AutoSelect</strong>: Choose the target coordinate frame as the function of goniometer and UB matrix values set on the input workspace. <strong>Q (lab frame)</strong>: Wave-vector converted into the lab frame. <strong>Q (sample frame)</strong>: Wave-vector converted into the frame of the sample (taking out the goniometer rotation). <strong>HKL</strong>: Use the sample&#8217;s UB matrix to convert Wave-vector to crystal&#8217;s HKL indices.See <em>MD Transformation factory</em> <strong>(Q3D)</strong> for more details about this.  Allowed values: [&#8216;Q_lab&#8217;, &#8216;Q_sample&#8217;, &#8216;HKL&#8217;, &#8216;AutoSelect&#8217;]</td>
</tr>
<tr class="row-even"><td>QConversionScales</td>
<td>Input</td>
<td>string</td>
<td>Q in A^-1</td>
<td>This property to normalize three momentums obtained in <strong>Q3D</strong> mode. See <em>MD Transformation factory</em> for description and available scaling modes. The value can be modified depending on the target coordinate system, defined by the property <strong>OutputDimensions</strong>.  Allowed values: [&#8216;Q in A^-1&#8217;, &#8216;Q in lattice units&#8217;, &#8216;Orthogonal HKL&#8217;, &#8216;HKL&#8217;]</td>
</tr>
<tr class="row-odd"><td>OtherDimensions</td>
<td>Input</td>
<td>str list</td>
<td>&nbsp;</td>
<td>List(comma separated) of additional to <strong>Q</strong> and <strong>DeltaE</strong> variables which form additional (orthogonal) to <strong>Q</strong> dimensions in the target workspace (e.g. Temperature or Magnetic field). These variables had to be logged during experiment and the names of these variables have to coincide with the log names for the records of these variables in the source workspace.</td>
</tr>
<tr class="row-even"><td>PreprocDetectorsWS</td>
<td>Input</td>
<td>string</td>
<td>PreprocessedDetectorsWS</td>
<td>The name of the table workspace where the part of the detectors transformation into reciprocal space, calculated by <a class="reference internal" href="PreprocessDetectorsToMD-v1.html#algm-preprocessdetectorstomd"><em>PreprocessDetectorsToMD v1</em></a> algorithm is stored. If the workspace is not found in analysis data service, <a class="reference internal" href="PreprocessDetectorsToMD-v1.html#algm-preprocessdetectorstomd"><em>PreprocessDetectorsToMD v1</em></a> used to calculate it. If found, the algorithm uses existing workspace. The field is useful if one expects to analyze number of different experiments obtained on the same instrument... warning:: Dangerous if one uses number of workspaces with modified derived instrument one after another. <em>In this case this property has to be set to</em> <strong>&#8220;-&#8220;</strong> <em>sting (minus without quotes) or empty (possible from script only) to force the workspace recalculation each time the algorithm is invoked.</em></td>
</tr>
<tr class="row-odd"><td>UpdateMasks</td>
<td>Input</td>
<td>boolean</td>
<td>False</td>
<td>if PreprocessDetectorWS is used to build the workspace with preprocessed detectors at first algorithm call,and the input workspaces instruments are different by just different masked detectors, setting this option to true forces <a class="reference internal" href="PreprocessDetectorsToMD-v1.html#algm-preprocessdetectorstomd"><em>PreprocessDetectorsToMD v1</em></a>  update only the detectors masks for all subsequent calls to this algorithm... warning:: <em>This is temporary solution necessary until Mantid masks spectra by 0 rather then by NaN.</em></td>
</tr>
<tr class="row-even"><td>LorentzCorrection</td>
<td>Input</td>
<td>boolean</td>
<td>False</td>
<td>Correct the weights of events or signals and errors transformed into reciprocal space by multiplying them by the Lorentz multiplier:  <img class="math" src="../_images/math/24ca5ce3893588eea70b9c50e296476cb3affa09.png" alt="sin(\theta)^2/\lambda^4" style="vertical-align: -5px"/>. Currently works in Q3D Elastic case only and is ignored in any other case.</td>
</tr>
<tr class="row-odd"><td>IgnoreZeroSignals</td>
<td>Input</td>
<td>boolean</td>
<td>False</td>
<td>Enabling this property forces the algorithm to ignore bins with zero signal for an input matrix workspace. Input event workspaces are not affected. This violates the data normalization but may substantially accelerate calculations in situations when the normalization is not important (e.g. peak finding).</td>
</tr>
<tr class="row-even"><td>Uproj</td>
<td>Input</td>
<td>dbl list</td>
<td>&nbsp;</td>
<td>Defines the first projection vector of the target Q coordinate system in <strong>Q3D</strong> mode - Default (1,0,0)</td>
</tr>
<tr class="row-odd"><td>Vproj</td>
<td>Input</td>
<td>dbl list</td>
<td>&nbsp;</td>
<td>Defines the second projection vector of the target Q coordinate system in <strong>Q3D</strong> mode - Default (0,1,0).</td>
</tr>
<tr class="row-even"><td>Wproj</td>
<td>Input</td>
<td>dbl list</td>
<td>&nbsp;</td>
<td>Defines the third projection vector of the target Q coordinate system in <strong>Q3D</strong> mode. - Default (0,0,1)</td>
</tr>
<tr class="row-odd"><td>AbsMinQ</td>
<td>Input</td>
<td>number</td>
<td>0</td>
<td>Do not add events to MD workspace that are closer to the origin in QSample radius than this value. Needed for 3Dviews to remove noise.</td>
</tr>
<tr class="row-even"><td>OutputWorkspace</td>
<td>Output</td>
<td><a class="reference internal" href="../concepts/MDWorkspace.html#mdworkspace"><em>MDEventWorkspace</em></a></td>
<td><em>Mandatory</em></td>
<td>Name of the output <em>MDEventWorkspace</em>.</td>
</tr>
<tr class="row-odd"><td>OverwriteExisting</td>
<td>Input</td>
<td>boolean</td>
<td>True</td>
<td>By default  (&#8220;1&#8221;), existing Output Workspace will be replaced. Select false (&#8220;0&#8221;) if you want to add new events to the workspace, which already exist.  Choosing &#8220;0&#8221; can be very inefficient for file-based workspaces</td>
</tr>
<tr class="row-even"><td>MinValues</td>
<td>Input</td>
<td>dbl list</td>
<td>&nbsp;</td>
<td>It has to be N comma separated values, where N is the number of dimensions of the target workspace. Values smaller then specified here will not be added to workspace.  Number N is defined by properties 4,6 and 7 and described on <em>MD Transformation factory</em> page. See also <a class="reference internal" href="ConvertToMDMinMaxLocal-v1.html#algm-converttomdminmaxlocal"><em>ConvertToMDMinMaxLocal v1</em></a></td>
</tr>
<tr class="row-odd"><td>MaxValues</td>
<td>Input</td>
<td>dbl list</td>
<td>&nbsp;</td>
<td>A list of the same size and the same units as MinValues list. Values higher or equal to the specified by this list will be ignored</td>
</tr>
<tr class="row-even"><td>SplitInto</td>
<td>Input</td>
<td>int list</td>
<td>5</td>
<td>A comma separated list of into how many sub-grid elements each dimension should split; or just one to split into the same number for all dimensions. Default 5.</td>
</tr>
<tr class="row-odd"><td>SplitThreshold</td>
<td>Input</td>
<td>number</td>
<td>1000</td>
<td>How many events in a box before it should be split. Default 1000.</td>
</tr>
<tr class="row-even"><td>MaxRecursionDepth</td>
<td>Input</td>
<td>number</td>
<td>20</td>
<td>How many levels of box splitting recursion are allowed. The smallest box will have each side length <img class="math" src="../_images/math/06a14defbd5d0fe6b910e9966e754c4b75f25bee.png" alt="l = (extents) / (SplitInto^{MaxRecursionDepth})." style="vertical-align: -5px"/> Default 20.</td>
</tr>
<tr class="row-odd"><td>MinRecursionDepth</td>
<td>Input</td>
<td>number</td>
<td>1</td>
<td>Optional. If specified, then all the boxes will be split to this minimum recursion depth. 0 = no splitting, 1 = one level of splitting, etc.   Be careful using this since it can quickly create a huge number of boxes = (SplitInto ^ (MinRercursionDepth * NumDimensions)).   But setting this property equal to MaxRecursionDepth property is necessary if one wants to generate multiple file based workspaces in order to merge them later.</td>
</tr>
<tr class="row-even"><td>TopLevelSplitting</td>
<td>Input</td>
<td>boolean</td>
<td>False</td>
<td>This option causes a split of the top level, i.e. level0, of 50 for the first four dimensions.</td>
</tr>
<tr class="row-odd"><td>Filename</td>
<td>Input</td>
<td>string</td>
<td>&nbsp;</td>
<td>The name of the Nexus file to write, as a full or relative path. Only used if FileBackEnd is true. Allowed extensions: [&#8216;.nxs&#8217;]</td>
</tr>
<tr class="row-even"><td>FileBackEnd</td>
<td>Input</td>
<td>boolean</td>
<td>False</td>
<td>If true, Filename must also be specified. The algorithm will create the specified file in addition to an output workspace. The workspace will load data from the file on demand in order to reduce memory use.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="description">
<h2><a class="toc-backref" href="#id3">Description</a><a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>The algorithm is used transform existing <a class="reference internal" href="../concepts/EventWorkspace.html#eventworkspace"><em>Event</em></a>
or <a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><em>Matrix</em></a> workspace into
<a class="reference external" href="http://www.mantidproject.org/MDEventWorkspace">Multidimensional workspace</a> using
<a class="reference external" href="http://www.mantidproject.org/MD_Transformation_factory">MD Transformations Factory</a>.</p>
<p>If  the target workspace does not exist, the algorithm creates <a class="reference external" href="http://www.mantidproject.org/MDEventWorkspace">MDEventWorkspace</a>
with selected dimensions, e.g. the reciprocal space of momentums <strong>(Qx, Qy, Qz)</strong> or momentums modules <strong>|Q|</strong>, energy transfer <strong>dE</strong> if available
and any other user specified log values which can be treated as dimensions. If the target workspace do exist,
the <strong>MD Events</strong> are added to this workspace.</p>
<p>Using the FileBackEnd and Filename properties the algorithm can produce a file-backed workspace.
Note that this will significantly increase the execution time of the algorithm.</p>
</div>
<div class="section" id="used-subalgorithms">
<h2><a class="toc-backref" href="#id4">Used Subalgorithms</a><a class="headerlink" href="#used-subalgorithms" title="Permalink to this headline">¶</a></h2>
<p>The algorithm uses <a class="reference internal" href="../concepts/UnitFactory.html#unit-factory"><em>Unit Factory</em></a> and existing unit
conversion procedures from the input Workspace <a class="reference internal" href="../concepts/UnitFactory.html#unit-factory"><em>units</em></a>
to the <a class="reference internal" href="../concepts/UnitFactory.html#unit-factory"><em>units</em></a> , necessary
for transformation into correspondent <strong>MD Event workspace</strong>. It also uses
<a class="reference internal" href="PreprocessDetectorsToMD-v1.html#algm-preprocessdetectorstomd"><em>PreprocessDetectorsToMD v1</em></a> algorithm to help
with transformation to reciprocal space.</p>
<p>If min, max or both lists of values (properties 12 and 13) for the
algorithm are not specified,
<a class="reference internal" href="ConvertToMDMinMaxLocal-v1.html#algm-converttomdminmaxlocal"><em>ConvertToMDMinMaxLocal v1</em></a> is used to estimate
missing min-max values. This algorithm is also used to calculate min-max
values if specified min-max values are deemed incorrect (e.g. less
values then dimensions or some min values are bigger then max values)</p>
<p><img class="math" src="../_images/math/06a14defbd5d0fe6b910e9966e754c4b75f25bee.png" alt="l = (extents) / (SplitInto^{MaxRecursionDepth})." style="vertical-align: -5px"/></p>
</div>
<div class="section" id="notes">
<h2><a class="toc-backref" href="#id5">Notes</a><a class="headerlink" href="#notes" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li>For elastic analysis (<img class="math" src="../_images/math/b72a5829cf37a70b05a9d735220e5d9168d3f8a2.png" alt="dEAnalysisMode=Elastic" style="vertical-align: -4px"/>) the target
<a class="reference internal" href="../concepts/UnitFactory.html#unit-factory"><em>unit</em></a> is momentum <img class="math" src="../_images/math/99aa4698956c865059a0ab31e3bdde707a85853d.png" alt="k" style="vertical-align: 0px"/>.</li>
<li>For no analysis (CopyToMD) mode, the units remain the one, previously
defined along the workspace&#8217;s axes.</li>
<li>When units of input Matrix 2D workspace (Histogram workspace) are not
Momentums for Elastic or EnergyTransfer for inelastic mode, the
algorithm uses internal unit conversion of input X-values based on
central average of a bin ranges. Namely, value
<img class="math" src="../_images/math/7241142d96787c7b5b029e158021ed2ab885e7f4.png" alt="X_c = 0.5*(X_i+X_{i+1})" style="vertical-align: -4px"/> is calculated and converted to
Momentum or EnergyTransfer correspondingly. This can give slightly
different result from the case, when input workspace has been
converted into correspondent units before converting to MDEvents.</li>
<li>Confusing message &#8220;Error in execution of algorithm ConvertToMD: emode
must be equal to 1 or 2 for energy transfer calculation&#8221; is generated
when one tries to process the results of inelastic scattering
experiment in elastic mode. This message is generated by units
conversion routine, which finds out that one of the workspace axis is
in <a class="reference internal" href="../concepts/UnitFactory.html#unit-factory"><em>unit</em></a> of DeltaE. These units can not be directly
converted into momentum or energy, necessary for elastic mode. Select
Direct or Indirect mode and integrate over whole energy transfer
range to obtain MD workspace, which would correspond to an Elastic
mode.</li>
<li>A good guess on the limits can be obtained from the
<a class="reference internal" href="ConvertToMDMinMaxLocal-v1.html#algm-converttomdminmaxlocal"><em>ConvertToMDMinMaxLocal v1</em></a> algorithm.</li>
</ol>
</div>
<div class="section" id="how-to-write-custom-converttomd-plugin">
<h2><a class="toc-backref" href="#id6">How to write custom ConvertToMD plugin</a><a class="headerlink" href="#how-to-write-custom-converttomd-plugin" title="Permalink to this headline">¶</a></h2>
<p>This information intended for developers who have at least basic
knowledge of C++ and needs to write its own
plugin using <a class="reference external" href="http://www.mantidproject.org/Writing_custom_ConvertTo_MD_transformation">custom ConvertTo MD transformation</a>.</p>
</div>
<div class="section" id="usage-examples">
<h2><a class="toc-backref" href="#id7">Usage examples</a><a class="headerlink" href="#usage-examples" title="Permalink to this headline">¶</a></h2>
<p>The examples below demonstrate the usages of the algorithm in most
common situations. They work with the data files which already used by
Mantid for different testing tasks.</p>
<p><strong>Example - Convert re-binned MARI 2D workspace to 3D MD workspace for further analysis/merging with data at different temperatures :</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># Load Operation (disabled in test code)</span>
<span class="c"># Load(Filename=&#39;MAR11001.nxspe&#39;,OutputWorkspace=&#39;MAR11001&#39;)</span>
<span class="c"># Simulates Load of the workspace above #################</span>
<span class="n">redWS</span> <span class="o">=</span> <span class="n">CreateSimulationWorkspace</span><span class="p">(</span><span class="n">Instrument</span><span class="o">=</span><span class="s">&#39;MAR&#39;</span><span class="p">,</span><span class="n">BinParams</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">],</span><span class="n">UnitX</span><span class="o">=</span><span class="s">&#39;DeltaE&#39;</span><span class="p">,</span><span class="n">OutputWorkspace</span><span class="o">=</span><span class="s">&#39;MAR11001&#39;</span><span class="p">)</span>
<span class="n">AddSampleLog</span><span class="p">(</span><span class="n">redWS</span><span class="p">,</span><span class="n">LogName</span><span class="o">=</span><span class="s">&#39;Ei&#39;</span><span class="p">,</span><span class="n">LogText</span><span class="o">=</span><span class="s">&#39;12.&#39;</span><span class="p">,</span><span class="n">LogType</span><span class="o">=</span><span class="s">&#39;Number&#39;</span><span class="p">);</span>
<span class="c"># Do fine rebinning, which accounts for poligon intersections</span>
<span class="n">SofQW3</span><span class="p">(</span><span class="n">InputWorkspace</span><span class="o">=</span><span class="s">&#39;MAR11001&#39;</span><span class="p">,</span><span class="n">OutputWorkspace</span><span class="o">=</span><span class="s">&#39;MAR11001Qe2&#39;</span><span class="p">,</span><span class="n">QAxisBinning</span><span class="o">=</span><span class="s">&#39;0,0.1,7&#39;</span><span class="p">,</span><span class="n">EMode</span><span class="o">=</span><span class="s">&#39;Direct&#39;</span><span class="p">)</span>
<span class="n">AddSampleLog</span><span class="p">(</span><span class="n">Workspace</span><span class="o">=</span><span class="s">&#39;MAR11001Qe2&#39;</span><span class="p">,</span><span class="n">LogName</span><span class="o">=</span><span class="s">&#39;T&#39;</span><span class="p">,</span><span class="n">LogText</span><span class="o">=</span><span class="s">&#39;100.0&#39;</span><span class="p">,</span><span class="n">LogType</span><span class="o">=</span><span class="s">&#39;Number Series&#39;</span><span class="p">)</span>
<span class="c"># copy to new MD workspace</span>
<span class="n">ws</span><span class="o">=</span><span class="n">ConvertToMD</span><span class="p">(</span><span class="n">InputWorkspace</span><span class="o">=</span><span class="s">&#39;MAR11001Qe2&#39;</span><span class="p">,</span><span class="n">OutputWorkspace</span><span class="o">=</span><span class="s">&#39;MD3&#39;</span><span class="p">,</span><span class="n">QDimensions</span><span class="o">=</span><span class="s">&#39;CopyToMD&#39;</span><span class="p">,</span><span class="n">OtherDimensions</span><span class="o">=</span><span class="s">&#39;T&#39;</span><span class="p">,</span>\
<span class="n">MinValues</span><span class="o">=</span><span class="s">&#39;-10,0,0&#39;</span><span class="p">,</span><span class="n">MaxValues</span><span class="o">=</span><span class="s">&#39;10,6,500&#39;</span><span class="p">,</span><span class="n">SplitInto</span><span class="o">=</span><span class="s">&#39;50,50,5&#39;</span><span class="p">)</span>


<span class="c">#Output **MD3** workspace can be viewed in slice-viewer as 3D workspace with T-axis having single value.</span>
<span class="c">#Visualize 3D data using slice viewer:</span>
<span class="c">#plotSlice(ws)</span>

<span class="c"># Look at sample results:</span>
<span class="c"># A way to look at these results as a text:</span>
<span class="k">print</span> <span class="s">&quot;Resulting MD workspace has {0} events and {1} dimensions&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ws</span><span class="o">.</span><span class="n">getNEvents</span><span class="p">(),</span><span class="n">ws</span><span class="o">.</span><span class="n">getNumDims</span><span class="p">())</span>
<span class="c">#print &quot;MD workspace ID is:\n&quot;,ws.id</span>
<span class="k">print</span> <span class="s">&quot;--------------------------------------------&quot;</span>
</pre></div>
</div>
<p><strong>Output:</strong></p>
<div class="highlight-none"><div class="highlight"><pre>Resulting MD workspace has 805 events and 3 dimensions
--------------------------------------------
</pre></div>
</div>
<p><strong>Example - Convert Set of Event Workspaces (Horace scan) to 4D MD workspace, direct mode:</strong></p>
<p>Meaningfull results can be obtained on the basis of CNCS_7860_event.nxs file, available in Mantid
test folder. The script below simulates workspace loading but would produce meaningfill result if real experimental data
obtained in an experiment and stored in nxspe files are provided to it.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">os</span>
<span class="c"># set up target ws name and remove target workspace with the same name which can occasionally exist.</span>
<span class="c"># list of MD files (workspaces) to combine into target MD workspace</span>
<span class="n">MD_FilesList</span><span class="o">=</span><span class="s">&#39;&#39;</span><span class="p">;</span>

<span class="c"># define convetr to MD parameters</span>
<span class="n">pars</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">();</span>
<span class="n">pars</span><span class="p">[</span><span class="s">&#39;InputWorkspace&#39;</span><span class="p">]</span><span class="o">=</span><span class="s">&#39;&#39;</span>
<span class="n">pars</span><span class="p">[</span><span class="s">&#39;QDimensions&#39;</span><span class="p">]</span><span class="o">=</span><span class="s">&#39;Q3D&#39;</span>
<span class="n">pars</span><span class="p">[</span><span class="s">&#39;dEAnalysisMode&#39;</span><span class="p">]</span><span class="o">=</span><span class="s">&#39;Direct&#39;</span>
<span class="n">pars</span><span class="p">[</span><span class="s">&#39;Q3DFrames&#39;</span><span class="p">]</span><span class="o">=</span><span class="s">&#39;HKL&#39;</span>
<span class="n">pars</span><span class="p">[</span><span class="s">&#39;QConversionScales&#39;</span><span class="p">]</span><span class="o">=</span><span class="s">&#39;HKL&#39;</span>
<span class="n">pars</span><span class="p">[</span><span class="s">&#39;PreprocDetectorsWS&#39;</span><span class="p">]</span><span class="o">=</span><span class="s">&#39;preprDetMantid&#39;</span>
<span class="n">pars</span><span class="p">[</span><span class="s">&#39;MinValues&#39;</span><span class="p">]</span><span class="o">=</span><span class="s">&#39;-3,-3,-3.,-50.0&#39;</span>
<span class="n">pars</span><span class="p">[</span><span class="s">&#39;MaxValues&#39;</span><span class="p">]</span><span class="o">=</span><span class="s">&#39;3.,3.,3.,50.0&#39;</span>
<span class="n">pars</span><span class="p">[</span><span class="s">&#39;SplitInto&#39;</span><span class="p">]</span><span class="o">=</span><span class="mi">50</span>
<span class="n">pars</span><span class="p">[</span><span class="s">&#39;MaxRecursionDepth&#39;</span><span class="p">]</span><span class="o">=</span><span class="mi">1</span>
<span class="n">pars</span><span class="p">[</span><span class="s">&#39;MinRecursionDepth&#39;</span><span class="p">]</span><span class="o">=</span><span class="mi">1</span>
<span class="n">pars</span><span class="p">[</span><span class="s">&#39;OverwriteExisting&#39;</span><span class="p">]</span><span class="o">=</span><span class="mi">1</span>  <span class="c"># Change this to false, if the files should/can be added in memory</span>
<span class="c"># test script combines all contributed files in memory</span>
<span class="n">pars</span><span class="p">[</span><span class="s">&#39;OverwriteExisting&#39;</span><span class="p">]</span><span class="o">=</span><span class="mi">0</span>  <span class="c"># Change this to false, if the files should/can be added in memory</span>
<span class="c">#</span>
<span class="c">#---&gt; Start loop over contributing files</span>
<span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">):</span>
     <span class="n">source_file</span> <span class="o">=</span> <span class="s">&#39;MER19566_22.0meV_one2one125.nxspe&#39;</span><span class="p">;</span> <span class="c"># redefine source files list as function of loop number</span>
     <span class="n">target</span>  <span class="o">=</span> <span class="s">&#39;MDMAP_T1&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="o">+</span><span class="s">&#39;.nxs&#39;</span><span class="p">;</span>
     <span class="c"># check if the file already been converted to MD and is there</span>
     <span class="k">if</span> <span class="ow">not</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">target</span> <span class="p">)):</span>
         <span class="k">print</span> <span class="s">&#39;Converting &#39;</span><span class="p">,</span><span class="n">source_file</span>
         <span class="c">#current_ws=LoadNXSPE(Filename=source)</span>
         <span class="c">#### For the sample script, simulate load operation above</span>
         <span class="n">current_ws</span> <span class="o">=</span> <span class="n">CreateSimulationWorkspace</span><span class="p">(</span><span class="n">Instrument</span><span class="o">=</span><span class="s">&#39;MAR&#39;</span><span class="p">,</span><span class="n">BinParams</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span><span class="n">UnitX</span><span class="o">=</span><span class="s">&#39;DeltaE&#39;</span><span class="p">,</span><span class="n">OutputWorkspace</span><span class="o">=</span><span class="n">source_file</span><span class="p">)</span>
         <span class="n">AddSampleLog</span><span class="p">(</span><span class="n">Workspace</span><span class="o">=</span><span class="n">current_ws</span><span class="p">,</span><span class="n">LogName</span><span class="o">=</span><span class="s">&#39;Ei&#39;</span><span class="p">,</span><span class="n">LogText</span><span class="o">=</span><span class="s">&#39;3.0&#39;</span><span class="p">,</span><span class="n">LogType</span><span class="o">=</span><span class="s">&#39;Number&#39;</span><span class="p">)</span>

         <span class="c">#### Add iformation which is not stored in the nxspe file</span>
         <span class="c"># Add UB matrix (lattice and the beam direction)</span>
         <span class="n">SetUB</span><span class="p">(</span><span class="n">Workspace</span><span class="o">=</span><span class="n">current_ws</span><span class="p">,</span><span class="n">a</span><span class="o">=</span><span class="s">&#39;1.4165&#39;</span><span class="p">,</span><span class="n">b</span><span class="o">=</span><span class="s">&#39;1.4165&#39;</span><span class="p">,</span><span class="n">c</span><span class="o">=</span><span class="s">&#39;1.4165&#39;</span><span class="p">,</span><span class="n">u</span><span class="o">=</span><span class="s">&#39;1,0,0&#39;</span><span class="p">,</span><span class="n">v</span><span class="o">=</span><span class="s">&#39;0,1,0&#39;</span><span class="p">)</span>
         <span class="c"># Add crystal rotation (assume rotation abgle Psi=5*n where n is file number. Define list of angles if this is not correct</span>
         <span class="n">AddSampleLog</span><span class="p">(</span><span class="n">Workspace</span><span class="o">=</span><span class="n">current_ws</span><span class="p">,</span><span class="n">LogName</span><span class="o">=</span><span class="s">&#39;Psi&#39;</span><span class="p">,</span><span class="n">LogText</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="mi">5</span><span class="o">*</span><span class="n">n</span><span class="p">)</span><span class="o">+</span><span class="s">&#39;.&#39;</span><span class="p">,</span><span class="n">LogType</span><span class="o">=</span><span class="s">&#39;Number&#39;</span><span class="p">)</span>  <span class="c"># --correct Psi value may be already in nxspe file. This operation is then unnecessary</span>
         <span class="c"># set crystal rotation</span>
         <span class="n">SetGoniometer</span><span class="p">(</span><span class="n">Workspace</span><span class="o">=</span><span class="n">current_ws</span><span class="p">,</span><span class="n">Axis0</span><span class="o">=</span><span class="s">&#39;Psi,0,1,0,1&#39;</span><span class="p">)</span>

         <span class="c"># Convert to MD</span>
         <span class="n">pars</span><span class="p">[</span><span class="s">&#39;InputWorkspace&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">current_ws</span><span class="p">;</span>
         <span class="n">md_ws</span><span class="o">=</span><span class="n">ConvertToMD</span><span class="p">(</span><span class="o">**</span><span class="n">pars</span><span class="p">)</span>

         <span class="c"># save MD for further usage -- disabled in test script</span>
         <span class="c">#SaveMD(md_ws,Filename=target);</span>
         <span class="c">#DeleteWorkspace(md_ws);  # delete intermediate workspace to save memory</span>
         <span class="n">DeleteWorkspace</span><span class="p">(</span><span class="n">current_ws</span><span class="p">);</span>

     <span class="c"># add the file name of the file to combine</span>
     <span class="k">if</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">MD_FilesList</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
         <span class="n">MD_FilesList</span> <span class="o">=</span> <span class="n">target</span><span class="p">;</span>
     <span class="k">else</span><span class="p">:</span>
         <span class="n">MD_FilesList</span><span class="o">=</span><span class="n">MD_FilesList</span><span class="o">+</span><span class="s">&#39;,&#39;</span><span class="o">+</span><span class="n">target</span><span class="p">;</span>
<span class="c">#---&gt; End loop</span>

<span class="c"># merge md files into file-based MD workspace</span>
<span class="c">#md_ws = MergeMDFiles(MD_FilesList,OutputFilename=&#39;TestSQW_1.nxs&#39;,Parallel=&#39;0&#39;);</span>
<span class="c"># plot results using sliceviewer</span>
<span class="c">#plotSlice(md_ws)</span>
<span class="c"># produce some test output</span>
<span class="k">print</span> <span class="s">&quot;Resulting MD workspace contains {0} events and {1} dimensions&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">md_ws</span><span class="o">.</span><span class="n">getNEvents</span><span class="p">(),</span><span class="n">md_ws</span><span class="o">.</span><span class="n">getNumDims</span><span class="p">())</span>
<span class="c">#print &quot;MD workspace ID is:\n&quot;,md_ws.id</span>
<span class="k">print</span> <span class="s">&quot;--------------------------------------------&quot;</span>
</pre></div>
</div>
<p><strong>Output:</strong></p>
<div class="highlight-none"><div class="highlight"><pre>Converting  MER19566_22.0meV_one2one125.nxspe
Converting  MER19566_22.0meV_one2one125.nxspe
Converting  MER19566_22.0meV_one2one125.nxspe
Converting  MER19566_22.0meV_one2one125.nxspe
Converting  MER19566_22.0meV_one2one125.nxspe
Resulting MD workspace contains 27540 events and 4 dimensions
--------------------------------------------
</pre></div>
</div>
<p><strong>Example - Convert set of inelastic results obtained in Powder mode (direct) as function of temperature to a 3D workspace:</strong></p>
<p>This example produces 3-dimensional dataset, with a temperature axis.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># set up target ws name and remove target workspace with the same name which can occasionally exist.</span>
<span class="n">RezWS</span> <span class="o">=</span> <span class="s">&#39;WS_3D&#39;</span>
<span class="k">try</span><span class="p">:</span>
     <span class="n">DeleteWorkspace</span><span class="p">(</span><span class="n">RezWS</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
     <span class="k">print</span> <span class="s">&quot;Target ws &quot;</span><span class="p">,</span><span class="n">RezWS</span><span class="p">,</span><span class="s">&quot; not found in analysis data service</span><span class="se">\n</span><span class="s">&quot;</span>

<span class="c"># define convert to MD parameters</span>
<span class="n">pars</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">();</span>
<span class="n">pars</span><span class="p">[</span><span class="s">&#39;InputWorkspace&#39;</span><span class="p">]</span><span class="o">=</span><span class="s">&#39;&#39;</span>
<span class="n">pars</span><span class="p">[</span><span class="s">&#39;QDimensions&#39;</span><span class="p">]</span><span class="o">=</span><span class="s">&#39;|Q|&#39;</span>
<span class="n">pars</span><span class="p">[</span><span class="s">&#39;dEAnalysisMode&#39;</span><span class="p">]</span><span class="o">=</span><span class="s">&#39;Direct&#39;</span>
<span class="n">pars</span><span class="p">[</span><span class="s">&#39;OtherDimensions&#39;</span><span class="p">]</span><span class="o">=</span><span class="s">&#39;T&#39;</span>  <span class="c"># make temperature log to be a dimension</span>
<span class="n">pars</span><span class="p">[</span><span class="s">&#39;PreprocDetectorsWS&#39;</span><span class="p">]</span><span class="o">=</span><span class="s">&#39;preprDetMantid&#39;</span>
<span class="n">pars</span><span class="p">[</span><span class="s">&#39;MinValues&#39;</span><span class="p">]</span><span class="o">=</span><span class="s">&#39;0,-10,0&#39;</span>
<span class="n">pars</span><span class="p">[</span><span class="s">&#39;MaxValues&#39;</span><span class="p">]</span><span class="o">=</span><span class="s">&#39;12,10,10&#39;</span>
<span class="n">pars</span><span class="p">[</span><span class="s">&#39;SplitInto&#39;</span><span class="p">]</span><span class="o">=</span><span class="s">&#39;100,100,12&#39;</span>
<span class="n">pars</span><span class="p">[</span><span class="s">&#39;OverwriteExisting&#39;</span><span class="p">]</span><span class="o">=</span><span class="mi">0</span>  <span class="c"># contributed MD worskpaces are added in memory</span>

<span class="c"># let&#39;s assume this is the temperature range obtained in experiments and</span>
<span class="c"># each data file is obtained for particular temperature.</span>
<span class="n">T</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">2.0</span><span class="p">,</span><span class="mf">3.0</span><span class="p">,</span><span class="mf">3.5</span><span class="p">,</span><span class="mf">4.0</span><span class="p">,</span><span class="mf">5.0</span><span class="p">,</span><span class="mf">6.0</span><span class="p">,</span><span class="mf">7.0</span><span class="p">,</span><span class="mf">8.0</span><span class="p">,</span><span class="mf">9.0</span><span class="p">,</span><span class="mf">9.5</span><span class="p">,</span><span class="mf">10.0</span><span class="p">]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">T</span><span class="p">),</span><span class="mi">1</span><span class="p">):</span>
     <span class="c"># source = sorurce_file_name[i];</span>
     <span class="c">#current_ws=LoadNXSPE(Filename=source)</span>
     <span class="c"># EMULATE LOAD OF DIFFERENT results obtained for different temperatures. ------&gt;</span>
     <span class="n">current_ws</span> <span class="o">=</span> <span class="n">CreateSimulationWorkspace</span><span class="p">(</span><span class="n">Instrument</span><span class="o">=</span><span class="s">&#39;MAR&#39;</span><span class="p">,</span><span class="n">BinParams</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span><span class="mf">0.1</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span><span class="n">UnitX</span><span class="o">=</span><span class="s">&#39;DeltaE&#39;</span><span class="p">)</span>
     <span class="n">AddSampleLog</span><span class="p">(</span><span class="n">Workspace</span><span class="o">=</span><span class="n">current_ws</span><span class="p">,</span><span class="n">LogName</span><span class="o">=</span><span class="s">&#39;Ei&#39;</span><span class="p">,</span><span class="n">LogText</span><span class="o">=</span><span class="s">&#39;3.0&#39;</span><span class="p">,</span><span class="n">LogType</span><span class="o">=</span><span class="s">&#39;Number&#39;</span><span class="p">)</span>
     <span class="c"># if the file does not have temperature log, add it here.</span>
     <span class="n">AddSampleLog</span><span class="p">(</span><span class="n">Workspace</span><span class="o">=</span><span class="n">current_ws</span><span class="p">,</span><span class="n">LogName</span><span class="o">=</span><span class="s">&#39;T&#39;</span><span class="p">,</span><span class="n">LogText</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">T</span><span class="p">[</span><span class="n">i</span><span class="p">]),</span><span class="n">LogType</span><span class="o">=</span><span class="s">&#39;Number Series&#39;</span><span class="p">)</span>
     <span class="c"># simulate changes in scattering with temperature</span>
     <span class="n">current_ws</span> <span class="o">=</span> <span class="n">current_ws</span><span class="o">*</span><span class="n">T</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
     <span class="c"># END EMULATION ---------------------------------------------------------------------</span>

     <span class="n">pars</span><span class="p">[</span><span class="s">&#39;InputWorkspace&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">current_ws</span><span class="p">;</span>
     <span class="n">md_ws</span><span class="o">=</span><span class="n">ConvertToMD</span><span class="p">(</span><span class="o">**</span><span class="n">pars</span><span class="p">)</span>
     <span class="c"># delete source workspace from memory;</span>
     <span class="n">DeleteWorkspace</span><span class="p">(</span><span class="n">current_ws</span><span class="p">)</span>
 <span class="c"># end loop</span>

<span class="c">#plotSlice(RezWS)</span>
<span class="c"># produce some test output</span>
<span class="k">print</span> <span class="s">&quot;Resulting MD workspace contains {0} events and {1} dimensions&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">md_ws</span><span class="o">.</span><span class="n">getNEvents</span><span class="p">(),</span><span class="n">md_ws</span><span class="o">.</span><span class="n">getNumDims</span><span class="p">())</span>
<span class="c">#print &quot;MD workspace ID is:\n&quot;,md_ws.id</span>
<span class="k">print</span> <span class="s">&quot;--------------------------------------------&quot;</span>
</pre></div>
</div>
<p><strong>Output:</strong></p>
<div class="highlight-none"><div class="highlight"><pre>Target ws  WS_3D  not found in analysis data service

Resulting MD workspace contains 605880 events and 3 dimensions
--------------------------------------------
</pre></div>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/Algorithms.html">Algorithms</a> | <a class="reference external" href="categories/MDAlgorithms/Creation.html">MDAlgorithms\Creation</a></p>
</div>
<div class="section" id="source">
<h2><a class="toc-backref" href="#id8">Source</a><a class="headerlink" href="#source" title="Permalink to this headline">¶</a></h2>
<p>C++ source: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/2f15ec50de5065d8b6a032a915ac44d99f4a8835/Framework/MDAlgorithms/src/ConvertToMD.cpp">ConvertToMD.cpp</a></p>
<p>C++ header: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/2f15ec50de5065d8b6a032a915ac44d99f4a8835/Framework/MDAlgorithms/inc/MantidMDAlgorithms/ConvertToMD.h">ConvertToMD.h</a></p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="ConvertToHistogram-v1.html" title="Previous Chapter: ConvertToHistogram v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; ConvertToHistogr...</span>
    </a>
  </li>
  <li>
    <a href="ConvertToMDMinMaxGlobal-v1.html" title="Next Chapter: ConvertToMDMinMaxGlobal v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">ConvertToMDMinMa... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>