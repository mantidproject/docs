<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>EditInstrumentGeometry v1</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.12.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="" href="../index.html" />
    <link rel="next" title="ElasticWindow v1" href="ElasticWindow-v1.html" />
    <link rel="prev" title="EQSANSTofStructure v1" href="EQSANSTofStructure-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>3.12</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://docs.mantidproject.org/nightly/">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="editinstrumentgeometry-v1">
<span id="algm-editinstrumentgeometry"></span><span id="algm-editinstrumentgeometry-v1"></span><h1>EditInstrumentGeometry v1<a class="headerlink" href="#editinstrumentgeometry-v1" title="Permalink to this headline">¶</a></h1>
<div class="figure align-right" id="index-0">
<a class="screenshot reference internal image-reference" href="../_images/EditInstrumentGeometry-v1_dlg.png"><img alt="../_images/EditInstrumentGeometry-v1_dlg.png" class="screenshot" src="../_images/EditInstrumentGeometry-v1_dlg.png" style="width: 210px;" /></a>
<p class="caption"><strong>EditInstrumentGeometry</strong> dialog.</p>
</div>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#summary" id="id1">Summary</a></li>
<li><a class="reference internal" href="#properties" id="id2">Properties</a></li>
<li><a class="reference internal" href="#description" id="id3">Description</a></li>
<li><a class="reference internal" href="#requirements-on-input-properties" id="id4">Requirements on input properties</a></li>
<li><a class="reference internal" href="#limitations" id="id5">Limitations</a></li>
<li><a class="reference internal" href="#instruction" id="id6">Instruction</a></li>
<li><a class="reference internal" href="#source" id="id7">Source</a></li>
</ul>
</div>
<div class="section" id="summary">
<h2><a class="toc-backref" href="#id1">Summary</a><a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>The edit or added information will be attached to a Workspace.  Currently it is in an overwrite mode only.</p>
</div>
<div class="section" id="properties">
<h2><a class="toc-backref" href="#id2">Properties</a><a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="7%" />
<col width="2%" />
<col width="17%" />
<col width="5%" />
<col width="68%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Direction</th>
<th class="head">Type</th>
<th class="head">Default</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Workspace</td>
<td>InOut</td>
<td><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><em>MatrixWorkspace</em></a></td>
<td><em>Mandatory</em></td>
<td>Workspace to edit the detector information</td>
</tr>
<tr class="row-odd"><td>PrimaryFlightPath</td>
<td>Input</td>
<td>number</td>
<td><em>Optional</em></td>
<td>Primary flight path L1 of the powder diffractometer.</td>
</tr>
<tr class="row-even"><td>SpectrumIDs</td>
<td>Input</td>
<td>int list</td>
<td>&nbsp;</td>
<td>Spectrum Numbers (note that it is not detector ID or workspace indices). The list must be either empty or have a size equal to input workspace&#8217;s histogram number.</td>
</tr>
<tr class="row-odd"><td>L2</td>
<td>Input</td>
<td>dbl list</td>
<td><em>Mandatory</em></td>
<td>Secondary flight (L2) paths for each detector.  Number of L2 given must be same as number of histogram.</td>
</tr>
<tr class="row-even"><td>Polar</td>
<td>Input</td>
<td>dbl list</td>
<td><em>Mandatory</em></td>
<td>Polar angles (two thetas) for detectors. Number of 2theta given must be same as number of histogram.</td>
</tr>
<tr class="row-odd"><td>Azimuthal</td>
<td>Input</td>
<td>dbl list</td>
<td>&nbsp;</td>
<td>Azimuthal angles (out-of-plane) for detectors. Number of azimuthal angles given must be same as number of histogram.</td>
</tr>
<tr class="row-even"><td>DetectorIDs</td>
<td>Input</td>
<td>int list</td>
<td>&nbsp;</td>
<td>User specified detector IDs of the spectra. Number of specified detector IDs must be either zero or number of histogram</td>
</tr>
<tr class="row-odd"><td>InstrumentName</td>
<td>Input</td>
<td>string</td>
<td>&nbsp;</td>
<td>Name of the newly built instrument.  If left empty, the original instrument will be used.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="description">
<h2><a class="toc-backref" href="#id3">Description</a><a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>This algorithm can</p>
<div class="line-block">
<div class="line"><tt class="docutils literal"><span class="pre">1.&nbsp;add&nbsp;an&nbsp;Instrument&nbsp;to&nbsp;a&nbsp;Workspace&nbsp;without&nbsp;any&nbsp;real&nbsp;instrument&nbsp;associated&nbsp;with,&nbsp;or</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">2.&nbsp;replace&nbsp;a&nbsp;Workspace's&nbsp;Instrument&nbsp;with&nbsp;a&nbsp;new&nbsp;Instrument,&nbsp;or</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">3.&nbsp;edit&nbsp;all&nbsp;detectors'&nbsp;parameters&nbsp;of&nbsp;the&nbsp;instrument&nbsp;associated&nbsp;with&nbsp;a&nbsp;Workspace&nbsp;(partial&nbsp;instrument&nbsp;editing&nbsp;is&nbsp;not&nbsp;supported).&nbsp;</span></tt></div>
</div>
</div>
<div class="section" id="requirements-on-input-properties">
<h2><a class="toc-backref" href="#id4">Requirements on input properties</a><a class="headerlink" href="#requirements-on-input-properties" title="Permalink to this headline">¶</a></h2>
<p>1. PrimaryFightPath (L1): If it is not given, L1 will be the distance
between source and sample in the original instrument. Otherwise, L1 is
read from input. The source position of the modified instrument is (0,
0, -L1);</p>
<p>2. SpectrumIDs: If not specified (empty list), then Spectrum Numbers will be
set up to any array such that SpectrumNos[wsindex] is the spectrum Number of
workspace index &#8216;wsindex&#8217;;</p>
<ol class="arabic simple" start="3">
<li>L2 and Polar cannot be empty list;</li>
</ol>
<p>4. SpectrumIDs[i], L2[i], Polar[i], Azimuthal[i] and optional
DetectorIDs[i] correspond to the detector of a same spectrum.</p>
<ol class="arabic simple" start="5">
<li>Angles are specified in degrees.</li>
</ol>
</div>
<div class="section" id="limitations">
<h2><a class="toc-backref" href="#id5">Limitations</a><a class="headerlink" href="#limitations" title="Permalink to this headline">¶</a></h2>
<p>There are some limitations of this algorithm.</p>
<ol class="arabic simple">
<li>The key to locate the detector is via spectrum Number;</li>
</ol>
<p>2. For each spectrum, there is only one and only one new detector. Thus,
if one spectrum is associated with a group of detectors previously, the
replacement (new) detector is the one which is (diffraction) focused on
after this algorithm is called.</p>
</div>
<div class="section" id="instruction">
<h2><a class="toc-backref" href="#id6">Instruction</a><a class="headerlink" href="#instruction" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li>For powder diffractomer with 3 spectra, user can input</li>
</ol>
<div class="line-block">
<div class="line"><tt class="docutils literal"><span class="pre">&nbsp;&nbsp;SpectrumIDs&nbsp;=&nbsp;&quot;1,&nbsp;3,&nbsp;2&quot;</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">&nbsp;&nbsp;L2&nbsp;=&nbsp;&quot;3.1,&nbsp;3.2,&nbsp;3.3&quot;</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">&nbsp;&nbsp;Polar&nbsp;=&nbsp;&quot;90.01,&nbsp;90.02,&nbsp;90.03&quot;</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">&nbsp;&nbsp;Azimuthal&nbsp;=&nbsp;&quot;0.1,0.2,0.3&quot;</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">&nbsp;&nbsp;to&nbsp;set&nbsp;up&nbsp;the&nbsp;focused&nbsp;detectors'&nbsp;parameters&nbsp;for&nbsp;spectrum&nbsp;1,&nbsp;3&nbsp;and&nbsp;2.</span></tt></div>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/Algorithms.html">Algorithms</a> | <a class="reference external" href="categories/Diffraction/DataHandling.html">Diffraction\DataHandling</a> | <a class="reference external" href="categories/DataHandling/Instrument.html">DataHandling\Instrument</a></p>
</div>
<div class="section" id="source">
<h2><a class="toc-backref" href="#id7">Source</a><a class="headerlink" href="#source" title="Permalink to this headline">¶</a></h2>
<p>C++ source: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/5d6dddaa6354533ad7536be123c78a52660a8bbb/Framework/Algorithms/src/EditInstrumentGeometry.cpp">EditInstrumentGeometry.cpp</a> <em>(last modified: 2018-03-07)</em></p>
<p>C++ header: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/5d6dddaa6354533ad7536be123c78a52660a8bbb/Framework/Algorithms/inc/MantidAlgorithms/EditInstrumentGeometry.h">EditInstrumentGeometry.h</a> <em>(last modified: 2018-03-07)</em></p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="EQSANSTofStructure-v1.html" title="Previous Chapter: EQSANSTofStructure v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; EQSANSTofStructu...</span>
    </a>
  </li>
  <li>
    <a href="ElasticWindow-v1.html" title="Next Chapter: ElasticWindow v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">ElasticWindow v1 &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
      Last updated on 2018-04-19.<br/>
    </p>
  </div>
</footer>
  </body>
</html>