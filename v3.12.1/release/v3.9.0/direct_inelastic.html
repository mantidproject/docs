<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Direct Inelastic Changes</title>
    
    <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap-3.3.6/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap-3.3.6/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '3.12.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="" href="../../index.html" />
    <link rel="up" title="Mantid 3.9.0 Release Notes" href="index.html" />
    <link rel="next" title="Indirect Inelastic Changes" href="indirect_inelastic.html" />
    <link rel="prev" title="UI &amp; Usability Changes" href="ui.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>3.12</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://docs.mantidproject.org/nightly/">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="direct-inelastic-changes">
<h1>Direct Inelastic Changes<a class="headerlink" href="#direct-inelastic-changes" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#improvements" id="id1">Improvements</a></li>
<li><a class="reference internal" href="#new-features" id="id2">New features</a><ul>
<li><a class="reference internal" href="#algorithms" id="id3">Algorithms</a></li>
</ul>
</li>
<li><a class="reference internal" href="#crystal-field" id="id4">Crystal Field</a></li>
</ul>
</div>
<div class="section" id="improvements">
<h2><a class="toc-backref" href="#id1">Improvements</a><a class="headerlink" href="#improvements" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>New algorithm <a class="reference internal" href="../../algorithms/CalculateCountRate-v1.html#algm-calculatecountrate"><em>CalculateCountRate</em></a> allows to calculate instrument counting rate as function of the experiment
time to be able to filter spurions, which may sometimes appear on ISIS instruments. It can also be used to evaluate changes
of sample reflectivity as function of some slow changing experiment&#8217;s parameter e.g. temperature, magnetic field or pressure.</li>
<li>The previously inaccurate instrument definition for IN4 at ILL has been updated. The instrument geometry should now be more correct.</li>
<li><a class="reference internal" href="../../algorithms/LoadILLTOF-v2.html#algm-loadilltof"><em>LoadILLTOF</em></a> has been upgraded to version 2. The new version loads the TOF axis as defined by the &#8216;time_of_flight&#8217; field in the NeXus file. Consequently, the <em>FilenameVanadium</em> and <em>WorkspaceVanadium</em> input properties were removed and no &#8216;EPP&#8217; entry is added to the sample logs anymore.</li>
<li>The Debye-Waller factor correction was applied incorrectly to the vanadium data in <a class="reference internal" href="../../algorithms/ComputeCalibrationCoefVan-v1.html#algm-computecalibrationcoefvan"><em>ComputeCalibrationCoefVan</em></a>. This, as well as too pessimistic error evaluation in the algorithm have been fixed.</li>
<li>A new input property <em>Temperature</em> has been added to <a class="reference internal" href="../../algorithms/ComputeCalibrationCoefVan-v1.html#algm-computecalibrationcoefvan"><em>ComputeCalibrationCoefVan</em></a>.</li>
<li><a class="reference internal" href="../../interfaces/PyChop.html#pychop"><em>PyChop</em></a> has been updated to reflect physical changes to LET&#8217;s choppers. It will now also not output zero flux Ei reps for LET and Merlin in multi-rep mode. An additional tab is created if the &#8220;Instrument Scientist Mode&#8221; option is selected which shows the time widths at the detector due to the moderator and choppers for each calculation.</li>
</ul>
</div>
<div class="section" id="new-features">
<h2><a class="toc-backref" href="#id2">New features</a><a class="headerlink" href="#new-features" title="Permalink to this headline">¶</a></h2>
<div class="section" id="algorithms">
<h3><a class="toc-backref" href="#id3">Algorithms</a><a class="headerlink" href="#algorithms" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>A utility algorithm <a class="reference internal" href="../../algorithms/WorkflowAlgorithmRunner-v1.html#algm-workflowalgorithmrunner"><em>WorkflowAlgorithmRunner</em></a> has been added to manage the running of certain data reduction workflows at ILL.</li>
<li>New algorithm <a class="reference internal" href="../../algorithms/CorrectTOFAxis-v1.html#algm-correcttofaxis"><em>CorrectTOFAxis</em></a> enables the adjustment of the time-of-flight axis according to incident energy or reference workspace.</li>
</ul>
</div>
</div>
<div class="section" id="crystal-field">
<h2><a class="toc-backref" href="#id4">Crystal Field</a><a class="headerlink" href="#crystal-field" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>The peak widths can be fixed to or varied around values obtained from experimental or calculated instrument resolution function.</li>
<li>The initial field parameters can be estimated using a Monte Carlo search algorithm (<a class="reference internal" href="../../algorithms/EstimateFitParameters-v1.html#algm-estimatefitparameters"><em>EstimateFitParameters</em></a>)</li>
<li>The crystal field heat capacity, magnetisation and susceptibility can now be calculated or fitted, using new functions
<a class="reference internal" href="../../fitting/fitfunctions/CrystalFieldHeatCapacity.html#func-crystalfieldheatcapacity"><em>CrystalFieldHeatCapacity</em></a>, <a class="reference internal" href="../../fitting/fitfunctions/CrystalFieldSusceptibility.html#func-crystalfieldsusceptibility"><em>CrystalFieldSusceptibility</em></a>,
<a class="reference internal" href="../../fitting/fitfunctions/CrystalFieldMagnetisation.html#func-crystalfieldmagnetisation"><em>CrystalFieldMagnetisation</em></a>, and <a class="reference internal" href="../../fitting/fitfunctions/CrystalFieldMoment.html#func-crystalfieldmoment"><em>CrystalFieldMoment</em></a>.
The Python interface <a class="reference internal" href="../../interfaces/Crystal Field Python Interface.html#crystal-field-python-interface"><em>Crystal Field Python Interface</em></a> has also been updated to handle calculating and fitting these quantities.</li>
</ul>
<p><a class="reference external" href="http://github.com/mantidproject/mantid/pulls?q=is%3Apr+milestone%3A%22Release+3.9%22+is%3Amerged+label%3A%22Component%3A+Direct+Inelastic%22">Full list of changes on GitHub</a></p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="ui.html" title="Previous Chapter: UI & Usability Changes"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; UI & Usability C...</span>
    </a>
  </li>
  <li>
    <a href="indirect_inelastic.html" title="Next Chapter: Indirect Inelastic Changes"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Indirect Inelast... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
      Last updated on 2018-04-19.<br/>
    </p>
  </div>
</footer>
  </body>
</html>