<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Indirect Corrections</title>
    <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap-3.3.6/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap-3.3.6/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '6.4.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Indirect Data Reduction" href="Indirect Data Reduction.html" />
    <link rel="prev" title="Indirect Bayes" href="Indirect Bayes.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.4</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://docs.mantidproject.org/nightly/">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="../index.html" accesskey="U">Interfaces</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">Indirect Corrections</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <p><span class="math">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<div class="section" id="indirect-corrections">
<span id="interface-indirect-corrections"></span><h1>Indirect Corrections<a class="headerlink" href="#indirect-corrections" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#overview" id="id8">Overview</a><ul>
<li><a class="reference internal" href="#action-buttons" id="id9">Action Buttons</a></li>
</ul>
</li>
<li><a class="reference internal" href="#container-subtraction" id="id10">Container Subtraction</a><ul>
<li><a class="reference internal" href="#options" id="id11">Options</a></li>
</ul>
</li>
<li><a class="reference internal" href="#calculate-paalman-pings" id="id12">Calculate Paalman Pings</a><ul>
<li><a class="reference internal" href="#id1" id="id13">Options</a></li>
<li><a class="reference internal" href="#correction-details" id="id14">Correction Details</a></li>
<li><a class="reference internal" href="#shape-details" id="id15">Shape Details</a><ul>
<li><a class="reference internal" href="#flat-plate" id="id16">Flat Plate</a></li>
<li><a class="reference internal" href="#cylinder" id="id17">Cylinder</a></li>
<li><a class="reference internal" href="#annulus" id="id18">Annulus</a></li>
</ul>
</li>
<li><a class="reference internal" href="#background" id="id19">Background</a></li>
</ul>
</li>
<li><a class="reference internal" href="#calculate-monte-carlo-absorption" id="id20">Calculate Monte Carlo Absorption</a><ul>
<li><a class="reference internal" href="#id2" id="id21">Options</a></li>
<li><a class="reference internal" href="#id3" id="id22">Shape Details</a><ul>
<li><a class="reference internal" href="#preset" id="id23">Preset</a></li>
<li><a class="reference internal" href="#id4" id="id24">Flat Plate</a></li>
<li><a class="reference internal" href="#id5" id="id25">Annulus</a></li>
<li><a class="reference internal" href="#id6" id="id26">Cylinder</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#apply-absorption-corrections" id="id27">Apply Absorption Corrections</a><ul>
<li><a class="reference internal" href="#id7" id="id28">Options</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="overview">
<h2><a class="toc-backref" href="#id8">Overview</a><a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>Provides correction routines for quasielastic, inelastic and diffraction
reductions.</p>
<p>These interfaces do not support GroupWorkspace’s as input.</p>
<div class="figure align-right">
<a class="screenshot reference internal image-reference" href="../../_images/Corrections_interface.png"><img alt="../../_images/Corrections_interface.png" class="screenshot" src="../../_images/Corrections_interface.png" style="width: 350px;" /></a>
</div>
<div class="section" id="action-buttons">
<h3><a class="toc-backref" href="#id9">Action Buttons</a><a class="headerlink" href="#action-buttons" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Settings</dt>
<dd>Opens the <a class="reference internal" href="Indirect Settings.html#interface-indirect-settings"><span class="std std-ref">Settings</span></a> GUI which allows you to
customize the settings for the Indirect interfaces.</dd>
</dl>
<dl class="docutils">
<dt>?</dt>
<dd>Opens this help page.</dd>
<dt>Py</dt>
<dd>Exports a Python script which will replicate the processing done by the current tab.</dd>
<dt>Manage Directories</dt>
<dd>Opens the Manage Directories dialog allowing you to change your search directories
and default save directory and enable/disable data archive search.</dd>
</dl>
</div>
</div>
<div class="section" id="container-subtraction">
<h2><a class="toc-backref" href="#id10">Container Subtraction</a><a class="headerlink" href="#container-subtraction" title="Permalink to this headline">¶</a></h2>
<p>The Container Subtraction Tab is used to remove the container’s contribution to a run.</p>
<p>Once run the corrected output and container correction is shown in the preview plot. Note
that when this plot shows the result of a calculation the X axis is always in wavelength,
however when data is initially selected the X axis unit matches that of the sample workspace.</p>
<p>The input and container workspaces will be converted to wavelength (using
<a class="reference internal" href="../../algorithms/ConvertUnits-v1.html#algm-convertunits"><span class="std std-ref">ConvertUnits</span></a>) if they do not already have wavelength
as their X unit.</p>
<div class="figure">
<a class="screenshot reference internal image-reference" href="../../_images/Corrections_tabContainerSubtraction_widget.png"><img alt="../../_images/Corrections_tabContainerSubtraction_widget.png" class="screenshot" src="../../_images/Corrections_tabContainerSubtraction_widget.png" style="width: 404px;" /></a>
</div>
<div class="section" id="options">
<h3><a class="toc-backref" href="#id11">Options</a><a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Sample</dt>
<dd>Either a reduced file (_red.nxs) or workspace (_red), an <span class="math">\(S(Q,\omega)\)</span> file (_sqw.nxs) or workspace (_sqw), or an ELF file (_elf.nxs) or workspace (_elf) that represents the sample.</dd>
<dt>Container</dt>
<dd>Either a reduced file (_red.nxs) or workspace (_red), an <span class="math">\(S(Q,\omega)\)</span> file (_sqw.nxs) or workspace (_sqw), or an ELF file (_elf.nxs) or workspace (_elf) that represents the container.</dd>
<dt>Scale Container by Factor</dt>
<dd>Allows the container’s intensity to be scaled by a given scale factor before being used in the corrections calculation.</dd>
<dt>Shift X-values by Adding</dt>
<dd>Allows the X-values to be shifted by a specified amount.</dd>
<dt>Spectrum</dt>
<dd>Changes the spectrum displayed in the preview plot.</dd>
<dt>Plot Current Preview</dt>
<dd>Plots the currently selected preview plot in a separate external window</dd>
<dt>Run</dt>
<dd>Runs the processing configured on the current tab.</dd>
<dt>Plot Spectra</dt>
<dd>If enabled, it will plot the selected workspace indices in the selected output workspace.</dd>
<dt>Plot Contour</dt>
<dd>If enabled, it will plot the selected output workspace as a contour plot.</dd>
<dt>Save Result</dt>
<dd>If enabled the result will be saved as a NeXus file in the default save directory.</dd>
</dl>
</div>
</div>
<div class="section" id="calculate-paalman-pings">
<h2><a class="toc-backref" href="#id12">Calculate Paalman Pings</a><a class="headerlink" href="#calculate-paalman-pings" title="Permalink to this headline">¶</a></h2>
<p>Calculates absorption corrections in the Paalman &amp; Pings absorption factors that
could be applied to the data when given information about the sample (and
optionally the container) geometry.</p>
<div class="figure">
<a class="screenshot reference internal image-reference" href="../../_images/Corrections_tabCalculatePaalmanPings_widget.png"><img alt="../../_images/Corrections_tabCalculatePaalmanPings_widget.png" class="screenshot" src="../../_images/Corrections_tabCalculatePaalmanPings_widget.png" style="width: 959px;" /></a>
</div>
<div class="section" id="id1">
<h3><a class="toc-backref" href="#id13">Options</a><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Sample Input</dt>
<dd>A reduced file (<em>_red.nxs</em>) or workspace (<em>_red</em>).</dd>
<dt>Use Container</dt>
<dd>If checked allows you to select a workspace for the container in a reduced file (<em>_red.nxs</em>) or workspace (<em>_red</em>).</dd>
<dt>Corrections Details</dt>
<dd>These options will be automatically preset to the default values read from the sample workspace,
whenever possible. They can be overridden manually.(see below)</dd>
<dt>Sample Shape</dt>
<dd>Sets the shape of the sample, this affects the options for the shape details
(see below).</dd>
<dt>Sample Details Method</dt>
<dd>Choose to use a Chemical Formula or Cross Sections to set the neutron information in the sample using
the <a class="reference internal" href="../../algorithms/SetSampleMaterial-v1.html#algm-setsamplematerial"><span class="std std-ref">SetSampleMaterial</span></a> algorithm.</dd>
<dt>Sample/Container Mass density, Atom Number Density or Formula Number Density</dt>
<dd>Density of the sample or container. This is used in the <a class="reference internal" href="../../algorithms/SetSampleMaterial-v1.html#algm-setsamplematerial"><span class="std std-ref">SetSampleMaterial</span></a>
algorithm. If Atom Number Density is used, the NumberDensityUnit property is set to <em>Atoms</em> and if
Formula Number Density is used then NumberDensityUnit is set to <em>Formula Units</em>.</dd>
<dt>Sample/Container Chemical Formula</dt>
<dd>Chemical formula of the sample or container material. This must be provided in the
format expected by the <a class="reference internal" href="../../algorithms/SetSampleMaterial-v1.html#algm-setsamplematerial"><span class="std std-ref">SetSampleMaterial</span></a>
algorithm.</dd>
<dt>Cross Sections</dt>
<dd>Selecting the Cross Sections option in the Sample Details combobox will allow you to enter coherent,
incoherent and attenuation cross sections for the Sample and Container (units in barns).</dd>
<dt>Run</dt>
<dd>Runs the processing configured on the current tab.</dd>
<dt>Plot Wavelength</dt>
<dd>If enabled, it will plot a wavelength spectrum represented by the selected workspace indices.</dd>
<dt>Plot Angle</dt>
<dd>If enabled, it will plot an angle bin represented by the neighbouring bin indices.</dd>
<dt>Save Result</dt>
<dd>Saves the result in the default save directory.</dd>
</dl>
</div>
<div class="section" id="correction-details">
<h3><a class="toc-backref" href="#id14">Correction Details</a><a class="headerlink" href="#correction-details" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Emode</dt>
<dd>The energy transfer mode. All the options except <em>Efixed</em> require the input workspaces to be in wavelength.
In <em>Efixed</em> mode, correction will be computed only for a single wavelength point defined by ` Efixed` value.
All the options except <em>Elastic</em> require the Efixed value to be set correctly.
For flat plate, all the options except <em>Efixed</em>, are equivalent.
In brief, use <em>Indirect</em> for QENS, <em>Efixed</em> for FWS and diffraction.
<em>Efixed</em> can be used for QENS also, if the energy transfer can be neglected compared to the incident energy.
See <a class="reference internal" href="../../algorithms/CylinderPaalmanPingsCorrection-v2.html#algm-cylinderpaalmanpingscorrection"><span class="std std-ref">CylinderPaalmanPingsCorrections</span></a> for the details.</dd>
<dt>Efixed</dt>
<dd>The value of the incident (indirect) or final (direct) energy in <cite>mev</cite>. Specified in the instrument parameter file.</dd>
<dt>Number Wavelengths</dt>
<dd>Number of wavelength points to compute the corrections for. Ignored for <em>Efixed</em>.</dd>
<dt>Interpolate</dt>
<dd>Whether or not to interpolate the corrections as a function of wavelength. Ignored for <em>Efixed</em>.</dd>
</dl>
</div>
<div class="section" id="shape-details">
<h3><a class="toc-backref" href="#id15">Shape Details</a><a class="headerlink" href="#shape-details" title="Permalink to this headline">¶</a></h3>
<p>Depending on the shape of the sample different parameters for the sample
dimension are required and are detailed below.</p>
<div class="section" id="flat-plate">
<h4><a class="toc-backref" href="#id16">Flat Plate</a><a class="headerlink" href="#flat-plate" title="Permalink to this headline">¶</a></h4>
<div class="figure">
<a class="screenshot reference internal image-reference" href="../../_images/Corrections_pgFlatPlate_widget.png"><img alt="../../_images/Corrections_pgFlatPlate_widget.png" class="screenshot" src="../../_images/Corrections_pgFlatPlate_widget.png" style="width: 883px;" /></a>
</div>
<p>The calculation for a flat plate geometry is performed by the
<a class="reference internal" href="../../algorithms/FlatPlatePaalmanPingsCorrection-v1.html#algm-flatplatepaalmanpingscorrection"><span class="std std-ref">FlatPlatePaalmanPingsCorrection</span></a>
algorithm.</p>
<dl class="docutils">
<dt>Sample Thickness</dt>
<dd>Thickness of sample in <span class="math">\(cm\)</span>.</dd>
<dt>Sample Angle</dt>
<dd>Angle of the sample to the beam in degrees.</dd>
<dt>Container Front Thickness</dt>
<dd>Thickness of front container in <span class="math">\(cm\)</span>.</dd>
<dt>Container Back Thickness</dt>
<dd>Thickness of back container in <span class="math">\(cm\)</span>.</dd>
</dl>
</div>
<div class="section" id="cylinder">
<h4><a class="toc-backref" href="#id17">Cylinder</a><a class="headerlink" href="#cylinder" title="Permalink to this headline">¶</a></h4>
<div class="figure">
<a class="screenshot reference internal image-reference" href="../../_images/Corrections_pgCylinder_widget.png"><img alt="../../_images/Corrections_pgCylinder_widget.png" class="screenshot" src="../../_images/Corrections_pgCylinder_widget.png" style="width: 640px;" /></a>
</div>
<p>The calculation for a cylindrical geometry is performed by the
<a class="reference internal" href="../../algorithms/CylinderPaalmanPingsCorrection-v2.html#algm-cylinderpaalmanpingscorrection"><span class="std std-ref">CylinderPaalmanPingsCorrection</span></a>
algorithm.</p>
<dl class="docutils">
<dt>Sample Inner Radius</dt>
<dd>Radius of the inner wall of the sample in <span class="math">\(cm\)</span>.</dd>
<dt>Sample Outer Radius</dt>
<dd>Radius of the outer wall of the sample in <span class="math">\(cm\)</span>.</dd>
<dt>Container Outer Radius</dt>
<dd>Radius of outer wall of the container in <span class="math">\(cm\)</span>.</dd>
<dt>Beam Height</dt>
<dd>Height of incident beam <span class="math">\(cm\)</span>.</dd>
<dt>Beam Width</dt>
<dd>Width of incident beam in <span class="math">\(cm\)</span>.</dd>
<dt>Step Size</dt>
<dd>Step size used in calculation in <span class="math">\(cm\)</span>.</dd>
</dl>
</div>
<div class="section" id="annulus">
<h4><a class="toc-backref" href="#id18">Annulus</a><a class="headerlink" href="#annulus" title="Permalink to this headline">¶</a></h4>
<div class="figure">
<a class="screenshot reference internal image-reference" href="../../_images/Corrections_pgAnnulus_widget.png"><img alt="../../_images/Corrections_pgAnnulus_widget.png" class="screenshot" src="../../_images/Corrections_pgAnnulus_widget.png" style="width: 640px;" /></a>
</div>
<p>The calculation for an annular geometry is performed by the
<a class="reference internal" href="../../algorithms/CylinderPaalmanPingsCorrection-v2.html#algm-cylinderpaalmanpingscorrection"><span class="std std-ref">CylinderPaalmanPingsCorrection</span></a>
algorithm.</p>
<p>The options here are the same as for Cylinder.</p>
</div>
</div>
<div class="section" id="background">
<h3><a class="toc-backref" href="#id19">Background</a><a class="headerlink" href="#background" title="Permalink to this headline">¶</a></h3>
<p>The main correction to be applied to neutron scattering data is that for
absorption both in the sample and its container, when present. For flat plate
geometry, the corrections can be analytical and have been discussed for example
by Carlile [1]. The situation for cylindrical geometry is more complex and
requires numerical integration. These techniques are well known and used in
liquid and amorphous diffraction, and are described in the ATLAS manual [2].</p>
<p>The absorption corrections use the formulism of Paalman and Pings [3] and
involve the attenuation factors <span class="math">\(A_{i,j}\)</span> where <span class="math">\(i\)</span> refers to
scattering and <span class="math">\(j\)</span> attenuation. For example, <span class="math">\(A_{s,sc}\)</span> is the
attenuation factor for scattering in the sample and attenuation in the sample
plus container. If the scattering cross sections for sample and container are
<span class="math">\(\Sigma_{s}\)</span> and <span class="math">\(\Sigma_{c}\)</span> respectively, then the measured
scattering from the empty container is <span class="math">\(I_{c} = \Sigma_{c}A_{c,c}\)</span> and
that from the sample plus container is <span class="math">\(I_{sc} = \Sigma_{s}A_{s,sc} +
\Sigma_{c}A_{c,sc}\)</span>, thus <span class="math">\(\Sigma_{s} = (I_{sc} - I_{c}A_{c,sc}/A_{c,c}) /
A_{s,sc}\)</span>.</p>
<p>References:</p>
<ol class="arabic simple">
<li>C J Carlile, Rutherford Laboratory report, RL-74-103 (1974)</li>
<li>A K Soper, W S Howells &amp; A C Hannon, <a class="reference external" href="http://wwwisis2.isis.rl.ac.uk/Disordered/Manuals/ATLAS/ATLAS%20manual%20v1.0%20Intro.pdf">RAL Report RAL-89-046 (1989)</a></li>
<li>H H Paalman &amp; C J Pings, <a class="reference external" href="http://dx.doi.org/10.1063/1.1729034">J Appl Phys 33 2635 (1962)</a></li>
</ol>
</div>
</div>
<div class="section" id="calculate-monte-carlo-absorption">
<h2><a class="toc-backref" href="#id20">Calculate Monte Carlo Absorption</a><a class="headerlink" href="#calculate-monte-carlo-absorption" title="Permalink to this headline">¶</a></h2>
<p>The Calculate Monte Carlo Absorption tab provides a cross platform alternative to the
Calculate Paalman Pings tab. In this tab a Monte Carlo implementation is used to calculate the
absorption corrections.</p>
<div class="figure">
<a class="screenshot reference internal image-reference" href="../../_images/Corrections_tabAbsorptionCorrections_widget.png"><img alt="../../_images/Corrections_tabAbsorptionCorrections_widget.png" class="screenshot" src="../../_images/Corrections_tabAbsorptionCorrections_widget.png" style="width: 974px;" /></a>
</div>
<div class="section" id="id2">
<h3><a class="toc-backref" href="#id21">Options</a><a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Workspace Input</dt>
<dd>A reduced file (<em>_red.nxs</em>) or workspace (<em>_red</em>).</dd>
<dt>Number Wavelengths</dt>
<dd>The number of wavelength points for which a simulation is attempted.</dd>
<dt>Events</dt>
<dd>The number of neutron events to generate per simulated point.</dd>
<dt>Interpolation</dt>
<dd>Method of interpolation used to compute unsimulated values.</dd>
<dt>Maximum Scatter Point Attempts</dt>
<dd>Maximum number of tries made to generate a scattering point within the sample (+ optional
container etc). Objects with holes in them, e.g. a thin annulus can cause problems if this
number is too low. If a scattering point cannot be generated by increasing this value then
there is most likely a problem with the sample geometry.</dd>
<dt>Beam Height</dt>
<dd>The height of the beam in <span class="math">\(cm\)</span>.</dd>
<dt>Beam Width</dt>
<dd>The width of the beam in <span class="math">\(cm\)</span>.</dd>
<dt>Shape Details</dt>
<dd>Select the shape of the sample (see specific geometry options below). Alternatively, select ‘Preset’ to use the Sample and Container geometries defined on the input workspace.</dd>
<dt>Use Container</dt>
<dd>If checked, allows you to input container geometries for use in the absorption corrections.</dd>
<dt>Sample Details Method</dt>
<dd>Choose to use a Chemical Formula or Cross Sections to set the neutron information in the sample using
the <a class="reference internal" href="../../algorithms/SetSampleMaterial-v1.html#algm-setsamplematerial"><span class="std std-ref">SetSampleMaterial</span></a> algorithm.</dd>
<dt>Sample/Container Mass density, Atom Number Density or Formula Number Density</dt>
<dd>Density of the sample or container. This is used in the <a class="reference internal" href="../../algorithms/SetSampleMaterial-v1.html#algm-setsamplematerial"><span class="std std-ref">SetSampleMaterial</span></a>
algorithm. If Atom Number Density is used, the NumberDensityUnit property is set to <em>Atoms</em> and if
Formula Number Density is used then NumberDensityUnit is set to <em>Formula Units</em>.</dd>
<dt>Sample/Container Chemical Formula</dt>
<dd>Chemical formula of the sample or container material. This must be provided in the
format expected by the <a class="reference internal" href="../../algorithms/SetSampleMaterial-v1.html#algm-setsamplematerial"><span class="std std-ref">SetSampleMaterial</span></a>
algorithm.</dd>
<dt>Cross Sections</dt>
<dd>Selecting the Cross Sections option in the Sample Details combobox will allow you to enter coherent,
incoherent and attenuation cross sections for the Sample and Container (units in barns).</dd>
<dt>Run</dt>
<dd>Runs the processing configured on the current tab.</dd>
<dt>Plot Wavelength</dt>
<dd>If enabled, it will plot a wavelength spectrum represented by the selected workspace indices.</dd>
<dt>Plot Angle</dt>
<dd>If enabled, it will plot an angle bin represented by the neighbouring bin indices.</dd>
<dt>Save Result</dt>
<dd>Saves the result in the default save directory.</dd>
</dl>
</div>
<div class="section" id="id3">
<h3><a class="toc-backref" href="#id22">Shape Details</a><a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<p>Depending on the shape of the sample different parameters for the sample
dimension are required and are detailed below.</p>
<div class="section" id="preset">
<h4><a class="toc-backref" href="#id23">Preset</a><a class="headerlink" href="#preset" title="Permalink to this headline">¶</a></h4>
<p>This option will use the Sample and Container geometries as defined in the input workspace. No further geometry inputs will be taken, though the Sample material can still be overridden.</p>
</div>
<div class="section" id="id4">
<h4><a class="toc-backref" href="#id24">Flat Plate</a><a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h4>
<div class="figure">
<a class="screenshot reference internal image-reference" href="../../_images/Corrections_pgAbsCorFlatPlate_widget.png"><img alt="../../_images/Corrections_pgAbsCorFlatPlate_widget.png" class="screenshot" src="../../_images/Corrections_pgAbsCorFlatPlate_widget.png" style="width: 898px;" /></a>
</div>
<p>Flat plate calculations are provided by the
<a class="reference internal" href="../../algorithms/IndirectFlatPlateAbsorption-v2.html#algm-indirectflatplateabsorption"><span class="std std-ref">IndirectFlatPlateAbsorption</span></a> algorithm.</p>
<dl class="docutils">
<dt>Sample Width</dt>
<dd>Width of the sample in <span class="math">\(cm\)</span>.</dd>
<dt>Sample Height</dt>
<dd>Height of the sample in <span class="math">\(cm\)</span>.</dd>
<dt>Sample Thickness</dt>
<dd>Thickness of the sample in <span class="math">\(cm\)</span>.</dd>
<dt>Sample Angle</dt>
<dd>Angle of the sample to the beam in degrees.</dd>
<dt>Container Front Thickness</dt>
<dd>Thickness of the front of the container in <span class="math">\(cm\)</span>.</dd>
<dt>Container Back Thickness</dt>
<dd>Thickness of the back of the container in <span class="math">\(cm\)</span>.</dd>
</dl>
</div>
<div class="section" id="id5">
<h4><a class="toc-backref" href="#id25">Annulus</a><a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h4>
<div class="figure">
<a class="screenshot reference internal image-reference" href="../../_images/Corrections_pgAbsCorAnnulus_widget.png"><img alt="../../_images/Corrections_pgAbsCorAnnulus_widget.png" class="screenshot" src="../../_images/Corrections_pgAbsCorAnnulus_widget.png" style="width: 640px;" /></a>
</div>
<p>Annulus calculations are provided by the <a class="reference internal" href="../../algorithms/IndirectAnnulusAbsorption-v2.html#algm-indirectannulusabsorption"><span class="std std-ref">IndirectAnnulusAbsorption</span></a> algorithm.</p>
<dl class="docutils">
<dt>Sample Inner Radius</dt>
<dd>Radius of the inner wall of the sample in <span class="math">\(cm\)</span>.</dd>
<dt>Sample Outer Radius</dt>
<dd>Radius of the outer wall of the sample in <span class="math">\(cm\)</span>.</dd>
<dt>Container Inner Radius</dt>
<dd>Radius of the inner wall of the container in <span class="math">\(cm\)</span>.</dd>
<dt>Container Outer Radius</dt>
<dd>Radius of the outer wall of the container in <span class="math">\(cm\)</span>.</dd>
<dt>Sample Height</dt>
<dd>Height of the sample in <span class="math">\(cm\)</span>.</dd>
</dl>
</div>
<div class="section" id="id6">
<h4><a class="toc-backref" href="#id26">Cylinder</a><a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h4>
<div class="figure">
<a class="screenshot reference internal image-reference" href="../../_images/Corrections_pgAbsCorCylinder_widget.png"><img alt="../../_images/Corrections_pgAbsCorCylinder_widget.png" class="screenshot" src="../../_images/Corrections_pgAbsCorCylinder_widget.png" style="width: 640px;" /></a>
</div>
<p>Cylinder calculations are provided by the
<a class="reference internal" href="../../algorithms/IndirectCylinderAbsorption-v2.html#algm-indirectcylinderabsorption"><span class="std std-ref">IndirectCylinderAbsorption</span></a> algorithm.</p>
<dl class="docutils">
<dt>Sample Radius</dt>
<dd>Radius of the outer wall of the sample in <span class="math">\(cm\)</span>.</dd>
<dt>Container Radius</dt>
<dd>Radius of the outer wall of the container in <span class="math">\(cm\)</span>.</dd>
<dt>Sample Height</dt>
<dd>Height of the sample in <span class="math">\(cm\)</span>.</dd>
</dl>
</div>
</div>
</div>
<div class="section" id="apply-absorption-corrections">
<span id="indirect-apply-absorp-correct"></span><h2><a class="toc-backref" href="#id27">Apply Absorption Corrections</a><a class="headerlink" href="#apply-absorption-corrections" title="Permalink to this headline">¶</a></h2>
<p>The Apply Corrections tab applies the corrections calculated in the Calculate Paalman
Pings or Calculate Monte Carlo Absorption tabs of the Indirect Data Corrections interface.</p>
<p>This uses the <a class="reference internal" href="../../algorithms/ApplyPaalmanPingsCorrection-v1.html#algm-applypaalmanpingscorrection"><span class="std std-ref">ApplyPaalmanPingsCorrection</span></a> algorithm to apply absorption corrections in
the form of the Paalman &amp; Pings correction factors. When <em>Use Container</em> is disabled
only the <span class="math">\(A_{s,s}\)</span> factor must be provided, when using a container the
additional factors must be provided: <span class="math">\(A_{c,sc}\)</span>, <span class="math">\(A_{s,sc}\)</span> and
<span class="math">\(A_{c,c}\)</span>.</p>
<p>Once run the corrected output and container correction is shown in the preview plot. Note
that when this plot shows the result of a calculation the X axis is always in
wavelength, however when data is initially selected the X axis unit matches that
of the sample workspace.</p>
<p>The input and container workspaces will be converted to wavelength (using
<a class="reference internal" href="../../algorithms/ConvertUnits-v1.html#algm-convertunits"><span class="std std-ref">ConvertUnits</span></a>) if they do not already have wavelength
as their X unit.</p>
<p>The binning of the sample, container and corrections factor workspace must all
match, if the sample and container do not match you will be given the option to
rebin (using <a class="reference internal" href="../../algorithms/RebinToWorkspace-v1.html#algm-rebintoworkspace"><span class="std std-ref">RebinToWorkspace</span></a>) the sample to
match the container, if the correction factors do not match you will be given
the option to interpolate (<a class="reference internal" href="../../algorithms/SplineInterpolation-v1.html#algm-splineinterpolation"><span class="std std-ref">SplineInterpolation</span></a>) the correction factor to match the sample.</p>
<div class="figure">
<a class="screenshot reference internal image-reference" href="../../_images/Corrections_tabApplyAbsorptionCorrections_widget.png"><img alt="../../_images/Corrections_tabApplyAbsorptionCorrections_widget.png" class="screenshot" src="../../_images/Corrections_tabApplyAbsorptionCorrections_widget.png" style="width: 751px;" /></a>
</div>
<div class="section" id="id7">
<h3><a class="toc-backref" href="#id28">Options</a><a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Sample</dt>
<dd>A reduced file (<em>_red.nxs</em>) or workspace (<em>_red</em>).</dd>
<dt>Corrections</dt>
<dd>The calculated corrections workspace produced from one of the preview two tabs.</dd>
<dt>Geometry</dt>
<dd>Sets the sample geometry (this must match the sample shape used when calculating
the corrections).</dd>
<dt>Use Container</dt>
<dd>If checked allows you to select a workspace for the container in the format of
either a reduced file (<em>_red.nxs</em>) or workspace (<em>_red</em>) or an <span class="math">\(S(Q,
\omega)\)</span> file (<em>_sqw.nxs</em>) or workspace (<em>_sqw</em>).</dd>
<dt>Scale Container by factor</dt>
<dd>Allows the container intensity to be scaled by a given scale factor before
being used in the corrections calculation.</dd>
<dt>Shift X-values by Adding</dt>
<dd>Allows the X-values of the container to be shifted by a specified amount.</dd>
<dt>Rebin Container to Sample</dt>
<dd>Rebins the container to the sample.</dd>
<dt>Spectrum</dt>
<dd>Changes the spectrum displayed in the preview plot.</dd>
<dt>Plot Current Preview</dt>
<dd>Plots the currently selected preview plot in a separate external window</dd>
<dt>Run</dt>
<dd>Runs the processing configured on the current tab.</dd>
<dt>Plot Spectra</dt>
<dd>If enabled, it will plot the selected workspace indices in the selected output workspace.</dd>
<dt>Plot Contour</dt>
<dd>If enabled, it will plot the selected output workspace as a contour plot.</dd>
<dt>Save Result</dt>
<dd>If enabled the result will be saved as a NeXus file in the default save directory.</dd>
</dl>
<p><strong>Categories</strong>: <a class="reference external" href="../ILL/categories/Interfaces.html">Interfaces</a> | <a class="reference external" href="categories/Indirect.html">Indirect</a></p>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="Indirect Bayes.html" title="Previous Chapter: Indirect Bayes"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Indirect Bayes</span>
    </a>
  </li>
  <li>
    <a href="Indirect Data Reduction.html" title="Next Chapter: Indirect Data Reduction"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Indirect Data... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>