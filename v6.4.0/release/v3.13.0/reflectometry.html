<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Reflectometry Changes</title>
    <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap-3.3.6/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap-3.3.6/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '6.4.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="SANS Changes" href="sans.html" />
    <link rel="prev" title="MuSR Changes" href="muon.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.4</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://docs.mantidproject.org/nightly/">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="../index.html" >Release Notes</a> &#187;</li>
          
            <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">Mantid 3.13.0 Release Notes</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">Reflectometry Changes</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <p><span class="math">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<div class="section" id="reflectometry-changes">
<h1>Reflectometry Changes<a class="headerlink" href="#reflectometry-changes" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#isis-reflectometry-interface" id="id2">ISIS Reflectometry Interface</a><ul>
<li><a class="reference internal" href="#new" id="id3">New</a></li>
<li><a class="reference internal" href="#features-removed" id="id4">Features Removed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#algorithms" id="id5">Algorithms</a><ul>
<li><a class="reference internal" href="#id1" id="id6">New</a></li>
<li><a class="reference internal" href="#bug-fixes" id="id7">Bug fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#liquids-reflectometer" id="id8">Liquids Reflectometer</a></li>
<li><a class="reference internal" href="#magnetism-reflectometer" id="id9">Magnetism Reflectometer</a></li>
</ul>
</div>
<div class="section" id="isis-reflectometry-interface">
<h2><a class="toc-backref" href="#id2">ISIS Reflectometry Interface</a><a class="headerlink" href="#isis-reflectometry-interface" title="Permalink to this headline">¶</a></h2>
<a class="reference internal image-reference" href="../../_images/ISIS_reflectometry_release313.png"><img alt="../../_images/ISIS_reflectometry_release313.png" class="align-right" src="../../_images/ISIS_reflectometry_release313.png" style="width: 800px;" /></a>
<div class="section" id="new">
<h3><a class="toc-backref" href="#id3">New</a><a class="headerlink" href="#new" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Fully-automatic processing has been added to the interface. Click <code class="docutils literal"><span class="pre">Autoprocess</span></code> to process all of the runs for an investigation and to start polling for new runs. Whenever new runs are found, they will automatically be added to the table and processed.</li>
<li>Live data monitoring has been added to the interface. This will periodically load live data from the instrument and reduce it with <code class="docutils literal"><span class="pre">ReflectometryReductionOneAuto</span></code> using live values for <code class="docutils literal"><span class="pre">Theta</span></code> and the slit gaps. Other algorithm properties are taken from <code class="docutils literal"><span class="pre">Group</span> <span class="pre">1</span></code> of the Settings tab. Note that changes to the Settings tab will <strong>not</strong> be updated in the monitor algorithm unless you stop and re-start monitoring.</li>
<li>A new option has been added to the Settings tab to control whether partial bins should be included when summing in Q.</li>
<li><code class="docutils literal"><span class="pre">ReflectometryReductionOneAuto</span></code> takes the polarization correction properties from the instrument parameter file when <code class="docutils literal"><span class="pre">PolarizationAnalysis</span></code> is set to <code class="docutils literal"><span class="pre">ParameterFile</span></code>. The instrument parameter file can store the efficiencies as vectors of doubles.</li>
</ul>
</div>
<div class="section" id="features-removed">
<h3><a class="toc-backref" href="#id4">Features Removed</a><a class="headerlink" href="#features-removed" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Added a deprecation notice to the ISIS Reflectometry (Old) interface, this is due to be removed in March 2019. It will be present in releases up until that date, but new features will only be added to the new interface.</li>
</ul>
</div>
</div>
<div class="section" id="algorithms">
<h2><a class="toc-backref" href="#id5">Algorithms</a><a class="headerlink" href="#algorithms" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Removed version 1 of <code class="docutils literal"><span class="pre">ReflectometryReductionOne</span></code> and <code class="docutils literal"><span class="pre">ReflectometryReductionOneAuto</span></code>.</li>
<li>Renamed algorithms <code class="docutils literal"><span class="pre">PolarizationCorrection</span></code> to <code class="docutils literal"><span class="pre">PolarizationCorrectionFredrikze</span></code> and <code class="docutils literal"><span class="pre">PolarizationEfficiencyCor</span></code> to <code class="docutils literal"><span class="pre">PolarizationCorrectionWildes</span></code>.</li>
</ul>
<div class="section" id="id1">
<h3><a class="toc-backref" href="#id6">New</a><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Added algorithm <code class="docutils literal"><span class="pre">PolarizationEfficiencyCor</span></code> which calls <code class="docutils literal"><span class="pre">PolarizationCorrectionFredrikze</span></code> or <code class="docutils literal"><span class="pre">PolarizationCorrectionWildes</span></code> depending on chosen <code class="docutils literal"><span class="pre">Method</span></code> property.</li>
<li>Added algorithms that help create a matrix workspace with polarization efficiencies ready to be used with <code class="docutils literal"><span class="pre">PolarizationEfficiencyCor</span></code><ul>
<li><code class="docutils literal"><span class="pre">CreatePolarizationEfficiencies</span></code> creates efficiencies from polynomial coefficients</li>
<li><code class="docutils literal"><span class="pre">JoinISISPolarizationEfficiencies</span></code> joins individual efficiencies into one matrix workspace</li>
<li><code class="docutils literal"><span class="pre">LoadISISPolarizationEfficiencies</span></code> loads efficiencies form files</li>
</ul>
</li>
<li>The ILL reflectometry loader <a class="reference internal" href="../../algorithms/LoadILLReflectometry-v1.html#algm-loadillreflectometry"><span class="std std-ref">LoadILLReflectometry v1</span></a> implements the NeXus file changes of January 2018 and can load again all valid Nexus files for D17 and FIGARO which are available since 2013 and 2017, respectively.</li>
<li>Algorithms for reflectometry reduction at ILL have been added. These handle the basic polarized/unpolarized reduction in SumInLambda or SumInQ modes. Included algorithms:<ul>
<li><a class="reference internal" href="../../algorithms/ReflectometryILLPreprocess-v1.html#algm-reflectometryillpreprocess"><span class="std std-ref">ReflectometryILLPreprocess v1</span></a></li>
<li><a class="reference internal" href="../../algorithms/ReflectometryILLSumForeground-v1.html#algm-reflectometryillsumforeground"><span class="std std-ref">ReflectometryILLSumForeground v1</span></a></li>
<li><a class="reference internal" href="../../algorithms/ReflectometryILLPolarizationCor-v1.html#algm-reflectometryillpolarizationcor"><span class="std std-ref">ReflectometryILLPolarizationCor v1</span></a></li>
<li><a class="reference internal" href="../../algorithms/ReflectometryILLConvertToQ-v1.html#algm-reflectometryillconverttoq"><span class="std std-ref">ReflectometryILLConvertToQ v1</span></a></li>
</ul>
</li>
<li>A new algorithm <a class="reference internal" href="../../algorithms/ReflectometryMomentumTransfer-v1.html#algm-reflectometrymomentumtransfer"><span class="std std-ref">ReflectometryMomentumTransfer v1</span></a> provides conversion to momentum transfer and <span class="math">\(Q_{z}\)</span> resolution calculation for reflectivity workspaces.</li>
<li>A new algorithm <a class="reference internal" href="../../algorithms/ReflectometrySumInQ-v1.html#algm-reflectometrysuminq"><span class="std std-ref">ReflectometrySumInQ</span></a> is available for coherent summation of the reflected beam.</li>
<li><a class="reference internal" href="../../algorithms/ReflectometryReductionOne-v2.html#algm-reflectometryreductionone"><span class="std std-ref">ReflectometryReductionOne v2</span></a> and <a class="reference internal" href="../../algorithms/ReflectometryReductionOneAuto-v3.html#algm-reflectometryreductiononeauto"><span class="std std-ref">ReflectometryReductionOneAuto v3</span></a> no longer include partial bins by default when summing in Q. A new property, <cite>IncludePartialBins</cite>, has been added to re-enable partial bins.</li>
<li>Added a boolean property <code class="docutils literal"><span class="pre">Debug</span></code> to the reflectometry algorithms that controls output of additional and/or intermediate workspaces.</li>
</ul>
</div>
<div class="section" id="bug-fixes">
<h3><a class="toc-backref" href="#id7">Bug fixes</a><a class="headerlink" href="#bug-fixes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Correct the angle to the value of <code class="docutils literal"><span class="pre">ThetaIn</span></code> property if summing in lambda in <code class="docutils literal"><span class="pre">ReflectometryReductionOne-v2</span></code>.</li>
<li>Fixed an incorrectly calculated detector angle when loading FIGARO files using <a class="reference internal" href="../../algorithms/LoadILLReflectometry-v1.html#algm-loadillreflectometry"><span class="std std-ref">LoadILLReflectometry v1</span></a>.</li>
</ul>
</div>
</div>
<div class="section" id="liquids-reflectometer">
<h2><a class="toc-backref" href="#id8">Liquids Reflectometer</a><a class="headerlink" href="#liquids-reflectometer" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>New REF_L instrument geometry for 2018 run cycle.</li>
</ul>
</div>
<div class="section" id="magnetism-reflectometer">
<h2><a class="toc-backref" href="#id9">Magnetism Reflectometer</a><a class="headerlink" href="#magnetism-reflectometer" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Added live data information to Facilities.xml</li>
<li>Allow for the use of workspace groups as input to the reduction.</li>
<li>Added algorithm to compute scattering angle from a workspace.</li>
</ul>
<p><a class="reference internal" href="index.html#v3-13-0"><span class="std std-ref">Release 3.13.0</span></a></p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="muon.html" title="Previous Chapter: MuSR Changes"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; MuSR Changes</span>
    </a>
  </li>
  <li>
    <a href="sans.html" title="Next Chapter: SANS Changes"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">SANS Changes &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>