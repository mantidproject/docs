<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: BASISReduction Pages: 1 -->
<svg width="1068pt" height="2841pt"
 viewBox="0.00 0.00 1067.55 2841.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 2837)">
<title>BASISReduction</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-2837 1063.5464,-2837 1063.5464,4 -4,4"/>
<text text-anchor="middle" x="529.7732" y="-2817.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">BASISReduction Flowchart</text>
<!-- loadMaskFile -->
<g id="node1" class="node">
<title>loadMaskFile</title>
<path fill="#87cefa" stroke="#000000" d="M926.9057,-2650C926.9057,-2650 850.9057,-2650 850.9057,-2650 844.9057,-2650 838.9057,-2644 838.9057,-2638 838.9057,-2638 838.9057,-2626 838.9057,-2626 838.9057,-2620 844.9057,-2614 850.9057,-2614 850.9057,-2614 926.9057,-2614 926.9057,-2614 932.9057,-2614 938.9057,-2620 938.9057,-2626 938.9057,-2626 938.9057,-2638 938.9057,-2638 938.9057,-2644 932.9057,-2650 926.9057,-2650"/>
<text text-anchor="middle" x="888.9057" y="-2628.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">load mask file</text>
</g>
<!-- maskData -->
<g id="node43" class="node">
<title>maskData</title>
<polygon fill="#c0c0c0" stroke="#000000" points="921.5767,-2563 852.1059,-2563 834.2347,-2527 903.7055,-2527 921.5767,-2563"/>
<text text-anchor="middle" x="877.9057" y="-2541.3" font-family="Times,serif" font-size="14.00" fill="#000000">mask</text>
</g>
<!-- loadMaskFile&#45;&gt;maskData -->
<g id="edge5" class="edge">
<title>loadMaskFile&#45;&gt;maskData</title>
<path fill="none" stroke="#000000" d="M886.6265,-2613.9735C885.1369,-2602.1918 883.1605,-2586.5607 881.4659,-2573.1581"/>
<polygon fill="#000000" stroke="#000000" points="884.9088,-2572.4853 880.182,-2563.0034 877.9641,-2573.3634 884.9088,-2572.4853"/>
</g>
<!-- aggregateV -->
<g id="node2" class="node">
<title>aggregateV</title>
<path fill="#87cefa" stroke="#000000" d="M565.4057,-2563C565.4057,-2563 416.4057,-2563 416.4057,-2563 410.4057,-2563 404.4057,-2557 404.4057,-2551 404.4057,-2551 404.4057,-2539 404.4057,-2539 404.4057,-2533 410.4057,-2527 416.4057,-2527 416.4057,-2527 565.4057,-2527 565.4057,-2527 571.4057,-2527 577.4057,-2533 577.4057,-2539 577.4057,-2539 577.4057,-2551 577.4057,-2551 577.4057,-2557 571.4057,-2563 565.4057,-2563"/>
<text text-anchor="middle" x="490.9057" y="-2541.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">aggregate Vanadium runs</text>
</g>
<!-- maskDetectors -->
<g id="node3" class="node">
<title>maskDetectors</title>
<path fill="#87cefa" stroke="#000000" d="M771.4057,-2490C771.4057,-2490 686.4057,-2490 686.4057,-2490 680.4057,-2490 674.4057,-2484 674.4057,-2478 674.4057,-2478 674.4057,-2466 674.4057,-2466 674.4057,-2460 680.4057,-2454 686.4057,-2454 686.4057,-2454 771.4057,-2454 771.4057,-2454 777.4057,-2454 783.4057,-2460 783.4057,-2466 783.4057,-2466 783.4057,-2478 783.4057,-2478 783.4057,-2484 777.4057,-2490 771.4057,-2490"/>
<text text-anchor="middle" x="728.9057" y="-2468.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">mask detectors</text>
</g>
<!-- aggregateV&#45;&gt;maskDetectors -->
<g id="edge10" class="edge">
<title>aggregateV&#45;&gt;maskDetectors</title>
<path fill="none" stroke="#000000" d="M549.7372,-2526.9551C584.4646,-2516.3034 628.4693,-2502.8061 664.1773,-2491.8537"/>
<polygon fill="#000000" stroke="#000000" points="665.4802,-2495.1151 674.0142,-2488.8365 663.4275,-2488.4228 665.4802,-2495.1151"/>
</g>
<!-- moderatorTzeroLinear -->
<g id="node4" class="node">
<title>moderatorTzeroLinear</title>
<path fill="#87cefa" stroke="#000000" d="M843.9057,-2417C843.9057,-2417 613.9057,-2417 613.9057,-2417 607.9057,-2417 601.9057,-2411 601.9057,-2405 601.9057,-2405 601.9057,-2393 601.9057,-2393 601.9057,-2387 607.9057,-2381 613.9057,-2381 613.9057,-2381 843.9057,-2381 843.9057,-2381 849.9057,-2381 855.9057,-2387 855.9057,-2393 855.9057,-2393 855.9057,-2405 855.9057,-2405 855.9057,-2411 849.9057,-2417 843.9057,-2417"/>
<text text-anchor="middle" x="728.9057" y="-2395.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">remove emission delay from moderator</text>
</g>
<!-- maskDetectors&#45;&gt;moderatorTzeroLinear -->
<g id="edge12" class="edge">
<title>maskDetectors&#45;&gt;moderatorTzeroLinear</title>
<path fill="none" stroke="#000000" d="M728.9057,-2453.9551C728.9057,-2445.8828 728.9057,-2436.1764 728.9057,-2427.1817"/>
<polygon fill="#000000" stroke="#000000" points="732.4058,-2427.0903 728.9057,-2417.0904 725.4058,-2427.0904 732.4058,-2427.0903"/>
</g>
<!-- convertUnitsToWavelength -->
<g id="node5" class="node">
<title>convertUnitsToWavelength</title>
<path fill="#87cefa" stroke="#000000" d="M806.9057,-2344C806.9057,-2344 650.9057,-2344 650.9057,-2344 644.9057,-2344 638.9057,-2338 638.9057,-2332 638.9057,-2332 638.9057,-2320 638.9057,-2320 638.9057,-2314 644.9057,-2308 650.9057,-2308 650.9057,-2308 806.9057,-2308 806.9057,-2308 812.9057,-2308 818.9057,-2314 818.9057,-2320 818.9057,-2320 818.9057,-2332 818.9057,-2332 818.9057,-2338 812.9057,-2344 806.9057,-2344"/>
<text text-anchor="middle" x="728.9057" y="-2322.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">convert units to wavelength</text>
</g>
<!-- moderatorTzeroLinear&#45;&gt;convertUnitsToWavelength -->
<g id="edge13" class="edge">
<title>moderatorTzeroLinear&#45;&gt;convertUnitsToWavelength</title>
<path fill="none" stroke="#000000" d="M728.9057,-2380.9551C728.9057,-2372.8828 728.9057,-2363.1764 728.9057,-2354.1817"/>
<polygon fill="#000000" stroke="#000000" points="732.4058,-2354.0903 728.9057,-2344.0904 725.4058,-2354.0904 732.4058,-2354.0903"/>
</g>
<!-- checkMonNorm -->
<g id="node32" class="node">
<title>checkMonNorm</title>
<polygon fill="#32cd32" stroke="#000000" points="728.9057,-2271 569.8773,-2253 728.9057,-2235 887.9341,-2253 728.9057,-2271"/>
<text text-anchor="middle" x="728.9057" y="-2249.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">do monitor normalization?</text>
</g>
<!-- convertUnitsToWavelength&#45;&gt;checkMonNorm -->
<g id="edge14" class="edge">
<title>convertUnitsToWavelength&#45;&gt;checkMonNorm</title>
<path fill="none" stroke="#000000" d="M728.9057,-2307.9551C728.9057,-2299.8828 728.9057,-2290.1764 728.9057,-2281.1817"/>
<polygon fill="#000000" stroke="#000000" points="732.4058,-2281.0903 728.9057,-2271.0904 725.4058,-2281.0904 732.4058,-2281.0903"/>
</g>
<!-- moderatorTzeroLinearM -->
<g id="node6" class="node">
<title>moderatorTzeroLinearM</title>
<path fill="#87cefa" stroke="#000000" d="M780.4057,-2184C780.4057,-2184 497.4057,-2184 497.4057,-2184 491.4057,-2184 485.4057,-2178 485.4057,-2172 485.4057,-2172 485.4057,-2160 485.4057,-2160 485.4057,-2154 491.4057,-2148 497.4057,-2148 497.4057,-2148 780.4057,-2148 780.4057,-2148 786.4057,-2148 792.4057,-2154 792.4057,-2160 792.4057,-2160 792.4057,-2172 792.4057,-2172 792.4057,-2178 786.4057,-2184 780.4057,-2184"/>
<text text-anchor="middle" x="638.9057" y="-2162.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">Monitor: remove emission delay from moderator</text>
</g>
<!-- convertUnitsToWavelengthM -->
<g id="node7" class="node">
<title>convertUnitsToWavelengthM</title>
<path fill="#87cefa" stroke="#000000" d="M770.4057,-2111C770.4057,-2111 561.4057,-2111 561.4057,-2111 555.4057,-2111 549.4057,-2105 549.4057,-2099 549.4057,-2099 549.4057,-2087 549.4057,-2087 549.4057,-2081 555.4057,-2075 561.4057,-2075 561.4057,-2075 770.4057,-2075 770.4057,-2075 776.4057,-2075 782.4057,-2081 782.4057,-2087 782.4057,-2087 782.4057,-2099 782.4057,-2099 782.4057,-2105 776.4057,-2111 770.4057,-2111"/>
<text text-anchor="middle" x="665.9057" y="-2089.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">Monitor: convert units to wavelength</text>
</g>
<!-- moderatorTzeroLinearM&#45;&gt;convertUnitsToWavelengthM -->
<g id="edge17" class="edge">
<title>moderatorTzeroLinearM&#45;&gt;convertUnitsToWavelengthM</title>
<path fill="none" stroke="#000000" d="M645.5799,-2147.9551C648.6304,-2139.7074 652.3119,-2129.7536 655.6989,-2120.5962"/>
<polygon fill="#000000" stroke="#000000" points="659.0284,-2121.6836 659.2148,-2111.0904 652.4631,-2119.2552 659.0284,-2121.6836"/>
</g>
<!-- OneMinusExponentialCorM -->
<g id="node8" class="node">
<title>OneMinusExponentialCorM</title>
<path fill="#87cefa" stroke="#000000" d="M775.9057,-2024C775.9057,-2024 597.9057,-2024 597.9057,-2024 591.9057,-2024 585.9057,-2018 585.9057,-2012 585.9057,-2012 585.9057,-2000 585.9057,-2000 585.9057,-1994 591.9057,-1988 597.9057,-1988 597.9057,-1988 775.9057,-1988 775.9057,-1988 781.9057,-1988 787.9057,-1994 787.9057,-2000 787.9057,-2000 787.9057,-2012 787.9057,-2012 787.9057,-2018 781.9057,-2024 775.9057,-2024"/>
<text text-anchor="middle" x="686.9057" y="-2002.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">Monitor: exponential correction</text>
</g>
<!-- convertUnitsToWavelengthM&#45;&gt;OneMinusExponentialCorM -->
<g id="edge18" class="edge">
<title>convertUnitsToWavelengthM&#45;&gt;OneMinusExponentialCorM</title>
<path fill="none" stroke="#000000" d="M670.2569,-2074.9735C673.129,-2063.0751 676.9486,-2047.2508 680.2049,-2033.7606"/>
<polygon fill="#000000" stroke="#000000" points="683.6159,-2034.5455 682.5601,-2024.0034 676.8113,-2032.9029 683.6159,-2034.5455"/>
</g>
<!-- divideByMonitor -->
<g id="node9" class="node">
<title>divideByMonitor</title>
<path fill="#87cefa" stroke="#000000" d="M769.4057,-1951C769.4057,-1951 674.4057,-1951 674.4057,-1951 668.4057,-1951 662.4057,-1945 662.4057,-1939 662.4057,-1939 662.4057,-1927 662.4057,-1927 662.4057,-1921 668.4057,-1915 674.4057,-1915 674.4057,-1915 769.4057,-1915 769.4057,-1915 775.4057,-1915 781.4057,-1921 781.4057,-1927 781.4057,-1927 781.4057,-1939 781.4057,-1939 781.4057,-1945 775.4057,-1951 769.4057,-1951"/>
<text text-anchor="middle" x="721.9057" y="-1929.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">divide by monitor</text>
</g>
<!-- OneMinusExponentialCorM&#45;&gt;divideByMonitor -->
<g id="edge19" class="edge">
<title>OneMinusExponentialCorM&#45;&gt;divideByMonitor</title>
<path fill="none" stroke="#000000" d="M695.5574,-1987.9551C699.5538,-1979.6196 704.3858,-1969.5416 708.8147,-1960.3042"/>
<polygon fill="#000000" stroke="#000000" points="712.0649,-1961.6207 713.2322,-1951.0904 705.7529,-1958.5944 712.0649,-1961.6207"/>
</g>
<!-- checkIsVanadium -->
<g id="node36" class="node">
<title>checkIsVanadium</title>
<polygon fill="#32cd32" stroke="#000000" points="775.9057,-1878 575.6531,-1860 775.9057,-1842 976.1584,-1860 775.9057,-1878"/>
<text text-anchor="middle" x="775.9057" y="-1856.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">processing Vanadium or sample?</text>
</g>
<!-- divideByMonitor&#45;&gt;checkIsVanadium -->
<g id="edge20" class="edge">
<title>divideByMonitor&#45;&gt;checkIsVanadium</title>
<path fill="none" stroke="#000000" d="M735.254,-1914.9551C741.8245,-1906.0727 749.8587,-1895.2116 757.0445,-1885.4975"/>
<polygon fill="#000000" stroke="#000000" points="759.9496,-1887.4556 763.0828,-1877.3347 754.3219,-1883.2927 759.9496,-1887.4556"/>
</g>
<!-- integrateWavelengthV -->
<g id="node10" class="node">
<title>integrateWavelengthV</title>
<path fill="#87cefa" stroke="#000000" d="M488.9057,-1704C488.9057,-1704 306.9057,-1704 306.9057,-1704 300.9057,-1704 294.9057,-1698 294.9057,-1692 294.9057,-1692 294.9057,-1680 294.9057,-1680 294.9057,-1674 300.9057,-1668 306.9057,-1668 306.9057,-1668 488.9057,-1668 488.9057,-1668 494.9057,-1668 500.9057,-1674 500.9057,-1680 500.9057,-1680 500.9057,-1692 500.9057,-1692 500.9057,-1698 494.9057,-1704 488.9057,-1704"/>
<text text-anchor="middle" x="397.9057" y="-1682.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">integrate along wavelength axis</text>
</g>
<!-- vanadiumStructureFactorL -->
<g id="node45" class="node">
<title>vanadiumStructureFactorL</title>
<polygon fill="#c0c0c0" stroke="#000000" points="474.3767,-1617 352.7285,-1617 321.4347,-1581 443.083,-1581 474.3767,-1617"/>
<text text-anchor="middle" x="397.9057" y="-1595.3" font-family="Times,serif" font-size="14.00" fill="#000000">Sv(lambda)</text>
</g>
<!-- integrateWavelengthV&#45;&gt;vanadiumStructureFactorL -->
<g id="edge26" class="edge">
<title>integrateWavelengthV&#45;&gt;vanadiumStructureFactorL</title>
<path fill="none" stroke="#000000" d="M397.9057,-1667.9735C397.9057,-1656.1918 397.9057,-1640.5607 397.9057,-1627.1581"/>
<polygon fill="#000000" stroke="#000000" points="401.4058,-1627.0033 397.9057,-1617.0034 394.4058,-1627.0034 401.4058,-1627.0033"/>
</g>
<!-- findDetectorsOutsideLimitsV -->
<g id="node11" class="node">
<title>findDetectorsOutsideLimitsV</title>
<path fill="#87cefa" stroke="#000000" d="M796.9057,-1544C796.9057,-1544 566.9057,-1544 566.9057,-1544 560.9057,-1544 554.9057,-1538 554.9057,-1532 554.9057,-1532 554.9057,-1520 554.9057,-1520 554.9057,-1514 560.9057,-1508 566.9057,-1508 566.9057,-1508 796.9057,-1508 796.9057,-1508 802.9057,-1508 808.9057,-1514 808.9057,-1520 808.9057,-1520 808.9057,-1532 808.9057,-1532 808.9057,-1538 802.9057,-1544 796.9057,-1544"/>
<text text-anchor="middle" x="681.9057" y="-1522.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">find detectors with low Vanadium signal</text>
</g>
<!-- checkByQSlice -->
<g id="node33" class="node">
<title>checkByQSlice</title>
<polygon fill="#32cd32" stroke="#000000" points="696.9057,-1417 541.7304,-1399 696.9057,-1381 852.081,-1399 696.9057,-1417"/>
<text text-anchor="middle" x="696.9057" y="-1395.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">normalization by Q slice?</text>
</g>
<!-- findDetectorsOutsideLimitsV&#45;&gt;checkByQSlice -->
<g id="edge29" class="edge">
<title>findDetectorsOutsideLimitsV&#45;&gt;checkByQSlice</title>
<path fill="none" stroke="#000000" d="M684.3121,-1507.6757C685.6976,-1496.9842 687.4476,-1483.2342 688.9057,-1471 690.6322,-1456.5143 692.4365,-1440.3741 693.8937,-1427.0526"/>
<polygon fill="#000000" stroke="#000000" points="697.3788,-1427.3785 694.9798,-1417.0588 690.4198,-1426.6221 697.3788,-1427.3785"/>
</g>
<!-- basisNormMask -->
<g id="node44" class="node">
<title>basisNormMask</title>
<polygon fill="#c0c0c0" stroke="#000000" points="679.576,-1471 481.2535,-1471 430.2354,-1435 628.5579,-1435 679.576,-1471"/>
<text text-anchor="middle" x="554.9057" y="-1449.3" font-family="Times,serif" font-size="14.00" fill="#000000">low Vanadium mask</text>
</g>
<!-- findDetectorsOutsideLimitsV&#45;&gt;basisNormMask -->
<g id="edge28" class="edge">
<title>findDetectorsOutsideLimitsV&#45;&gt;basisNormMask</title>
<path fill="none" stroke="#000000" d="M650.5124,-1507.9551C633.874,-1498.3912 613.2446,-1486.5334 595.4123,-1476.2833"/>
<polygon fill="#000000" stroke="#000000" points="596.792,-1473.0394 586.378,-1471.0904 593.3036,-1479.1083 596.792,-1473.0394"/>
</g>
<!-- convertUnitsToEnergyV -->
<g id="node12" class="node">
<title>convertUnitsToEnergyV</title>
<path fill="#87cefa" stroke="#000000" d="M766.9057,-1116C766.9057,-1116 620.9057,-1116 620.9057,-1116 614.9057,-1116 608.9057,-1110 608.9057,-1104 608.9057,-1104 608.9057,-1092 608.9057,-1092 608.9057,-1086 614.9057,-1080 620.9057,-1080 620.9057,-1080 766.9057,-1080 766.9057,-1080 772.9057,-1080 778.9057,-1086 778.9057,-1092 778.9057,-1092 778.9057,-1104 778.9057,-1104 778.9057,-1110 772.9057,-1116 766.9057,-1116"/>
<text text-anchor="middle" x="693.9057" y="-1094.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">convert to energy transfer</text>
</g>
<!-- correctKiKfV -->
<g id="node13" class="node">
<title>correctKiKfV</title>
<path fill="#87cefa" stroke="#000000" d="M736.4057,-1043C736.4057,-1043 651.4057,-1043 651.4057,-1043 645.4057,-1043 639.4057,-1037 639.4057,-1031 639.4057,-1031 639.4057,-1019 639.4057,-1019 639.4057,-1013 645.4057,-1007 651.4057,-1007 651.4057,-1007 736.4057,-1007 736.4057,-1007 742.4057,-1007 748.4057,-1013 748.4057,-1019 748.4057,-1019 748.4057,-1031 748.4057,-1031 748.4057,-1037 742.4057,-1043 736.4057,-1043"/>
<text text-anchor="middle" x="693.9057" y="-1021.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">scale by k_i/k_f</text>
</g>
<!-- convertUnitsToEnergyV&#45;&gt;correctKiKfV -->
<g id="edge39" class="edge">
<title>convertUnitsToEnergyV&#45;&gt;correctKiKfV</title>
<path fill="none" stroke="#000000" d="M693.9057,-1079.9551C693.9057,-1071.8828 693.9057,-1062.1764 693.9057,-1053.1817"/>
<polygon fill="#000000" stroke="#000000" points="697.4058,-1053.0903 693.9057,-1043.0904 690.4058,-1053.0904 697.4058,-1053.0903"/>
</g>
<!-- RebinEnergy -->
<g id="node14" class="node">
<title>RebinEnergy</title>
<path fill="#87cefa" stroke="#000000" d="M799.9057,-970C799.9057,-970 587.9057,-970 587.9057,-970 581.9057,-970 575.9057,-964 575.9057,-958 575.9057,-958 575.9057,-946 575.9057,-946 575.9057,-940 581.9057,-934 587.9057,-934 587.9057,-934 799.9057,-934 799.9057,-934 805.9057,-934 811.9057,-940 811.9057,-946 811.9057,-946 811.9057,-958 811.9057,-958 811.9057,-964 805.9057,-970 799.9057,-970"/>
<text text-anchor="middle" x="693.9057" y="-948.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">rebin to specified energy parameters</text>
</g>
<!-- correctKiKfV&#45;&gt;RebinEnergy -->
<g id="edge40" class="edge">
<title>correctKiKfV&#45;&gt;RebinEnergy</title>
<path fill="none" stroke="#000000" d="M693.9057,-1006.9551C693.9057,-998.8828 693.9057,-989.1764 693.9057,-980.1817"/>
<polygon fill="#000000" stroke="#000000" points="697.4058,-980.0903 693.9057,-970.0904 690.4058,-980.0904 697.4058,-980.0903"/>
</g>
<!-- checkgroupDetectors -->
<g id="node35" class="node">
<title>checkgroupDetectors</title>
<polygon fill="#32cd32" stroke="#000000" points="399.9057,-897 254.4517,-879 399.9057,-861 545.3598,-879 399.9057,-897"/>
<text text-anchor="middle" x="399.9057" y="-875.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">do we group detectors?</text>
</g>
<!-- RebinEnergy&#45;&gt;checkgroupDetectors -->
<g id="edge41" class="edge">
<title>RebinEnergy&#45;&gt;checkgroupDetectors</title>
<path fill="none" stroke="#000000" d="M621.2315,-933.9551C571.0128,-921.4858 505.0892,-905.117 458.2869,-893.496"/>
<polygon fill="#000000" stroke="#000000" points="458.8559,-890.0311 448.3071,-891.018 457.169,-896.8248 458.8559,-890.0311"/>
</g>
<!-- groupingDetectorsV -->
<g id="node15" class="node">
<title>groupingDetectorsV</title>
<path fill="#87cefa" stroke="#000000" d="M377.4057,-810C377.4057,-810 268.4057,-810 268.4057,-810 262.4057,-810 256.4057,-804 256.4057,-798 256.4057,-798 256.4057,-786 256.4057,-786 256.4057,-780 262.4057,-774 268.4057,-774 268.4057,-774 377.4057,-774 377.4057,-774 383.4057,-774 389.4057,-780 389.4057,-786 389.4057,-786 389.4057,-798 389.4057,-798 389.4057,-804 383.4057,-810 377.4057,-810"/>
<text text-anchor="middle" x="322.9057" y="-788.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">group the detectors</text>
</g>
<!-- SofQW3V -->
<g id="node16" class="node">
<title>SofQW3V</title>
<path fill="#87cefa" stroke="#000000" d="M523.9057,-737C523.9057,-737 263.9057,-737 263.9057,-737 257.9057,-737 251.9057,-731 251.9057,-725 251.9057,-725 251.9057,-713 251.9057,-713 251.9057,-707 257.9057,-701 263.9057,-701 263.9057,-701 523.9057,-701 523.9057,-701 529.9057,-701 535.9057,-707 535.9057,-713 535.9057,-713 535.9057,-725 535.9057,-725 535.9057,-731 529.9057,-737 523.9057,-737"/>
<text text-anchor="middle" x="393.9057" y="-715.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">transform to momentum and energy transfer</text>
</g>
<!-- groupingDetectorsV&#45;&gt;SofQW3V -->
<g id="edge44" class="edge">
<title>groupingDetectorsV&#45;&gt;SofQW3V</title>
<path fill="none" stroke="#000000" d="M340.4563,-773.9551C349.1607,-765.0054 359.8189,-754.047 369.3213,-744.2769"/>
<polygon fill="#000000" stroke="#000000" points="371.8478,-746.6992 376.311,-737.0904 366.8297,-741.8187 371.8478,-746.6992"/>
</g>
<!-- checkIsVanadium2 -->
<g id="node38" class="node">
<title>checkIsVanadium2</title>
<polygon fill="#32cd32" stroke="#000000" points="393.9057,-664 193.6531,-646 393.9057,-628 594.1584,-646 393.9057,-664"/>
<text text-anchor="middle" x="393.9057" y="-642.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">processing Vanadium or sample?</text>
</g>
<!-- SofQW3V&#45;&gt;checkIsVanadium2 -->
<g id="edge46" class="edge">
<title>SofQW3V&#45;&gt;checkIsVanadium2</title>
<path fill="none" stroke="#000000" d="M393.9057,-700.9551C393.9057,-692.8828 393.9057,-683.1764 393.9057,-674.1817"/>
<polygon fill="#000000" stroke="#000000" points="397.4058,-674.0903 393.9057,-664.0904 390.4058,-674.0904 397.4058,-674.0903"/>
</g>
<!-- aggregateS -->
<g id="node17" class="node">
<title>aggregateS</title>
<path fill="#87cefa" stroke="#000000" d="M794.4057,-2563C794.4057,-2563 663.4057,-2563 663.4057,-2563 657.4057,-2563 651.4057,-2557 651.4057,-2551 651.4057,-2551 651.4057,-2539 651.4057,-2539 651.4057,-2533 657.4057,-2527 663.4057,-2527 663.4057,-2527 794.4057,-2527 794.4057,-2527 800.4057,-2527 806.4057,-2533 806.4057,-2539 806.4057,-2539 806.4057,-2551 806.4057,-2551 806.4057,-2557 800.4057,-2563 794.4057,-2563"/>
<text text-anchor="middle" x="728.9057" y="-2541.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">aggregate sample runs</text>
</g>
<!-- aggregateS&#45;&gt;maskDetectors -->
<g id="edge9" class="edge">
<title>aggregateS&#45;&gt;maskDetectors</title>
<path fill="none" stroke="#000000" d="M728.9057,-2526.9551C728.9057,-2518.8828 728.9057,-2509.1764 728.9057,-2500.1817"/>
<polygon fill="#000000" stroke="#000000" points="732.4058,-2500.0903 728.9057,-2490.0904 725.4058,-2500.0904 732.4058,-2500.0903"/>
</g>
<!-- maskDetectors2 -->
<g id="node18" class="node">
<title>maskDetectors2</title>
<path fill="#87cefa" stroke="#000000" d="M767.4057,-1363C767.4057,-1363 682.4057,-1363 682.4057,-1363 676.4057,-1363 670.4057,-1357 670.4057,-1351 670.4057,-1351 670.4057,-1339 670.4057,-1339 670.4057,-1333 676.4057,-1327 682.4057,-1327 682.4057,-1327 767.4057,-1327 767.4057,-1327 773.4057,-1327 779.4057,-1333 779.4057,-1339 779.4057,-1339 779.4057,-1351 779.4057,-1351 779.4057,-1357 773.4057,-1363 767.4057,-1363"/>
<text text-anchor="middle" x="724.9057" y="-1341.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">mask detectors</text>
</g>
<!-- checkNormalizeByDetectorID -->
<g id="node39" class="node">
<title>checkNormalizeByDetectorID</title>
<polygon fill="#32cd32" stroke="#000000" points="724.9057,-1290 571.4072,-1272 724.9057,-1254 878.4042,-1272 724.9057,-1290"/>
<text text-anchor="middle" x="724.9057" y="-1268.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">normalize by detectorID?</text>
</g>
<!-- maskDetectors2&#45;&gt;checkNormalizeByDetectorID -->
<g id="edge32" class="edge">
<title>maskDetectors2&#45;&gt;checkNormalizeByDetectorID</title>
<path fill="none" stroke="#000000" d="M724.9057,-1326.9551C724.9057,-1318.8828 724.9057,-1309.1764 724.9057,-1300.1817"/>
<polygon fill="#000000" stroke="#000000" points="728.4058,-1300.0903 724.9057,-1290.0904 721.4058,-1300.0904 728.4058,-1300.0903"/>
</g>
<!-- DivideByVanadiumDetectorID -->
<g id="node19" class="node">
<title>DivideByVanadiumDetectorID</title>
<path fill="#87cefa" stroke="#000000" d="M681.4057,-1203C681.4057,-1203 570.4057,-1203 570.4057,-1203 564.4057,-1203 558.4057,-1197 558.4057,-1191 558.4057,-1191 558.4057,-1179 558.4057,-1179 558.4057,-1173 564.4057,-1167 570.4057,-1167 570.4057,-1167 681.4057,-1167 681.4057,-1167 687.4057,-1167 693.4057,-1173 693.4057,-1179 693.4057,-1179 693.4057,-1191 693.4057,-1191 693.4057,-1197 687.4057,-1203 681.4057,-1203"/>
<text text-anchor="middle" x="625.9057" y="-1181.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">divide by Vanadium</text>
</g>
<!-- DivideByVanadiumDetectorID&#45;&gt;convertUnitsToEnergyV -->
<g id="edge37" class="edge">
<title>DivideByVanadiumDetectorID&#45;&gt;convertUnitsToEnergyV</title>
<path fill="none" stroke="#000000" d="M639.9954,-1166.9735C649.66,-1154.6085 662.6385,-1138.0036 673.4395,-1124.1847"/>
<polygon fill="#000000" stroke="#000000" points="676.4335,-1126.0376 679.8341,-1116.0034 670.9183,-1121.7269 676.4335,-1126.0376"/>
<text text-anchor="middle" x="676.9057" y="-1137.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">Yes</text>
</g>
<!-- DivideByVanadiumQslice -->
<g id="node20" class="node">
<title>DivideByVanadiumQslice</title>
<path fill="#87cefa" stroke="#000000" d="M456.4057,-342C456.4057,-342 345.4057,-342 345.4057,-342 339.4057,-342 333.4057,-336 333.4057,-330 333.4057,-330 333.4057,-318 333.4057,-318 333.4057,-312 339.4057,-306 345.4057,-306 345.4057,-306 456.4057,-306 456.4057,-306 462.4057,-306 468.4057,-312 468.4057,-318 468.4057,-318 468.4057,-330 468.4057,-330 468.4057,-336 462.4057,-342 456.4057,-342"/>
<text text-anchor="middle" x="400.9057" y="-320.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">divide by Vanadium</text>
</g>
<!-- sampleStructureFactor -->
<g id="node48" class="node">
<title>sampleStructureFactor</title>
<polygon fill="#c0c0c0" stroke="#000000" points="524.259,-269 433.0228,-269 409.5525,-233 500.7886,-233 524.259,-269"/>
<text text-anchor="middle" x="466.9057" y="-247.3" font-family="Times,serif" font-size="14.00" fill="#000000">Ss(Q,E)</text>
</g>
<!-- DivideByVanadiumQslice&#45;&gt;sampleStructureFactor -->
<g id="edge53" class="edge">
<title>DivideByVanadiumQslice&#45;&gt;sampleStructureFactor</title>
<path fill="none" stroke="#000000" d="M417.2203,-305.9551C425.2324,-297.0932 435.0253,-286.2616 443.7925,-276.5646"/>
<polygon fill="#000000" stroke="#000000" points="446.4398,-278.8554 450.55,-269.0904 441.2473,-274.1609 446.4398,-278.8554"/>
</g>
<!-- saveToDaveGroup -->
<g id="node21" class="node">
<title>saveToDaveGroup</title>
<path fill="#87cefa" stroke="#000000" d="M454.4057,-196C454.4057,-196 323.4057,-196 323.4057,-196 317.4057,-196 311.4057,-190 311.4057,-184 311.4057,-184 311.4057,-172 311.4057,-172 311.4057,-166 317.4057,-160 323.4057,-160 323.4057,-160 454.4057,-160 454.4057,-160 460.4057,-160 466.4057,-166 466.4057,-172 466.4057,-172 466.4057,-184 466.4057,-184 466.4057,-190 460.4057,-196 454.4057,-196"/>
<text text-anchor="middle" x="388.9057" y="-174.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">save to Dave group file</text>
</g>
<!-- checkDivideByVanadium3 -->
<g id="node41" class="node">
<title>checkDivideByVanadium3</title>
<polygon fill="#32cd32" stroke="#000000" points="300.9057,-123 172.0414,-105 300.9057,-87 429.77,-105 300.9057,-123"/>
<text text-anchor="middle" x="300.9057" y="-101.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">divide by vanadium?</text>
</g>
<!-- saveToDaveGroup&#45;&gt;checkDivideByVanadium3 -->
<g id="edge56" class="edge">
<title>saveToDaveGroup&#45;&gt;checkDivideByVanadium3</title>
<path fill="none" stroke="#000000" d="M367.1529,-159.9551C355.212,-150.0495 340.3045,-137.6831 327.6564,-127.1909"/>
<polygon fill="#000000" stroke="#000000" points="329.656,-124.3022 319.7249,-120.6113 325.1868,-129.6898 329.656,-124.3022"/>
</g>
<!-- saveToNexus -->
<g id="node22" class="node">
<title>saveToNexus</title>
<path fill="#87cefa" stroke="#000000" d="M610.4057,-196C610.4057,-196 511.4057,-196 511.4057,-196 505.4057,-196 499.4057,-190 499.4057,-184 499.4057,-184 499.4057,-172 499.4057,-172 499.4057,-166 505.4057,-160 511.4057,-160 511.4057,-160 610.4057,-160 610.4057,-160 616.4057,-160 622.4057,-166 622.4057,-172 622.4057,-172 622.4057,-184 622.4057,-184 622.4057,-190 616.4057,-196 610.4057,-196"/>
<text text-anchor="middle" x="560.9057" y="-174.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">save to Nexus file</text>
</g>
<!-- checkDivideByVanadium4 -->
<g id="node42" class="node">
<title>checkDivideByVanadium4</title>
<polygon fill="#32cd32" stroke="#000000" points="575.9057,-123 447.0414,-105 575.9057,-87 704.77,-105 575.9057,-123"/>
<text text-anchor="middle" x="575.9057" y="-101.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">divide by vanadium?</text>
</g>
<!-- saveToNexus&#45;&gt;checkDivideByVanadium4 -->
<g id="edge60" class="edge">
<title>saveToNexus&#45;&gt;checkDivideByVanadium4</title>
<path fill="none" stroke="#000000" d="M564.6136,-159.9551C566.3155,-151.6724 568.371,-141.6692 570.2592,-132.4797"/>
<polygon fill="#000000" stroke="#000000" points="573.7078,-133.0853 572.2923,-122.5855 566.8511,-131.6763 573.7078,-133.0853"/>
</g>
<!-- integrateVanadiumAroundElasticLine -->
<g id="node23" class="node">
<title>integrateVanadiumAroundElasticLine</title>
<path fill="#87cefa" stroke="#000000" d="M457.9057,-490C457.9057,-490 333.9057,-490 333.9057,-490 327.9057,-490 321.9057,-484 321.9057,-478 321.9057,-478 321.9057,-464 321.9057,-464 321.9057,-458 327.9057,-452 333.9057,-452 333.9057,-452 457.9057,-452 457.9057,-452 463.9057,-452 469.9057,-458 469.9057,-464 469.9057,-464 469.9057,-478 469.9057,-478 469.9057,-484 463.9057,-490 457.9057,-490"/>
<text text-anchor="middle" x="395.9057" y="-474.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">integrate Vanadium</text>
<text text-anchor="middle" x="395.9057" y="-459.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">around the elastic line</text>
</g>
<!-- vanadiumStructureFactorQ -->
<g id="node47" class="node">
<title>vanadiumStructureFactorQ</title>
<polygon fill="#c0c0c0" stroke="#000000" points="447.7001,-415 371.6699,-415 352.1113,-379 428.1415,-379 447.7001,-415"/>
<text text-anchor="middle" x="399.9057" y="-393.3" font-family="Times,serif" font-size="14.00" fill="#000000">Sv(Q)</text>
</g>
<!-- integrateVanadiumAroundElasticLine&#45;&gt;vanadiumStructureFactorQ -->
<g id="edge51" class="edge">
<title>integrateVanadiumAroundElasticLine&#45;&gt;vanadiumStructureFactorQ</title>
<path fill="none" stroke="#000000" d="M396.9358,-451.9432C397.375,-443.8174 397.8966,-434.1682 398.3792,-425.2408"/>
<polygon fill="#000000" stroke="#000000" points="401.8755,-425.4012 398.9205,-415.2269 394.8857,-425.0233 401.8755,-425.4012"/>
</g>
<!-- maskFile -->
<g id="node24" class="node">
<title>maskFile</title>
<ellipse fill="#f0e68c" stroke="#000000" cx="785.9057" cy="-2705" rx="46.2923" ry="18"/>
<text text-anchor="middle" x="785.9057" y="-2701.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">MaskFile</text>
</g>
<!-- maskFile&#45;&gt;loadMaskFile -->
<g id="edge3" class="edge">
<title>maskFile&#45;&gt;loadMaskFile</title>
<path fill="none" stroke="#000000" d="M808.2552,-2689.1601C821.9337,-2679.4656 839.703,-2666.8718 855.08,-2655.9736"/>
<polygon fill="#000000" stroke="#000000" points="857.2006,-2658.7606 863.3355,-2650.1226 853.1529,-2653.0495 857.2006,-2658.7606"/>
</g>
<!-- defaultMaskFile -->
<g id="node25" class="node">
<title>defaultMaskFile</title>
<ellipse fill="#f0e68c" stroke="#000000" cx="954.9057" cy="-2705" rx="104.7816" ry="18"/>
<text text-anchor="middle" x="954.9057" y="-2701.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">DEFAULT_MASK_FILE</text>
</g>
<!-- defaultMaskFile&#45;&gt;loadMaskFile -->
<g id="edge4" class="edge">
<title>defaultMaskFile&#45;&gt;loadMaskFile</title>
<path fill="none" stroke="#000000" d="M938.5911,-2686.9551C930.579,-2678.0932 920.7861,-2667.2616 912.0189,-2657.5646"/>
<polygon fill="#000000" stroke="#000000" points="914.5641,-2655.1609 905.2614,-2650.0904 909.3717,-2659.8554 914.5641,-2655.1609"/>
</g>
<!-- NormRunNumbers -->
<g id="node26" class="node">
<title>NormRunNumbers</title>
<ellipse fill="#f0e68c" stroke="#000000" cx="241.9057" cy="-2632" rx="102.8821" ry="18"/>
<text text-anchor="middle" x="241.9057" y="-2628.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">Vanadium run numbers</text>
</g>
<!-- NormRunNumbers&#45;&gt;aggregateV -->
<g id="edge7" class="edge">
<title>NormRunNumbers&#45;&gt;aggregateV</title>
<path fill="none" stroke="#000000" d="M288.1571,-2615.8399C328.037,-2601.9059 385.9303,-2581.6781 429.6531,-2566.4015"/>
<polygon fill="#000000" stroke="#000000" points="431.0304,-2569.6278 439.3163,-2563.0252 428.7215,-2563.0196 431.0304,-2569.6278"/>
</g>
<!-- NormWavelengthRange -->
<g id="node27" class="node">
<title>NormWavelengthRange</title>
<ellipse fill="#f0e68c" stroke="#000000" cx="390.9057" cy="-1773" rx="123.4781" ry="18"/>
<text text-anchor="middle" x="390.9057" y="-1769.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">wavelength integration range</text>
</g>
<!-- NormWavelengthRange&#45;&gt;integrateWavelengthV -->
<g id="edge25" class="edge">
<title>NormWavelengthRange&#45;&gt;integrateWavelengthV</title>
<path fill="none" stroke="#000000" d="M392.3561,-1754.9735C393.3041,-1743.1918 394.5617,-1727.5607 395.6401,-1714.1581"/>
<polygon fill="#000000" stroke="#000000" points="399.1438,-1714.2519 396.4572,-1704.0034 392.1663,-1713.6904 399.1438,-1714.2519"/>
</g>
<!-- groupDetectors -->
<g id="node28" class="node">
<title>groupDetectors</title>
<ellipse fill="#f0e68c" stroke="#000000" cx="387.9057" cy="-952" rx="169.77" ry="18"/>
<text text-anchor="middle" x="387.9057" y="-948.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">group detectors by tube or low&#45;resolution</text>
</g>
<!-- groupDetectors&#45;&gt;checkgroupDetectors -->
<g id="edge42" class="edge">
<title>groupDetectors&#45;&gt;checkgroupDetectors</title>
<path fill="none" stroke="#000000" d="M390.872,-933.9551C392.2089,-925.8221 393.8185,-916.0303 395.3064,-906.979"/>
<polygon fill="#000000" stroke="#000000" points="398.805,-907.2727 396.9735,-896.8374 391.8977,-906.1372 398.805,-907.2727"/>
</g>
<!-- runNumbers -->
<g id="node29" class="node">
<title>runNumbers</title>
<ellipse fill="#f0e68c" stroke="#000000" cx="728.9057" cy="-2632" rx="91.784" ry="18"/>
<text text-anchor="middle" x="728.9057" y="-2628.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">sample run numbers</text>
</g>
<!-- runNumbers&#45;&gt;aggregateS -->
<g id="edge8" class="edge">
<title>runNumbers&#45;&gt;aggregateS</title>
<path fill="none" stroke="#000000" d="M728.9057,-2613.9735C728.9057,-2602.1918 728.9057,-2586.5607 728.9057,-2573.1581"/>
<polygon fill="#000000" stroke="#000000" points="732.4058,-2573.0033 728.9057,-2563.0034 725.4058,-2573.0034 732.4058,-2573.0033"/>
</g>
<!-- checkMaskFile -->
<g id="node30" class="node">
<title>checkMaskFile</title>
<polygon fill="#32cd32" stroke="#000000" points="869.9057,-2810 754.2778,-2792 869.9057,-2774 985.5336,-2792 869.9057,-2810"/>
<text text-anchor="middle" x="869.9057" y="-2788.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">custom mask file?</text>
</g>
<!-- checkMaskFile&#45;&gt;maskFile -->
<g id="edge1" class="edge">
<title>checkMaskFile&#45;&gt;maskFile</title>
<path fill="none" stroke="#000000" d="M854.4988,-2776.0429C841.9149,-2763.0096 823.9205,-2744.3724 809.5193,-2729.4569"/>
<polygon fill="#000000" stroke="#000000" points="811.8275,-2726.8087 802.3637,-2722.0457 806.7917,-2731.6709 811.8275,-2726.8087"/>
<text text-anchor="middle" x="845.9057" y="-2744.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">Yes</text>
</g>
<!-- checkMaskFile&#45;&gt;defaultMaskFile -->
<g id="edge2" class="edge">
<title>checkMaskFile&#45;&gt;defaultMaskFile</title>
<path fill="none" stroke="#000000" d="M885.496,-2776.0429C897.9848,-2763.2602 915.7401,-2745.0872 930.1663,-2730.3215"/>
<polygon fill="#000000" stroke="#000000" points="932.8764,-2732.556 937.3613,-2722.9572 927.8694,-2727.6641 932.8764,-2732.556"/>
<text text-anchor="middle" x="925.9057" y="-2744.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">No</text>
</g>
<!-- checkDivideByVanadium -->
<g id="node31" class="node">
<title>checkDivideByVanadium</title>
<polygon fill="#32cd32" stroke="#000000" points="490.9057,-2650 362.0414,-2632 490.9057,-2614 619.77,-2632 490.9057,-2650"/>
<text text-anchor="middle" x="490.9057" y="-2628.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">divide by vanadium?</text>
</g>
<!-- checkDivideByVanadium&#45;&gt;aggregateV -->
<g id="edge6" class="edge">
<title>checkDivideByVanadium&#45;&gt;aggregateV</title>
<path fill="none" stroke="#000000" d="M490.9057,-2613.9735C490.9057,-2602.1918 490.9057,-2586.5607 490.9057,-2573.1581"/>
<polygon fill="#000000" stroke="#000000" points="494.4058,-2573.0033 490.9057,-2563.0034 487.4058,-2573.0034 494.4058,-2573.0033"/>
<text text-anchor="middle" x="502.9057" y="-2584.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">Yes</text>
</g>
<!-- checkMonNorm&#45;&gt;moderatorTzeroLinearM -->
<g id="edge15" class="edge">
<title>checkMonNorm&#45;&gt;moderatorTzeroLinearM</title>
<path fill="none" stroke="#000000" d="M711.9774,-2236.636C698.7956,-2223.8936 680.2631,-2205.9788 665.1606,-2191.3797"/>
<polygon fill="#000000" stroke="#000000" points="667.2446,-2188.5263 657.6221,-2184.0925 662.3794,-2193.5592 667.2446,-2188.5263"/>
<text text-anchor="middle" x="701.9057" y="-2205.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">Yes</text>
</g>
<!-- checkMonNorm&#45;&gt;checkIsVanadium -->
<g id="edge16" class="edge">
<title>checkMonNorm&#45;&gt;checkIsVanadium</title>
<path fill="none" stroke="#000000" d="M760.7331,-2238.6024C786.9749,-2224.3061 819.9057,-2199.6599 819.9057,-2166 819.9057,-2166 819.9057,-2166 819.9057,-1933 819.9057,-1914.9861 809.9563,-1897.5972 799.5198,-1884.3124"/>
<polygon fill="#000000" stroke="#000000" points="802.1551,-1882.0081 793.0432,-1876.6021 796.7952,-1886.5104 802.1551,-1882.0081"/>
<text text-anchor="middle" x="828.9057" y="-2045.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">No</text>
</g>
<!-- checkByQSlice&#45;&gt;convertUnitsToEnergyV -->
<g id="edge38" class="edge">
<title>checkByQSlice&#45;&gt;convertUnitsToEnergyV</title>
<path fill="none" stroke="#000000" d="M627.0503,-1389.0019C581.288,-1378.05 529.9057,-1355.3268 529.9057,-1308.5 529.9057,-1308.5 529.9057,-1308.5 529.9057,-1185 529.9057,-1148.1647 562.5915,-1126.8791 598.7789,-1114.6007"/>
<polygon fill="#000000" stroke="#000000" points="600.0597,-1117.8668 608.5433,-1111.5202 597.9535,-1111.1911 600.0597,-1117.8668"/>
<text text-anchor="middle" x="541.9057" y="-1268.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">Yes</text>
</g>
<!-- checkNormalizeByDetectorID2 -->
<g id="node34" class="node">
<title>checkNormalizeByDetectorID2</title>
<polygon fill="#32cd32" stroke="#000000" points="685.9057,-1791 532.4072,-1773 685.9057,-1755 839.4042,-1773 685.9057,-1791"/>
<text text-anchor="middle" x="685.9057" y="-1769.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">normalize by detectorID?</text>
</g>
<!-- checkNormalizeByDetectorID2&#45;&gt;integrateWavelengthV -->
<g id="edge22" class="edge">
<title>checkNormalizeByDetectorID2&#45;&gt;integrateWavelengthV</title>
<path fill="none" stroke="#000000" d="M642.7892,-1759.9752C596.3816,-1745.9563 521.8811,-1723.4509 467.2259,-1706.9405"/>
<polygon fill="#000000" stroke="#000000" points="468.191,-1703.5759 457.6061,-1704.0345 466.1667,-1710.2768 468.191,-1703.5759"/>
<text text-anchor="middle" x="571.9057" y="-1725.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">Yes</text>
</g>
<!-- checkNormalizeByDetectorID2&#45;&gt;findDetectorsOutsideLimitsV -->
<g id="edge23" class="edge">
<title>checkNormalizeByDetectorID2&#45;&gt;findDetectorsOutsideLimitsV</title>
<path fill="none" stroke="#000000" d="M685.6116,-1754.8375C684.921,-1712.1929 683.1917,-1605.4108 682.3628,-1554.2247"/>
<polygon fill="#000000" stroke="#000000" points="685.8618,-1554.1311 682.2003,-1544.1891 678.8627,-1554.2445 685.8618,-1554.1311"/>
<text text-anchor="middle" x="692.9057" y="-1638.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">No</text>
</g>
<!-- checkgroupDetectors&#45;&gt;groupingDetectorsV -->
<g id="edge43" class="edge">
<title>checkgroupDetectors&#45;&gt;groupingDetectorsV</title>
<path fill="none" stroke="#000000" d="M385.4226,-862.636C374.2483,-850.0105 358.5798,-832.3071 345.7246,-817.7823"/>
<polygon fill="#000000" stroke="#000000" points="348.1672,-815.2612 338.9186,-810.0925 342.9253,-819.9005 348.1672,-815.2612"/>
<text text-anchor="middle" x="378.9057" y="-831.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">Yes</text>
</g>
<!-- checkgroupDetectors&#45;&gt;SofQW3V -->
<g id="edge45" class="edge">
<title>checkgroupDetectors&#45;&gt;SofQW3V</title>
<path fill="none" stroke="#000000" d="M399.8543,-860.7804C399.7266,-839.8318 399.3004,-804.4163 397.9057,-774 397.511,-765.3926 396.8995,-756.0395 396.2723,-747.5288"/>
<polygon fill="#000000" stroke="#000000" points="399.7435,-747.0199 395.4847,-737.3188 392.7643,-747.5584 399.7435,-747.0199"/>
<text text-anchor="middle" x="408.9057" y="-788.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">No</text>
</g>
<!-- checkIsVanadium&#45;&gt;checkNormalizeByDetectorID2 -->
<g id="edge21" class="edge">
<title>checkIsVanadium&#45;&gt;checkNormalizeByDetectorID2</title>
<path fill="none" stroke="#000000" d="M758.5528,-1843.2255C744.8075,-1829.9384 725.4434,-1811.2198 710.1635,-1796.4492"/>
<polygon fill="#000000" stroke="#000000" points="712.2193,-1793.5685 702.5968,-1789.1347 707.3541,-1798.6014 712.2193,-1793.5685"/>
<text text-anchor="middle" x="767.9057" y="-1812.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">Vanadium</text>
</g>
<!-- checkDivideByVanadium2 -->
<g id="node37" class="node">
<title>checkDivideByVanadium2</title>
<polygon fill="#32cd32" stroke="#000000" points="874.9057,-1471 746.0414,-1453 874.9057,-1435 1003.77,-1453 874.9057,-1471"/>
<text text-anchor="middle" x="874.9057" y="-1449.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">divide by vanadium?</text>
</g>
<!-- checkIsVanadium&#45;&gt;checkDivideByVanadium2 -->
<g id="edge24" class="edge">
<title>checkIsVanadium&#45;&gt;checkDivideByVanadium2</title>
<path fill="none" stroke="#000000" d="M809.0162,-1844.898C835.0354,-1830.5035 866.9057,-1806.1135 866.9057,-1773 866.9057,-1773 866.9057,-1773 866.9057,-1526 866.9057,-1511.0104 868.5931,-1494.3919 870.4179,-1480.8023"/>
<polygon fill="#000000" stroke="#000000" points="873.9199,-1481.0389 871.8813,-1470.6421 866.9914,-1480.041 873.9199,-1481.0389"/>
<text text-anchor="middle" x="890.4057" y="-1638.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">Sample</text>
</g>
<!-- checkDivideByVanadium2&#45;&gt;convertUnitsToEnergyV -->
<g id="edge36" class="edge">
<title>checkDivideByVanadium2&#45;&gt;convertUnitsToEnergyV</title>
<path fill="none" stroke="#000000" d="M888.4051,-1436.6383C892.6616,-1430.7555 897.0051,-1423.8698 899.9057,-1417 912.586,-1386.9679 913.9057,-1377.5993 913.9057,-1345 913.9057,-1345 913.9057,-1345 913.9057,-1185 913.9057,-1156.3064 848.3712,-1133.0181 788.838,-1117.7822"/>
<polygon fill="#000000" stroke="#000000" points="789.5138,-1114.3435 778.9635,-1115.3129 787.8156,-1121.1344 789.5138,-1114.3435"/>
<text text-anchor="middle" x="922.9057" y="-1268.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">No</text>
</g>
<!-- checkDivideByVanadium2&#45;&gt;maskDetectors2 -->
<g id="edge30" class="edge">
<title>checkDivideByVanadium2&#45;&gt;maskDetectors2</title>
<path fill="none" stroke="#000000" d="M874.0985,-1434.8359C872.4002,-1418.5712 867.3906,-1395.1643 852.9057,-1381 843.351,-1371.6568 816.2567,-1363.4011 789.4425,-1357.1604"/>
<polygon fill="#000000" stroke="#000000" points="790.1329,-1353.7284 779.6092,-1354.9541 788.6004,-1360.5586 790.1329,-1353.7284"/>
<text text-anchor="middle" x="883.9057" y="-1395.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">Yes</text>
</g>
<!-- checkNormalizeByQslice -->
<g id="node40" class="node">
<title>checkNormalizeByQslice</title>
<polygon fill="#32cd32" stroke="#000000" points="497.9057,-577 369.0414,-559 497.9057,-541 626.77,-559 497.9057,-577"/>
<text text-anchor="middle" x="497.9057" y="-555.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">normalize by Q slice</text>
</g>
<!-- checkIsVanadium2&#45;&gt;checkNormalizeByQslice -->
<g id="edge48" class="edge">
<title>checkIsVanadium2&#45;&gt;checkNormalizeByQslice</title>
<path fill="none" stroke="#000000" d="M413.4673,-629.636C429.7955,-615.9768 453.2284,-596.3743 471.2682,-581.2833"/>
<polygon fill="#000000" stroke="#000000" points="473.7079,-583.8056 479.1323,-574.7047 469.2165,-578.4365 473.7079,-583.8056"/>
<text text-anchor="middle" x="476.4057" y="-598.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">Sample</text>
</g>
<!-- vanadiumStructureFactorQE -->
<g id="node46" class="node">
<title>vanadiumStructureFactorQE</title>
<polygon fill="#c0c0c0" stroke="#000000" points="351.0703,-577 256.9527,-577 232.7411,-541 326.8587,-541 351.0703,-577"/>
<text text-anchor="middle" x="291.9057" y="-555.3" font-family="Times,serif" font-size="14.00" fill="#000000">Sv(Q,E)</text>
</g>
<!-- checkIsVanadium2&#45;&gt;vanadiumStructureFactorQE -->
<g id="edge47" class="edge">
<title>checkIsVanadium2&#45;&gt;vanadiumStructureFactorQE</title>
<path fill="none" stroke="#000000" d="M374.7203,-629.636C359.6439,-616.7767 338.3915,-598.6497 321.1911,-583.9787"/>
<polygon fill="#000000" stroke="#000000" points="322.9973,-580.9191 313.1176,-577.0925 318.4546,-586.2449 322.9973,-580.9191"/>
<text text-anchor="middle" x="380.9057" y="-598.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">Vanadium</text>
</g>
<!-- checkNormalizeByDetectorID&#45;&gt;convertUnitsToEnergyV -->
<g id="edge35" class="edge">
<title>checkNormalizeByDetectorID&#45;&gt;convertUnitsToEnergyV</title>
<path fill="none" stroke="#000000" d="M721.7627,-1254.3584C716.3829,-1224.1622 705.3674,-1162.3332 698.917,-1126.1279"/>
<polygon fill="#000000" stroke="#000000" points="702.3499,-1125.4414 697.1501,-1116.2103 695.4584,-1126.6692 702.3499,-1125.4414"/>
<text text-anchor="middle" x="721.9057" y="-1181.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">No</text>
</g>
<!-- checkNormalizeByDetectorID&#45;&gt;DivideByVanadiumDetectorID -->
<g id="edge33" class="edge">
<title>checkNormalizeByDetectorID&#45;&gt;DivideByVanadiumDetectorID</title>
<path fill="none" stroke="#000000" d="M706.7476,-1256.0429C692.1643,-1243.2272 671.4155,-1224.9934 654.5899,-1210.2074"/>
<polygon fill="#000000" stroke="#000000" points="656.5116,-1207.2367 646.6895,-1203.2646 651.8908,-1212.4948 656.5116,-1207.2367"/>
<text text-anchor="middle" x="693.9057" y="-1224.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">Yes</text>
</g>
<!-- checkNormalizeByQslice&#45;&gt;integrateVanadiumAroundElasticLine -->
<g id="edge49" class="edge">
<title>checkNormalizeByQslice&#45;&gt;integrateVanadiumAroundElasticLine</title>
<path fill="none" stroke="#000000" d="M479.6702,-543.2674C464.7626,-530.4059 443.378,-511.9565 425.9475,-496.9184"/>
<polygon fill="#000000" stroke="#000000" points="428.1125,-494.1637 418.2546,-490.2814 423.5398,-499.4638 428.1125,-494.1637"/>
<text text-anchor="middle" x="468.9057" y="-511.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">Yes</text>
</g>
<!-- checkNormalizeByQslice&#45;&gt;sampleStructureFactor -->
<g id="edge54" class="edge">
<title>checkNormalizeByQslice&#45;&gt;sampleStructureFactor</title>
<path fill="none" stroke="#000000" d="M497.9057,-540.7978C497.9057,-523.0023 497.9057,-495.1389 497.9057,-471 497.9057,-471 497.9057,-471 497.9057,-324 497.9057,-307.9344 491.4659,-291.3488 484.4566,-278.0547"/>
<polygon fill="#000000" stroke="#000000" points="487.3087,-275.9883 479.336,-269.0108 481.2173,-279.4372 487.3087,-275.9883"/>
<text text-anchor="middle" x="506.9057" y="-393.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">No</text>
</g>
<!-- datFile -->
<g id="node49" class="node">
<title>datFile</title>
<polygon fill="#c0c0c0" stroke="#000000" points="165.7172,-36 33.9826,-36 .0942,0 131.8288,0 165.7172,-36"/>
<text text-anchor="middle" x="82.9057" y="-14.3" font-family="Times,serif" font-size="14.00" fill="#000000">_sqw.dat file</text>
</g>
<!-- checkDivideByVanadium3&#45;&gt;datFile -->
<g id="edge57" class="edge">
<title>checkDivideByVanadium3&#45;&gt;datFile</title>
<path fill="none" stroke="#000000" d="M267.321,-91.5969C232.8229,-77.8293 178.5563,-56.1725 137.8054,-39.9095"/>
<polygon fill="#000000" stroke="#000000" points="138.8673,-36.5649 128.2823,-36.109 136.2727,-43.0663 138.8673,-36.5649"/>
<text text-anchor="middle" x="214.9057" y="-57.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">No</text>
</g>
<!-- dividedDatFile -->
<g id="node50" class="node">
<title>dividedDatFile</title>
<polygon fill="#c0c0c0" stroke="#000000" points="439.7937,-36 236.3525,-36 184.0177,0 387.4589,0 439.7937,-36"/>
<text text-anchor="middle" x="311.9057" y="-14.3" font-family="Times,serif" font-size="14.00" fill="#000000">_divided_sqw.dat file</text>
</g>
<!-- checkDivideByVanadium3&#45;&gt;dividedDatFile -->
<g id="edge58" class="edge">
<title>checkDivideByVanadium3&#45;&gt;dividedDatFile</title>
<path fill="none" stroke="#000000" d="M303.1849,-86.9735C304.6746,-75.1918 306.6509,-59.5607 308.3455,-46.1581"/>
<polygon fill="#000000" stroke="#000000" points="311.8473,-46.3634 309.6294,-36.0034 304.9026,-45.4853 311.8473,-46.3634"/>
<text text-anchor="middle" x="319.9057" y="-57.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">Yes</text>
</g>
<!-- sqwFile -->
<g id="node51" class="node">
<title>sqwFile</title>
<polygon fill="#c0c0c0" stroke="#000000" points="649.5293,-36 514.9121,-36 480.2821,0 614.8993,0 649.5293,-36"/>
<text text-anchor="middle" x="564.9057" y="-14.3" font-family="Times,serif" font-size="14.00" fill="#000000">_sqw.nxs file</text>
</g>
<!-- checkDivideByVanadium4&#45;&gt;sqwFile -->
<g id="edge61" class="edge">
<title>checkDivideByVanadium4&#45;&gt;sqwFile</title>
<path fill="none" stroke="#000000" d="M573.6265,-86.9735C572.1369,-75.1918 570.1605,-59.5607 568.4659,-46.1581"/>
<polygon fill="#000000" stroke="#000000" points="571.9088,-45.4853 567.182,-36.0034 564.9641,-46.3634 571.9088,-45.4853"/>
<text text-anchor="middle" x="580.9057" y="-57.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">No</text>
</g>
<!-- dividedSqwFile -->
<g id="node52" class="node">
<title>dividedSqwFile</title>
<polygon fill="#c0c0c0" stroke="#000000" points="928.5111,-36 720.7472,-36 667.3003,0 875.0642,0 928.5111,-36"/>
<text text-anchor="middle" x="797.9057" y="-14.3" font-family="Times,serif" font-size="14.00" fill="#000000">_divided_sqw.nxs file</text>
</g>
<!-- checkDivideByVanadium4&#45;&gt;dividedSqwFile -->
<g id="edge62" class="edge">
<title>checkDivideByVanadium4&#45;&gt;dividedSqwFile</title>
<path fill="none" stroke="#000000" d="M610.1067,-91.5969C645.3119,-77.8003 700.7333,-56.0811 742.2611,-39.8067"/>
<polygon fill="#000000" stroke="#000000" points="743.663,-43.0165 751.6965,-36.109 741.1088,-36.4991 743.663,-43.0165"/>
<text text-anchor="middle" x="712.9057" y="-57.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">Yes</text>
</g>
<!-- maskData&#45;&gt;maskDetectors -->
<g id="edge11" class="edge">
<title>maskData&#45;&gt;maskDetectors</title>
<path fill="none" stroke="#000000" d="M841.0742,-2526.9551C821.1058,-2517.1719 796.2379,-2504.9883 774.9949,-2494.5806"/>
<polygon fill="#000000" stroke="#000000" points="776.3499,-2491.347 765.8299,-2490.0904 773.2701,-2497.6331 776.3499,-2491.347"/>
</g>
<!-- basisNormMask&#45;&gt;maskDetectors2 -->
<g id="edge31" class="edge">
<title>basisNormMask&#45;&gt;maskDetectors2</title>
<path fill="none" stroke="#000000" d="M543.9164,-1434.7174C535.9415,-1418.8214 528.5221,-1396.0413 540.9057,-1381 555.94,-1362.7392 613.2078,-1353.6094 659.91,-1349.1285"/>
<polygon fill="#000000" stroke="#000000" points="660.355,-1352.6026 669.9988,-1348.2155 659.724,-1345.6311 660.355,-1352.6026"/>
</g>
<!-- vanadiumStructureFactorL&#45;&gt;findDetectorsOutsideLimitsV -->
<g id="edge27" class="edge">
<title>vanadiumStructureFactorL&#45;&gt;findDetectorsOutsideLimitsV</title>
<path fill="none" stroke="#000000" d="M447.6997,-1586.2008C490.279,-1575.2562 552.3451,-1559.3025 601.8877,-1546.568"/>
<polygon fill="#000000" stroke="#000000" points="602.8059,-1549.9458 611.6198,-1544.0665 601.0632,-1543.1662 602.8059,-1549.9458"/>
</g>
<!-- vanadiumStructureFactorL&#45;&gt;DivideByVanadiumDetectorID -->
<g id="edge34" class="edge">
<title>vanadiumStructureFactorL&#45;&gt;DivideByVanadiumDetectorID</title>
<path fill="none" stroke="#000000" d="M399.4637,-1580.7149C400.5868,-1565.9587 401.9057,-1544.6582 401.9057,-1526 401.9057,-1526 401.9057,-1526 401.9057,-1272 401.9057,-1239.7088 483.814,-1214.6579 548.5708,-1199.8987"/>
<polygon fill="#000000" stroke="#000000" points="549.3964,-1203.3006 558.3946,-1197.7074 547.8724,-1196.4685 549.3964,-1203.3006"/>
</g>
<!-- vanadiumStructureFactorQE&#45;&gt;integrateVanadiumAroundElasticLine -->
<g id="edge50" class="edge">
<title>vanadiumStructureFactorQE&#45;&gt;integrateVanadiumAroundElasticLine</title>
<path fill="none" stroke="#000000" d="M313.2026,-540.9795C328.2172,-528.2749 348.5525,-511.0681 365.3011,-496.8962"/>
<polygon fill="#000000" stroke="#000000" points="367.8229,-499.3473 373.1959,-490.216 363.3012,-494.0036 367.8229,-499.3473"/>
</g>
<!-- vanadiumStructureFactorQ&#45;&gt;DivideByVanadiumQslice -->
<g id="edge52" class="edge">
<title>vanadiumStructureFactorQ&#45;&gt;DivideByVanadiumQslice</title>
<path fill="none" stroke="#000000" d="M400.1529,-378.9551C400.2635,-370.8828 400.3964,-361.1764 400.5197,-352.1817"/>
<polygon fill="#000000" stroke="#000000" points="404.0205,-352.1374 400.6579,-342.0904 397.0212,-352.0414 404.0205,-352.1374"/>
</g>
<!-- sampleStructureFactor&#45;&gt;saveToDaveGroup -->
<g id="edge55" class="edge">
<title>sampleStructureFactor&#45;&gt;saveToDaveGroup</title>
<path fill="none" stroke="#000000" d="M447.6248,-232.9551C437.9684,-223.9177 426.1234,-212.8319 415.6073,-202.9899"/>
<polygon fill="#000000" stroke="#000000" points="417.928,-200.3681 408.2351,-196.0904 413.1447,-205.479 417.928,-200.3681"/>
</g>
<!-- sampleStructureFactor&#45;&gt;saveToNexus -->
<g id="edge59" class="edge">
<title>sampleStructureFactor&#45;&gt;saveToNexus</title>
<path fill="none" stroke="#000000" d="M490.1417,-232.9551C502.0048,-223.7422 516.609,-212.4006 529.4633,-202.418"/>
<polygon fill="#000000" stroke="#000000" points="531.86,-204.9883 537.6113,-196.0904 527.5664,-199.4597 531.86,-204.9883"/>
</g>
</g>
</svg>
