<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>SavePlot1D v1</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.9.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="" href="../index.html" />
    <link rel="next" title="SavePlot1DAsJson v1" href="SavePlot1DAsJson-v1.html" />
    <link rel="prev" title="SaveParameterFile v1" href="SaveParameterFile-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>3.9</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://www.mantidproject.org/Documentation">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="saveplot1d-v1">
<span id="algm-saveplot1d"></span><span id="algm-saveplot1d-v1"></span><h1>SavePlot1D v1<a class="headerlink" href="#saveplot1d-v1" title="Permalink to this headline">¶</a></h1>
<div class="figure align-right" id="index-0">
<a class="screenshot reference internal image-reference" href="../_images/SavePlot1D-v1_dlg.png"><img alt="../_images/SavePlot1D-v1_dlg.png" class="screenshot" src="../_images/SavePlot1D-v1_dlg.png" style="width: 292px;" /></a>
<p class="caption"><strong>SavePlot1D</strong> dialog.</p>
</div>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#summary" id="id1">Summary</a></li>
<li><a class="reference internal" href="#properties" id="id2">Properties</a></li>
<li><a class="reference internal" href="#description" id="id3">Description</a></li>
<li><a class="reference internal" href="#usage" id="id4">Usage</a></li>
<li><a class="reference internal" href="#usage-in-autoreduction" id="id5">Usage in autoreduction</a></li>
<li><a class="reference internal" href="#source" id="id6">Source</a></li>
</ul>
</div>
<div class="section" id="summary">
<h2><a class="toc-backref" href="#id1">Summary</a><a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>Save 1D plots to a file</p>
</div>
<div class="section" id="properties">
<h2><a class="toc-backref" href="#id2">Properties</a><a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="5%" />
<col width="20%" />
<col width="8%" />
<col width="56%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Direction</th>
<th class="head">Type</th>
<th class="head">Default</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>InputWorkspace</td>
<td>Input</td>
<td><a class="reference internal" href="../concepts/Workspace.html#workspace"><em>Workspace</em></a></td>
<td><em>Mandatory</em></td>
<td>Workspace to plot</td>
</tr>
<tr class="row-odd"><td>OutputFilename</td>
<td>Input</td>
<td>string</td>
<td>&nbsp;</td>
<td>Name of the image file to savefile. Allowed extensions: [&#8216;.png&#8217;]</td>
</tr>
<tr class="row-even"><td>OutputType</td>
<td>Input</td>
<td>string</td>
<td>image</td>
<td>Method for rendering plot. Allowed values: [&#8216;image&#8217;]</td>
</tr>
<tr class="row-odd"><td>XLabel</td>
<td>Input</td>
<td>string</td>
<td>&nbsp;</td>
<td>Label on the X axis. If empty, it will be taken from workspace</td>
</tr>
<tr class="row-even"><td>YLabel</td>
<td>Input</td>
<td>string</td>
<td>&nbsp;</td>
<td>Label on the Y axis. If empty, it will be taken from workspace</td>
</tr>
<tr class="row-odd"><td>SpectraList</td>
<td>Input</td>
<td>int list</td>
<td>&nbsp;</td>
<td>Which spectra to plot</td>
</tr>
<tr class="row-even"><td>SpectraNames</td>
<td>Input</td>
<td>str list</td>
<td>&nbsp;</td>
<td>Override with custom names for spectra</td>
</tr>
<tr class="row-odd"><td>Result</td>
<td>Output</td>
<td>string</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>PopCanvas</td>
<td>Input</td>
<td>boolean</td>
<td>False</td>
<td>If true, a Matplotlib canvas will be popped out , which contains the saved plot.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="description">
<h2><a class="toc-backref" href="#id3">Description</a><a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>Save 1D plots to a png file, as part of autoreduction. Multiple spectra
in the same workspace will be represented by curves on the same plot.
Groupped workspaces will be shown as subplots. If the workspace has more
than one spectra, but less or equal to ten, labels will be shown.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The figures contain lines between points, no error bars.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Requires matplotlib version&gt;= 1.2.0</p>
</div>
</div>
<div class="section" id="usage">
<h2><a class="toc-backref" href="#id4">Usage</a><a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python"><div class="highlight"><pre><span class="c">#create some workspaces</span>
<span class="n">CreateWorkspace</span><span class="p">(</span><span class="n">OutputWorkspace</span><span class="o">=</span><span class="s">&#39;w1&#39;</span><span class="p">,</span><span class="n">DataX</span><span class="o">=</span><span class="s">&#39;1,2,3,4,5,1,2,3,4,5&#39;</span><span class="p">,</span><span class="n">DataY</span><span class="o">=</span><span class="s">&#39;1,4,5,3,2,2,3,1&#39;</span><span class="p">,</span><span class="n">DataE</span><span class="o">=</span><span class="s">&#39;1,2,2,1,1,1,1,1&#39;</span><span class="p">,</span><span class="n">NSpec</span><span class="o">=</span><span class="s">&#39;2&#39;</span><span class="p">,</span><span class="n">UnitX</span><span class="o">=</span><span class="s">&#39;DeltaE&#39;</span><span class="p">)</span>
<span class="n">CreateWorkspace</span><span class="p">(</span><span class="n">OutputWorkspace</span><span class="o">=</span><span class="s">&#39;w2&#39;</span><span class="p">,</span><span class="n">DataX</span><span class="o">=</span><span class="s">&#39;1,2,3,4,5,1,2,3,4,5&#39;</span><span class="p">,</span><span class="n">DataY</span><span class="o">=</span><span class="s">&#39;4,2,5,3,3,1,3,1&#39;</span><span class="p">,</span> <span class="n">DataE</span><span class="o">=</span><span class="s">&#39;1,2,2,1,1,1,1,1&#39;</span><span class="p">,</span><span class="n">NSpec</span><span class="o">=</span><span class="s">&#39;2&#39;</span><span class="p">,</span><span class="n">UnitX</span><span class="o">=</span><span class="s">&#39;Momentum&#39;</span><span class="p">,</span><span class="n">VerticalAxisUnit</span><span class="o">=</span><span class="s">&#39;Wavelength&#39;</span><span class="p">,</span><span class="n">VerticalAxisValues</span><span class="o">=</span><span class="s">&#39;2,3&#39;</span><span class="p">,</span><span class="n">YUnitLabel</span><span class="o">=</span><span class="s">&#39;Something&#39;</span><span class="p">)</span>
<span class="n">wGroup</span><span class="o">=</span><span class="n">GroupWorkspaces</span><span class="p">(</span><span class="s">&quot;w1,w2&quot;</span><span class="p">)</span>

<span class="c">#write to a file</span>
<span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">mantid</span>
    <span class="n">filename</span><span class="o">=</span><span class="n">mantid</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">getString</span><span class="p">(</span><span class="s">&quot;defaultsave.directory&quot;</span><span class="p">)</span><span class="o">+</span><span class="s">&quot;SavePlot1D.png&quot;</span>
    <span class="n">SavePlot1D</span><span class="p">(</span><span class="n">InputWorkspace</span><span class="o">=</span><span class="n">wGroup</span><span class="p">,</span><span class="n">OutputFilename</span><span class="o">=</span><span class="n">filename</span><span class="p">)</span>
<span class="k">except</span><span class="p">:</span>
    <span class="k">pass</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none"><div class="highlight"><pre>
</pre></div>
</div>
<p>The file should look like</p>
<div class="figure">
<img alt="SavePlot1D.png" src="../_images/SavePlot1D.png" />
</div>
</div>
<div class="section" id="usage-in-autoreduction">
<h2><a class="toc-backref" href="#id5">Usage in autoreduction</a><a class="headerlink" href="#usage-in-autoreduction" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># create some workspaces</span>
<span class="n">CreateWorkspace</span><span class="p">(</span><span class="n">OutputWorkspace</span><span class="o">=</span><span class="s">&#39;w1&#39;</span><span class="p">,</span><span class="n">DataX</span><span class="o">=</span><span class="s">&#39;1,2,3,4,5,1,2,3,4,5&#39;</span><span class="p">,</span><span class="n">DataY</span><span class="o">=</span><span class="s">&#39;1,4,5,3,2,2,3,1&#39;</span><span class="p">,</span><span class="n">DataE</span><span class="o">=</span><span class="s">&#39;1,2,2,1,1,1,1,1&#39;</span><span class="p">,</span><span class="n">NSpec</span><span class="o">=</span><span class="s">&#39;2&#39;</span><span class="p">,</span><span class="n">UnitX</span><span class="o">=</span><span class="s">&#39;DeltaE&#39;</span><span class="p">)</span>
<span class="c"># get the div html/javascript for the plot</span>
<span class="n">div</span> <span class="o">=</span> <span class="n">SavePlot1D</span><span class="p">(</span><span class="n">InputWorkspace</span><span class="o">=</span><span class="s">&#39;w1&#39;</span><span class="p">,</span> <span class="n">OutputType</span><span class="o">=</span><span class="s">&#39;plotly&#39;</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">postprocessing.publish_plot</span> <span class="kn">import</span> <span class="n">publish_plot</span>
<span class="n">request</span> <span class="o">=</span> <span class="n">publish_plot</span><span class="p">(</span><span class="s">&#39;TESTINSTRUMENT&#39;</span><span class="p">,</span> <span class="mi">12345</span><span class="p">,</span> <span class="n">files</span><span class="o">=</span><span class="p">{</span><span class="s">&#39;file&#39;</span><span class="p">:</span><span class="n">div</span><span class="p">})</span>
<span class="k">print</span> <span class="s">&quot;post returned </span><span class="si">%d</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">request</span><span class="o">.</span><span class="n">status_code</span>
</pre></div>
</div>
<p>To see what the result looks like on your local system, add the
<tt class="docutils literal"><span class="pre">Filename</span></tt> argument (<tt class="docutils literal"><span class="pre">.html</span></tt> extension) and change to
<tt class="docutils literal"><span class="pre">OutputType='plotly-full'</span></tt>.</p>
<p><strong>Categories</strong>: <a class="reference external" href="categories/Algorithms.html">Algorithms</a> | <a class="reference external" href="categories/DataHandling/Plots.html">DataHandling\Plots</a></p>
</div>
<div class="section" id="source">
<h2><a class="toc-backref" href="#id6">Source</a><a class="headerlink" href="#source" title="Permalink to this headline">¶</a></h2>
<p>Python: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/855d87d02cc81b30296c0eae91fc76b4b143c405/Framework/PythonInterface/plugins/algorithms/WorkflowAlgorithms/SavePlot1D.py">SavePlot1D.py</a></p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="SaveParameterFile-v1.html" title="Previous Chapter: SaveParameterFile v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; SaveParameterFil...</span>
    </a>
  </li>
  <li>
    <a href="SavePlot1DAsJson-v1.html" title="Next Chapter: SavePlot1DAsJson v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">SavePlot1DAsJson... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>