<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Integration v1</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.9.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="" href="../index.html" />
    <link rel="next" title="InterpolatingRebin v1" href="InterpolatingRebin-v1.html" />
    <link rel="prev" title="IntegratePeaksUsingClusters v1" href="IntegratePeaksUsingClusters-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>3.9</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://www.mantidproject.org/Documentation">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="integration-v1">
<span id="algm-integration"></span><span id="algm-integration-v1"></span><h1>Integration v1<a class="headerlink" href="#integration-v1" title="Permalink to this headline">¶</a></h1>
<div class="figure align-right" id="index-0">
<a class="screenshot reference internal image-reference" href="../_images/Integration-v1_dlg.png"><img alt="../_images/Integration-v1_dlg.png" class="screenshot" src="../_images/Integration-v1_dlg.png" style="width: 261px;" /></a>
<p class="caption"><strong>Integration</strong> dialog.</p>
</div>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#summary" id="id1">Summary</a></li>
<li><a class="reference internal" href="#properties" id="id2">Properties</a></li>
<li><a class="reference internal" href="#description" id="id3">Description</a><ul>
<li><a class="reference internal" href="#optional-properties" id="id4">Optional properties</a></li>
<li><a class="reference internal" href="#eventworkspaces" id="id5">EventWorkspaces</a></li>
</ul>
</li>
<li><a class="reference internal" href="#usage" id="id6">Usage</a><ul>
<li><a class="reference internal" href="#output" id="id7">Output</a></li>
</ul>
</li>
<li><a class="reference internal" href="#source" id="id8">Source</a></li>
</ul>
</div>
<div class="section" id="summary">
<h2><a class="toc-backref" href="#id1">Summary</a><a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>Integration takes a 2D workspace or an EventWorkspace as input and sums the data values. Optionally, the range summed can be restricted in either dimension.</p>
</div>
<div class="section" id="properties">
<h2><a class="toc-backref" href="#id2">Properties</a><a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="11%" />
<col width="4%" />
<col width="22%" />
<col width="6%" />
<col width="58%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Direction</th>
<th class="head">Type</th>
<th class="head">Default</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>InputWorkspace</td>
<td>Input</td>
<td><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><em>MatrixWorkspace</em></a></td>
<td><em>Mandatory</em></td>
<td>The input workspace to integrate.</td>
</tr>
<tr class="row-odd"><td>OutputWorkspace</td>
<td>Output</td>
<td><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><em>MatrixWorkspace</em></a></td>
<td><em>Mandatory</em></td>
<td>The output workspace with the results of the integration.</td>
</tr>
<tr class="row-even"><td>RangeLower</td>
<td>Input</td>
<td>number</td>
<td><em>Optional</em></td>
<td>The lower integration limit (an X value).</td>
</tr>
<tr class="row-odd"><td>RangeUpper</td>
<td>Input</td>
<td>number</td>
<td><em>Optional</em></td>
<td>The upper integration limit (an X value).</td>
</tr>
<tr class="row-even"><td>StartWorkspaceIndex</td>
<td>Input</td>
<td>number</td>
<td>0</td>
<td>Index of the first spectrum to integrate.</td>
</tr>
<tr class="row-odd"><td>EndWorkspaceIndex</td>
<td>Input</td>
<td>number</td>
<td><em>Optional</em></td>
<td>Index of the last spectrum to integrate.</td>
</tr>
<tr class="row-even"><td>IncludePartialBins</td>
<td>Input</td>
<td>boolean</td>
<td>False</td>
<td>If true then partial bins from the beginning and end of the input range are also included in the integration.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="description">
<h2><a class="toc-backref" href="#id3">Description</a><a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>Integration sums up spectra in a <a class="reference internal" href="../concepts/Workspace.html#workspace"><em>Workspace</em></a> and outputs a
<a class="reference internal" href="../concepts/Workspace.html#workspace"><em>Workspace</em></a> that contains only 1 value per spectrum (i.e.
the sum). The associated errors are added in quadrature. The two X
values per spectrum are set to the limits of the range over which the
spectrum has been integrated. By default, the entire range is integrated
and all spectra are included.</p>
<div class="section" id="optional-properties">
<h3><a class="toc-backref" href="#id4">Optional properties</a><a class="headerlink" href="#optional-properties" title="Permalink to this headline">¶</a></h3>
<p>If only a portion of the workspace should be integrated then the
optional parameters may be used to restrict the range.
StartWorkspaceIndex &amp; EndWorkspaceIndex may be used to select a
contiguous range of spectra in the workspace (note that these parameters
refer to the workspace index value rather than spectrum numbers as taken
from the raw file). If only a certain range of each spectrum should be
summed (which must be the same for all spectra being integrated) then
the RangeLower and RangeUpper properties should be used. No
rebinning takes place as part of this algorithm: if the values given do
not coincide with a bin boundary then the first bin boundary within the
range is used. If a value is given that is beyond the limit covered by
the spectrum then it will be integrated up to its limit. The data that
falls outside any values set will not contribute to the output
workspace.</p>
</div>
<div class="section" id="eventworkspaces">
<h3><a class="toc-backref" href="#id5">EventWorkspaces</a><a class="headerlink" href="#eventworkspaces" title="Permalink to this headline">¶</a></h3>
<p>If an <a class="reference internal" href="../concepts/EventWorkspace.html#eventworkspace"><em>EventWorkspace</em></a> is used as the input, the
output will be a <a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><em>MatrixWorkspace</em></a>.
<a class="reference internal" href="Rebin-v1.html#algm-rebin"><em>Rebin v1</em></a> is recommended if you want to keep the workspace as an
EventWorkspace.</p>
<p><strong>Integration for event workspaces refers to internal binning, provided by
:ref:`algm-Rebin` or load algorithm and may ignore limits, provided as algorithm
input.</strong>  For example, attempt to integrate loaded ISIS event workspace in the
range [18000,20000] yields workspace integrated in the range [0,200000],
assuming the data were collected in the time range [0,20000]. This happens because
the event data would have single histogram workspace bin in range [0,20000].
To obtain integral in the desired range, user have to <a class="reference internal" href="Rebin-v1.html#algm-rebin"><em>Rebin v1</em></a> first,
and one of the binning intervals have to start from 18000 and another (or the same)
end at 20000.</p>
</div>
</div>
<div class="section" id="usage">
<h2><a class="toc-backref" href="#id6">Usage</a><a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># Create a workspace filled with a constant value = 1.0</span>
<span class="n">ws</span><span class="o">=</span><span class="n">CreateSampleWorkspace</span><span class="p">(</span><span class="s">&#39;Histogram&#39;</span><span class="p">,</span><span class="s">&#39;Flat background&#39;</span><span class="p">)</span>
<span class="c"># Integrate 10 spectra over all X values</span>
<span class="n">intg</span><span class="o">=</span><span class="n">Integration</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span><span class="n">StartWorkspaceIndex</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span><span class="n">EndWorkspaceIndex</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>

<span class="c"># Check the result</span>
<span class="k">print</span> <span class="s">&#39;The result workspace has&#39;</span><span class="p">,</span><span class="n">intg</span><span class="o">.</span><span class="n">getNumberHistograms</span><span class="p">(),</span><span class="s">&#39;spectra&#39;</span>
<span class="k">print</span> <span class="s">&#39;Integral of spectrum&#39;</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="s">&#39;is&#39;</span><span class="p">,</span><span class="n">intg</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="k">print</span> <span class="s">&#39;Integral of spectrum&#39;</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="s">&#39;is&#39;</span><span class="p">,</span><span class="n">intg</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="k">print</span> <span class="s">&#39;Integral of spectrum&#39;</span><span class="p">,</span><span class="mi">13</span><span class="p">,</span><span class="s">&#39;is&#39;</span><span class="p">,</span><span class="n">intg</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">2</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="k">print</span> <span class="s">&#39;Integration range is [&#39;</span><span class="p">,</span><span class="n">intg</span><span class="o">.</span><span class="n">readX</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span><span class="s">&#39;,&#39;</span><span class="p">,</span><span class="n">intg</span><span class="o">.</span><span class="n">readX</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">1</span><span class="p">],</span><span class="s">&#39;]&#39;</span>
</pre></div>
</div>
<div class="section" id="output">
<h3><a class="toc-backref" href="#id7">Output</a><a class="headerlink" href="#output" title="Permalink to this headline">¶</a></h3>
<div class="highlight-none"><div class="highlight"><pre>The result workspace has 10 spectra
Integral of spectrum 11 is 100.0
Integral of spectrum 12 is 100.0
Integral of spectrum 13 is 100.0
Integration range is [ 0.0 , 20000.0 ]
</pre></div>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/Algorithms.html">Algorithms</a> | <a class="reference external" href="categories/Arithmetic.html">Arithmetic</a> | <a class="reference external" href="categories/Transforms/Rebin.html">Transforms\Rebin</a></p>
</div>
</div>
<div class="section" id="source">
<h2><a class="toc-backref" href="#id8">Source</a><a class="headerlink" href="#source" title="Permalink to this headline">¶</a></h2>
<p>C++ source: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/855d87d02cc81b30296c0eae91fc76b4b143c405/Framework/Algorithms/src/Integration.cpp">Integration.cpp</a></p>
<p>C++ header: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/855d87d02cc81b30296c0eae91fc76b4b143c405/Framework/Algorithms/inc/MantidAlgorithms/Integration.h">Integration.h</a></p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="IntegratePeaksUsingClusters-v1.html" title="Previous Chapter: IntegratePeaksUsingClusters v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; IntegratePeaksUs...</span>
    </a>
  </li>
  <li>
    <a href="InterpolatingRebin-v1.html" title="Next Chapter: InterpolatingRebin v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">InterpolatingReb... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>