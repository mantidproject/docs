<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Reflectometry Changes</title>
    
    <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap-3.3.6/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap-3.3.6/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '3.9.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="" href="../../index.html" />
    <link rel="up" title="Mantid 3.7.1 Release Notes" href="index.html" />
    <link rel="next" title="Mantid 3.6.1 Release Notes" href="../v3.6.1/index.html" />
    <link rel="prev" title="Muon Analysis" href="muon.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>3.9</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://www.mantidproject.org/Documentation">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="reflectometry-changes">
<h1>Reflectometry Changes<a class="headerlink" href="#reflectometry-changes" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#reflectometry-instruments" id="id2">Reflectometry Instruments</a></li>
<li><a class="reference internal" href="#converttoreflectometryq" id="id3">ConvertToReflectometryQ</a></li>
<li><a class="reference internal" href="#reflectometryreductionone" id="id4">ReflectometryReductionOne</a></li>
<li><a class="reference internal" href="#reflectometry-reduction-interface" id="id5">Reflectometry Reduction Interface</a><ul>
<li><a class="reference internal" href="#isis-reflectometry-polref" id="id6">ISIS Reflectometry (Polref)</a></li>
<li><a class="reference internal" href="#isis-reflectometry" id="id7">ISIS Reflectometry</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="reflectometry-instruments">
<h2><a class="toc-backref" href="#id2">Reflectometry Instruments</a><a class="headerlink" href="#reflectometry-instruments" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>An updated version of the OFFSPEC IDF is now being used in mantid</li>
<li>CRISP and POLREF IDFs were causing problems in the ISIS Reflectometry (Polref) interface as they were using the <cite>opening height</cite> tag
when defining their slits. This has now been changed to be uniform across all reflectometry instruments (INTER, POLREF, CRISP, SURF, OFFSPEC)
to <cite>vertical gap</cite> such that the CalculateResolution algorithm invoked by the interface will now work correctly.</li>
</ul>
</div>
<div class="section" id="converttoreflectometryq">
<h2><a class="toc-backref" href="#id3">ConvertToReflectometryQ</a><a class="headerlink" href="#converttoreflectometryq" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>A bug producing dark regions in <em>QxQz</em> maps was fixed</li>
</ul>
</div>
<div class="section" id="reflectometryreductionone">
<h2><a class="toc-backref" href="#id4">ReflectometryReductionOne</a><a class="headerlink" href="#reflectometryreductionone" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Transmission corrections options are now applicable with both PointDetectorAnalysis and MultiDetectorAnalysis modes as long as a first
transmission workspace has been provided. <a class="reference external" href="https://github.com/mantidproject/mantid/pull/15683">#15683</a></li>
<li>In CreateTransmissionWorkspace and ReflectometryReductionOne the default value for the algorithm property WavelengthStep has been changed
from 0.05 to 0.02.</li>
</ul>
</div>
<div class="section" id="reflectometry-reduction-interface">
<h2><a class="toc-backref" href="#id5">Reflectometry Reduction Interface</a><a class="headerlink" href="#reflectometry-reduction-interface" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>The ReflTBL data handling algorithms (namely SaveReflTBL and LoadReflTBL) have been generalised to allow for any number of column headings and
custom column heading titles. Any old ReflTBL files will still work with the new algorithms (SaveTBL and LoadTBL) however any new tables created
using SaveTBL will now be made with the new format. In the new format, the first line of the TBL file will contain a comma-separated list of column headings
and all subsequent lines will define the data for each row. For an example this new format see here <a class="reference external" href="http://docs.mantidproject.org/nightly/algorithms/LoadTBL-v1.html">LoadTBL</a> .</li>
</ul>
<div class="section" id="isis-reflectometry-polref">
<h3><a class="toc-backref" href="#id6">ISIS Reflectometry (Polref)</a><a class="headerlink" href="#isis-reflectometry-polref" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Bugfix: When using the ICAT search in the interface, if the wrong user credentials were entered or the login dialog
was closed before the details had been entered then mantid crashed. This has been fixed.</li>
<li>Bugfix: When attempting to plot rows in the Processing Table, if the processing table contained a row without an associated Run Number
Mantid will raise an unexpected exception. This has now been fixed resulting in a warning being shown to the user that a certain row does not
contain a Run Number.</li>
<li>Some changes were made to the interface as part of a code refactoring (functional behaviour remains the same).
As a consequence there are some changes visible to users: a new progress bar that has been added to the <em>Search Runs</em> section, which shows the progress when
transferring runs. The progress bar that existed before will only indicate the progress of processing that is
in progress. A new section below the processing table has been added. It
summarises the algorithms used in the reduction and allows users to specify global options for them. Options to be applied to invidual rows can still
be specified via the &#8216;Options&#8217; column. User documentation has been updated accordingly.
The aim of this code refactoring is to have a General Data Processor Framework shared accross different technique areas that need to execute complex
batch-processing via DataProcessorAlgorithms. Standardisation across similar user interfaces will help avoid the maintenance effort involved in looking
after specific user interfaces, making the wider project more robust to changes thanks to the introduction of fast, automated testing.
Some of the target user interfaces that can benefit from this new design are SANS (both at ANSTO and ISIS), Powder at SNS and SCD at SNS.</li>
</ul>
<div class="figure">
<img alt="../../_images/ISISReflectometryPolref_newTableView.png" src="../../_images/ISISReflectometryPolref_newTableView.png" />
</div>
</div>
<div class="section" id="isis-reflectometry">
<h3><a class="toc-backref" href="#id7">ISIS Reflectometry</a><a class="headerlink" href="#isis-reflectometry" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>A bug has been fixed regarding the calculation of the Q range for the ISIS Reflectometry interface where constants
were being added to the values of Lambda min and max causing the calculation of the Qrange to be affected.</li>
</ul>
<p><a class="reference external" href="http://github.com/mantidproject/mantid/pulls?q=is%3Apr+milestone%3A%22Release+3.7%22+is%3Amerged+label%3A%22Component%3A+Reflectometry%22">Full list of changes on github</a></p>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="muon.html" title="Previous Chapter: Muon Analysis"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Muon Analysis</span>
    </a>
  </li>
  <li>
    <a href="../v3.6.1/index.html" title="Next Chapter: Mantid 3.6.1 Release Notes"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Mantid 3.6.1 Rel... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>