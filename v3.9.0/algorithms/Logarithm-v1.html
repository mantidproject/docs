<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Logarithm v1</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.2.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.2.0/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.9.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.2.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="" href="../index.html" />
    <link rel="next" title="LogarithmMD v1" href="LogarithmMD-v1.html" />
    <link rel="prev" title="LoadVulcanCalFile v1" href="LoadVulcanCalFile-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>3.9</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://www.mantidproject.org/Documentation">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="logarithm-v1">
<span id="algm-logarithm"></span><span id="algm-logarithm-v1"></span><h1>Logarithm v1<a class="headerlink" href="#logarithm-v1" title="Permalink to this headline">¶</a></h1>
<div class="figure align-right" id="index-0">
<a class="screenshot reference internal image-reference" href="../_images/Logarithm-v1_dlg.png"><img alt="../_images/Logarithm-v1_dlg.png" class="screenshot" src="../_images/Logarithm-v1_dlg.png" style="width: 347px;" /></a>
<p class="caption"><strong>Logarithm</strong> dialog.</p>
</div>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#summary" id="id1">Summary</a></li>
<li><a class="reference internal" href="#properties" id="id2">Properties</a></li>
<li><a class="reference internal" href="#description" id="id3">Description</a></li>
<li><a class="reference internal" href="#usage" id="id4">Usage</a></li>
<li><a class="reference internal" href="#source" id="id5">Source</a></li>
</ul>
</div>
<div class="section" id="summary">
<h2><a class="toc-backref" href="#id1">Summary</a><a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>Logarithm function calculates the logarithm of the data, held in a workspace. A user can choose between natural (default) or base 10 logarithm</p>
</div>
<div class="section" id="properties">
<h2><a class="toc-backref" href="#id2">Properties</a><a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="8%" />
<col width="4%" />
<col width="21%" />
<col width="6%" />
<col width="61%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Direction</th>
<th class="head">Type</th>
<th class="head">Default</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>InputWorkspace</td>
<td>Input</td>
<td><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><em>MatrixWorkspace</em></a></td>
<td><em>Mandatory</em></td>
<td>The name of the input workspace</td>
</tr>
<tr class="row-odd"><td>OutputWorkspace</td>
<td>Output</td>
<td><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><em>MatrixWorkspace</em></a></td>
<td><em>Mandatory</em></td>
<td>The name to use for the output workspace (can be the same as the input one).</td>
</tr>
<tr class="row-even"><td>Filler</td>
<td>Input</td>
<td>number</td>
<td>0</td>
<td>The value that will be placed into the output workspace if an input value is equal or less than 0. Default value is 0</td>
</tr>
<tr class="row-odd"><td>Natural</td>
<td>Input</td>
<td>boolean</td>
<td>True</td>
<td>Logical value which specifies if user wands to calculate natural or base 10 logarithm.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="description">
<h2><a class="toc-backref" href="#id3">Description</a><a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p><em>Logarithm</em> function calculates the logarithm of the data, held in a
workspace and tries to estimate the errors of this data, by calculating
logarithmic transformation of the errors. The errors are assumed to be
small and Gaussian so they are calculated on the basis of Tailor
decomposition e.g. if <img class="math" src="../_images/math/c6263458cb30b8d89520cf776bc3431879c1f0b5.png" alt="S" style="vertical-align: 0px"/> and <img class="math" src="../_images/math/03e32aab07fb81a272291d334e37f8f5570bb381.png" alt="Err" style="vertical-align: 0px"/> are the signal and
errors for the initial signal, the logarithm would provide
<img class="math" src="../_images/math/2887200b0adb94f957f4480e80af01ed5ed51f8e.png" alt="S_{ln}=ln(S)" style="vertical-align: -4px"/> and <img class="math" src="../_images/math/8c023f5d4237a8159992bb66d7f4a21bb0386c1d.png" alt="Err_{ln}=Err/S" style="vertical-align: -5px"/> accordingly. If the base
10 logarithm is used the errors are calculated as
<img class="math" src="../_images/math/6a5783c853cf44890f1205edd759b8fa18585006.png" alt="Err_{log10}=0.434Err/S" style="vertical-align: -6px"/></p>
<p>Some values in a workspace can normally be equal to zero. Logarithm is
not calculated for values which are less or equal to 0, but the value of
<em>Filler</em> is used instead. The errors for such cells set to zeros</p>
<p>When acting on an event workspace, the output will be a Workspace2D,
with the default binning from the original workspace.</p>
</div>
<div class="section" id="usage">
<h2><a class="toc-backref" href="#id4">Usage</a><a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p><strong>Example - logarithm of a histogram workspace:</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">dataX</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span><span class="o">*</span><span class="mi">10</span> <span class="c"># define 10 x-spectra</span>
<span class="n">dataY</span> <span class="o">=</span><span class="p">([</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="mi">10</span><span class="p">)</span><span class="o">*</span><span class="mi">10</span>     <span class="c"># with values 1</span>
<span class="n">dataY</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">=-</span><span class="mi">10</span>           <span class="c"># make first value not suitable for logarithm</span>
<span class="n">dataY</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="mi">10</span>            <span class="c"># make second value different</span>
<span class="n">dataE</span> <span class="o">=</span><span class="p">([</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="mi">10</span><span class="p">)</span><span class="o">*</span><span class="mi">10</span>     <span class="c"># define 10 error spectra with value 1</span>
<span class="c"># create test workspace</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">CreateWorkspace</span><span class="p">(</span><span class="n">dataX</span><span class="p">,</span> <span class="n">dataY</span><span class="p">,</span><span class="n">dataE</span><span class="p">,</span><span class="n">NSpec</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="c"># caluclate log10</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">Logarithm</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span><span class="n">Filler</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span><span class="n">Natural</span><span class="o">=</span><span class="s">&#39;0&#39;</span><span class="p">)</span>
<span class="c">#</span>
<span class="c"># check results:</span>
<span class="k">print</span> <span class="s">&#39;Log10 for spectra 0: &#39;</span><span class="p">,</span><span class="n">ws</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&#39;Log10 for Err spectra 0: &#39;</span><span class="p">,</span><span class="n">ws</span><span class="o">.</span><span class="n">readE</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="mi">0</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span>
</pre></div>
</div>
<p><strong>Output:</strong></p>
<div class="highlight-none"><div class="highlight"><pre>Log10 for spectra 0:  [-1.  1.  0.  0.  0.  0.  0.  0.  0.  0.]
Log10 for Err spectra 0:  [ 0.      0.0434  0.434   0.434 ]
</pre></div>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/Algorithms.html">Algorithms</a> | <a class="reference external" href="categories/Arithmetic.html">Arithmetic</a></p>
</div>
<div class="section" id="source">
<h2><a class="toc-backref" href="#id5">Source</a><a class="headerlink" href="#source" title="Permalink to this headline">¶</a></h2>
<p>C++ source: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/3343e70222874fbd364099f979bd048987dd346c/Framework/Algorithms/src/Logarithm.cpp">Logarithm.cpp</a></p>
<p>C++ header: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/3343e70222874fbd364099f979bd048987dd346c/Framework/Algorithms/inc/MantidAlgorithms/Logarithm.h">Logarithm.h</a></p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="LoadVulcanCalFile-v1.html" title="Previous Chapter: LoadVulcanCalFile v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; LoadVulcanCalFil...</span>
    </a>
  </li>
  <li>
    <a href="LogarithmMD-v1.html" title="Next Chapter: LogarithmMD v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">LogarithmMD v1 &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>