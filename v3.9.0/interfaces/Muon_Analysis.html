<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Muon Analysis</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.2.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.2.0/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.9.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.2.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="" href="../index.html" />
    <link rel="up" title="Interfaces" href="index.html" />
    <link rel="next" title="Muon Analysis: a guide for Mantid developers" href="Muon_Analysis_developers_guide.html" />
    <link rel="prev" title="Muon ALC" href="Muon_ALC.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>3.9</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://www.mantidproject.org/Documentation">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="muon-analysis">
<span id="muon-analysis-ref"></span><h1>Muon Analysis<a class="headerlink" href="#muon-analysis" title="Permalink to this headline">¶</a></h1>
<img alt="../_images/MuonAnalysisHome3.6.jpg" class="align-right" src="../_images/MuonAnalysisHome3.6.jpg" />
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#interface-overview" id="id3">Interface Overview</a></li>
<li><a class="reference internal" href="#home" id="id4">Home</a><ul>
<li><a class="reference internal" href="#instrument" id="id5">Instrument</a></li>
<li><a class="reference internal" href="#data-files" id="id6">Data Files</a></li>
<li><a class="reference internal" href="#detector-grouping" id="id7">Detector Grouping</a></li>
<li><a class="reference internal" href="#plot-data" id="id8">Plot Data</a></li>
<li><a class="reference internal" href="#run-information-etc" id="id9">Run Information etc.</a></li>
</ul>
</li>
<li><a class="reference internal" href="#grouping-options" id="id10">Grouping Options</a><ul>
<li><a class="reference internal" href="#controls-and-description" id="id11">Controls and description</a></li>
<li><a class="reference internal" href="#group-table" id="id12">Group table</a></li>
<li><a class="reference internal" href="#pair-table" id="id13">Pair table</a></li>
</ul>
</li>
<li><a class="reference internal" href="#data-analysis" id="id14">Data Analysis</a><ul>
<li><a class="reference internal" href="#default-multiple-fitting-disabled" id="id15">Default: multiple fitting disabled</a></li>
<li><a class="reference internal" href="#multiple-fitting-enabled" id="id16">Multiple fitting enabled</a></li>
<li><a class="reference internal" href="#fit-function" id="id17">Fit Function</a></li>
<li><a class="reference internal" href="#data" id="id18">Data</a><ul>
<li><a class="reference internal" href="#runs" id="id19">Runs</a></li>
<li><a class="reference internal" href="#groups" id="id20">Groups</a></li>
<li><a class="reference internal" href="#periods" id="id21">Periods</a></li>
<li><a class="reference internal" href="#examples-use-cases" id="id22">Examples/Use cases</a></li>
</ul>
</li>
<li><a class="reference internal" href="#options" id="id23">Options</a></li>
<li><a class="reference internal" href="#sequential-fitting" id="id24">Sequential fitting</a></li>
</ul>
</li>
<li><a class="reference internal" href="#results-table" id="id25">Results Table</a><ul>
<li><a class="reference internal" href="#values" id="id26">Values</a></li>
<li><a class="reference internal" href="#fitting-results" id="id27">Fitting Results</a></li>
<li><a class="reference internal" href="#table" id="id28">Table</a></li>
</ul>
</li>
<li><a class="reference internal" href="#settings" id="id29">Settings</a><ul>
<li><a class="reference internal" href="#data-plot-style" id="id30">Data Plot Style</a></li>
<li><a class="reference internal" href="#data-binning" id="id31">Data Binning</a></li>
<li><a class="reference internal" href="#general" id="id32">General</a></li>
</ul>
</li>
<li><a class="reference internal" href="#feedback-comments" id="id33">Feedback &amp; Comments</a></li>
</ul>
</div>
<div class="section" id="interface-overview">
<h2><a class="toc-backref" href="#id3">Interface Overview</a><a class="headerlink" href="#interface-overview" title="Permalink to this headline">¶</a></h2>
<p>This interface is used to analyse the data collected on Muon instruments. The interface can be
accessed from the main menu of MantidPlot, in <em>Interfaces → Muon → Muon Analysis</em>. For sample
datasets, please visit <a class="reference external" href="http://www.isis.stfc.ac.uk/groups/muons/downloads/downloads4612.html">Muon - Downloads</a>.</p>
</div>
<div class="section" id="home">
<h2><a class="toc-backref" href="#id4">Home</a><a class="headerlink" href="#home" title="Permalink to this headline">¶</a></h2>
<p id="id1">The <em>Home</em> tab is the MuonAnalysis entry-point. It allows you to load the data, set some
basic loading and plotting parameters and plot the data.</p>
<p>In most cases, the initial settings should be fine and the grouping loaded from the data
file should be sensible, but these can be easily adjusted using the <a class="reference internal" href="#groupingoptions">GroupingOptions</a> and <a class="reference internal" href="#id2">Settings</a> tabs.</p>
<div class="section" id="instrument">
<h3><a class="toc-backref" href="#id5">Instrument</a><a class="headerlink" href="#instrument" title="Permalink to this headline">¶</a></h3>
<img alt="../_images/MuonAnalysisHomeInstrument.png" class="align-center" id="homeinstrument" src="../_images/MuonAnalysisHomeInstrument.png" />
<table border="1" class="docutils">
<colgroup>
<col width="6%" />
<col width="21%" />
<col width="73%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>1</strong></td>
<td><strong>Instrument</strong></td>
<td>Selection of instrument that the experiments were run on.
It is an advantage if an Instrument Definition File (
<a class="reference external" href="http://docs.mantidproject.org/nightly/concepts/InstrumentDefinitionFile.html">IDF</a>)
is available for the instrument selection.</td>
</tr>
<tr class="row-even"><td><strong>2</strong></td>
<td><strong>Time Zero</strong></td>
<td>Time zero value (<img class="math" src="../_images/math/dbeb7d5d0b78b0863f4cdf80ceff28c0516ae7cd.png" alt="\mu s" style="vertical-align: -4px"/>). Any bins before that time will be discarded.
If <em>From datafile</em> is checked, the value stored in the loaded Muon data file is used.</td>
</tr>
<tr class="row-odd"><td><strong>3</strong></td>
<td><strong>First Good Data</strong></td>
<td>Time of the first good data (<img class="math" src="../_images/math/dbeb7d5d0b78b0863f4cdf80ceff28c0516ae7cd.png" alt="\mu s" style="vertical-align: -4px"/>). If <em>Time Axis</em> is set appropriately on the
<a class="reference internal" href="#id2">Settings</a> tab then it is used as a
start value for the X-axis. If <em>From datafile</em> is checked, the value stored in the
loaded Muon data file is used.</td>
</tr>
<tr class="row-even"><td><strong>4</strong></td>
<td><strong>Dead Time Correction</strong></td>
<td><p class="first">The type of <a class="reference internal" href="../algorithms/ApplyDeadTimeCorr-v1.html#algm-applydeadtimecorr"><em>Dead Time Correction</em></a>
to apply to the loaded file. Available choices:</p>
<ul class="last simple">
<li><strong>None</strong>. Don&#8217;t apply the correction.</li>
<li><strong>From Data File</strong>. Use Dead Time table stored in the loaded Muon data file.</li>
<li><strong>From Disk</strong>. Specify a custom Nexus file that has a Dead Time table. If this is
selected, a <em>Dead Time File</em> text box will be shown so you can specify the file
or browse to its location.</li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><strong>5</strong></td>
<td><strong>Dead Time File</strong></td>
<td>If <em>Dead Time Correction</em> is set to <strong>From Disk</strong>, you can choose a Nexus file which
contains a table with Dead Times, and will be applied to the loaded data file.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="data-files">
<h3><a class="toc-backref" href="#id6">Data Files</a><a class="headerlink" href="#data-files" title="Permalink to this headline">¶</a></h3>
<img alt="../_images/MuonAnalysisHomeDataFiles.png" class="align-center" src="../_images/MuonAnalysisHomeDataFiles.png" />
<table border="1" class="docutils">
<colgroup>
<col width="6%" />
<col width="21%" />
<col width="73%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>1</strong></td>
<td><strong>Load current run</strong></td>
<td>Attempt to load current run for the instrument specified (ISIS only)</td>
</tr>
<tr class="row-even"><td><strong>2</strong></td>
<td><strong>Load current run</strong></td>
<td>Specify a data file by typing a run number (for the instrument selected from the
Instrument drop-down) or use the <em>Browse</em> button to select a data file.
Multiple runs/files can be specified here, in which case they will all be summed to form
a single data set.
Files should be in the NeXus format (PSI bin files can be converted using the program
<a class="reference external" href="https://www.psi.ch/lmu/software-and-data-storage">any2many</a>).
Both version 1 and 2 of the muon NeXus data format are supported.</td>
</tr>
<tr class="row-odd"><td><strong>3</strong></td>
<td><strong>Previous/next run</strong></td>
<td>Open next or previous run in the series.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="detector-grouping">
<h3><a class="toc-backref" href="#id7">Detector Grouping</a><a class="headerlink" href="#detector-grouping" title="Permalink to this headline">¶</a></h3>
<img alt="../_images/MuonAnalysisHomeDetectorGrouping.png" class="align-center" src="../_images/MuonAnalysisHomeDetectorGrouping.png" />
<table border="1" class="docutils">
<colgroup>
<col width="6%" />
<col width="21%" />
<col width="73%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>1</strong></td>
<td><strong>Group/ Group Pair</strong></td>
<td>A group or a pair which will be plotted.</td>
</tr>
<tr class="row-even"><td><strong>2</strong></td>
<td><strong>Alpha</strong></td>
<td>This text box is only visible if a pair is selected. It corresponds to the pair alpha
value used for asymmetry calculation. See <a class="reference internal" href="../algorithms/AsymmetryCalc-v1.html#algm-asymmetrycalc"><em>AsymmetryCalc</em></a> for
a broader explanation. The value is taken from the <em>Pair table</em> on the Grouping Options
tab for the selected pair and can be modified there only.</td>
</tr>
<tr class="row-odd"><td><strong>3</strong></td>
<td><strong>Periods</strong></td>
<td>Use the two text boxes to select the combination of periods you would like to plot.
Each holds a comma-separated list of periods, and the periods in the list on the right
will be subtracted from those on the left. For example, to plot the combination
(1+2)-(3+4), enter &#8220;1,2&#8221; in the left-hand box and &#8220;3,4&#8221; in the right hand box.
For single period data only the first box will be active.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="plot-data">
<h3><a class="toc-backref" href="#id8">Plot Data</a><a class="headerlink" href="#plot-data" title="Permalink to this headline">¶</a></h3>
<img alt="../_images/MuonAnalysisHomePlotData.png" class="align-center" src="../_images/MuonAnalysisHomePlotData.png" />
<table border="1" class="docutils">
<colgroup>
<col width="6%" />
<col width="21%" />
<col width="73%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>1</strong></td>
<td><strong>Plot Type</strong></td>
<td><p class="first">Type of the plot. Available choices are:</p>
<ul class="last simple">
<li><strong>AsymmetryCalc</strong> For pairs- the result of
<a class="reference internal" href="../algorithms/AsymmetryCalc-v1.html#algm-asymmetrycalc"><em>AsymmetryCalc</em></a> for the pair groups.
For groups- the result of <a class="reference internal" href="../algorithms/RemoveExpDecay-v1.html#algm-removeexpdecay"><em>RemoveExpDecay</em></a> applied
to the group.</li>
<li><strong>Counts</strong> <em>(groups only)</em>. Pure counts of the selected group.</li>
<li><strong>Logarithm</strong> <em>groups only</em>. Pure counts of the selected group on a
logarithmic scale.</li>
</ul>
</td>
</tr>
<tr class="row-even"><td><strong>2</strong></td>
<td><strong>Plot</strong></td>
<td>Plots the loaded data using the parameters set.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="run-information-etc">
<h3><a class="toc-backref" href="#id9">Run Information etc.</a><a class="headerlink" href="#run-information-etc" title="Permalink to this headline">¶</a></h3>
<img alt="../_images/MuonAnalysisHomeRunInfoEtc.png" class="align-center" src="../_images/MuonAnalysisHomeRunInfoEtc.png" />
<table border="1" class="docutils">
<colgroup>
<col width="6%" />
<col width="21%" />
<col width="73%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>1</strong></td>
<td><strong>Run Information</strong></td>
<td>Information about the loaded run.
See <a class="reference external" href="http://docs.mantidproject.org/nightly/concepts/Run.html#isis-muon-data">Run</a>
for the list of parameters which are looked up in the data files.</td>
</tr>
<tr class="row-even"><td><strong>2</strong></td>
<td><strong>Connected plot</strong></td>
<td>The name of the workspace produced for the last plot, i.e. &#8220;connected&#8221; to the interface.
It will be used for fitting etc.</td>
</tr>
<tr class="row-odd"><td><strong>3</strong></td>
<td><strong>Manage Directories</strong></td>
<td>Opens the <a class="reference external" href="http://www.mantidproject.org/ManageUserDirectories">ManageUserDirectories</a>
dialog.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="grouping-options">
<h2><a class="toc-backref" href="#id10">Grouping Options</a><a class="headerlink" href="#grouping-options" title="Permalink to this headline">¶</a></h2>
<img alt="../_images/MuonAnalysisGrouping.png" class="align-right" src="../_images/MuonAnalysisGrouping.png" />
<p id="groupingoptions">The Grouping Options tab allows you to set up detector grouping, which will be applied to the loaded data.</p>
<p>There are two concepts we use when dealing with detector grouping of Muon instruments:</p>
<ul class="simple">
<li><strong>Group</strong>. A group is essentially a list of detectors. When grouping, the counts of all the detectors
in the list are summed together. This makes the group appear as a single detector, represented by a single
spectra in the resulting workspace. See <a class="reference internal" href="../algorithms/GroupDetectors-v2.html#algm-groupdetectors"><em>GroupDetectors</em></a> and
<a class="reference internal" href="../algorithms/MuonGroupDetectors-v1.html#algm-muongroupdetectors"><em>MuonGroupDetectors</em></a> for more details.</li>
<li><strong>Pair</strong>. A pair connects together two groups and has an <em>alpha</em> value assigned to it. It is useful
for quickly specifying the parameters of asymmetry calculations.</li>
</ul>
<p>Essentially, this tab allows you to create/modify groups and form pairs out of them. There are basic
load/save functions for using predefined instrument groupings and for saving custom ones. Predefined
instrument groupings are usually stored in the <em>Instrument/Grouping</em> directory of the Mantid install directory.</p>
<p>This tab also provides some basic plotting functionality, which allows you to experiment with groupings
and plot the results without any additional effort.</p>
<div class="section" id="controls-and-description">
<h3><a class="toc-backref" href="#id11">Controls and description</a><a class="headerlink" href="#controls-and-description" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="6%" />
<col width="19%" />
<col width="75%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>1</strong></td>
<td><strong>Load Grouping File</strong></td>
<td>Opens a file browser window. Use it to select a grouping file for loading.</td>
</tr>
<tr class="row-even"><td><strong>2</strong></td>
<td><strong>Save Grouping</strong></td>
<td>Opens a file browser window. Use it to select a file to save a grouping to.</td>
</tr>
<tr class="row-odd"><td><strong>3</strong></td>
<td><strong>Clear Grouping</strong></td>
<td>Clear group and pair tables.</td>
</tr>
<tr class="row-even"><td><strong>4</strong></td>
<td><strong>Description</strong></td>
<td>Description of the current grouping. Is loaded/saved together with the grouping information.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="group-table">
<h3><a class="toc-backref" href="#id12">Group table</a><a class="headerlink" href="#group-table" title="Permalink to this headline">¶</a></h3>
<img alt="../_images/MuonAnalysisGroupingGroupTable.png" class="align-center" src="../_images/MuonAnalysisGroupingGroupTable.png" />
<table border="1" class="docutils">
<colgroup>
<col width="6%" />
<col width="21%" />
<col width="73%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>1</strong></td>
<td><strong>Group (Name)</strong>
<strong>column</strong></td>
<td>The name of the group. Should be unique.</td>
</tr>
<tr class="row-even"><td><strong>2</strong></td>
<td><strong>Detector IDs column</strong></td>
<td>A list of detectors associated with the group. One detector might be in multiple groups.
Ranges are allowed, e.g. &#8220;1,2-5,7-9,11&#8221; represents detectors
with IDs 1,2,3,4,5,7,8,9 and 11</td>
</tr>
<tr class="row-odd"><td><strong>3</strong></td>
<td><strong>Ndet column</strong></td>
<td>Number of detectors associated with the group. This column is not editable and is
updated automatically when the list of group detectors changes.</td>
</tr>
<tr class="row-even"><td><strong>4</strong></td>
<td><strong>Plot type</strong></td>
<td>What kind of plot to produce when <em>Plot</em> button is pressed. See the <a class="reference internal" href="#id1">Home</a> page
for an explanation of available plot types.</td>
</tr>
<tr class="row-odd"><td><strong>5</strong></td>
<td><strong>Plot</strong></td>
<td>Plots the group highlighted most recently.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="pair-table">
<h3><a class="toc-backref" href="#id13">Pair table</a><a class="headerlink" href="#pair-table" title="Permalink to this headline">¶</a></h3>
<img alt="../_images/MuonAnalysisGroupingPairTable.png" class="align-center" src="../_images/MuonAnalysisGroupingPairTable.png" />
<table border="1" class="docutils">
<colgroup>
<col width="6%" />
<col width="22%" />
<col width="72%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>1</strong></td>
<td><strong>Group Pair (Name)</strong>
<strong>column</strong></td>
<td>Name of the pair. Should be unique.</td>
</tr>
<tr class="row-even"><td><strong>2</strong></td>
<td><strong>Forward (Group name)</strong>
<strong>column</strong></td>
<td>The first (&#8220;forward&#8221;) group of the pair.</td>
</tr>
<tr class="row-odd"><td><strong>3</strong></td>
<td><strong>Backward (Group name)</strong>
<strong>column</strong></td>
<td>The second (&#8220;backward&#8221;) group of the pair.</td>
</tr>
<tr class="row-even"><td><strong>4</strong></td>
<td><strong>Alpha column</strong></td>
<td>Alpha value of the pair.</td>
</tr>
<tr class="row-odd"><td><strong>5</strong></td>
<td><strong>Guess alpha</strong></td>
<td>Guess a new alpha value for the pair highlighted most recently. Uses AlphaCalc
(<a class="reference internal" href="../algorithms/AlphaCalc-v1.html#algm-alphacalc"><em>AlphaCalc</em></a>) to do that.</td>
</tr>
<tr class="row-even"><td><strong>6</strong></td>
<td><strong>Plot Type</strong></td>
<td>What kind of plot to produce when the <em>Plot</em> button is pressed. See the <a class="reference internal" href="#id1">Home</a> page
for an explanation of available plot types.</td>
</tr>
<tr class="row-odd"><td><strong>7</strong></td>
<td><strong>Plot</strong></td>
<td>Plots the pair highlighted most recently</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="data-analysis">
<h2><a class="toc-backref" href="#id14">Data Analysis</a><a class="headerlink" href="#data-analysis" title="Permalink to this headline">¶</a></h2>
<p id="dataanalysis">This tab is designed for the user to make a fit against the data just plotted.
Since Mantid 3.8, this tab has been enhanced to include fits of multiple datasets at once.</p>
<div class="section" id="default-multiple-fitting-disabled">
<h3><a class="toc-backref" href="#id15">Default: multiple fitting disabled</a><a class="headerlink" href="#default-multiple-fitting-disabled" title="Permalink to this headline">¶</a></h3>
<img alt="../_images/MuonAnalysisDataAnalysis.png" class="align-right" src="../_images/MuonAnalysisDataAnalysis.png" />
<p>By default, multiple dataset fitting is not enabled and the interface will look just as it did pre-Mantid 3.8.</p>
<p>In this case, the only thing that this tab will contain is a specialised version of the
<a class="reference external" href="http://www.mantidproject.org/MantidPlot:_Data_Analysis_and_Curve_Fitting">Fit Property Browser</a>.
When the tab is open, this fit property browser is used by default within MantidPlot.</p>
<p>Note that, in this mode, simultaneous fits are not possible.
The intention is that this mode could be useful for users who are accustomed to the existing UI, or if a bug is found in the new UI.</p>
</div>
<div class="section" id="multiple-fitting-enabled">
<h3><a class="toc-backref" href="#id16">Multiple fitting enabled</a><a class="headerlink" href="#multiple-fitting-enabled" title="Permalink to this headline">¶</a></h3>
<p>The new multiple fitting functionality can be enabled by checking the &#8220;Enable multiple fitting&#8221; checkbox on the <a class="reference internal" href="#id2">Settings</a> tab.
When this is activated, the tab is divided into three sections vertically.</p>
<img alt="../_images/MuonAnalysisDataAnalysis3.8.png" class="align-right" src="../_images/MuonAnalysisDataAnalysis3.8.png" />
</div>
<div class="section" id="fit-function">
<h3><a class="toc-backref" href="#id17">Fit Function</a><a class="headerlink" href="#fit-function" title="Permalink to this headline">¶</a></h3>
<p>The uppermost of the three vertical sections is the <em>Fit Function</em> section, which is a
FunctionBrowser just like in the <em>General/Multi dataset fitting</em> interface (and numerous other places in Mantid).
Functions can be added by right-clicking. If more space is needed, this section can be expanded by dragging its lower edge downwards.</p>
<p>The function browser has three columns - property, value and global.
The values shown are those of the currently selected/plotted dataset.
The global column contains a checkbox for each function parameter which, when checked, sets this parameter to be shared between all fits.</p>
<p>Parameters can be fixed, tied and constrained by right-clicking.
In addition, just as in the general multi dataset fitting interface, when highlighting a non-global function parameter, a small button will appear next to its value.
This button will open the &#8220;Edit local parameter values&#8221; dialog, which offers greater control of function parameters for each dataset.</p>
</div>
<div class="section" id="data">
<h3><a class="toc-backref" href="#id18">Data</a><a class="headerlink" href="#data" title="Permalink to this headline">¶</a></h3>
<p>The central section of the tab is the data selector, which controls the dataset(s) that will be fitted.
By default, this will be a single dataset, the same as the data loaded on the <a class="reference internal" href="#id1">Home</a> tab.
The dataset(s) can be changed here and, if more than one is selected, they will all be fitted simultaneously.</p>
<p>For a multi-dataset fit, the &#8220;Label&#8221; box is enabled.
This allows the user to input a label for the simultaneous fit.</p>
<p>The drop-down list shows all datasets currently selected, and the left and right buttons cycle through them.
The currently selected dataset has its parameters shown in the <em>Fit Function</em> (upper) widget, and will be plotted.</p>
<p>Fits can be done across runs, groups, periods or all three.
From left to right, the options to select are:</p>
<div class="section" id="runs">
<h4><a class="toc-backref" href="#id19">Runs</a><a class="headerlink" href="#runs" title="Permalink to this headline">¶</a></h4>
<p>A single run, or range (<em>e.g. 15189-91, 15193</em>) can be typed into the box here.
The radio buttons below control whether the runs should be co-added together or fitted separately in a simultaneous fit.
It is also possible to adjust the start and end time here.</p>
</div>
<div class="section" id="groups">
<h4><a class="toc-backref" href="#id20">Groups</a><a class="headerlink" href="#groups" title="Permalink to this headline">¶</a></h4>
<p>There is a checkbox in this section for each group defined in the <a class="reference internal" href="#groupingoptions">GroupingOptions</a> tab.
One or multiple groups can be selected.</p>
</div>
<div class="section" id="periods">
<h4><a class="toc-backref" href="#id21">Periods</a><a class="headerlink" href="#periods" title="Permalink to this headline">¶</a></h4>
<p>There is a checkbox in this section for each period of the data.
(This section is only visible for multi-period data).
One or multiple periods can be selected.
In addition, the &#8220;Combination&#8221; option can be used to fit a sum or difference of periods.</p>
</div>
<div class="section" id="examples-use-cases">
<h4><a class="toc-backref" href="#id22">Examples/Use cases</a><a class="headerlink" href="#examples-use-cases" title="Permalink to this headline">¶</a></h4>
<ol class="arabic simple">
<li>Individual fit:<ul>
<li>One run selected in the box, or a range with the &#8220;Co-add&#8221; option set.</li>
<li>One group selected</li>
<li>(One period selected, if multi-period)</li>
<li>In this case the &#8220;global&#8221; option is meaningless as only one dataset will be fitted.</li>
<li>Example: MUSR15189, group <em>long</em>, period 1</li>
</ul>
</li>
<li>Simultaneous fit across runs:<ul>
<li>Range or selection of runs in box, with &#8220;Simultaneous&#8221; option set.</li>
<li>One group selected</li>
<li>(One period selected)</li>
<li>Example: MUSR{15189, 15190, 15191}, group <em>long</em>, period 1</li>
</ul>
</li>
<li>Simultaneous fit across groups or periods:<ul>
<li>One run selected in the box, or a range with the &#8220;Co-add&#8221; option set.</li>
<li>Multiple groups or periods selected</li>
<li>Example: MUSR15189, groups {<em>fwd</em>, <em>bwd</em>}, period 1</li>
</ul>
</li>
<li>Sequential fit of simultaneous fits:<ul>
<li>One run only selected in the box.</li>
<li>Multiple groups or periods selected</li>
<li>Under &#8220;Fit&#8221;, click &#8220;Sequential fit&#8221; and type a range of runs in the dialog. (See <a class="reference internal" href="#sequentialfitting">SequentialFitting</a> below)
For each run in turn, a simultaneous fit of the selected groups/periods will be performed.</li>
</ul>
</li>
<li>Multiple options<ul>
<li>It is, of course, possible to select several runs, groups, periods all at once and a simultaneous fit will be performed across all the selected datasets.</li>
<li>Example: MUSR{15189, 15190, 15191}, groups {<em>fwd</em>, <em>bwd</em>}, periods {1, 2}: 12 datasets in all.</li>
</ul>
</li>
</ol>
</div>
</div>
<div class="section" id="options">
<h3><a class="toc-backref" href="#id23">Options</a><a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h3>
<p>The bottom of the tab contains selected fit options that can be adjusted, just as elsewhere in Mantid.
The only option specific to the Muon Analysis interface is <em>Fit To Raw Data</em>.
When this option is set to <em>True</em>, the fitting process is done using the raw (unbinned) data, even if the <a class="reference internal" href="#databinning">DataBinning</a> is set.</p>
</div>
<div class="section" id="sequential-fitting">
<h3><a class="toc-backref" href="#id24">Sequential fitting</a><a class="headerlink" href="#sequential-fitting" title="Permalink to this headline">¶</a></h3>
<p id="sequentialfitting">In MantidPlot 3.1 a specialized sequential fitting dialog for MuonAnalysis was introduced.
It allows users to fit various data sets to the chosen fit model, applying all of the interface settings.</p>
<img alt="../_images/MuonAnalysis_SequentialFit.png" class="align-center" src="../_images/MuonAnalysis_SequentialFit.png" />
<p>The dialog can be opened from the Fit menu in <em>Fit</em> → <em>Sequential Fit</em>.</p>
<table border="1" class="docutils">
<colgroup>
<col width="7%" />
<col width="22%" />
<col width="71%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>1</strong></td>
<td><strong>Runs</strong></td>
<td><p class="first">A list of run data files to fit. Two types of input are accepted:</p>
<ul class="last simple">
<li>List of files on the disk separated by comma. These can be specified
using the <em>Browse</em> button.</li>
<li>Run numbers separated by comma. Specific files will then be searched
in the archive for the instrument selected on the interface. Ranges
are allowed, e.g. &#8220;15189-15199&#8221;.</li>
</ul>
</td>
</tr>
<tr class="row-even"><td><strong>2</strong></td>
<td><strong>Label</strong></td>
<td>Text label to use for the sequential fit. It is used to find the results
on the <a class="reference internal" href="#resultstable">ResultsTable</a>  tab. The resulting workspace group and the
fit-result workspaces will have the label in their names.</td>
</tr>
<tr class="row-odd"><td><strong>3</strong></td>
<td><strong>Parameters</strong></td>
<td>This option specifies the initial fit parameters for every fit. Choices
should be self-explanatory.</td>
</tr>
<tr class="row-even"><td><strong>4</strong></td>
<td><strong>Progress</strong></td>
<td>Shows the progress of the fit.</td>
</tr>
<tr class="row-odd"><td><strong>5</strong></td>
<td><strong>Start/stop button</strong></td>
<td>Starts a new fit or stops the current one.</td>
</tr>
<tr class="row-even"><td><strong>6</strong></td>
<td><strong>Diagnosis table</strong></td>
<td>Displays the intermediate results of the fit. This includes run number,
fit quality (see OutputChi2overDoF in <a class="reference internal" href="../algorithms/Fit-v1.html#algm-fit"><em>Fit</em></a>) and fitted
values of all the parameters.</td>
</tr>
</tbody>
</table>
<p>After the options have been set and the <em>Start</em> button has been pressed, the dialog goes through <strong>every</strong>
data file and does the following:</p>
<ol class="arabic simple">
<li>Loads the file</li>
<li>Applies all of the settings as set on the interface, e.g. dead time correction, grouping, binning.</li>
<li>Runs the <a class="reference internal" href="../algorithms/Fit-v1.html#algm-fit"><em>Fit</em></a> algorithm using the fit model specified in the <em>Fit Property Browser</em> on this tab.</li>
<li>Puts the fit-result workspaces inside the MuonSeqFit_%LABEL% group.</li>
</ol>
<p>After that&#8217;s done, you can retrieve the results in two ways:</p>
<ul class="simple">
<li>Go to the <a class="reference internal" href="#resultstable">ResultsTable</a> tab and export fitted parameters as a table.</li>
<li>Use the workspaces in the MuonSeqFit_%LABEL% group to plot the fitted curves.</li>
</ul>
</div>
</div>
<div class="section" id="results-table">
<h2><a class="toc-backref" href="#id25">Results Table</a><a class="headerlink" href="#results-table" title="Permalink to this headline">¶</a></h2>
<img alt="../_images/MuonAnalysisResultsTable.png" class="align-right" id="resultstable" src="../_images/MuonAnalysisResultsTable.png" />
<p>This tab allows users to export the fitting results alongside log values as a table.</p>
<div class="section" id="values">
<h3><a class="toc-backref" href="#id26">Values</a><a class="headerlink" href="#values" title="Permalink to this headline">¶</a></h3>
<p>The table contains a list of log values present in <strong>all</strong> of the workspaces in the
<em>Fitting results</em> table. The ones selected will be included in the results table.</p>
<p>In the case of start and end times (<em>run_start</em> and <em>run_end</em>), the option is given
to write these either as text or number. The text option gives an ISO- formatted string
(eg. 2016-07-06T10:10:34) and the numeric option gives the time as a number of seconds.
Zero seconds is taken as the start time of the first run in the selected set.</p>
<img alt="../_images/MuonAnalysis_ValuesTable.png" class="align-center" src="../_images/MuonAnalysis_ValuesTable.png" />
</div>
<div class="section" id="fitting-results">
<h3><a class="toc-backref" href="#id27">Fitting Results</a><a class="headerlink" href="#fitting-results" title="Permalink to this headline">¶</a></h3>
<p>This table contains a list of fitted workspaces. You can choose whether you want to see
individual fits only, or a specific sequential (see <a class="reference internal" href="#sequentialfitting">SequentialFitting</a> ) or simultaneous (see <a class="reference internal" href="#dataanalysis">DataAnalysis</a>) fit label.</p>
<p>Fitted parameters of the selected workspaces will be added to the results table.</p>
<img alt="../_images/MuonAnalysis_FittingResultsTable.png" class="align-center" src="../_images/MuonAnalysis_FittingResultsTable.png" />
<p>Workspaces might be coloured differently. Workspaces of different colours have
different fitting models and therefore couldn&#8217;t be included in the same Results table.
(If looking at simultaneous fits, different colours could also indicate that the fits had different numbers of datasets).</p>
<img alt="../_images/MuonAnalysis_FittingResultsColors.png" class="align-center" src="../_images/MuonAnalysis_FittingResultsColors.png" />
<p>As well as selecting workspaces, the fourth radio button - &#8220;Multiple&#8221; - can be used to create a table of multiple simultaneous fits, one row per label.
In such a table, each global parameter gets one column and local parameters get one column per dataset.</p>
</div>
<div class="section" id="table">
<h3><a class="toc-backref" href="#id28">Table</a><a class="headerlink" href="#table" title="Permalink to this headline">¶</a></h3>
<p>This allows you to specify the name of the resulting table and create it using the log
values and workspaces you&#8217;ve selected.</p>
</div>
</div>
<div class="section" id="settings">
<h2><a class="toc-backref" href="#id29">Settings</a><a class="headerlink" href="#settings" title="Permalink to this headline">¶</a></h2>
<p id="id2">This tab allows users to specify various plotting style options, loaded data binning and other general options.</p>
<div class="section" id="data-plot-style">
<h3><a class="toc-backref" href="#id30">Data Plot Style</a><a class="headerlink" href="#data-plot-style" title="Permalink to this headline">¶</a></h3>
<img alt="../_images/MuonAnalysisSettingsPlotStyle.png" class="align-center" src="../_images/MuonAnalysisSettingsPlotStyle.png" />
<p>These options control the style of the plot. They will be applied to all new plots.
The currently connected plot (if any) is updated as well.</p>
<table border="1" class="docutils">
<colgroup>
<col width="7%" />
<col width="22%" />
<col width="71%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>1</strong></td>
<td>Connect Points</td>
<td><p class="first">Option for how the points will be represented on the plot:</p>
<ul class="last simple">
<li><strong>Scatter</strong>. Data points only.</li>
<li><strong>Line + symbol</strong>. Data points connected by a line.</li>
<li><strong>Line</strong>. A line without data points.</li>
</ul>
</td>
</tr>
<tr class="row-even"><td><strong>2</strong></td>
<td>Time axis</td>
<td><p class="first">Type of the start value of the X-axis:</p>
<ul class="last simple">
<li><strong>Start at First Good Data</strong>. Uses the First Good Data value
from the <a class="reference internal" href="#id1">Home</a> tab.</li>
<li><strong>Start at Time Zero</strong>. Uses 0. Worth noting that workspaces
will be cropped according to the <em>Time Zero</em> value on the Home
(<a class="reference internal" href="#homeinstrument">HomeInstrument</a>) tab, which means that X-value of 0 will
essentially be equal to the <em>Time Zero</em> value.</li>
<li><strong>Custom Value</strong>. Uses the specified value.</li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><strong>3</strong></td>
<td>Start</td>
<td>First value of the X-axis (<img class="math" src="../_images/math/dbeb7d5d0b78b0863f4cdf80ceff28c0516ae7cd.png" alt="\mu s" style="vertical-align: -4px"/>).</td>
</tr>
<tr class="row-even"><td><strong>4</strong></td>
<td>Finish</td>
<td>Last value of the X-axis (<img class="math" src="../_images/math/dbeb7d5d0b78b0863f4cdf80ceff28c0516ae7cd.png" alt="\mu s" style="vertical-align: -4px"/>). If empty, the last
available value is used.</td>
</tr>
<tr class="row-odd"><td><strong>5</strong></td>
<td>Minimum</td>
<td>Minimum value on the Y-axis. If empty, is determined
automatically.</td>
</tr>
<tr class="row-even"><td><strong>6</strong></td>
<td>Maximum</td>
<td>Maximum value on the Y-axis. If empty, is determined
automatically.</td>
</tr>
<tr class="row-odd"><td><strong>7</strong></td>
<td>Autoscale</td>
<td>If checked, the values of <em>Minimum</em> and <em>Maximum</em> are
determined automatically based on the max/min values of the data.</td>
</tr>
<tr class="row-even"><td><strong>8</strong></td>
<td>Show error bars</td>
<td>If checked, the curves will have error bars attached to them.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="data-binning">
<h3><a class="toc-backref" href="#id31">Data Binning</a><a class="headerlink" href="#data-binning" title="Permalink to this headline">¶</a></h3>
<img alt="../_images/MuonAnalysisSettingsBinning.png" class="align-center" id="databinning" src="../_images/MuonAnalysisSettingsBinning.png" />
<table border="1" class="docutils">
<colgroup>
<col width="7%" />
<col width="26%" />
<col width="67%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>1</strong></td>
<td><strong>Bin size</strong></td>
<td>Display the size of the bin in the currently loaded data. This
is usually 0.016 <img class="math" src="../_images/math/dbeb7d5d0b78b0863f4cdf80ceff28c0516ae7cd.png" alt="\mu s" style="vertical-align: -4px"/> for Muon instruments.</td>
</tr>
<tr class="row-even"><td><strong>2</strong></td>
<td><strong>Binning type</strong></td>
<td><p class="first">What type of binning is applied to the loaded data:</p>
<ul class="last simple">
<li><strong>None</strong>. No binning is applied - raw data.</li>
<li><strong>Fixed</strong>. Binning with fixed steps.</li>
<li><strong>Variable</strong>. Binning with varying steps.</li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><strong>3</strong></td>
<td><strong>Binning parameters</strong></td>
<td><ul class="first last simple">
<li>For fixed binning: number of bins in a single step. For
example, if data is collected in bins of size 0.016 and we
specify 5 here, then the data will be re-binned using a bin
size of 0.08.</li>
<li>For variable binning: see the <em>Params</em> property of
<a class="reference internal" href="../algorithms/Rebin-v1.html#algm-rebin"><em>Rebin</em></a>. Note
<a class="reference internal" href="../algorithms/Rebin-v1.html#algm-rebin"><em>Rebin</em></a> is executed with
<em>FullBinsOnly=True</em>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="general">
<h3><a class="toc-backref" href="#id32">General</a><a class="headerlink" href="#general" title="Permalink to this headline">¶</a></h3>
<img alt="../_images/MuonAnalysisSettingsGeneral.png" class="align-center" src="../_images/MuonAnalysisSettingsGeneral.png" />
<table border="1" class="docutils">
<colgroup>
<col width="7%" />
<col width="28%" />
<col width="66%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>1</strong></td>
<td><strong>Plot Creation</strong></td>
<td><ul class="first last simple">
<li><strong>Auto-Update</strong>. When settings are changed on the interface,
the new plot is created automatically.</li>
<li><strong>Overwrite</strong>. When plotting, if the plot of the same type
exists already, it is overwritten instead of creating a new
one.</li>
<li><strong>Auto-Update + Overwrite</strong>. Both above settings at the same time</li>
<li><strong>None</strong>. None of the settings</li>
</ul>
</td>
</tr>
<tr class="row-even"><td><strong>2</strong></td>
<td><strong>New plot policy</strong></td>
<td><ul class="first last">
<li><p class="first"><strong>Use previous window</strong>. Each new plot will be drawn in the
same window. By default, the previous fit curve will remain
on the graph when the run is changed - the number of curves
to keep can be adjusted here (set to 0 to always clear
previous fits). The &#8220;clear fit curves&#8221; option on the Data
Analysis tab will clear any fit curves present.</p>
</li>
<li><p class="first"><strong>Create new window</strong>. When plotting a new run, it is
plotted in a new window each time.</p>
<p>NOTE: This can can cause speed and stability problems once the
number of graphs managed by Mantidplot passes a few hundred
which can hapen if you run Mantid for a few days on an
experiment. For long term stability we suggest you select
<strong>Use previous window</strong>.</p>
</li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><strong>3</strong></td>
<td><strong>Hide Toolbars</strong></td>
<td>If enabled, opening the interface up hides the MantidPlot
toolbars. This is useful on smaller screens.</td>
</tr>
<tr class="row-even"><td><strong>4</strong></td>
<td><strong>Enable multiple fitting</strong></td>
<td><p class="first">By default, this option is disabled and the <a class="reference internal" href="#dataanalysis">DataAnalysis</a> tab will
look the same as it did in previous versions of Mantid (pre-3.8).
Note that simultaneous fits are not possible in this case.</p>
<p class="last">Enabling the option will change the UI of the <a class="reference internal" href="#dataanalysis">DataAnalysis</a> tab to
the new one described above, enabling fits of multiple datasets to
be made.</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="feedback-comments">
<h2><a class="toc-backref" href="#id33">Feedback &amp; Comments</a><a class="headerlink" href="#feedback-comments" title="Permalink to this headline">¶</a></h2>
<p>If you have any questions or comments about this interface or this help page, please
contact the <a class="reference external" href="http://www.mantidproject.org/Contact">Mantid team</a> or the
<a class="reference external" href="http://www.isis.stfc.ac.uk/groups/muons/muons3385.html">Muon group</a>.</p>
<p><strong>Categories</strong>: <a class="reference external" href="categories/Interfaces.html">Interfaces</a> | <a class="reference external" href="../algorithms/categories/Muon.html">Muon</a></p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="Muon_ALC.html" title="Previous Chapter: Muon ALC"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Muon ALC</span>
    </a>
  </li>
  <li>
    <a href="Muon_Analysis_developers_guide.html" title="Next Chapter: Muon Analysis: a guide for Mantid developers"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Muon Analysis: a... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>