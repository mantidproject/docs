<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>LoadGSASInstrumentFile v1</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '4.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="" href="../index.html" />
    <link rel="next" title="LoadGSS v1" href="LoadGSS-v1.html" />
    <link rel="prev" title="LoadFullprofResolution v1" href="LoadFullprofResolution-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>4.1</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://docs.mantidproject.org/nightly/">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="loadgsasinstrumentfile-v1">
<span id="algm-loadgsasinstrumentfile"></span><span id="algm-loadgsasinstrumentfile-v1"></span><h1>LoadGSASInstrumentFile v1<a class="headerlink" href="#loadgsasinstrumentfile-v1" title="Permalink to this headline">¶</a></h1>
<div class="figure align-right" id="index-0">
<a class="screenshot reference internal image-reference" href="../_images/LoadGSASInstrumentFile-v1_dlg.png"><img alt="../_images/LoadGSASInstrumentFile-v1_dlg.png" class="screenshot" src="../_images/LoadGSASInstrumentFile-v1_dlg.png" style="width: 346px;" /></a>
<p class="caption"><strong>LoadGSASInstrumentFile</strong> dialog.</p>
</div>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#summary" id="id3">Summary</a><ul>
<li><a class="reference internal" href="#see-also" id="id4">See Also</a></li>
</ul>
</li>
<li><a class="reference internal" href="#properties" id="id5">Properties</a></li>
<li><a class="reference internal" href="#description" id="id6">Description</a></li>
<li><a class="reference internal" href="#usage" id="id7">Usage</a></li>
<li><a class="reference internal" href="#source" id="id8">Source</a></li>
</ul>
</div>
<div class="section" id="summary">
<h2><a class="toc-backref" href="#id3">Summary</a><a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>Load parameters from a GSAS Instrument file.</p>
<div class="section" id="see-also">
<h3><a class="toc-backref" href="#id4">See Also</a><a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="SaveGSASInstrumentFile-v1.html#algm-savegsasinstrumentfile"><em>SaveGSASInstrumentFile</em></a>, <a class="reference internal" href="LoadGSS-v1.html#algm-loadgss"><em>LoadGSS</em></a>, <a class="reference internal" href="FixGSASInstrumentFile-v1.html#algm-fixgsasinstrumentfile"><em>FixGSASInstrumentFile</em></a></p>
</div>
</div>
<div class="section" id="properties">
<h2><a class="toc-backref" href="#id5">Properties</a><a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="5%" />
<col width="2%" />
<col width="10%" />
<col width="3%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Direction</th>
<th class="head">Type</th>
<th class="head">Default</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Filename</td>
<td>Input</td>
<td>string</td>
<td><em>Mandatory</em></td>
<td>Path to an GSAS file to load. Allowed extensions: [&#8216;.prm&#8217;]</td>
</tr>
<tr class="row-odd"><td>OutputTableWorkspace</td>
<td>Output</td>
<td><a class="reference internal" href="../concepts/TableWorkspaces.html#table-workspaces"><em>TableWorkspace</em></a></td>
<td>&nbsp;</td>
<td>Name of the output TableWorkspace containing instrument parameter information read from file.</td>
</tr>
<tr class="row-even"><td>UseBankIDsInFile</td>
<td>Input</td>
<td>boolean</td>
<td>True</td>
<td>Use bank IDs as given in file rather than ordinal number of bank. If the bank IDs in the file are not unique, it is advised to set this to false.</td>
</tr>
<tr class="row-odd"><td>Banks</td>
<td>Input</td>
<td>int list</td>
<td>&nbsp;</td>
<td>ID(s) of specified bank(s) to load, The IDs are as specified by UseBankIDsInFile. Default is all banks contained in input .prm file.</td>
</tr>
<tr class="row-even"><td>Workspace</td>
<td>InOut</td>
<td>WorkspaceGroup</td>
<td>&nbsp;</td>
<td>A workspace group with the instrument to which we add the parameters from the GSAS instrument file, with one workspace for each bank of the .prm file</td>
</tr>
<tr class="row-odd"><td>WorkspacesForBanks</td>
<td>Input</td>
<td>int list</td>
<td>&nbsp;</td>
<td>For each bank, the ID of the corresponding workspace in same order as the banks are specified. ID=1 refers to the first workspace in the workspace group, ID=2 refers to the second workspace and so on. Default is all workspaces in numerical order. If default banks are specified, they too are taken to be in numerical order</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="description">
<h2><a class="toc-backref" href="#id6">Description</a><a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>Load Ikeda-Carpenter PV parameters from a GSAS instrument file into a table workspace or a workspace group.</p>
<p>Later developments of this algorithm will enable to load back-to-back-exponential pseudo-Voigt parameters translated into
<a class="reference internal" href="../fitting/fitfunctions/BackToBackExponential.html#func-backtobackexponential"><em>BackToBackExponential</em></a>.</p>
</div>
<div class="section" id="usage">
<h2><a class="toc-backref" href="#id7">Usage</a><a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p><strong>Example - Run LoadGSASInstrumentFile for both TableWorkspace and workspace with Instrument</strong></p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">To run these usage examples please first download the
<a class="reference external" href="https://sourceforge.net/projects/mantid/files/Sample%20Data/UsageData.zip/download">usage data</a>,
and add these to your path. In MantidPlot this is done using <a class="reference external" href="http://www.mantidproject.org/ManageUserDirectories">Manage User Directories</a>.</p>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># We load a GSAS Instrument file with 2 Banks</span>
<span class="n">tws</span> <span class="o">=</span> <span class="n">LoadGSASInstrumentFile</span><span class="p">(</span><span class="s">&quot;GSAS_2bank.prm&quot;</span><span class="p">)</span>

<span class="c">#Print first four rows</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]:</span>
   <span class="n">row</span> <span class="o">=</span> <span class="n">tws</span><span class="o">.</span><span class="n">row</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
   <span class="k">print</span><span class="p">(</span><span class="s">&quot;{{&#39;Name&#39;: &#39;{}&#39;,&#39;Value_1&#39;: {:.2f}, &#39;Value_2&#39;: {:.2f}}}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s">&quot;Name&quot;</span><span class="p">],</span> <span class="n">row</span><span class="p">[</span><span class="s">&quot;Value_1&quot;</span><span class="p">],</span>  <span class="n">row</span><span class="p">[</span><span class="s">&quot;Value_2&quot;</span><span class="p">]</span> <span class="p">))</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none"><div class="highlight"><pre>{&#39;Name&#39;: &#39;BANK&#39;,&#39;Value_1&#39;: 1.00, &#39;Value_2&#39;: 2.00}
{&#39;Name&#39;: &#39;Alph0&#39;,&#39;Value_1&#39;: 0.00, &#39;Value_2&#39;: 0.00}
{&#39;Name&#39;: &#39;Alph1&#39;,&#39;Value_1&#39;: 0.21, &#39;Value_2&#39;: 0.22}
{&#39;Name&#39;: &#39;Beta0&#39;,&#39;Value_1&#39;: 31.79, &#39;Value_2&#39;: 31.79}
</pre></div>
</div>
<p><strong>Example - Run LoadGSASInstrumentFile and put parameters into workspace</strong></p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">To run these usage examples please first download the
<a class="reference external" href="https://sourceforge.net/projects/mantid/files/Sample%20Data/UsageData.zip/download">usage data</a>,
and add these to your path. In MantidPlot this is done using <a class="reference external" href="http://www.mantidproject.org/ManageUserDirectories">Manage User Directories</a>.</p>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># First we load MUSR00015189 workspace group</span>
<span class="n">Load</span><span class="p">(</span><span class="s">&quot;MUSR00015189&quot;</span><span class="p">,</span><span class="n">OutputWorkspace</span><span class="o">=</span><span class="s">&quot;groupWs&quot;</span><span class="p">)</span>
<span class="n">groupWs</span><span class="o">=</span><span class="n">mtd</span><span class="p">[</span><span class="s">&quot;groupWs&quot;</span><span class="p">]</span>
<span class="c"># We clear instrument parameters...</span>
<span class="n">ClearInstrumentParameters</span><span class="p">(</span><span class="n">groupWs</span><span class="p">)</span>

<span class="c"># ...and check they do not exist</span>
<span class="n">instrument</span> <span class="o">=</span> <span class="n">groupWs</span><span class="o">.</span><span class="n">getItem</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">getInstrument</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;Alpha0 parameter exists:  {}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">instrument</span><span class="o">.</span><span class="n">hasParameter</span><span class="p">(</span><span class="s">&quot;Alpha0&quot;</span><span class="p">)))</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;Beta0 parameter exists:  {}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">instrument</span><span class="o">.</span><span class="n">hasParameter</span><span class="p">(</span><span class="s">&quot;Beta0&quot;</span><span class="p">)))</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;SigmaSquared parameter exists:  {}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">instrument</span><span class="o">.</span><span class="n">hasParameter</span><span class="p">(</span><span class="s">&quot;SigmaSquared&quot;</span><span class="p">)))</span>

<span class="c"># Now we load a GSAS Instrument file with 2 Banks into the workspace...</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">Loading parameters from GSAS</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
<span class="n">tws</span> <span class="o">=</span> <span class="n">LoadGSASInstrumentFile</span><span class="p">(</span><span class="n">Filename</span><span class="o">=</span><span class="s">&quot;GSAS_2bank.prm&quot;</span><span class="p">,</span><span class="n">UseBankIDsInFile</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="n">Workspace</span><span class="o">=</span><span class="n">groupWs</span><span class="p">,</span><span class="n">Banks</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>

<span class="c"># ...and check parameters are there again</span>
<span class="n">instrument</span> <span class="o">=</span> <span class="n">groupWs</span><span class="o">.</span><span class="n">getItem</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">getInstrument</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;Alpha0 parameter exists:  {}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">instrument</span><span class="o">.</span><span class="n">hasParameter</span><span class="p">(</span><span class="s">&quot;Alpha0&quot;</span><span class="p">)))</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;Beta0 parameter exists:  {}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">instrument</span><span class="o">.</span><span class="n">hasParameter</span><span class="p">(</span><span class="s">&quot;Beta0&quot;</span><span class="p">)))</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;SigmaSquared parameter exists:  {}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">instrument</span><span class="o">.</span><span class="n">hasParameter</span><span class="p">(</span><span class="s">&quot;SigmaSquared&quot;</span><span class="p">)))</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none"><div class="highlight"><pre>Alpha0 parameter exists:  False
Beta0 parameter exists:  False
SigmaSquared parameter exists:  False

Loading parameters from GSAS

Alpha0 parameter exists:  True
Beta0 parameter exists:  True
SigmaSquared parameter exists:  True
</pre></div>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/AlgorithmIndex.html">AlgorithmIndex</a> | <a class="reference external" href="categories/Diffraction/DataHandling.html">Diffraction\DataHandling</a></p>
</div>
<div class="section" id="source">
<h2><a class="toc-backref" href="#id8">Source</a><a class="headerlink" href="#source" title="Permalink to this headline">¶</a></h2>
<p>C++ source: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/4f102e5150ac52e22844cc01d797043938307727/Framework/DataHandling/src/LoadGSASInstrumentFile.cpp">LoadGSASInstrumentFile.cpp</a> <em>(last modified: 2019-06-05)</em></p>
<p>C++ header: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/4f102e5150ac52e22844cc01d797043938307727/Framework/DataHandling/inc/MantidDataHandling/LoadGSASInstrumentFile.h">LoadGSASInstrumentFile.h</a> <em>(last modified: 2018-10-05)</em></p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="LoadFullprofResolution-v1.html" title="Previous Chapter: LoadFullprofResolution v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; LoadFullprofReso...</span>
    </a>
  </li>
  <li>
    <a href="LoadGSS-v1.html" title="Next Chapter: LoadGSS v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">LoadGSS v1 &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
      Last updated on 2019-07-22.<br/>
    </p>
  </div>
</footer>
  </body>
</html>