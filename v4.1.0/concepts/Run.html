<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Run</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '4.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="" href="../index.html" />
    <link rel="up" title="Concepts" href="index.html" />
    <link rel="next" title="IDF ISIS SANS2D annotated" href="SANS2DSampleIDF.html" />
    <link rel="prev" title="Rectangular Detector" href="RectangularDetector.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>4.1</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://docs.mantidproject.org/nightly/">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="run">
<span id="id1"></span><h1>Run<a class="headerlink" href="#run" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#what-the-run-object" id="id3">What the Run object</a></li>
<li><a class="reference internal" href="#working-with-run-object-in-python" id="id4">Working with Run object in Python</a><ul>
<li><a class="reference internal" href="#getting-the-run-object-from-a-workspace" id="id5">Getting the Run Object from a Workspace</a></li>
<li><a class="reference internal" href="#run-properties" id="id6">Run Properties</a></li>
<li><a class="reference internal" href="#accessing-properties" id="id7">Accessing Properties</a><ul>
<li><a class="reference internal" href="#listing-all-properties" id="id8">Listing all properties</a></li>
<li><a class="reference internal" href="#getting-a-specific-property" id="id9">Getting a specific property</a></li>
</ul>
</li>
<li><a class="reference internal" href="#the-gonioneter" id="id10">The Gonioneter</a><ul>
<li><a class="reference internal" href="#id2" id="id11">Listing all properties</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#what-information-is-stored-here" id="id12">What information is stored here?</a><ul>
<li><a class="reference internal" href="#isis-not-including-isis-muon-data" id="id13">ISIS (not including ISIS Muon data)</a></li>
<li><a class="reference internal" href="#isis-muon-data" id="id14">ISIS Muon data</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="what-the-run-object">
<h2><a class="toc-backref" href="#id3">What the Run object</a><a class="headerlink" href="#what-the-run-object" title="Permalink to this headline">¶</a></h2>
<p>A Run holds data related to the properties of the experimental run, e.g.
good proton charge, total frames etc. It also holds all of the sample
log files as sets of time-series data. Currently used properties within
Mantid includes <em>run_start</em>, which specified the date the data were
collected. Where an instrument has been modified over time, and multiple
<a class="reference internal" href="InstrumentDefinitionFile.html#instrumentdefinitionfile"><em>instrument definition files</em></a> have been
defined for it, this property is used to loads the IDF valid when the
data were collected.</p>
</div>
<div class="section" id="working-with-run-object-in-python">
<h2><a class="toc-backref" href="#id4">Working with Run object in Python</a><a class="headerlink" href="#working-with-run-object-in-python" title="Permalink to this headline">¶</a></h2>
<p>You can look at the <a class="reference internal" href="../api/python/mantid/api/Run.html#mantid-api-run"><em>Run API reference</em></a> for a full list of properties and operations, but here are some of the key ones.</p>
<div class="section" id="getting-the-run-object-from-a-workspace">
<h3><a class="toc-backref" href="#id5">Getting the Run Object from a Workspace</a><a class="headerlink" href="#getting-the-run-object-from-a-workspace" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span class="n">run</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">getRun</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="run-properties">
<h3><a class="toc-backref" href="#id6">Run Properties</a><a class="headerlink" href="#run-properties" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">mantid.kernel</span> <span class="kn">import</span> <span class="n">DateAndTime</span>
<span class="n">run</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">getRun</span><span class="p">()</span>

<span class="c"># Set the start and end time of a run</span>
<span class="n">run</span><span class="o">.</span><span class="n">setStartAndEndTime</span><span class="p">(</span><span class="n">DateAndTime</span><span class="p">(</span><span class="s">&quot;2015-01-27T11:00:00&quot;</span><span class="p">),</span>
<span class="n">DateAndTime</span><span class="p">(</span><span class="s">&quot;2015-01-27T11:57:51&quot;</span><span class="p">))</span>

<span class="c"># Get the start and end time of a run</span>
<span class="k">print</span><span class="p">(</span><span class="n">run</span><span class="o">.</span><span class="n">startTime</span><span class="p">())</span>
<span class="k">print</span><span class="p">(</span><span class="n">run</span><span class="o">.</span><span class="n">endTime</span><span class="p">())</span>

<span class="c"># Get the total good proton charge</span>
<span class="k">print</span><span class="p">(</span><span class="n">run</span><span class="o">.</span><span class="n">getProtonCharge</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="section" id="accessing-properties">
<h3><a class="toc-backref" href="#id7">Accessing Properties</a><a class="headerlink" href="#accessing-properties" title="Permalink to this headline">¶</a></h3>
<div class="section" id="listing-all-properties">
<h4><a class="toc-backref" href="#id8">Listing all properties</a><a class="headerlink" href="#listing-all-properties" title="Permalink to this headline">¶</a></h4>
<div class="highlight-python"><div class="highlight"><pre><span class="n">ws</span> <span class="o">=</span> <span class="n">Load</span><span class="p">(</span><span class="s">&quot;MAR11060&quot;</span><span class="p">)</span>

<span class="n">run</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">getRun</span><span class="p">()</span>

<span class="c"># Get a list of the property names</span>
<span class="k">print</span><span class="p">(</span><span class="n">run</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>

<span class="c"># Loop over all of the Properties</span>
<span class="k">for</span> <span class="n">prop</span> <span class="ow">in</span> <span class="n">run</span><span class="o">.</span><span class="n">getProperties</span><span class="p">():</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;{0} {1}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">prop</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">prop</span><span class="o">.</span><span class="n">value</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="section" id="getting-a-specific-property">
<h4><a class="toc-backref" href="#id9">Getting a specific property</a><a class="headerlink" href="#getting-a-specific-property" title="Permalink to this headline">¶</a></h4>
<div class="highlight-python"><div class="highlight"><pre><span class="n">ws</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">()</span>

<span class="n">run</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">getRun</span><span class="p">()</span>

<span class="c"># Check if property exists</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;Is runstart present: {0}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">((</span><span class="s">&quot;run_start&quot;</span> <span class="ow">in</span> <span class="n">run</span><span class="o">.</span><span class="n">keys</span><span class="p">())))</span>
<span class="c"># or</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;Is runstart present: {0}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">run</span><span class="o">.</span><span class="n">hasProperty</span><span class="p">(</span><span class="s">&quot;run_start&quot;</span><span class="p">)))</span>

<span class="c">#get the Property</span>
<span class="n">runStart</span> <span class="o">=</span> <span class="n">run</span><span class="o">.</span><span class="n">getProperty</span><span class="p">(</span><span class="s">&quot;run_start&quot;</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;Property name: &quot;</span> <span class="o">+</span> <span class="n">runStart</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;Property value: &quot;</span> <span class="o">+</span> <span class="n">runStart</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="the-gonioneter">
<h3><a class="toc-backref" href="#id10">The Gonioneter</a><a class="headerlink" href="#the-gonioneter" title="Permalink to this headline">¶</a></h3>
<p>If the instrument contains a Goniometer it can be accessed from the run object.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">wg</span><span class="o">=</span><span class="n">CreateSingleValuedWorkspace</span><span class="p">()</span>
<span class="n">AddSampleLog</span><span class="p">(</span><span class="n">wg</span><span class="p">,</span><span class="s">&quot;Motor1&quot;</span><span class="p">,</span><span class="s">&quot;45.&quot;</span><span class="p">,</span><span class="s">&quot;Number&quot;</span><span class="p">)</span>
<span class="n">SetGoniometer</span><span class="p">(</span><span class="n">wg</span><span class="p">,</span><span class="n">Axis0</span><span class="o">=</span><span class="s">&quot;Motor1,0,1,0,1&quot;</span><span class="p">,</span><span class="n">Axis1</span><span class="o">=</span><span class="s">&quot;5,0,1,0,1&quot;</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="s">&quot;Goniometer angles:  {}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">wg</span><span class="o">.</span><span class="n">getRun</span><span class="p">()</span><span class="o">.</span><span class="n">getGoniometer</span><span class="p">()</span><span class="o">.</span><span class="n">getEulerAngles</span><span class="p">(</span><span class="s">&#39;YZY&#39;</span><span class="p">)))</span>
</pre></div>
</div>
<div class="section" id="id2">
<h4><a class="toc-backref" href="#id11">Listing all properties</a><a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h4>
</div>
</div>
</div>
<div class="section" id="what-information-is-stored-here">
<h2><a class="toc-backref" href="#id12">What information is stored here?</a><a class="headerlink" href="#what-information-is-stored-here" title="Permalink to this headline">¶</a></h2>
<p>On loading experimental data there is a default set of properties that
are populated within the run. These are as follows:</p>
<div class="section" id="isis-not-including-isis-muon-data">
<h3><a class="toc-backref" href="#id13">ISIS (not including ISIS Muon data)</a><a class="headerlink" href="#isis-not-including-isis-muon-data" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><strong>run_header</strong> - The complete header for this run</li>
<li><strong>run_title</strong> - The run title</li>
<li><strong>run_start</strong> - Start date and time. Format: YYYY-MM-DD HH:MM:SS (+)</li>
<li><strong>run_end</strong> - End date and time. Format: YYYY-MM-DD HH:MM:SS (+)</li>
<li><strong>nspectra</strong> - The number of spectra in the raw data file</li>
<li><strong>nchannels</strong> - The number of time channels in the raw data</li>
<li><strong>nperiods</strong> - The number of periods within the raw data</li>
<li><strong>dur</strong> - The run duration</li>
<li><strong>durunits</strong> - The units of the run duration, 1 = seconds</li>
<li><strong>dur_freq</strong> - Test interval for above</li>
<li><strong>dmp</strong> - Dump interval</li>
<li><strong>dmp_units</strong> - The units (scaler) for above</li>
<li><strong>dmp_freq</strong> - Test interval for above</li>
<li><strong>freq</strong> - 2**k where source frequency = 50 / 2**k</li>
<li><strong>gd_prtn_chrg</strong> - Good proton charge (uA.hour)</li>
<li>&#8216;&#8217;&#8216;tot_prtn_chrg* &#8216;&#8217;&#8216;- Total proton charge (uA.hour)</li>
<li><strong>goodfrm</strong> - Good frames</li>
<li>&#8216;&#8217;&#8216;rawfrm* &#8216;&#8217;&#8216;- Raw frames</li>
<li><strong>dur_wanted</strong> - Requested run duration (units as for &#8220;duration&#8221;
above)</li>
<li><strong>dur_secs</strong> - Actual run duration in seconds</li>
<li><strong>mon_sum1</strong> - Monitor sum 1</li>
<li><strong>mon_sum2</strong> - Monitor sum 2</li>
<li><strong>mon_sum3</strong> - Monitor sum 3</li>
<li><strong>rb_proposal</strong> - The proposal number</li>
</ul>
</div>
<div class="section" id="isis-muon-data">
<span id="runinfoonisismuondata"></span><h3><a class="toc-backref" href="#id14">ISIS Muon data</a><a class="headerlink" href="#isis-muon-data" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><strong>run_title</strong> - The run title</li>
<li><strong>run_start</strong> - Start date and time. Format: YYYY-MM-DD HH:MM:SS (+)</li>
<li><strong>run_end</strong> - End date and time. Format: YYYY-MM-DD HH:MM:SS (+)</li>
<li><strong>nspectra</strong> - The number of spectra in the raw data file</li>
<li><strong>goodfrm</strong> - Good frames</li>
<li><strong>dur_secs</strong> - Run duration in seconds</li>
<li><strong>run_number</strong> - Run number</li>
<li><strong>sample_temp</strong> - Temperature of the sample</li>
<li><strong>sample_magn_field</strong> - Magnetic field of the sample</li>
</ul>
<p>(+) or YYYY-MM-DDTHH:MM:SS (ISO 8601 format, see
<a class="reference external" href="http://en.wikipedia.org/wiki/ISO_8601">1</a>)</p>
<p><strong>Category</strong>: <a class="reference external" href="../api/python/mantid/api/categories/Concepts.html">Concepts</a></p>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="RectangularDetector.html" title="Previous Chapter: Rectangular Detector"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Rectangular Dete...</span>
    </a>
  </li>
  <li>
    <a href="SANS2DSampleIDF.html" title="Next Chapter: IDF ISIS SANS2D annotated"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">IDF ISIS SANS2D ... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
      Last updated on 2019-07-22.<br/>
    </p>
  </div>
</footer>
  </body>
</html>