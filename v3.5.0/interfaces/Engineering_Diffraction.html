<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Engineering Diffraction</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.1.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.1.0/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.5.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="" href="../index.html" />
    <link rel="up" title="Interfaces" href="index.html" />
    <link rel="next" title="Filter Events Interface" href="FilterEventUI.html" />
    <link rel="prev" title="Data Comparison" href="DataComparison.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>3.5</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://www.mantidproject.org/Documentation">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="engineering-diffraction">
<h1>Engineering Diffraction<a class="headerlink" href="#engineering-diffraction" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#overview" id="id1">Overview</a><ul>
<li><a class="reference internal" href="#general-options" id="id2">General options</a></li>
</ul>
</li>
<li><a class="reference internal" href="#calibration" id="id3">Calibration</a><ul>
<li><a class="reference internal" href="#parameters" id="id4">Parameters</a></li>
</ul>
</li>
<li><a class="reference internal" href="#focus" id="id5">Focus</a></li>
<li><a class="reference internal" href="#settings" id="id6">Settings</a><ul>
<li><a class="reference internal" href="#calibration-parameters" id="id7">Calibration Parameters</a></li>
</ul>
</li>
<li><a class="reference internal" href="#algorithms" id="id8">Algorithms</a></li>
</ul>
</div>
<div class="section" id="overview">
<h2><a class="toc-backref" href="#id1">Overview</a><a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>This custom interface integrates several tasks related to engineeering
diffraction. It provides calibration and focusing functionality which
can be expected to expand for next releases as it is under active
development. The following sections describe the different tabs or
functionality areas of the interface.</p>
<div class="figure align-center">
<a class="screenshot reference internal image-reference" href="../_images/Engineering_Diffraction_interface.png"><img alt="../_images/Engineering_Diffraction_interface.png" class="screenshot" src="../_images/Engineering_Diffraction_interface.png" style="width: 400px;" /></a>
</div>
<div class="section" id="general-options">
<h3><a class="toc-backref" href="#id2">General options</a><a class="headerlink" href="#general-options" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Instrument</dt>
<dd>Select the instrument. Only ENGIN-X (ISIS) is supported in this version.</dd>
</dl>
<dl class="docutils">
<dt>?</dt>
<dd>Shows this documentation page.</dd>
<dt>Close</dt>
<dd>Close the interface</dd>
</dl>
</div>
</div>
<div class="section" id="calibration">
<h2><a class="toc-backref" href="#id3">Calibration</a><a class="headerlink" href="#calibration" title="Permalink to this headline">¶</a></h2>
<p>This tab provides a graphical interface to calculate calibrations and
visualize them.</p>
<p>It is possible to load an existing calibration (as a CSV file) and to
generate a new calibration file (which becomes the new current
calibration).</p>
<div class="section" id="parameters">
<h3><a class="toc-backref" href="#id4">Parameters</a><a class="headerlink" href="#parameters" title="Permalink to this headline">¶</a></h3>
<p>These parameters are required to generate new calibrations:</p>
<dl class="docutils">
<dt>Vanadium #</dt>
<dd>Number of the vanadium run used to correct calibration and experiment
runs.</dd>
<dt>Calibration sample #</dt>
<dd>Number of the calibration sample run (for example Ceria run) used to
calibrate experiment runs.</dd>
</dl>
</div>
</div>
<div class="section" id="focus">
<h2><a class="toc-backref" href="#id5">Focus</a><a class="headerlink" href="#focus" title="Permalink to this headline">¶</a></h2>
<p>Here it is possible to focus run files, provided a run number or run
file. The focusing process uses the algorithm <a class="reference internal" href="../algorithms/EnggFocus-v1.html#algm-enggfocus"><em>EnggFocus</em></a>. In the documentation of the algorithm you can find
the details on how the input runs are focused.</p>
<p>The interface will also create workspaces that can be inspected in the
workspaces window:</p>
<ol class="arabic simple">
<li>The <em>engg_focusing_input_ws workspace</em> for the data being focused</li>
<li>The <em>engg_focusing_output_ws... workspace</em> for the corresponding
focused data (where the ... denotes a suffix explained below).</li>
</ol>
<p>Three focusing alternatives are provided:</p>
<ol class="arabic simple">
<li>Normal focusing, which includes all the spectra from the input run.</li>
<li>Cropped focusing, where several spectra or ranges of spectra can
be specified, as a list separated by commas.</li>
<li>Texture focusing, where the <em>texture</em> group of detectors is given
in a Detector Gropuing File.</li>
</ol>
<p>Depending on the alternative chosen, the focusing operation will
include different banks and/or combinations of spectra (detectors). In
the firs option, normal focusing, all the selected banks and all the
spectra present in the input runs are considered. In the second
alternative, cropped focusing, all the banks are considered in
principle but only a list of spectra provided manually are
processed. In the third option, <em>texture focusing</em>, the banks are
defined by a user-defined list of banks and corresponding spectrum IDs
provided in a file. For these alternatives, the output focused
workspace will take different suffixes: <em>_bank_1, _bank_2</em>, and so on
for normal focusing, <em>_cropped</em> for cropped focusing, and
<em>_texture_bank_1, _texture_bank_2</em>, and so on for texture focusing
(using the bank IDs given in the detector grouping file).</p>
<p>For texture focusing, the detector grouping file is a text (csv) file
with one line per bank. Each line must contain at least two numeric
fields, where the first one specifies the bank ID, and the second and
subsequent ones different spectrum numbers or ranges of spectrum
numbers. For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># Bank ID, spectrum numbers</span>
<span class="mi">1</span><span class="p">,</span> <span class="mi">205</span><span class="o">-</span><span class="mi">210</span>
<span class="mi">2</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">102</span><span class="p">,</span> <span class="mi">107</span>
<span class="mi">3</span><span class="p">,</span> <span class="mi">300</span><span class="p">,</span> <span class="mi">310</span><span class="p">,</span> <span class="mi">320</span><span class="o">-</span><span class="mi">329</span><span class="p">,</span> <span class="mi">350</span><span class="o">-</span><span class="mi">370</span>
</pre></div>
</div>
</div>
<div class="section" id="settings">
<h2><a class="toc-backref" href="#id6">Settings</a><a class="headerlink" href="#settings" title="Permalink to this headline">¶</a></h2>
<p>Controls several settings, including the input folders where the
instrument run files can be found. Other advanced options can also be
controlled to customize the way the underlying calculations are
performed.</p>
<div class="section" id="calibration-parameters">
<h3><a class="toc-backref" href="#id7">Calibration Parameters</a><a class="headerlink" href="#calibration-parameters" title="Permalink to this headline">¶</a></h3>
<p>The calibration settings are organized in three blocks:</p>
<ol class="arabic simple">
<li>Input directories</li>
<li>Pixel calibration</li>
<li>Advanced settings</li>
</ol>
<p>The input directories will be used when looking for run files
(Vanadium and Ceria). They effectivel ybecome part of the search path
of Mantid when using this interface.</p>
<p>The pixel calibration file contains the calibration of every pixel of
all banks, as produced by the algorithm <a class="reference internal" href="../algorithms/EnggCalibrateFull-v1.html#algm-enggcalibratefull"><em>EnggCalibrateFull</em></a>.</p>
<p>The Following advanced settings are available to customize the
behavior of this interface:</p>
<dl class="docutils">
<dt>Force recalculate</dt>
<dd>If this is enabled, Vanadium corrections will be recalculated even
if previous correction results are available for the current Vanadium
run number. This is not required unless a modification is done to the
original Vanadium run file, or there is a change in the algorithms
that calculate the corrections</dd>
<dt>Tempalte .prm file</dt>
<dd>By changing this option you can Use a different template file for the
output GSAS IPAR that is generated in the Calibration tab.</dd>
<dt>Rebin for Calibrate</dt>
<dd>This sets a rebin width parameter that can be used by underlying
algorithms such as <a class="reference internal" href="../algorithms/EnggCalibrate-v1.html#algm-enggcalibrate"><em>EnggCalibrate</em></a> and
<a class="reference internal" href="../algorithms/EnggFocus-v1.html#algm-enggfocus"><em>EnggFocus</em></a></dd>
</dl>
</div>
</div>
<div class="section" id="algorithms">
<h2><a class="toc-backref" href="#id8">Algorithms</a><a class="headerlink" href="#algorithms" title="Permalink to this headline">¶</a></h2>
<p>Most of the functionality provided by this interface is based on the
engineering diffraction Mantid algorithms (which are named with the
prefix <em>Engg</em>). This includes <a class="reference internal" href="../algorithms/EnggCalibrate-v1.html#algm-enggcalibrate"><em>EnggCalibrate</em></a>, <a class="reference internal" href="../algorithms/EnggCalibrateFull-v1.html#algm-enggcalibratefull"><em>EnggCalibrateFull</em></a>, <a class="reference internal" href="../algorithms/EnggVanadiumCorrections-v1.html#algm-enggvanadiumcorrections"><em>EnggVanadiumCorrections</em></a>, <a class="reference internal" href="../algorithms/EnggFocus-v1.html#algm-enggfocus"><em>EnggFocus</em></a>,
and several other algorithms, explained in detail in the Mantid
algorithms documentation.</p>
<p><strong>Categories</strong>: <a class="reference external" href="categories/Interfaces.html">Interfaces</a> | <a class="reference external" href="../algorithms/categories/Diffraction.html">Diffraction</a></p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="DataComparison.html" title="Previous Chapter: Data Comparison"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm">&laquo; Data Comparison</span>
    </a>
  </li>
  <li>
    <a href="FilterEventUI.html" title="Next Chapter: Filter Events Interface"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm">Filter Events In... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>