<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>LoadInstrument v1</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.1.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.1.0/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.7.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="" href="../index.html" />
    <link rel="next" title="LoadInstrumentFromNexus v1" href="LoadInstrumentFromNexus-v1.html" />
    <link rel="prev" title="LoadISISNexus v2" href="LoadISISNexus-v2.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>3.7</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://www.mantidproject.org/Documentation">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="loadinstrument-v1">
<span id="algm-loadinstrument"></span><span id="algm-loadinstrument-v1"></span><h1>LoadInstrument v1<a class="headerlink" href="#loadinstrument-v1" title="Permalink to this headline">¶</a></h1>
<div class="figure align-right" id="index-0">
<a class="screenshot reference internal image-reference" href="../_images/LoadInstrument-v1_dlg.png"><img alt="../_images/LoadInstrument-v1_dlg.png" class="screenshot" src="../_images/LoadInstrument-v1_dlg.png" style="width: 423px;" /></a>
<p class="caption"><strong>LoadInstrument</strong> dialog.</p>
</div>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#summary" id="id1">Summary</a></li>
<li><a class="reference internal" href="#properties" id="id2">Properties</a></li>
<li><a class="reference internal" href="#description" id="id3">Description</a></li>
<li><a class="reference internal" href="#usage" id="id4">Usage</a></li>
<li><a class="reference internal" href="#source" id="id5">Source</a></li>
</ul>
</div>
<div class="section" id="summary">
<h2><a class="toc-backref" href="#id1">Summary</a><a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>Loads an Instrument Definition File (IDF) into a workspace. After the IDF has been read this algorithm will attempt to run the Child Algorithm LoadParameterFile; where if IDF filename is of the form IDENTIFIER_Definition.xml then the instrument parameters in the file named IDENTIFIER_Parameters.xml would be loaded.</p>
</div>
<div class="section" id="properties">
<h2><a class="toc-backref" href="#id2">Properties</a><a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="3%" />
<col width="1%" />
<col width="6%" />
<col width="2%" />
<col width="88%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Direction</th>
<th class="head">Type</th>
<th class="head">Default</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Workspace</td>
<td>InOut</td>
<td><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><em>MatrixWorkspace</em></a></td>
<td><em>Mandatory</em></td>
<td>The name of the workspace to load the instrument definition into. Any existing instrument will be replaced.</td>
</tr>
<tr class="row-odd"><td>Filename</td>
<td>Input</td>
<td>string</td>
<td>&nbsp;</td>
<td>The filename (including its full or relative path) of an instrument definition file. The file extension must either be .xml or .XML when specifying an instrument definition file. Note Filename or InstrumentName must be specified but not both. Allowed extensions: [&#8216;.xml&#8217;]</td>
</tr>
<tr class="row-even"><td>MonitorList</td>
<td>Output</td>
<td>int list</td>
<td>&nbsp;</td>
<td>Will be filled with a list of the detector ids of any monitors loaded in to the workspace.</td>
</tr>
<tr class="row-odd"><td>InstrumentName</td>
<td>Input</td>
<td>string</td>
<td>&nbsp;</td>
<td>Name of instrument. Can be used instead of Filename to specify an IDF</td>
</tr>
<tr class="row-even"><td>InstrumentXML</td>
<td>Input</td>
<td>string</td>
<td>&nbsp;</td>
<td>The full XML instrument definition as a string.</td>
</tr>
<tr class="row-odd"><td>RewriteSpectraMap</td>
<td>Input</td>
<td>N6Mantid6Kernel12OptionalBoolE</td>
<td><em>Mandatory</em></td>
<td>If true then a 1:1 map between the spectrum numbers and detector/monitor IDs is set up as follows: the detector/monitor IDs in the IDF are ordered from smallest to largest number and then assigned in that order to the spectra in the workspace. For example if the IDF has defined detectors/monitors with ID = 1, 5 and 10 and the workspace contains 3 spectra with numbers 1,2,3 (and workspace indices 0,1, and 2) then spectrum number 1 is associated with det ID=1, spectrum number 2 with det ID=5 and spectrum number 3 with det ID=10. Allowed values: [&#8216;Unset&#8217;, &#8216;True&#8217;, &#8216;False&#8217;]</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="description">
<h2><a class="toc-backref" href="#id3">Description</a><a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>Loads an instrument definition file (<a class="reference internal" href="../concepts/InstrumentDefinitionFile.html#instrumentdefinitionfile"><em>IDF</em></a>)
into a workspace, which contains information about detector positions,
their geometric shape, slit properties, links between values stored in
ISIS log-files and components of the instrument and so on. For more on
IDFs see: <a class="reference internal" href="../concepts/InstrumentDefinitionFile.html#instrumentdefinitionfile"><em>InstrumentDefinitionFile</em></a>.</p>
<p>By default the algorithm will write a 1:1 map between the spectrum
number and detector ID. Any custom loading algorithm that calls this as
a Child Algorithm will therefore get this 1:1 map be default. If the
custom loader is to write its own map then it is advised to set
<tt class="docutils literal"><span class="pre">RewriteSpectraMap</span></tt> to false to avoid extra work.</p>
<p>The instrument to load can be specified by either the InstrumentXML,
Filename and InstrumentName properties (given here in order of
precedence if more than one is set). At present, if the InstrumentXML is
used the InstrumentName property should also be set.</p>
</div>
<div class="section" id="usage">
<h2><a class="toc-backref" href="#id4">Usage</a><a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p><strong>Example - Load instrument to a workspace:</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># create sample workspace</span>
<span class="n">ws</span><span class="o">=</span><span class="n">CreateSampleWorkspace</span><span class="p">();</span>
<span class="n">inst0</span><span class="o">=</span><span class="n">ws</span><span class="o">.</span><span class="n">getInstrument</span><span class="p">();</span>

<span class="k">print</span> <span class="s">&quot;Default workspace has instrument: {0} with {1} parameters&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">inst0</span><span class="o">.</span><span class="n">getName</span><span class="p">(),</span><span class="nb">len</span><span class="p">(</span><span class="n">inst0</span><span class="o">.</span><span class="n">getParameterNames</span><span class="p">()));</span>

<span class="c"># load MARI</span>
<span class="n">det</span><span class="o">=</span><span class="n">LoadInstrument</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span><span class="n">InstrumentName</span><span class="o">=</span><span class="s">&#39;MARI&#39;</span><span class="p">,</span> <span class="n">RewriteSpectraMap</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">inst1</span><span class="o">=</span><span class="n">ws</span><span class="o">.</span><span class="n">getInstrument</span><span class="p">();</span>

<span class="k">print</span> <span class="s">&quot;Modified workspace has instrument: {0} with {1} parameters&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">inst1</span><span class="o">.</span><span class="n">getName</span><span class="p">(),</span><span class="nb">len</span><span class="p">(</span><span class="n">inst1</span><span class="o">.</span><span class="n">getParameterNames</span><span class="p">()));</span>
<span class="k">print</span> <span class="s">&quot;Instrument {0} has the following detectors: &quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">inst1</span><span class="o">.</span><span class="n">getName</span><span class="p">()),</span><span class="n">det</span>
</pre></div>
</div>
<p><strong>Output:</strong></p>
<div class="highlight-none"><div class="highlight"><pre>Default workspace has instrument: basic_rect with 0 parameters
Modified workspace has instrument: MARI with 74 parameters
Instrument MARI has the following detectors:  [1 2 3]
</pre></div>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/Algorithms.html">Algorithms</a> | <a class="reference external" href="categories/DataHandling/Instrument.html">DataHandling\Instrument</a></p>
</div>
<div class="section" id="source">
<h2><a class="toc-backref" href="#id5">Source</a><a class="headerlink" href="#source" title="Permalink to this headline">¶</a></h2>
<p>C++ source: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/b4c9f4222818b29ef7c3a669832c1a041f3cc3cb/Framework/DataHandling/src/LoadInstrument.cpp">LoadInstrument.cpp</a></p>
<p>C++ header: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/b4c9f4222818b29ef7c3a669832c1a041f3cc3cb/Framework/DataHandling/inc/MantidDataHandling/LoadInstrument.h">LoadInstrument.h</a></p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="LoadISISNexus-v2.html" title="Previous Chapter: LoadISISNexus v2"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm">&laquo; LoadISISNexus v2</span>
    </a>
  </li>
  <li>
    <a href="LoadInstrumentFromNexus-v1.html" title="Next Chapter: LoadInstrumentFromNexus v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm">LoadInstrumentFr... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>