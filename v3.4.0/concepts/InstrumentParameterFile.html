<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Instrument Parameter File</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.1.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.1.0/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.4.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="" href="../index.html" />
    <link rel="up" title="Concepts" href="index.html" />
    <link rel="next" title="IDF ISIS LET annotated" href="LETSampleIDF.html" />
    <link rel="prev" title="Instrument Definition File" href="InstrumentDefinitionFile.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>3.4</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://www.mantidproject.org/Documentation">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="instrument-parameter-file">
<span id="instrumentparameterfile"></span><h1>Instrument Parameter File<a class="headerlink" href="#instrument-parameter-file" title="Permalink to this headline">¶</a></h1>
<div class="section" id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>Instrument parameter files are files complimentary to <a class="reference internal" href="InstrumentDefinitionFile.html#instrumentdefinitionfile"><em>Instrument Definition Files (IDFs)</em></a> that are used to store information about an instrument that may change on a regular basis i.e. parameters not related to the geometry of an instrument. By storing the data outside of the <a class="reference internal" href="InstrumentDefinitionFile.html#instrumentdefinitionfile"><em>IDF</em></a>, it makes it easier to locate and change parameters, as well as keeping the length of the <a class="reference internal" href="InstrumentDefinitionFile.html#instrumentdefinitionfile"><em>IDF</em></a> to a minimum.</p>
</div>
<div class="section" id="creating-a-parameter-file">
<h2>Creating a Parameter File<a class="headerlink" href="#creating-a-parameter-file" title="Permalink to this headline">¶</a></h2>
<div class="section" id="using-a-schema">
<h3>Using a Schema<a class="headerlink" href="#using-a-schema" title="Permalink to this headline">¶</a></h3>
<p>To create a parameters file it is advisable to consult the parameter file schema, located in your mantid directory at mantidcodeinstrumentSchemaParameterFileSchema.xsd. Set up your editting program to validate your XML file against this schema following <a class="reference internal" href="UsingXMLSchema.html#using-xml-schema"><em>these instructions</em></a>. Once set up, the schema can be used to find any errors in the structure of your parameter file and suggest auto-fill options to help write your parameter file.</p>
</div>
<div class="section" id="general-structure">
<h3>General Structure<a class="headerlink" href="#general-structure" title="Permalink to this headline">¶</a></h3>
<p>The Instrument parameter files, like the <a class="reference internal" href="InstrumentDefinitionFile.html#instrumentdefinitionfile"><em>IDFs</em></a>, are written in XML. They must contain a root element &lt;parameter-file&gt; with an attribute &#8216;name&#8217; equal to the name of the instrument. Within the &lt;parameter-file&gt; element, goes all the rest of the information. To specify a parameter for a component defined the <a class="reference internal" href="InstrumentDefinitionFile.html#instrumentdefinitionfile"><em>IDF</em></a>, use a &lt;component-link&gt; element with attribute &#8216;name&#8217; equal to the name of the component. Within the &lt;component-link&gt; element, the various parameters can be defined in exactly the same way as described in the parameters section of the IDF Page.
The below example shows some of the elements featured in IN10_silicon_111_Parameters.xml. It defines a parameter &#8216;analysis-type&#8217; for the component IN10 i.e. the whole instrument. The component link is closed and then a new one is opened to define parameters for the component &#8216;silicon&#8217;.</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="nt">&lt;parameter-file</span> <span class="na">instrument=</span><span class="s">&quot;IN10&quot;</span> <span class="na">date=</span><span class="s">&quot;2010-07-15 00:00:00&quot;</span><span class="nt">&gt;</span>

  <span class="nt">&lt;component-link</span> <span class="na">name=</span><span class="s">&quot;IN10&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;parameter</span> <span class="na">name=</span><span class="s">&quot;analysis-type&quot;</span> <span class="na">type=</span><span class="s">&quot;string&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;value</span> <span class="na">val=</span><span class="s">&quot;spectroscopy&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/parameter&gt;</span>
  <span class="nt">&lt;/component-link&gt;</span>

  <span class="nt">&lt;component-link</span> <span class="na">name=</span><span class="s">&quot;silicon&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;parameter</span> <span class="na">name=</span><span class="s">&quot;Efixed&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;value</span> <span class="na">val=</span><span class="s">&quot;2.082&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/parameter&gt;</span>
  <span class="nt">&lt;/component-link&gt;</span>

<span class="nt">&lt;/parameter-file&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="naming-and-using-a-parameter-file">
<h3>Naming and Using a Parameter File<a class="headerlink" href="#naming-and-using-a-parameter-file" title="Permalink to this headline">¶</a></h3>
<p>There may be just one parameter file per instrument that is automatically included with name the form XXX_Parameters.xml, for instrument XXX in the instrument folder.</p>
<p>One can have several parameter files for an instrument:</p>
<ul class="simple">
<li>If the IDF is not in the instrument folder and there is another XXX_Parameters.xml in the same folder, this one in the same folder will be used instead of any parameter file in the instrument folder.</li>
<li>If you want one parameter file for your IDF file, name your IDF file XXX_Definition_Yyy.xml and the parameter file XXX_Parameters_Yyy.xml , where Yyy is any combination a characters you find appropriate. If your IDF file is not in the instrument folder, the parameter file can be in either the same folder or in the instrument folder, but it can only be in the instrument folder, if the same folder has no XXX_Parameters.xml or XXX_Parameters_Yyy.xml file.</li>
<li>If there is no XXX_Parameters_Yyy.xml file, XXX_Parameters.xml would be used.</li>
</ul>
<p>Also one can use a any parameter file by executing the <a class="reference internal" href="../algorithms/LoadParameterFile-v1.html#algm-loadparameterfile"><em>LoadParameterFile</em></a> algorithm.</p>
<p>Work is planned to enable a parameter file to import one other parameter file. This will then enable duplication to be avoided in the parameter files.</p>
</div>
<div class="section" id="adding-parameters-at-run-time">
<h3>Adding Parameters at run time<a class="headerlink" href="#adding-parameters-at-run-time" title="Permalink to this headline">¶</a></h3>
<p>Since version 3.2 of Mantid the algorithm <a class="reference internal" href="../algorithms/SetInstrumentParameter-v1.html#algm-setinstrumentparameter"><em>SetInstrumentParameter</em></a> allows you to create or replace instrument parameters for a particular workspace at run time.</p>
<p><strong>Category</strong>: <a class="reference external" href="categories/Concepts.html">Concepts</a></p>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2015, Mantid.<br/>
    </p>
  </div>
</footer>
  </body>
</html>