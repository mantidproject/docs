<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Point and space groups</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.1.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.1.0/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.4.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="" href="../index.html" />
    <link rel="up" title="Concepts" href="index.html" />
    <link rel="next" title="Project" href="Project.html" />
    <link rel="prev" title="Plugin" href="Plugin.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>3.4</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://www.mantidproject.org/Documentation">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="point-and-space-groups">
<span id="id1"></span><h1>Point and space groups<a class="headerlink" href="#point-and-space-groups" title="Permalink to this headline">¶</a></h1>
<p>This document explains how crystallographic point and space groups are used in Mantid. The <a class="reference internal" href="SymmetryGroups.html#symmetry-groups"><em>document</em></a> about symmetry operations, elements and groups is a prerequisite for this text, so it is recommended to read it beforehand.</p>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>As explained in the general text covering symmetry groups, groups are used to describe symmetry of objects in space. For crystallography, point and space groups are essential tools to describe crystal structures and aspects of diffraction experiments. According to the definition given in the International Tables for Crystallography A, a &#8220;point group is a group of symmetry operations all of which leave at least one point unmoved&#8221; <a class="reference internal" href="#itapointgroups" id="id2">[ITAPointGroups]</a>. This means that only symmetry operations without a translational component are allowed, which leaves only rotations <img class="math" src="../_images/math/2176dbf491b1640d3e13825ce5571de922e61a33.png" alt="1" style="vertical-align: -1px"/>, <img class="math" src="../_images/math/0d8246044c909eb0b47be1c0b2986ddaa884c382.png" alt="2" style="vertical-align: 0px"/>, <img class="math" src="../_images/math/f19d666b0a2c20cd557189785959ccaf88705e11.png" alt="3" style="vertical-align: 0px"/>, <img class="math" src="../_images/math/3123649e43c31e84da987307a0a53c5ae012e38b.png" alt="4" style="vertical-align: -1px"/>, <img class="math" src="../_images/math/95cbcd7e50b818e1172ae3d17b7d2185f7decfef.png" alt="6" style="vertical-align: 0px"/> and roto-inversions <img class="math" src="../_images/math/8c0c988be768599604564bb7b52de494eabbbb78.png" alt="\bar{1}" style="vertical-align: -1px"/>, <img class="math" src="../_images/math/7c39e2bceb9529638993f31f41d8bfd233dafec6.png" alt="\bar{3}" style="vertical-align: 0px"/>, <img class="math" src="../_images/math/a68cd7a90d5855113b09110194eacc087acf1340.png" alt="\bar{4}" style="vertical-align: -1px"/>, <img class="math" src="../_images/math/60ec80ce49061b650f90b088d50a7db9fd57b99e.png" alt="\bar{6}" style="vertical-align: 0px"/> and mirror planes <img class="math" src="../_images/math/47e031122c1df8bef662b93f6a2c0751959a98d1.png" alt="m" style="vertical-align: 0px"/>. In space groups, translational symmetry is present as well (for example in the form of screw axes and glide planes).</p>
</div>
<div class="section" id="theory">
<h2>Theory<a class="headerlink" href="#theory" title="Permalink to this headline">¶</a></h2>
<p>In three dimensions there are 32 crystallographic point groups and in 11 of these an inversion center (<img class="math" src="../_images/math/8c0c988be768599604564bb7b52de494eabbbb78.png" alt="\bar{1}" style="vertical-align: -1px"/>) is present. These so called Laue classes are important for diffraction experiments because Friedel&#8217;s law defines that diffraction patterns always show a center of symmetry if anomalous dispersion is not taken into account.</p>
<p>Through the presence of certain symmetry operations in certain directions, the Laue classes (and also the point groups) can be categorized into seven crystal systems (see table below). This information is included in the Hermann-Mauguin symbol, which describes symmetry along different directions, depending on the crystal system.</p>
<table border="1" class="docutils">
<caption>The seven crystal systems and how they relate to the 11 Laue classes and the 32 crystallographic point groups</caption>
<colgroup>
<col width="9%" />
<col width="21%" />
<col width="69%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Crystal system</th>
<th class="head">Laue classes</th>
<th class="head">Point groups</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Cubic</td>
<td><img class="math" src="../_images/math/92b0a4a4295c786fa03d16232550eadd208db0c0.png" alt="m\bar{3}" style="vertical-align: 0px"/>, <img class="math" src="../_images/math/1f39539ce22697f3496a3e6483004b8323863343.png" alt="m\bar{3}m" style="vertical-align: 0px"/></td>
<td><img class="math" src="../_images/math/62627a1747bb1134749c84df4ab30fd6d340722c.png" alt="23" style="vertical-align: 0px"/>, <img class="math" src="../_images/math/92b0a4a4295c786fa03d16232550eadd208db0c0.png" alt="m\bar{3}" style="vertical-align: 0px"/>, <img class="math" src="../_images/math/9da783d9ea791ec351475a7ee2fc1c2f81fa8eba.png" alt="432" style="vertical-align: -1px"/>, <img class="math" src="../_images/math/afc052f7513b23a0eb5f4833a478ded2c0938761.png" alt="\bar{4}3m" style="vertical-align: -1px"/>, <img class="math" src="../_images/math/1f39539ce22697f3496a3e6483004b8323863343.png" alt="m\bar{3}m" style="vertical-align: 0px"/></td>
</tr>
<tr class="row-odd"><td>Hexagonal</td>
<td><img class="math" src="../_images/math/0eefea0451f063afd63ee61ff72977821fcc02ec.png" alt="6/m" style="vertical-align: -5px"/>, <img class="math" src="../_images/math/6410efde0a2a7ba1d50c87926464793654230477.png" alt="6/mmm" style="vertical-align: -5px"/></td>
<td><img class="math" src="../_images/math/95cbcd7e50b818e1172ae3d17b7d2185f7decfef.png" alt="6" style="vertical-align: 0px"/>, <img class="math" src="../_images/math/60ec80ce49061b650f90b088d50a7db9fd57b99e.png" alt="\bar{6}" style="vertical-align: 0px"/>, <img class="math" src="../_images/math/0eefea0451f063afd63ee61ff72977821fcc02ec.png" alt="6/m" style="vertical-align: -5px"/>, <img class="math" src="../_images/math/5587a38d514a77faaaab9d5cc9f9b6866675ff15.png" alt="622" style="vertical-align: 0px"/>, <img class="math" src="../_images/math/d30186b4a2652c9ac68b25a2a211fc9749fe8d8f.png" alt="6mm" style="vertical-align: 0px"/>, <img class="math" src="../_images/math/b33cf1ae82ff60ac04ddaaa7b58a3e523cef3ad3.png" alt="\bar{6}2m" style="vertical-align: 0px"/>, <img class="math" src="../_images/math/5376b3ba8549f4cee3b7671e06b2f91aaae272b7.png" alt="\bar{6}m2" style="vertical-align: 0px"/>, <img class="math" src="../_images/math/6410efde0a2a7ba1d50c87926464793654230477.png" alt="6/mmm" style="vertical-align: -5px"/></td>
</tr>
<tr class="row-even"><td>Trigonal</td>
<td><img class="math" src="../_images/math/7c39e2bceb9529638993f31f41d8bfd233dafec6.png" alt="\bar{3}" style="vertical-align: 0px"/>, <img class="math" src="../_images/math/a519113a52b1912d0d03d4a9d681b5e85d300d0b.png" alt="\bar{3}m" style="vertical-align: 0px"/></td>
<td><img class="math" src="../_images/math/f19d666b0a2c20cd557189785959ccaf88705e11.png" alt="3" style="vertical-align: 0px"/>, <img class="math" src="../_images/math/7c39e2bceb9529638993f31f41d8bfd233dafec6.png" alt="\bar{3}" style="vertical-align: 0px"/>, <img class="math" src="../_images/math/5a251d0bfe741099d1ecd9e8f96db8e39ddebc7e.png" alt="321" style="vertical-align: -1px"/>, <img class="math" src="../_images/math/fae4ea801c39f8bc7cd6611c3a8b1746cfbb7061.png" alt="312" style="vertical-align: -1px"/>, <img class="math" src="../_images/math/44a7a3153329f3a4585b5ecf5514d0850c4e6ee3.png" alt="3m1" style="vertical-align: -1px"/>, <img class="math" src="../_images/math/e92fda5cf12ac50ccd2f7f82c9b1fa05c046587d.png" alt="31m" style="vertical-align: -1px"/>, <img class="math" src="../_images/math/2d757f07460662b1fa2f247bf42d2f664ba4e0f7.png" alt="\bar{3}m1" style="vertical-align: -1px"/>, <img class="math" src="../_images/math/209f42e2ce0c02215070ab2c69e688ae58b03be9.png" alt="\bar{3}1m" style="vertical-align: -1px"/></td>
</tr>
<tr class="row-odd"><td>Tetragonal</td>
<td><img class="math" src="../_images/math/890182caa1d6ce02b1ad8ec12209a6b3c4775fc1.png" alt="4/m" style="vertical-align: -5px"/>, <img class="math" src="../_images/math/cc8c385305118852e8446c00baac96b69f16093e.png" alt="4/mmm" style="vertical-align: -5px"/></td>
<td><img class="math" src="../_images/math/3123649e43c31e84da987307a0a53c5ae012e38b.png" alt="4" style="vertical-align: -1px"/>, <img class="math" src="../_images/math/a68cd7a90d5855113b09110194eacc087acf1340.png" alt="\bar{4}" style="vertical-align: -1px"/>, <img class="math" src="../_images/math/890182caa1d6ce02b1ad8ec12209a6b3c4775fc1.png" alt="4/m" style="vertical-align: -5px"/>, <img class="math" src="../_images/math/f8465762f32d623d5f05b27b0223a039216a15c4.png" alt="422" style="vertical-align: -1px"/>, <img class="math" src="../_images/math/d01f8d2997e4fa0ab51761a7421b1fc985209b49.png" alt="4mm" style="vertical-align: -1px"/>, <img class="math" src="../_images/math/ca243733cf16928675a894e608dee420d2c240ea.png" alt="\bar{4}2m" style="vertical-align: -1px"/>, <img class="math" src="../_images/math/fd496b65390968cabde14e193d949e8bc6834ada.png" alt="\bar{4}m2" style="vertical-align: -1px"/>, <img class="math" src="../_images/math/cc8c385305118852e8446c00baac96b69f16093e.png" alt="4/mmm" style="vertical-align: -5px"/></td>
</tr>
<tr class="row-even"><td>Orthorhombic</td>
<td><img class="math" src="../_images/math/63f81a0cb61cc54bd6293a921de83877d58d2f71.png" alt="mmm" style="vertical-align: 0px"/></td>
<td><img class="math" src="../_images/math/090492f8634e1a714006d05e0e9c5d2989a3dd82.png" alt="222" style="vertical-align: 0px"/>, <img class="math" src="../_images/math/ae3dff8001f88217e2013ac0f4482213c8f27dd4.png" alt="mm2" style="vertical-align: 0px"/>, <img class="math" src="../_images/math/63f81a0cb61cc54bd6293a921de83877d58d2f71.png" alt="mmm" style="vertical-align: 0px"/></td>
</tr>
<tr class="row-odd"><td>Monoclinic</td>
<td><img class="math" src="../_images/math/d43f5af17e4e5d90a34fc3e6333afa823d3ca9db.png" alt="2/m" style="vertical-align: -5px"/></td>
<td><img class="math" src="../_images/math/0d8246044c909eb0b47be1c0b2986ddaa884c382.png" alt="2" style="vertical-align: 0px"/>, <img class="math" src="../_images/math/47e031122c1df8bef662b93f6a2c0751959a98d1.png" alt="m" style="vertical-align: 0px"/>, <img class="math" src="../_images/math/d43f5af17e4e5d90a34fc3e6333afa823d3ca9db.png" alt="2/m" style="vertical-align: -5px"/></td>
</tr>
<tr class="row-even"><td>Triclinic</td>
<td><img class="math" src="../_images/math/8c0c988be768599604564bb7b52de494eabbbb78.png" alt="\bar{1}" style="vertical-align: -1px"/></td>
<td><img class="math" src="../_images/math/2176dbf491b1640d3e13825ce5571de922e61a33.png" alt="1" style="vertical-align: -1px"/>, <img class="math" src="../_images/math/8c0c988be768599604564bb7b52de494eabbbb78.png" alt="\bar{1}" style="vertical-align: -1px"/></td>
</tr>
</tbody>
</table>
<p>Any point group can be generated by using a maximum of three symmetry operations as so-called generators using the principle described in <a class="reference internal" href="#shmueli84" id="id3">[Shmueli84]</a>. According to this, any point group can be described either as a cyclic group or as a product of maximum three cyclic groups. The point group <img class="math" src="../_images/math/3123649e43c31e84da987307a0a53c5ae012e38b.png" alt="4" style="vertical-align: -1px"/> is an example for a group that is simply a cyclic group generated from a positive four fold rotation axis along the <img class="math" src="../_images/math/4764300df3b118f2c580952e9fb04e7cd7943ba5.png" alt="z" style="vertical-align: 0px"/>-axis, which has the order 4.</p>
<div class="math">
<p><img src="../_images/math/2c8d956319504aca0fcaa0513f37d6ff74b29a2e.png" alt="G = \left\{{4^{+}}^0, {4^{+}}^1, {4^{+}}^2, {4^{+}}^3\right\} = \left\{1, 4^{+}, 2, 4^{-}\right\}"/></p>
</div><p>So by specifying one single symmetry operation as generator, all symmetry operations of the point group in question are generated. From this it&#8217;s convenient to expand the example to generate a point group that can be expressed as the product of two cyclic groups - <img class="math" src="../_images/math/890182caa1d6ce02b1ad8ec12209a6b3c4775fc1.png" alt="4/m" style="vertical-align: -5px"/>. In this point group, an additional mirror plane is present perpendicular to the four fold axis. The point group can be expressed as product of <img class="math" src="../_images/math/3123649e43c31e84da987307a0a53c5ae012e38b.png" alt="4" style="vertical-align: -1px"/> shown above and a cyclic group generated by the symmetry operation <img class="math" src="../_images/math/47e031122c1df8bef662b93f6a2c0751959a98d1.png" alt="m" style="vertical-align: 0px"/> (mirror plane perpendicular to <img class="math" src="../_images/math/4764300df3b118f2c580952e9fb04e7cd7943ba5.png" alt="z" style="vertical-align: 0px"/>):</p>
<div class="math">
<p><img src="../_images/math/7d056fb81852d177b38cb3fcdae29780a139cddf.png" alt="G' = G \cdot \left\{m^0, m^1\right\} = \left\{1, 4^{+}, 2, 4^{-}\right\} \cdot \left\{1, m\right\} = \left\{1, m, 4^{+}, \bar{4}^{+}, 2, \bar{1}, 4^{-}, \bar{4}^{-}\right\}"/></p>
</div><p>This means that <img class="math" src="../_images/math/890182caa1d6ce02b1ad8ec12209a6b3c4775fc1.png" alt="4/m" style="vertical-align: -5px"/> contains an inversion center as well as a four fold rotoinversion axis which result from the combination of the operations of the two cyclic groups. It&#8217;s also possible to use a different cyclic group to achive the same result (<img class="math" src="../_images/math/8c0c988be768599604564bb7b52de494eabbbb78.png" alt="\bar{1}" style="vertical-align: -1px"/>). As mentioned above, for some point groups it&#8217;s necessary to use three generators, which follows the same principle and is not shown here.</p>
<p>Space groups can be handled in a very similar way if translations are limited to the interval <img class="math" src="../_images/math/f6f7c94ddb68b15f257829534181cdd316ca8577.png" alt="[0, 1)" style="vertical-align: -5px"/> so that screw-axes and glide-planes can also be used to generate cyclic groups. Without this limitation, the translational components would not be the same for <img class="math" src="../_images/math/20fe44e85de1c5f89cd71e4914159334630c8f05.png" alt="S^k" style="vertical-align: 0px"/> and <img class="math" src="../_images/math/74e6ef15d671f8ad803c9dec2ef479d95334be5a.png" alt="S^0" style="vertical-align: 0px"/>.</p>
</div>
<div class="section" id="using-point-groups-in-mantid">
<h2>Using point groups in Mantid<a class="headerlink" href="#using-point-groups-in-mantid" title="Permalink to this headline">¶</a></h2>
<p>Point groups are represented in Mantid by the <tt class="docutils literal"><span class="pre">PointGroup</span></tt>-class, which is constructed for each actual point group using generators. The interface of the class consists of two parts, one for providing information about the point group and one for working with <img class="math" src="../_images/math/3e4bbbc0403d355559ab6598743811fa10025355.png" alt="hkl" style="vertical-align: 0px"/>-indices. Just as in the case of <tt class="docutils literal"><span class="pre">SymmetryOperation</span></tt>, <tt class="docutils literal"><span class="pre">PointGroup</span></tt>-objects are created using a factory, this time by supplying the short Hermann-Mauguin symbol <a class="footnote-reference" href="#f1" id="id4">[1]</a> :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">mantid.geometry</span> <span class="kn">import</span> <span class="n">PointGroupFactory</span>

<span class="n">pg</span> <span class="o">=</span> <span class="n">PointGroupFactory</span><span class="o">.</span><span class="n">createPointGroup</span><span class="p">(</span><span class="s">&quot;-1&quot;</span><span class="p">)</span>

<span class="k">print</span> <span class="s">&quot;Name:&quot;</span><span class="p">,</span> <span class="n">pg</span><span class="o">.</span><span class="n">getName</span><span class="p">()</span>
<span class="k">print</span> <span class="s">&quot;Hermann-Mauguin symbol:&quot;</span><span class="p">,</span> <span class="n">pg</span><span class="o">.</span><span class="n">getHMSymbol</span><span class="p">()</span>
<span class="k">print</span> <span class="s">&quot;Crystal system:&quot;</span><span class="p">,</span> <span class="n">pg</span><span class="o">.</span><span class="n">getCrystalSystem</span><span class="p">()</span>
</pre></div>
</div>
<p>When this code is executed, some information about the point group is printed:</p>
<div class="highlight-none"><div class="highlight"><pre>Name: -1 (Triclinic)
Hermann-Mauguin symbol: -1
Crystal system: Triclinic
</pre></div>
</div>
<p>It&#8217;s possible to query the factory about available point groups. One option returns a list of all available groups, while another possibility is to get only groups from a certain crystal system:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">mantid.geometry</span> <span class="kn">import</span> <span class="n">PointGroupFactory</span><span class="p">,</span> <span class="n">PointGroup</span>

<span class="k">print</span> <span class="s">&quot;All point groups:&quot;</span><span class="p">,</span> <span class="n">PointGroupFactory</span><span class="o">.</span><span class="n">getAllPointGroupSymbols</span><span class="p">()</span>
<span class="k">print</span> <span class="s">&quot;Cubic point groups:&quot;</span><span class="p">,</span> <span class="n">PointGroupFactory</span><span class="o">.</span><span class="n">getPointGroupSymbols</span><span class="p">(</span><span class="n">PointGroup</span><span class="o">.</span><span class="n">CrystalSystem</span><span class="o">.</span><span class="n">Cubic</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&quot;Tetragonal point groups:&quot;</span><span class="p">,</span> <span class="n">PointGroupFactory</span><span class="o">.</span><span class="n">getPointGroupSymbols</span><span class="p">(</span><span class="n">PointGroup</span><span class="o">.</span><span class="n">CrystalSystem</span><span class="o">.</span><span class="n">Tetragonal</span><span class="p">)</span>
</pre></div>
</div>
<p>Which results in the following output:</p>
<div class="highlight-none"><div class="highlight"><pre>All point groups: [&#39;-1&#39;,&#39;-3&#39;,&#39;-3 r&#39;,&#39;-31m&#39;,&#39;-3m&#39;,&#39;-3m r&#39;,&#39;-3m1&#39;,&#39;-4&#39;,&#39;-42m&#39;,&#39;-43m&#39;,&#39;-4m2&#39;,&#39;-6&#39;,&#39;-62m&#39;,&#39;-6m2&#39;,&#39;1&#39;,&#39;112/m&#39;,&#39;2&#39;,&#39;2/m&#39;,&#39;222&#39;,&#39;23&#39;,&#39;3&#39;,&#39;3 r&#39;,&#39;312&#39;,&#39;31m&#39;,&#39;32&#39;,&#39;32 r&#39;,&#39;321&#39;,&#39;3m&#39;,&#39;3m r&#39;,&#39;3m1&#39;,&#39;4&#39;,&#39;4/m&#39;,&#39;4/mmm&#39;,&#39;422&#39;,&#39;432&#39;,&#39;4mm&#39;,&#39;6&#39;,&#39;6/m&#39;,&#39;6/mmm&#39;,&#39;622&#39;,&#39;6mm&#39;,&#39;m&#39;,&#39;m-3&#39;,&#39;m-3m&#39;,&#39;mm2&#39;,&#39;mmm&#39;]
Cubic point groups: [&#39;-43m&#39;,&#39;23&#39;,&#39;432&#39;,&#39;m-3&#39;,&#39;m-3m&#39;]
Tetragonal point groups: [&#39;-4&#39;,&#39;-42m&#39;,&#39;-4m2&#39;,&#39;4&#39;,&#39;4/m&#39;,&#39;4/mmm&#39;,&#39;422&#39;,&#39;4mm&#39;]
</pre></div>
</div>
<p>The point groups with an extra <tt class="docutils literal"><span class="pre">r</span></tt> at the end are trigonal point groups with rhombohedral axes. Trigonal point groups without that additional letter use the hexagonal coordinate system. For some of them there are two different axis choices, for example <img class="math" src="../_images/math/a519113a52b1912d0d03d4a9d681b5e85d300d0b.png" alt="\bar{3}m" style="vertical-align: 0px"/>, which can be defined as <img class="math" src="../_images/math/2d757f07460662b1fa2f247bf42d2f664ba4e0f7.png" alt="\bar{3}m1" style="vertical-align: -1px"/> or <img class="math" src="../_images/math/209f42e2ce0c02215070ab2c69e688ae58b03be9.png" alt="\bar{3}1m" style="vertical-align: -1px"/>. Creating it by the symbol <tt class="docutils literal"><span class="pre">-3m</span></tt> defaults to <img class="math" src="../_images/math/2d757f07460662b1fa2f247bf42d2f664ba4e0f7.png" alt="\bar{3}m1" style="vertical-align: -1px"/>.</p>
<p>After having obtained a <tt class="docutils literal"><span class="pre">PointGroup</span></tt>-object, it can be used for working with reflection data, more specifically <img class="math" src="../_images/math/3e4bbbc0403d355559ab6598743811fa10025355.png" alt="hkl" style="vertical-align: 0px"/>-indices. It&#8217;s possible to check whether two reflections are equivalent in a certain point group:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">mantid.geometry</span> <span class="kn">import</span> <span class="n">PointGroupFactory</span>

<span class="n">pg</span> <span class="o">=</span> <span class="n">PointGroupFactory</span><span class="o">.</span><span class="n">createPointGroup</span><span class="p">(</span><span class="s">&quot;m-3m&quot;</span><span class="p">)</span>

<span class="n">hkl1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<span class="n">hkl2</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">]</span>
<span class="n">hkl3</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>

<span class="k">print</span> <span class="s">&quot;Are [2,0,0] and [0,0,-2] equivalent?&quot;</span><span class="p">,</span> <span class="n">pg</span><span class="o">.</span><span class="n">isEquivalent</span><span class="p">(</span><span class="n">hkl1</span><span class="p">,</span> <span class="n">hkl2</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&quot;Are [2,0,0] and [0,1,2] equivalent?&quot;</span><span class="p">,</span> <span class="n">pg</span><span class="o">.</span><span class="n">isEquivalent</span><span class="p">(</span><span class="n">hkl1</span><span class="p">,</span> <span class="n">hkl3</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-none"><div class="highlight"><pre>Are [2,0,0] and [0,0,-2] equivalent? True
Are [2,0,0] and [0,1,2] equivalent? False
</pre></div>
</div>
<p>Another common task is to find all symmetry equivalents of a reflection, for example to determine its multiplicity. <tt class="docutils literal"><span class="pre">PointGroup</span></tt> has a method for this purpose which returns the set of non-identical symmetry equivalents for a given <img class="math" src="../_images/math/3e4bbbc0403d355559ab6598743811fa10025355.png" alt="hkl" style="vertical-align: 0px"/> (including <img class="math" src="../_images/math/3e4bbbc0403d355559ab6598743811fa10025355.png" alt="hkl" style="vertical-align: 0px"/> itself):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">mantid.geometry</span> <span class="kn">import</span> <span class="n">PointGroupFactory</span>

<span class="n">pg</span> <span class="o">=</span> <span class="n">PointGroupFactory</span><span class="o">.</span><span class="n">createPointGroup</span><span class="p">(</span><span class="s">&quot;m-3m&quot;</span><span class="p">)</span>

<span class="n">hkl1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<span class="n">equivalents1</span> <span class="o">=</span> <span class="n">pg</span><span class="o">.</span><span class="n">getEquivalents</span><span class="p">(</span><span class="n">hkl1</span><span class="p">)</span>

<span class="k">print</span> <span class="s">&quot;Number of reflections equivalent to [2,0,0]:&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">equivalents1</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&quot;Equivalents:&quot;</span><span class="p">,</span> <span class="n">equivalents1</span>
<span class="k">print</span>

<span class="n">hkl2</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="n">equivalents2</span> <span class="o">=</span> <span class="n">pg</span><span class="o">.</span><span class="n">getEquivalents</span><span class="p">(</span><span class="n">hkl2</span><span class="p">)</span>

<span class="k">print</span> <span class="s">&quot;Number of reflections equivalent to [1,1,1]:&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">equivalents2</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&quot;Equivalents:&quot;</span><span class="p">,</span> <span class="n">equivalents2</span>
</pre></div>
</div>
<p>Executing this code results in the following output:</p>
<div class="highlight-none"><div class="highlight"><pre>Number of reflections equivalent to [2,0,0]: 6
Equivalents: [[2,0,0], [0,2,0], [0,0,2], [0,0,-2], [0,-2,0], [-2,0,0]]

Number of reflections equivalent to [1,1,1]: 8
Equivalents: [[1,1,1], [1,1,-1], [1,-1,1], [1,-1,-1], [-1,1,1], [-1,1,-1], [-1,-1,1], [-1,-1,-1]]
</pre></div>
</div>
<p>Sometimes, a list of reflections needs to be reduced to a set of symmetry independent reflections only. That means it should not contain any two reflections that are symmetry equivalents according to the point group symmetry. To achieve this, <tt class="docutils literal"><span class="pre">PointGroup</span></tt> offers a method that returns the same <img class="math" src="../_images/math/0a846e945ff25b869d981f7228ee901dbfa0e7a4.png" alt="hkl'" style="vertical-align: 0px"/> for all symmetry equivalents.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">mantid.geometry</span> <span class="kn">import</span> <span class="n">PointGroupFactory</span>

<span class="n">pg</span> <span class="o">=</span> <span class="n">PointGroupFactory</span><span class="o">.</span><span class="n">createPointGroup</span><span class="p">(</span><span class="s">&quot;m-3m&quot;</span><span class="p">)</span>

<span class="n">hklList</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>    <span class="c"># Equivalent to [1,0,0]</span>
           <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>               <span class="c"># Equivalent to [1,1,1]</span>
           <span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">]]</span>  <span class="c"># Equivalent to [3,1,1]</span>

<span class="n">independent</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

<span class="k">for</span> <span class="n">hkl</span> <span class="ow">in</span> <span class="n">hklList</span><span class="p">:</span>
    <span class="n">independent</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">pg</span><span class="o">.</span><span class="n">getReflectionFamily</span><span class="p">(</span><span class="n">hkl</span><span class="p">))</span> <span class="c"># getReflectionFamily returns the same hkl for all symmetry equivalents</span>

<span class="k">print</span> <span class="s">&quot;Number of independent reflections:&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">independent</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&quot;Reflections:&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="n">independent</span><span class="p">)</span>
</pre></div>
</div>
<p>This example code produces the output below upon execution:</p>
<div class="highlight-none"><div class="highlight"><pre>Number of independent reflections: 3
Reflections: [[1,1,1], [1,0,0], [3,1,1]]
</pre></div>
</div>
<p>This is all that&#8217;s covered by the Python interface regarding point groups in Mantid at the time of this writing. The use in C++ is very similar and described in detail in the API documentation.</p>
</div>
<div class="section" id="using-space-groups-in-mantid">
<h2>Using space groups in Mantid<a class="headerlink" href="#using-space-groups-in-mantid" title="Permalink to this headline">¶</a></h2>
<p>Space group representation in Mantid is very similar to the point group representation, there is a <tt class="docutils literal"><span class="pre">SpaceGroup</span></tt>-class that contains some information about the group, but also a method to generate equivalent positions from a coordinate triplet.</p>
<p>Exactly like point groups, space groups are also created using a factory:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">mantid.geometry</span> <span class="kn">import</span> <span class="n">SpaceGroupFactory</span>

<span class="n">sg</span> <span class="o">=</span> <span class="n">SpaceGroupFactory</span><span class="o">.</span><span class="n">createSpaceGroup</span><span class="p">(</span><span class="s">&quot;P -1&quot;</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&quot;Hermann-Mauguin symbol:&quot;</span><span class="p">,</span> <span class="n">sg</span><span class="o">.</span><span class="n">getHMSymbol</span><span class="p">()</span>
<span class="k">print</span> <span class="s">&quot;ITA number:&quot;</span><span class="p">,</span> <span class="n">sg</span><span class="o">.</span><span class="n">getNumber</span><span class="p">()</span>
</pre></div>
</div>
<p>Executing this code shows the Hermann-Mauguin symbol of the space group as well as the number defined in ITA:</p>
<div class="highlight-none"><div class="highlight"><pre>Hermann-Mauguin symbol: P -1
ITA number: 2
</pre></div>
</div>
<p>For some space group types there is more than one setting. Even though these are not present in Mantid at the time of this writing, the factory already supports querying the available symbols for a given number:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">mantid.geometry</span> <span class="kn">import</span> <span class="n">SpaceGroupFactory</span>

<span class="k">print</span> <span class="s">&quot;Space group no. 2:&quot;</span><span class="p">,</span> <span class="n">SpaceGroupFactory</span><span class="o">.</span><span class="n">subscribedSpaceGroupSymbols</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&quot;Total subscribed space group types:&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">SpaceGroupFactory</span><span class="o">.</span><span class="n">getAllSpaceGroupNumbers</span><span class="p">())</span>
</pre></div>
</div>
<p>This shows that only one symbol is registered for space group number 2, and that there are 230 space group types:</p>
<div class="highlight-none"><div class="highlight"><pre>Space group no. 2: [&#39;P -1&#39;]
Total subscribed space group types: 230
</pre></div>
</div>
<p>Besides containing some very basic information, the most important functionality is the ability to generate equivalent coordinates. The following example generates all coordinates for the <img class="math" src="../_images/math/70abf8a608fa3af089336fac595b0b09769e7a33.png" alt="4h" style="vertical-align: -1px"/> position in space group <img class="math" src="../_images/math/54c7d327327ec95cfb746a7691907322f5b55043.png" alt="P6/m" style="vertical-align: -5px"/> (No. 175):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">mantid.geometry</span> <span class="kn">import</span> <span class="n">SpaceGroupFactory</span>

<span class="n">sg</span> <span class="o">=</span> <span class="n">SpaceGroupFactory</span><span class="o">.</span><span class="n">createSpaceGroup</span><span class="p">(</span><span class="s">&quot;P 6/m&quot;</span><span class="p">)</span>

<span class="n">position</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.</span><span class="o">/</span><span class="mf">3.</span><span class="p">,</span> <span class="mf">2.</span><span class="o">/</span><span class="mf">3.</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">]</span>
<span class="n">equivalents</span> <span class="o">=</span> <span class="n">sg</span><span class="o">.</span><span class="n">getEquivalentPositions</span><span class="p">(</span><span class="n">position</span><span class="p">)</span>

<span class="k">print</span> <span class="s">&quot;There are&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">equivalents</span><span class="p">),</span> <span class="s">&quot;equivalent coordinates.&quot;</span>
<span class="k">print</span> <span class="s">&quot;Coordinates:&quot;</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">pos</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">equivalents</span><span class="p">):</span>
    <span class="k">print</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="s">&quot;:&quot;</span><span class="p">,</span> <span class="n">pos</span>
</pre></div>
</div>
<p>Please note that for hexagonal and trigonal space groups, where translations of <img class="math" src="../_images/math/fa20d7e077bed047abfd76adcc104cc5867a7bba.png" alt="1/3" style="vertical-align: -5px"/>, <img class="math" src="../_images/math/f3cbf5dc264724308a9db0907205cb700e86d24e.png" alt="2/3" style="vertical-align: -5px"/>, <img class="math" src="../_images/math/530577612dbed59dd0561cfab3bfee3a13212bdf.png" alt="1/6" style="vertical-align: -5px"/> and so on are common, these coordinates must be supplied either as <tt class="docutils literal"><span class="pre">1./3.</span></tt> or with a precision of 7 digits, e.g. <tt class="docutils literal"><span class="pre">0.6666667</span></tt>.</p>
<div class="highlight-none"><div class="highlight"><pre>There are 4 equivalent coordinates.
Coordinates:
1: [0.333333,0.666667,0.25]
2: [0.333333,0.666667,0.75]
3: [0.666667,0.333333,0.25]
4: [0.666667,0.333333,0.75]
</pre></div>
</div>
<p>Furthermore, it is possible to create a PointGroup-object from a SpaceGroup object in order to obtain information about the crystal system and to perform the Miller index operations provided by PointGroup. For this, PointGroupFactory has a special method:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">mantid.geometry</span> <span class="kn">import</span> <span class="n">PointGroupFactory</span><span class="p">,</span> <span class="n">SpaceGroupFactory</span>

<span class="c"># Create space group Fd-3m (for example silicon or diamond)</span>
<span class="n">sg</span> <span class="o">=</span> <span class="n">SpaceGroupFactory</span><span class="o">.</span><span class="n">createSpaceGroup</span><span class="p">(</span><span class="s">&quot;F d -3 m&quot;</span><span class="p">)</span>

<span class="n">pg</span> <span class="o">=</span> <span class="n">PointGroupFactory</span><span class="o">.</span><span class="n">createPointGroupFromSpaceGroup</span><span class="p">(</span><span class="n">sg</span><span class="p">)</span>

<span class="k">print</span> <span class="s">&quot;Space group no.&quot;</span><span class="p">,</span> <span class="n">sg</span><span class="o">.</span><span class="n">getNumber</span><span class="p">(),</span> <span class="s">&quot;has point group:&quot;</span><span class="p">,</span> <span class="n">pg</span><span class="o">.</span><span class="n">getHMSymbol</span><span class="p">()</span>
</pre></div>
</div>
<p>The script prints the point group of the space group in question:</p>
<div class="highlight-none"><div class="highlight"><pre>Space group no. 227 has point group: m-3m
</pre></div>
</div>
<p>Very similar constructions are available in C++ as well, as shown in the API documentation.</p>
</div>
<div class="section" id="other-ways-of-using-groups-in-mantid">
<h2>Other ways of using groups in Mantid<a class="headerlink" href="#other-ways-of-using-groups-in-mantid" title="Permalink to this headline">¶</a></h2>
<p>The previous two sections demonstrated how to perform common tasks using point and space groups in Mantid. With the available Python tools it is however possible to obtain other information as well. One useful method that both PointGroup and SpaceGroup expose is to query the symmetry operations of the group, although in string format:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">mantid.geometry</span> <span class="kn">import</span> <span class="n">SpaceGroupFactory</span>

<span class="n">sg</span> <span class="o">=</span> <span class="n">SpaceGroupFactory</span><span class="o">.</span><span class="n">createSpaceGroup</span><span class="p">(</span><span class="s">&quot;P 6/m&quot;</span><span class="p">)</span>
<span class="n">symOpStrings</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">sg</span><span class="o">.</span><span class="n">getSymmetryOperationStrings</span><span class="p">())</span>

<span class="k">print</span> <span class="s">&quot;There are&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">symOpStrings</span><span class="p">),</span> <span class="s">&quot;symmetry operations in space group&quot;</span><span class="p">,</span> <span class="n">sg</span><span class="o">.</span><span class="n">getHMSymbol</span><span class="p">()</span> <span class="o">+</span> <span class="s">&quot;.&quot;</span>
<span class="k">print</span> <span class="s">&quot;Symmetry operations:&quot;</span><span class="p">,</span> <span class="n">symOpStrings</span>
</pre></div>
</div>
<p>Which prints the symmetry operation information:</p>
<div class="highlight-none"><div class="highlight"><pre>There are 12 symmetry operations in space group P 6/m.
Symmetry operations: [&#39;-x+y,-x,-z&#39;, &#39;-x+y,-x,z&#39;, &#39;-x,-y,-z&#39;, &#39;-x,-y,z&#39;, &#39;-y,x-y,-z&#39;, &#39;-y,x-y,z&#39;, &#39;x,y,-z&#39;, &#39;x,y,z&#39;, &#39;x-y,x,-z&#39;, &#39;x-y,x,z&#39;, &#39;y,-x+y,-z&#39;, &#39;y,-x+y,z&#39;]
</pre></div>
</div>
<p>While this can be interesting for informational purposes, it&#8217;s more useful to obtain the symmetry operations directly as objects to use them for new purposes. This script for example sorts the contained symmetry operations according to their order:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">mantid.geometry</span> <span class="kn">import</span> <span class="n">SpaceGroupFactory</span>

<span class="k">def</span> <span class="nf">getMaximumOrderOperation</span><span class="p">(</span><span class="n">spaceGroup</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">spaceGroup</span><span class="o">.</span><span class="n">getSymmetryOperations</span><span class="p">(),</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">getOrder</span><span class="p">())[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

<span class="n">sg1</span> <span class="o">=</span> <span class="n">SpaceGroupFactory</span><span class="o">.</span><span class="n">createSpaceGroup</span><span class="p">(</span><span class="s">&quot;P 6/m&quot;</span><span class="p">)</span>
<span class="n">sg2</span> <span class="o">=</span> <span class="n">SpaceGroupFactory</span><span class="o">.</span><span class="n">createSpaceGroup</span><span class="p">(</span><span class="s">&quot;P 4 3 2&quot;</span><span class="p">)</span>

<span class="c"># Get the symmetry operation with the highest order</span>
<span class="n">symOpMax1</span> <span class="o">=</span> <span class="n">getMaximumOrderOperation</span><span class="p">(</span><span class="n">sg1</span><span class="p">)</span>
<span class="n">symOpMax2</span> <span class="o">=</span> <span class="n">getMaximumOrderOperation</span><span class="p">(</span><span class="n">sg2</span><span class="p">)</span>

<span class="k">print</span> <span class="s">&quot;The symmetry operation with highest order in space group no.&quot;</span><span class="p">,</span> <span class="n">sg1</span><span class="o">.</span><span class="n">getNumber</span><span class="p">(),</span> <span class="s">&quot;is:&quot;</span><span class="p">,</span> <span class="n">symOpMax1</span><span class="o">.</span><span class="n">getIdentifier</span><span class="p">(),</span> <span class="s">&quot;(k=&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">symOpMax1</span><span class="o">.</span><span class="n">getOrder</span><span class="p">())</span> <span class="o">+</span> <span class="s">&quot;)&quot;</span>
<span class="k">print</span> <span class="s">&quot;The symmetry operation with highest order in space group no.&quot;</span><span class="p">,</span> <span class="n">sg2</span><span class="o">.</span><span class="n">getNumber</span><span class="p">(),</span> <span class="s">&quot;is:&quot;</span><span class="p">,</span> <span class="n">symOpMax2</span><span class="o">.</span><span class="n">getIdentifier</span><span class="p">(),</span> <span class="s">&quot;(k=&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">symOpMax2</span><span class="o">.</span><span class="n">getOrder</span><span class="p">())</span> <span class="o">+</span> <span class="s">&quot;)&quot;</span>
</pre></div>
</div>
<p>Which produces the following output:</p>
<div class="highlight-none"><div class="highlight"><pre>The symmetry operation with highest order in space group no. 175 is: y,-x+y,z (k=6)
The symmetry operation with highest order in space group no. 207 is: z,y,-x (k=4)
</pre></div>
</div>
<p>Another way to extract more information about the symmetry in a space group is to obtain the symmetry elements and arrange them by their characteristic axis:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">mantid.kernel</span> <span class="kn">import</span> <span class="n">V3D</span>
<span class="kn">from</span> <span class="nn">mantid.geometry</span> <span class="kn">import</span> <span class="n">PointGroupFactory</span><span class="p">,</span> <span class="n">SpaceGroupFactory</span><span class="p">,</span> <span class="n">SymmetryElementFactory</span>

<span class="k">def</span> <span class="nf">getSymmetryElementsFromOperations</span><span class="p">(</span><span class="n">symmetryOperations</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">SymmetryElementFactory</span><span class="o">.</span><span class="n">createSymElement</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">symmetryOperations</span><span class="p">]</span>

<span class="n">sg</span> <span class="o">=</span> <span class="n">SpaceGroupFactory</span><span class="o">.</span><span class="n">createSpaceGroup</span><span class="p">(</span><span class="s">&quot;P n m a&quot;</span><span class="p">)</span>
<span class="n">pg</span> <span class="o">=</span> <span class="n">PointGroupFactory</span><span class="o">.</span><span class="n">createPointGroupFromSpaceGroup</span><span class="p">(</span><span class="n">sg</span><span class="p">)</span>

<span class="n">symElements</span> <span class="o">=</span> <span class="n">getSymmetryElementsFromOperations</span><span class="p">(</span><span class="n">sg</span><span class="o">.</span><span class="n">getSymmetryOperations</span><span class="p">())</span>
<span class="n">symElementsByAxis</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">symElementsNoAxis</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">symElem</span> <span class="ow">in</span> <span class="n">symElements</span><span class="p">:</span>
    <span class="n">axis</span> <span class="o">=</span> <span class="n">pg</span><span class="o">.</span><span class="n">getReflectionFamily</span><span class="p">(</span><span class="n">symElem</span><span class="o">.</span><span class="n">getAxis</span><span class="p">())</span>
    <span class="c">#axis = symElem.getAxis()</span>

    <span class="c"># If axis is [0,0,0], put the element into the &quot;no axis&quot; list</span>
    <span class="k">if</span> <span class="n">axis</span> <span class="o">==</span> <span class="n">V3D</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span>
        <span class="n">symElementsNoAxis</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">symElem</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c"># Otherwise check if that axis is already in the dictionary with a list...</span>
        <span class="k">if</span> <span class="n">axis</span> <span class="ow">in</span> <span class="n">symElementsByAxis</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">symElementsByAxis</span><span class="p">[</span><span class="n">axis</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">symElem</span><span class="p">)</span>
        <span class="c"># ...or create a new list for that axis</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">symElementsByAxis</span><span class="p">[</span><span class="n">axis</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">symElem</span><span class="p">]</span>

<span class="n">noAxisSymbols</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">getHMSymbol</span><span class="p">()</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">symElementsNoAxis</span><span class="p">]</span>
<span class="k">print</span> <span class="s">&quot;There are&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">symElementsNoAxis</span><span class="p">),</span> <span class="s">&quot;element(s) with no characteristic axis.&quot;</span>
<span class="k">print</span> <span class="s">&quot;Are there translations?&quot;</span><span class="p">,</span> <span class="s">&quot;Yes&quot;</span> <span class="k">if</span> <span class="s">&#39;t&#39;</span> <span class="ow">in</span> <span class="n">noAxisSymbols</span> <span class="k">else</span> <span class="s">&quot;No&quot;</span>

<span class="n">axes</span> <span class="o">=</span> <span class="n">symElementsByAxis</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
<span class="k">print</span> <span class="s">&quot;There is a total of&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">axes</span><span class="p">),</span> <span class="s">&quot;different characteristic axes.&quot;</span>
<span class="k">print</span> <span class="s">&quot;Symmetry in each direction:&quot;</span>

<span class="k">for</span> <span class="n">axis</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">axes</span><span class="p">):</span>
    <span class="k">print</span> <span class="nb">str</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span> <span class="o">+</span> <span class="s">&quot;: &quot;</span><span class="p">,</span> <span class="nb">sorted</span><span class="p">([</span><span class="n">x</span><span class="o">.</span><span class="n">getHMSymbol</span><span class="p">()</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">symElementsByAxis</span><span class="p">[</span><span class="n">axis</span><span class="p">]])</span>
</pre></div>
</div>
<p>This prints the following information:</p>
<div class="highlight-none"><div class="highlight"><pre>There are 2 element(s) with no characteristic axis.
Are there translations? No
There is a total of 3 different characteristic axes.
Symmetry in each direction:
[0,0,1]:  [&#39;21&#39;, &#39;a&#39;]
[0,1,0]:  [&#39;21&#39;, &#39;m&#39;]
[1,0,0]:  [&#39;21&#39;, &#39;n&#39;]
</pre></div>
</div>
<p>Looking up space group number 62 (<img class="math" src="../_images/math/dada6956946c023c3e9450d5af33e124acc16448.png" alt="Pnma" style="vertical-align: 0px"/> from the example) in ITA shows that the full Hermann-Mauguin symbol for that space group is <img class="math" src="../_images/math/b381f8310f98a5ba070effab1952984cef1e2e4f.png" alt="P 2_1/n 2_1/m 2_1/a" style="vertical-align: -5px"/>. The short script gives us all of this information, since there are no translations (the primitive lattice translations are implicit) it must be a primitive lattice (<img class="math" src="../_images/math/ebdc91c975627d302953bd8155aa0d31f87b4227.png" alt="P" style="vertical-align: 0px"/>) and all directions encoded in the HM-symbol contain a <img class="math" src="../_images/math/7f2512e3e749d49a5ea7ae30936bd5559a86e828.png" alt="2_1" style="vertical-align: -4px"/> screw axis perpendicular to a glide or mirror plane.</p>
<table class="docutils citation" frame="void" id="itapointgroups" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[ITAPointGroups]</a></td><td>International Tables for Crystallography (2006). Vol. A, ch. 10.1, p. 762</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="shmueli84" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[Shmueli84]</a></td><td><ol class="first last upperalpha simple" start="21">
<li>Shmueli, Acta Crystallogr. A, 40, p. 559 <a class="reference external" href="http://dx.doi.org/10.1107/S0108767384001161">DOI: 10.1107/S0108767384001161</a>)</li>
</ol>
</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="f1" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id4">[1]</a></td><td>In the case of the monoclinic Laue class <img class="math" src="../_images/math/d43f5af17e4e5d90a34fc3e6333afa823d3ca9db.png" alt="2/m" style="vertical-align: -5px"/> it&#8217;s a bit more complicated, because there are two conventions regarding the unique axis. According to current crystallographic standards, the <img class="math" src="../_images/math/fdcf4bd764a50e69250d8e0a9e2212d63e8ecfe0.png" alt="b" style="vertical-align: 0px"/>-axis is used, but in some cases one may find the <img class="math" src="../_images/math/5f284c9713b9515a4975ac98a8bc88f1749aa7aa.png" alt="c" style="vertical-align: 0px"/>-axis for this purpose. To resolve this, both options are offered in Mantid. When using the symbol <tt class="docutils literal"><span class="pre">2/m</span></tt>, the <img class="math" src="../_images/math/fdcf4bd764a50e69250d8e0a9e2212d63e8ecfe0.png" alt="b" style="vertical-align: 0px"/>-axis convention is used, for <img class="math" src="../_images/math/5f284c9713b9515a4975ac98a8bc88f1749aa7aa.png" alt="c" style="vertical-align: 0px"/> one has to explicitly provide the symbol as <tt class="docutils literal"><span class="pre">112/m</span></tt>.</td></tr>
</tbody>
</table>
<p><strong>Category</strong>: <a class="reference external" href="categories/Concepts.html">Concepts</a></p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2015, Mantid.<br/>
    </p>
  </div>
</footer>
  </body>
</html>