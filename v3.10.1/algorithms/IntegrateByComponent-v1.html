<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>IntegrateByComponent v1</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.1.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.1.0/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.10.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="" href="../index.html" />
    <link rel="next" title="IntegrateEllipsoids v1" href="IntegrateEllipsoids-v1.html" />
    <link rel="prev" title="IndirectTransmissionMonitor v1" href="IndirectTransmissionMonitor-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>3.10</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://www.mantidproject.org/Documentation">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="integratebycomponent-v1">
<span id="algm-integratebycomponent"></span><span id="algm-integratebycomponent-v1"></span><h1>IntegrateByComponent v1<a class="headerlink" href="#integratebycomponent-v1" title="Permalink to this headline">¶</a></h1>
<div class="figure align-right" id="index-0">
<a class="screenshot reference internal image-reference" href="../_images/IntegrateByComponent-v1_dlg.png"><img alt="../_images/IntegrateByComponent-v1_dlg.png" class="screenshot" src="../_images/IntegrateByComponent-v1_dlg.png" style="width: 372px;" /></a>
<p class="caption"><strong>IntegrateByComponent</strong> dialog.</p>
</div>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#summary" id="id1">Summary</a></li>
<li><a class="reference internal" href="#properties" id="id2">Properties</a></li>
<li><a class="reference internal" href="#description" id="id3">Description</a></li>
<li><a class="reference internal" href="#usage" id="id4">Usage</a></li>
<li><a class="reference internal" href="#source" id="id5">Source</a></li>
</ul>
</div>
<div class="section" id="summary">
<h2><a class="toc-backref" href="#id1">Summary</a><a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>Averages up the instrument hierarchy.</p>
</div>
<div class="section" id="properties">
<h2><a class="toc-backref" href="#id2">Properties</a><a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="6%" />
<col width="3%" />
<col width="15%" />
<col width="4%" />
<col width="72%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Direction</th>
<th class="head">Type</th>
<th class="head">Default</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>InputWorkspace</td>
<td>Input</td>
<td><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><em>MatrixWorkspace</em></a></td>
<td><em>Mandatory</em></td>
<td>The input workspace.</td>
</tr>
<tr class="row-odd"><td>OutputWorkspace</td>
<td>Output</td>
<td><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><em>MatrixWorkspace</em></a></td>
<td><em>Mandatory</em></td>
<td>The output workspace.</td>
</tr>
<tr class="row-even"><td>LevelsUp</td>
<td>Input</td>
<td>number</td>
<td>0</td>
<td>Levels above pixel that will be used to compute the average. If no level is specified, the median is over the whole instrument.  If 0, it will just return the integrated values in each pixel</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="description">
<h2><a class="toc-backref" href="#id3">Description</a><a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>The algorithm integrates up the instrument hierarchy, and each pixel
will contain the average value for the component. For example, assuming
that for a particular instrument on workspace w1 a &#8220;tube&#8221; is made out of
&#8220;pixels&#8221;, w=IntegrateByComponent(w1,1) will integrate values of w1,
calculate the average along the tube (LevelsUp=1) (for non-masked
pixels), and replace the value of each spectrum in a tube with the
average value for that tube.</p>
<p>Note that if the detectors are grouped before, this algorithm won&#8217;t run
except with LevelsUp=0 (integrate each spectra individually).</p>
</div>
<div class="section" id="usage">
<h2><a class="toc-backref" href="#id4">Usage</a><a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">To run these usage examples please first download the
<a class="reference external" href="https://sourceforge.net/projects/mantid/files/Sample%20Data/UsageData.zip/download">usage data</a>,
and add these to your path. In MantidPlot this is done using <a class="reference external" href="http://www.mantidproject.org/ManageUserDirectories">Manage User Directories</a>.</p>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="c">#load a workspace with logs</span>
<span class="n">ws</span><span class="o">=</span><span class="n">Load</span><span class="p">(</span><span class="s">&quot;CNCS_7860&quot;</span><span class="p">)</span>

<span class="c">#apply algorithm</span>
<span class="n">ws1</span><span class="o">=</span><span class="n">IntegrateByComponent</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span><span class="n">LevelsUp</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">ws2</span><span class="o">=</span><span class="n">IntegrateByComponent</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span><span class="n">LevelsUp</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">ws0</span><span class="o">=</span><span class="n">IntegrateByComponent</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span><span class="n">LevelsUp</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>

<span class="c">#Check some values</span>
<span class="k">print</span> <span class="s">&quot;For LevelsUp=1 we found that:&quot;</span>
<span class="k">print</span> <span class="s">&quot; - two pixels in the same tube have the same value &quot;</span><span class="p">,</span> <span class="n">ws1</span><span class="o">.</span><span class="n">dataY</span><span class="p">(</span><span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">==</span><span class="n">ws1</span><span class="o">.</span><span class="n">dataY</span><span class="p">(</span><span class="mi">100</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="k">print</span> <span class="s">&quot; - two pixels in different tubes have the same value &quot;</span><span class="p">,</span> <span class="n">ws1</span><span class="o">.</span><span class="n">dataY</span><span class="p">(</span><span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">==</span><span class="n">ws1</span><span class="o">.</span><span class="n">dataY</span><span class="p">(</span><span class="mi">200</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="k">print</span> <span class="s">&quot; - two pixels in different bankss have the same value &quot;</span><span class="p">,</span> <span class="n">ws1</span><span class="o">.</span><span class="n">dataY</span><span class="p">(</span><span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">==</span><span class="n">ws1</span><span class="o">.</span><span class="n">dataY</span><span class="p">(</span><span class="mi">2000</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

<span class="k">print</span> <span class="s">&quot;For LevelsUp=2 we found that:&quot;</span>
<span class="k">print</span> <span class="s">&quot; - two pixels in the same tube have the same value &quot;</span><span class="p">,</span> <span class="n">ws2</span><span class="o">.</span><span class="n">dataY</span><span class="p">(</span><span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">==</span><span class="n">ws2</span><span class="o">.</span><span class="n">dataY</span><span class="p">(</span><span class="mi">100</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="k">print</span> <span class="s">&quot; - two pixels in different tubes have the same value &quot;</span><span class="p">,</span> <span class="n">ws2</span><span class="o">.</span><span class="n">dataY</span><span class="p">(</span><span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">==</span><span class="n">ws2</span><span class="o">.</span><span class="n">dataY</span><span class="p">(</span><span class="mi">200</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="k">print</span> <span class="s">&quot; - two pixels in different bankss have the same value &quot;</span><span class="p">,</span> <span class="n">ws2</span><span class="o">.</span><span class="n">dataY</span><span class="p">(</span><span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">==</span><span class="n">ws2</span><span class="o">.</span><span class="n">dataY</span><span class="p">(</span><span class="mi">2000</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

<span class="k">print</span> <span class="s">&quot;For LevelsUp=4 we found that:&quot;</span>
<span class="k">print</span> <span class="s">&quot; - two pixels in the same tube have the same value &quot;</span><span class="p">,</span> <span class="n">ws0</span><span class="o">.</span><span class="n">dataY</span><span class="p">(</span><span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">==</span><span class="n">ws0</span><span class="o">.</span><span class="n">dataY</span><span class="p">(</span><span class="mi">100</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="k">print</span> <span class="s">&quot; - two pixels in different tubes have the same value &quot;</span><span class="p">,</span> <span class="n">ws0</span><span class="o">.</span><span class="n">dataY</span><span class="p">(</span><span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">==</span><span class="n">ws0</span><span class="o">.</span><span class="n">dataY</span><span class="p">(</span><span class="mi">200</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="k">print</span> <span class="s">&quot; - two pixels in different bankss have the same value &quot;</span><span class="p">,</span> <span class="n">ws0</span><span class="o">.</span><span class="n">dataY</span><span class="p">(</span><span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">==</span><span class="n">ws0</span><span class="o">.</span><span class="n">dataY</span><span class="p">(</span><span class="mi">2000</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none"><div class="highlight"><pre>For LevelsUp=1 we found that:
 - two pixels in the same tube have the same value  True
 - two pixels in different tubes have the same value  False
 - two pixels in different bankss have the same value  False
For LevelsUp=2 we found that:
 - two pixels in the same tube have the same value  True
 - two pixels in different tubes have the same value  True
 - two pixels in different bankss have the same value  False
For LevelsUp=4 we found that:
 - two pixels in the same tube have the same value  True
 - two pixels in different tubes have the same value  True
 - two pixels in different bankss have the same value  True
</pre></div>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/Algorithms.html">Algorithms</a> | <a class="reference external" href="categories/Utility/Workspaces.html">Utility\Workspaces</a></p>
</div>
<div class="section" id="source">
<h2><a class="toc-backref" href="#id5">Source</a><a class="headerlink" href="#source" title="Permalink to this headline">¶</a></h2>
<p>C++ source: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/ff859df4a5faa6fa5e3cecb8f2efeb4c4aa53864/Framework/Algorithms/src/IntegrateByComponent.cpp">IntegrateByComponent.cpp</a></p>
<p>C++ header: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/ff859df4a5faa6fa5e3cecb8f2efeb4c4aa53864/Framework/Algorithms/inc/MantidAlgorithms/IntegrateByComponent.h">IntegrateByComponent.h</a></p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="IndirectTransmissionMonitor-v1.html" title="Previous Chapter: IndirectTransmissionMonitor v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm">&laquo; IndirectTransmis...</span>
    </a>
  </li>
  <li>
    <a href="IntegrateEllipsoids-v1.html" title="Next Chapter: IntegrateEllipsoids v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm">IntegrateEllipso... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>