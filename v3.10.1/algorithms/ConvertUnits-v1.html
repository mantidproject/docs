<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>ConvertUnits v1</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.1.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.1.0/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.10.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="" href="../index.html" />
    <link rel="next" title="ConvertUnitsUsingDetectorTable v1" href="ConvertUnitsUsingDetectorTable-v1.html" />
    <link rel="prev" title="ConvertToYSpace v1" href="ConvertToYSpace-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>3.10</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://www.mantidproject.org/Documentation">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="convertunits-v1">
<span id="algm-convertunits"></span><span id="algm-convertunits-v1"></span><h1>ConvertUnits v1<a class="headerlink" href="#convertunits-v1" title="Permalink to this headline">¶</a></h1>
<div class="figure align-right" id="index-0">
<a class="screenshot reference internal image-reference" href="../_images/ConvertUnits-v1_dlg.png"><img alt="../_images/ConvertUnits-v1_dlg.png" class="screenshot" src="../_images/ConvertUnits-v1_dlg.png" style="width: 331px;" /></a>
<p class="caption"><strong>ConvertUnits</strong> dialog.</p>
</div>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#summary" id="id1">Summary</a></li>
<li><a class="reference internal" href="#properties" id="id2">Properties</a></li>
<li><a class="reference internal" href="#description" id="id3">Description</a><ul>
<li><a class="reference internal" href="#restrictions-on-the-input-workspace" id="id4">Restrictions on the input workspace</a></li>
</ul>
</li>
<li><a class="reference internal" href="#available-units" id="id5">Available units</a></li>
<li><a class="reference internal" href="#usage" id="id6">Usage</a></li>
<li><a class="reference internal" href="#source" id="id7">Source</a></li>
</ul>
</div>
<div class="section" id="summary">
<h2><a class="toc-backref" href="#id1">Summary</a><a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>Performs a unit change on the X values of a workspace</p>
</div>
<div class="section" id="properties">
<h2><a class="toc-backref" href="#id2">Properties</a><a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="5%" />
<col width="2%" />
<col width="9%" />
<col width="3%" />
<col width="82%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Direction</th>
<th class="head">Type</th>
<th class="head">Default</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>InputWorkspace</td>
<td>Input</td>
<td><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><em>MatrixWorkspace</em></a></td>
<td><em>Mandatory</em></td>
<td>Name of the input workspace</td>
</tr>
<tr class="row-odd"><td>OutputWorkspace</td>
<td>Output</td>
<td><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><em>MatrixWorkspace</em></a></td>
<td><em>Mandatory</em></td>
<td>Name of the output workspace, can be the same as the input</td>
</tr>
<tr class="row-even"><td>Target</td>
<td>Input</td>
<td>string</td>
<td><em>Mandatory</em></td>
<td>The name of the units to convert to (must be one of those registered in the Unit Factory). Allowed values: [&#8216;Degrees&#8217;, &#8216;DeltaE&#8217;, &#8216;DeltaE_inFrequency&#8217;, &#8216;DeltaE_inWavenumber&#8217;, &#8216;dSpacing&#8217;, &#8216;dSpacingPerpendicular&#8217;, &#8216;Empty&#8217;, &#8216;Energy&#8217;, &#8216;Energy_inWavenumber&#8217;, &#8216;Label&#8217;, &#8216;Momentum&#8217;, &#8216;MomentumTransfer&#8217;, &#8216;QSquared&#8217;, &#8216;SpinEchoLength&#8217;, &#8216;SpinEchoTime&#8217;, &#8216;Time&#8217;, &#8216;TOF&#8217;, &#8216;Wavelength&#8217;]</td>
</tr>
<tr class="row-odd"><td>EMode</td>
<td>Input</td>
<td>string</td>
<td>Elastic</td>
<td>The energy mode (default: elastic). Allowed values: [&#8216;Elastic&#8217;, &#8216;Direct&#8217;, &#8216;Indirect&#8217;]</td>
</tr>
<tr class="row-even"><td>EFixed</td>
<td>Input</td>
<td>number</td>
<td><em>Optional</em></td>
<td>Value of fixed energy in meV : EI (EMode=Direct) or EF (EMode=Indirect) . Must be set if the target unit requires it (e.g. DeltaE)</td>
</tr>
<tr class="row-odd"><td>AlignBins</td>
<td>Input</td>
<td>boolean</td>
<td>False</td>
<td>If true (default is false), rebins after conversion to ensure that all spectra in the output workspace have identical bin boundaries. This option is not recommended (see <a class="reference external" href="http://www.mantidproject.org/ConvertUnits">http://www.mantidproject.org/ConvertUnits</a>).</td>
</tr>
<tr class="row-even"><td>ConvertFromPointData</td>
<td>Input</td>
<td>boolean</td>
<td>True</td>
<td>When checked, if the Input Workspace contains Points the algorithm ConvertToHistogram will be run to convert the Points to Bins. The Output Workspace will contains Bins.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="description">
<h2><a class="toc-backref" href="#id3">Description</a><a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>Changes the units in which the X values of a <a class="reference internal" href="../concepts/Workspace.html#workspace"><em>workspace</em></a>
are represented. The available units are those registered with the <a class="reference external" href="http://www.mantidproject.org/Units">Unit
Factory</a>. If the Y data is &#8216;dimensioned&#8217; (i.e. has been
divided by the bin width), then this will be correctly handled, but at
present nothing else is done to the Y data. If the sample-detector
distance cannot be calculated then the affected spectrum will be zeroed,
and a warning message will be output on the <a class="reference external" href="http://www.mantidproject.org/logging">logging</a>
service.</p>
<p>If AlignBins is false or left at the default the output workspace may be
a <a class="reference internal" href="../concepts/Ragged_Workspace.html#ragged-workspace"><em>ragged workspace</em></a>. If it is set to true then the
data is automatically <a class="reference external" href="http://www.mantidproject.org/Rebin">rebinned</a> to a regular grid so that the
maximum and minimum X values will be maintained. It uses the same number
of bins as the input data, and divides them linearly equally between the
minimum and maximum values.</p>
<p>If converting to <img class="math" src="../_images/math/e7f3976c8fc98924a2661d692ffbe4a2f6b7e4d8.png" alt="\Delta E" style="vertical-align: 0px"/> any bins which correspond to a
physically inaccessible will be removed, leading to an output workspace
than is smaller than the input one. If the geometry is indirect then the
value of EFixed will be taken, if available, from the instrument
definition file.</p>
<p>If ConvertFromPointData is true, an input workspace
contains Point data will be converted using <a class="reference external" href="http://www.mantidproject.org/ConvertToHistogram">ConvertToHistogram</a>
and then the algorithm will be run on the converted workspace.</p>
<div class="section" id="restrictions-on-the-input-workspace">
<h3><a class="toc-backref" href="#id4">Restrictions on the input workspace</a><a class="headerlink" href="#restrictions-on-the-input-workspace" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Naturally, the X values must have a unit set, and that unit must be
known to the <a class="reference external" href="http://www.mantidproject.org/Units">Unit Factory</a>.</li>
<li>Histograms and Point data can be handled.</li>
<li>The algorithm will also fail if the source-sample distance cannot be
calculated (i.e. the <a class="reference internal" href="../concepts/Instrument.html#instrument"><em>instrument</em></a> has not been
properly defined).</li>
</ul>
</div>
</div>
<div class="section" id="available-units">
<h2><a class="toc-backref" href="#id5">Available units</a><a class="headerlink" href="#available-units" title="Permalink to this headline">¶</a></h2>
<p>The units currently available to this algorithm are listed
<a class="reference external" href="http://www.mantidproject.org/Units">here</a>, along with equations specifying exactly how the
conversions are done.</p>
</div>
<div class="section" id="usage">
<h2><a class="toc-backref" href="#id6">Usage</a><a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p><strong>Example: Convert to wavelength</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">ws</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">(</span><span class="s">&quot;Histogram&quot;</span><span class="p">,</span><span class="n">NumBanks</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">BankPixelWidth</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">wsOut</span> <span class="o">=</span> <span class="n">ConvertUnits</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span><span class="n">Target</span><span class="o">=</span><span class="s">&quot;Wavelength&quot;</span><span class="p">)</span>

<span class="k">print</span> <span class="s">&quot;Input&quot;</span><span class="p">,</span>  <span class="n">ws</span><span class="o">.</span><span class="n">readX</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="n">ws</span><span class="o">.</span><span class="n">blocksize</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="k">print</span> <span class="s">&quot;Output&quot;</span><span class="p">,</span>  <span class="n">wsOut</span><span class="o">.</span><span class="n">readX</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="n">wsOut</span><span class="o">.</span><span class="n">blocksize</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none"><div class="highlight"><pre>Input 19800.0
Output 5.22196485301
</pre></div>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/Algorithms.html">Algorithms</a> | <a class="reference external" href="categories/Transforms/Units.html">Transforms\Units</a></p>
</div>
<div class="section" id="source">
<h2><a class="toc-backref" href="#id7">Source</a><a class="headerlink" href="#source" title="Permalink to this headline">¶</a></h2>
<p>C++ source: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/ff859df4a5faa6fa5e3cecb8f2efeb4c4aa53864/Framework/Algorithms/src/ConvertUnits.cpp">ConvertUnits.cpp</a></p>
<p>C++ header: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/ff859df4a5faa6fa5e3cecb8f2efeb4c4aa53864/Framework/Algorithms/inc/MantidAlgorithms/ConvertUnits.h">ConvertUnits.h</a></p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="ConvertToYSpace-v1.html" title="Previous Chapter: ConvertToYSpace v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm">&laquo; ConvertToYSpace ...</span>
    </a>
  </li>
  <li>
    <a href="ConvertUnitsUsingDetectorTable-v1.html" title="Next Chapter: ConvertUnitsUsingDetectorTable v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm">ConvertUnitsUsin... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>