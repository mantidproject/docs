<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>MultipleScatteringCylinderAbsorption v1</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.1.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.1.0/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.10.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="" href="../index.html" />
    <link rel="next" title="Multiply v1" href="Multiply-v1.html" />
    <link rel="prev" title="MoveInstrumentComponent v1" href="MoveInstrumentComponent-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>3.10</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://www.mantidproject.org/Documentation">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="multiplescatteringcylinderabsorption-v1">
<span id="algm-multiplescatteringcylinderabsorption"></span><span id="algm-multiplescatteringcylinderabsorption-v1"></span><h1>MultipleScatteringCylinderAbsorption v1<a class="headerlink" href="#multiplescatteringcylinderabsorption-v1" title="Permalink to this headline">¶</a></h1>
<div class="figure align-right" id="index-0">
<a class="screenshot reference internal image-reference" href="../_images/MultipleScatteringCylinderAbsorption-v1_dlg.png"><img alt="../_images/MultipleScatteringCylinderAbsorption-v1_dlg.png" class="screenshot" src="../_images/MultipleScatteringCylinderAbsorption-v1_dlg.png" style="width: 315px;" /></a>
<p class="caption"><strong>MultipleScatteringCylinderAbsorption</strong> dialog.</p>
</div>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#summary" id="id3">Summary</a></li>
<li><a class="reference internal" href="#properties" id="id4">Properties</a></li>
<li><a class="reference internal" href="#description" id="id5">Description</a></li>
<li><a class="reference internal" href="#usage" id="id6">Usage</a></li>
<li><a class="reference internal" href="#references" id="id7">References</a></li>
<li><a class="reference internal" href="#source" id="id8">Source</a></li>
</ul>
</div>
<div class="section" id="summary">
<h2><a class="toc-backref" href="#id3">Summary</a><a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>Multiple scattering absorption correction, originally used to correct vanadium spectrum at IPNS.</p>
</div>
<div class="section" id="properties">
<h2><a class="toc-backref" href="#id4">Properties</a><a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="4%" />
<col width="25%" />
<col width="7%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Direction</th>
<th class="head">Type</th>
<th class="head">Default</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>InputWorkspace</td>
<td>Input</td>
<td><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><em>MatrixWorkspace</em></a></td>
<td><em>Mandatory</em></td>
<td>The name of the input workspace.</td>
</tr>
<tr class="row-odd"><td>OutputWorkspace</td>
<td>Output</td>
<td><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><em>MatrixWorkspace</em></a></td>
<td><em>Mandatory</em></td>
<td>The name of the output workspace.</td>
</tr>
<tr class="row-even"><td>AttenuationXSection</td>
<td>Input</td>
<td>number</td>
<td>2.8</td>
<td>Coefficient 1, absorption cross section / 1.81 if not set with SetSampleMaterial</td>
</tr>
<tr class="row-odd"><td>ScatteringXSection</td>
<td>Input</td>
<td>number</td>
<td>5.1</td>
<td>Coefficient 3, total scattering cross section if not set with SetSampleMaterial</td>
</tr>
<tr class="row-even"><td>SampleNumberDensity</td>
<td>Input</td>
<td>number</td>
<td>0.0721</td>
<td>Coefficient 2, density if not set with SetSampleMaterial</td>
</tr>
<tr class="row-odd"><td>CylinderSampleRadius</td>
<td>Input</td>
<td>number</td>
<td>0.3175</td>
<td>Sample radius, in cm</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="description">
<h2><a class="toc-backref" href="#id5">Description</a><a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>This algorithm is a port to C++ of a multiple scattering absorption
correction, used to correct the vanadium spectrum for the GPPD
instrument at the IPNS. The correction calculation was originally worked
out by Jack Carpenter and Asfia Huq and implemented in Java by Alok
Chatterjee. The java code was translated to C++ in Mantid by Dennis
Mikkelson.</p>
</div>
<div class="section" id="usage">
<h2><a class="toc-backref" href="#id6">Usage</a><a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p><strong>Example: A simple cylindrical sample</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">ws</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">(</span><span class="s">&quot;Histogram&quot;</span><span class="p">,</span><span class="n">NumBanks</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">BankPixelWidth</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">ConvertUnits</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span><span class="s">&quot;Wavelength&quot;</span><span class="p">)</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">Rebin</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span><span class="n">Params</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">SetSampleMaterial</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span><span class="n">ChemicalFormula</span><span class="o">=</span><span class="s">&quot;V&quot;</span><span class="p">)</span>

<span class="c">#restrict the number of wavelength points to speed up the example</span>
<span class="n">wsOut</span> <span class="o">=</span> <span class="n">MultipleScatteringCylinderAbsorption</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span><span class="n">CylinderSampleRadius</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)</span>

<span class="k">print</span> <span class="s">&quot;Output: &quot;</span><span class="p">,</span> <span class="n">wsOut</span><span class="o">.</span><span class="n">readY</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none"><div class="highlight"><pre>Output:  [  6.1210107    6.57502041  19.47638255   7.58160094   8.13860778
   2.33885171]
</pre></div>
</div>
</div>
<div class="section" id="references">
<h2><a class="toc-backref" href="#id7">References</a><a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h2>
<p>The source for how this calculation is done is</p>
<ol class="arabic simple">
<li>J.M. Carpenter <em>Attenuation Correction Factor for Scattering from Cylindrical Targets</em> Review of Scientific Instruments <strong>40.4</strong> (1969): 555. doi: <a class="reference external" href="http://dx.doi.org/10.1063/1.1684003">10.1063/1.1684003</a></li>
<li>D.F.R. Mildner, J.M. Carpenter, and C.A. Pelizzari <em>Generalized Attenuation Correction Factor for Scattering from Cylindrical Targets</em> Review of Scientific Instruments <strong>45.4</strong> (1974): 572. doi: <a class="reference external" href="http://dx.doi.org/10.1063/1.1686687">10.1063/1.1686687</a></li>
<li>D.F.R. Mildner and J.M.Carpenter <em>Improvements to the Chebyshev Expansion of Attenuation Correction Factors for Cylindrical Samples.</em> J Appl Crystallogr <strong>23.5</strong> (1990): 378–386 doi: <a class="reference external" href="http://dx.doi.org/10.1107/S0021889890005258">10.1107/S0021889890005258</a></li>
</ol>
<p><strong>Categories</strong>: <a class="reference external" href="categories/Algorithms.html">Algorithms</a> | <a class="reference external" href="categories/CorrectionFunctions/AbsorptionCorrections.html">CorrectionFunctions\AbsorptionCorrections</a></p>
</div>
<div class="section" id="source">
<h2><a class="toc-backref" href="#id8">Source</a><a class="headerlink" href="#source" title="Permalink to this headline">¶</a></h2>
<p>C++ source: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/ff859df4a5faa6fa5e3cecb8f2efeb4c4aa53864/Framework/Algorithms/src/MultipleScatteringCylinderAbsorption.cpp">MultipleScatteringCylinderAbsorption.cpp</a></p>
<p>C++ header: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/ff859df4a5faa6fa5e3cecb8f2efeb4c4aa53864/Framework/Algorithms/inc/MantidAlgorithms/MultipleScatteringCylinderAbsorption.h">MultipleScatteringCylinderAbsorption.h</a></p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="MoveInstrumentComponent-v1.html" title="Previous Chapter: MoveInstrumentComponent v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm">&laquo; MoveInstrumentCo...</span>
    </a>
  </li>
  <li>
    <a href="Multiply-v1.html" title="Next Chapter: Multiply v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm">Multiply v1 &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>