<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Multi Dimensional Visualisation</title>
    
    <link rel="stylesheet" href="../../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/bootstrap-3.3.6/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/bootstrap-3.3.6/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '4.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../../../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../../../_static/bootstrap-3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="" href="../../../index.html" />
    <link rel="up" title="Multi Dimensional Workspaces" href="index.html" />
    <link rel="next" title="Introduction to Python" href="../../introduction_to_python/index.html" />
    <link rel="prev" title="Editing Multi Dimensional Workspaces" href="01_editing_multi_dimensional_workspaces.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../../../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>4.0</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://docs.mantidproject.org/nightly/">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="multi-dimensional-visualisation">
<span id="id1"></span><h1>Multi Dimensional Visualisation<a class="headerlink" href="#multi-dimensional-visualisation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="creating-your-data">
<h2>Creating Your Data<a class="headerlink" href="#creating-your-data" title="Permalink to this headline">¶</a></h2>
<p>The next section requires a dataset that is faster to create than Load.</p>
<ol class="arabic simple">
<li>Click the View -&gt; Script window menu.</li>
<li>In the script window click File-&gt;Open, and open the file
&#8220;C:MantidInstalldataCreateSXDNaClQLab.py&#8221;</li>
<li>Click the Execute -&gt; Execute All menu.</li>
<li>After about 30 seconds you should have a SXDNaClQLab workspace.</li>
</ol>
<p><strong>Note to Demonstrators:</strong> You may want to do this during the preceding
exercise.</p>
</div>
<div class="section" id="sliceviewer">
<h2>SliceViewer<a class="headerlink" href="#sliceviewer" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="../../../_images/sliceviewer.png"><img alt="sliceviewer.png" src="../../../_images/sliceviewer.png" style="width: 600px;" /></a></p>
<p>The <a class="reference external" href="https://www.mantidproject.org/MantidPlot:_SliceViewer">Slice Viewer</a> provides 2D slices through
MDWorkspaces. It is designed to provide very fast, interactive
projections on large datasets. The SliceViewer is also furnished with
a number of 2D tools to aid further visualisation and analysis.</p>
<p>Features include:</p>
<ul class="simple">
<li><a class="reference external" href="https://www.mantidproject.org/MantidPlot:_LineViewer">Line Viewer</a> for creating arbitrary 1D integrated cuts
as separate workspaces</li>
<li><a class="reference external" href="https://www.mantidproject.org/PeaksViewer">Peaks Viewer</a> for over-plotting one or more
<a class="reference internal" href="../../../concepts/PeaksWorkspace.html#peaksworkspace"><em>Peaks Workspace</em></a> in the Q coordinate frame</li>
<li>Control via python <a class="reference external" href="https://www.mantidproject.org/SliceViewer_Python_Interface">Slice Viewer Python Interface</a></li>
<li>In-situ rebinning according to slice location</li>
<li>Zooming and panning control</li>
</ul>
<div class="section" id="introduction-to-feature-controls">
<h3>Introduction to Feature Controls<a class="headerlink" href="#introduction-to-feature-controls" title="Permalink to this headline">¶</a></h3>
<p>From the image above</p>
<div class="section" id="dimension-selection-1">
<h4>Dimension Selection (1)<a class="headerlink" href="#dimension-selection-1" title="Permalink to this headline">¶</a></h4>
<p>Allows you to choose which dimensions in the workspace are to be plotted
X and Y on the plot. All other dimensions are provided as sliders. Each
dimension has an <strong>X</strong> button and a <strong>Y</strong> button. Selecting one of these
will make this dimension either the X or Y of the plot.</p>
</div>
<div class="section" id="slice-point-selection-2">
<h4>Slice Point Selection (2)<a class="headerlink" href="#slice-point-selection-2" title="Permalink to this headline">¶</a></h4>
<p>Sliders allow you to choose the slice location. The plot will
immediately update to show a projection at the new slice location. N-2
dimensions are represented with sliders.</p>
</div>
<div class="section" id="line-integration-mode-3">
<h4>Line Integration Mode (3)<a class="headerlink" href="#line-integration-mode-3" title="Permalink to this headline">¶</a></h4>
<p><a class="reference internal" href="../../../_images/LineViewer.png"><img alt="LineViewer.png" src="../../../_images/LineViewer.png" style="width: 500px;" /></a></p>
<p>Selecting this
button will allow you to draw a line on the current slice. This will
also open the <em>LineViewer</em> panel. The line can be controlled in the
following ways:</p>
<ul class="simple">
<li>Start and end positions</li>
<li>Width in plane</li>
<li>Thickness (into plane)</li>
<li>Number of bins</li>
</ul>
<p>The controls may be updated either graphically, for example by grabbing
the start position point and moving it with the left-click mouse option,
or by updating the coordinates in the <em>LineViewer</em> panel.</p>
<p>Hitting the <em>Apply</em> button results in the generation of a new
Workspace which is one-dimensional.</p>
</div>
<div class="section" id="dynamic-rebinning-4">
<h4>Dynamic Rebinning (4)<a class="headerlink" href="#dynamic-rebinning-4" title="Permalink to this headline">¶</a></h4>
<p>The slice viewer allows you to interactively rebin the currently viewed
slice to a regular grid. This will also result in the generation of a
new rebinned workspace in Mantid. The icon labeled 4a has to be pressed
first to allow rebinning. 4c automatically rebins the current view.
The upper image below is before rebinning, the lower image is after rebinning.</p>
<div class="figure">
<a class="reference internal image-reference" href="../../../_images/RebinOff.png"><img alt="RebinOff.png" src="../../../_images/RebinOff.png" style="width: 400px;" /></a>
</div>
<div class="figure">
<a class="reference internal image-reference" href="../../../_images/RebinOn.png"><img alt="RebinOn.png" src="../../../_images/RebinOn.png" style="width: 400px;" /></a>
</div>
</div>
<div class="section" id="peaks-viewer-5">
<h4>Peaks Viewer (5)<a class="headerlink" href="#peaks-viewer-5" title="Permalink to this headline">¶</a></h4>
<div class="line-block">
<div class="line"><a class="reference internal" href="../../../_images/Peaks_view_outline_unannotated.png"><img alt="Peaks_view_outline_unannotated.png" src="../../../_images/Peaks_view_outline_unannotated.png" style="width: 800px;" /></a></div>
<div class="line">The <em>PeaksViewer</em> is a tool for Single Crystal Diffraction. It allows
you to overlay one or more PeaksWorkspaces over the MDWorkspace to
which it belongs. PeaksWorkspaces are typically generated by running
algorithms, such as <a class="reference internal" href="../../../algorithms/FindPeaksMD-v1.html#algm-findpeaksmd"><em>FindPeaksMD v1</em></a>.</div>
</div>
<ul class="simple">
<li>Slice through the MDWorkspace and the PeaksWorkspaces simultaneously
in the SliceViewer plot</li>
<li>Select peaks from the peaks list in the PeaksViewer, and cause the
SliceViewer to zoom into that exact location on the plot</li>
<li>Show integration regions and optionally integration background
regions</li>
<li>PeaksViewer auto selects the coordinates frame for the
PeaksWorkspaces based on the MDWorkspace</li>
<li>Sort the PeaksWorkspaces in-situ, for example by greatest intensity</li>
</ul>
<p>Amongst other usages, this tool therefore allows you to inspect the
quality of the peak finding, or peak integration operations.</p>
</div>
</div>
<div class="section" id="example">
<h3>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li>Run <strong>Load</strong> on the MDWorkspace file <em>SXDNaClQLab.nxs</em></li>
<li>Run <strong>Load</strong> on the PeaksWorkspace file <em>peaks_qLab.nxs</em></li>
<li>Right click the MDWorkspace and select <em>Show Slice Viewer</em> option</li>
<li>Use the Slider to slice through the Qz dimension</li>
<li>Open the LineViewer and draw a line</li>
</ol>
</div>
</div>
<div class="section" id="vates-simple-interface">
<h2>Vates Simple Interface<a class="headerlink" href="#vates-simple-interface" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="../../../_images/ReleasePic.png"><img alt="ReleasePic.png" src="../../../_images/ReleasePic.png" style="width: 300px;" /></a></p>
<p>The <a class="reference external" href="https://www.mantidproject.org/VatesSimpleInterface_v2">Vates Simple Interface</a>, or VSI provides full-blown 4D
visualisation capabilities. The VSI uses ParaView as the visualisation
engine.</p>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<div class="section" id="example-1">
<h3>Example 1<a class="headerlink" href="#example-1" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li>Run <strong>Load</strong> on the MDWorkspace file <em>SXDNaClQLab.nxs</em></li>
<li>Right click the MDWorkspace and select <em>Show Vates Simple Interface</em>.
The VSI should open showing a 3D representation of the MDWorkspace
<img alt="MantidPlot_VSI-v2_Menu.png" src="../../../_images/MantidPlot_VSI-v2_Menu.png" /></li>
<li>Click the <strong>Rebin</strong> button above the plot area</li>
<li>On the properties panel change the number of <strong>Bins</strong> property to 100
for each dimension click the <strong>Apply</strong> button. The Workspace should
now be rebinned to a regular 100*100*100 Grid</li>
</ol>
<div class="figure">
<a class="reference internal image-reference" href="../../../_images/MBC_VSI_Example1.png"><img alt="MBC_VSI_Example1.png" src="../../../_images/MBC_VSI_Example1.png" style="width: 400px;" /></a>
</div>
</div>
<div class="section" id="example-2">
<h3>Example 2<a class="headerlink" href="#example-2" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li>Complete Example 1 if you haven&#8217;t already and leave the VSI open</li>
<li>On the top menu select the &#8216;&#8217;&#8216;MultiSlice &#8216;&#8217;&#8217;
<img alt="VSI-MultisliceButton.png" src="../../../_images/VSI-MultisliceButton.png" /> mode</li>
<li>The view should be empty. Cuts can be added by double-clicking on an
axis scale between the axis scale line and the view area to place an
indicator at that point and this adds the slice on the 3D view. Add a
few cuts</li>
<li>Move the cut slice positions along the axis and observe the surface
projections updating</li>
</ol>
<div class="figure">
<a class="reference internal image-reference" href="../../../_images/MBC_VSI_Example2.png"><img alt="MBC_VSI_Example2.png" src="../../../_images/MBC_VSI_Example2.png" style="width: 400px;" /></a>
</div>
</div>
<div class="section" id="example-3">
<h3>Example 3<a class="headerlink" href="#example-3" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li>Follow steps 1-2 from Example 1.</li>
<li>On the top menu select the <strong>ScatterPlot</strong>
<img alt="VSI-SplatterPlotButton.png" src="../../../_images/VSI-SplatterPlotButton.png" /> mode</li>
<li>Set the <strong>Top Percentile</strong> option on the Properties Tab to be <em>0.05</em></li>
<li>Click <em>&#8216;Use Log Scale</em> at the top of the plot area</li>
<li>Without closing the VSI load the file <strong>peaks_qLab.nxs</strong> into
MantidPlot, which produces a PeaksWorkspace.</li>
<li>Load the PeaksWorkspace into the VSI, by right-clicking the workspace
and selecting <em>Show Vates Simple Interface</em>. You should now see peak
positions as cross-hairs overlaid over the original MDWorkspace
data.</li>
</ol>
<div class="figure">
<a class="reference internal image-reference" href="../../../_images/MBC_VSI_Example3.png"><img alt="MBC_VSI_Example3.png" src="../../../_images/MBC_VSI_Example3.png" style="width: 400px;" /></a>
</div>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="01_editing_multi_dimensional_workspaces.html" title="Previous Chapter: Editing Multi Dimensional Workspaces"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Editing Multi Di...</span>
    </a>
  </li>
  <li>
    <a href="../../introduction_to_python/index.html" title="Next Chapter: Introduction to Python"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Introduction to ... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
      Last updated on 2019-03-25.<br/>
    </p>
  </div>
</footer>
  </body>
</html>