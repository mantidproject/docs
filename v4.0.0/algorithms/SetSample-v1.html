<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>SetSample v1</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '4.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="" href="../index.html" />
    <link rel="next" title="SetSampleMaterial v1" href="SetSampleMaterial-v1.html" />
    <link rel="prev" title="SetMDUsingMask v1" href="SetMDUsingMask-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>4.0</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://docs.mantidproject.org/nightly/">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="setsample-v1">
<span id="algm-setsample"></span><span id="algm-setsample-v1"></span><h1>SetSample v1<a class="headerlink" href="#setsample-v1" title="Permalink to this headline">¶</a></h1>
<div class="figure align-right" id="index-0">
<a class="screenshot reference internal image-reference" href="../_images/SetSample-v1_dlg.png"><img alt="../_images/SetSample-v1_dlg.png" class="screenshot" src="../_images/SetSample-v1_dlg.png" style="width: 332px;" /></a>
<p class="caption"><strong>SetSample</strong> dialog.</p>
</div>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#summary" id="id1">Summary</a><ul>
<li><a class="reference internal" href="#see-also" id="id2">See Also</a></li>
</ul>
</li>
<li><a class="reference internal" href="#properties" id="id3">Properties</a></li>
<li><a class="reference internal" href="#description" id="id4">Description</a><ul>
<li><a class="reference internal" href="#environment" id="id5">Environment</a></li>
<li><a class="reference internal" href="#geometry" id="id6">Geometry</a></li>
<li><a class="reference internal" href="#material" id="id7">Material</a></li>
</ul>
</li>
<li><a class="reference internal" href="#usage" id="id8">Usage</a></li>
<li><a class="reference internal" href="#source" id="id9">Source</a></li>
</ul>
</div>
<div class="section" id="summary">
<h2><a class="toc-backref" href="#id1">Summary</a><a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>Set properties of the sample and its environment for a workspace</p>
<div class="section" id="see-also">
<h3><a class="toc-backref" href="#id2">See Also</a><a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="SetSampleMaterial-v1.html#algm-setsamplematerial"><em>SetSampleMaterial</em></a>, <a class="reference internal" href="CreateSampleShape-v1.html#algm-createsampleshape"><em>CreateSampleShape</em></a>, <a class="reference internal" href="CopySample-v1.html#algm-copysample"><em>CopySample</em></a>, <a class="reference internal" href="SetBeam-v1.html#algm-setbeam"><em>SetBeam</em></a></p>
</div>
</div>
<div class="section" id="properties">
<h2><a class="toc-backref" href="#id3">Properties</a><a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="9%" />
<col width="3%" />
<col width="23%" />
<col width="7%" />
<col width="58%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Direction</th>
<th class="head">Type</th>
<th class="head">Default</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>InputWorkspace</td>
<td>InOut</td>
<td><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><em>MatrixWorkspace</em></a></td>
<td><em>Mandatory</em></td>
<td>A workspace whose sample properties will be updated</td>
</tr>
<tr class="row-odd"><td>Geometry</td>
<td>Input</td>
<td>Dictionary</td>
<td>&nbsp;</td>
<td>A dictionary of geometry parameters for the sample.</td>
</tr>
<tr class="row-even"><td>Material</td>
<td>Input</td>
<td>Dictionary</td>
<td>&nbsp;</td>
<td>A dictionary of material parameters for the sample. See SetSampleMaterial for all accepted parameters</td>
</tr>
<tr class="row-odd"><td>Environment</td>
<td>Input</td>
<td>Dictionary</td>
<td>&nbsp;</td>
<td>A dictionary of parameters to configure the sample environment</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="description">
<h2><a class="toc-backref" href="#id4">Description</a><a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>Set properties of the sample &amp; its environment on a workspace.</p>
<p>The 3 arguments to this algorithm <tt class="docutils literal"><span class="pre">Environment</span></tt>, <tt class="docutils literal"><span class="pre">Geometry</span></tt> and
<a class="reference internal" href="../api/python/mantid/kernel/Material.html#mantid.kernel.Material" title="mantid.kernel.Material"><tt class="xref py py-obj docutils literal"><span class="pre">Material</span></tt></a> are all expected to be
dictionaries specifying multiple parameters that relate to the
respective argument.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Contrary to the <a class="reference internal" href="../concepts/HowToDefineGeometricShape.html#howtodefinegeometricshape"><em>xml forms of defining the geometry</em></a> which are in metres,
<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><tt class="xref py py-obj docutils literal"><span class="pre">dict</span></tt></a> versions are in centimetres.</p>
</div>
<div class="section" id="environment">
<h3><a class="toc-backref" href="#id5">Environment</a><a class="headerlink" href="#environment" title="Permalink to this headline">¶</a></h3>
<p>Specifies the sample environment kit to be used. There are two required keywords:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">Name</span></tt>: The name of the predefined kit</li>
<li><tt class="docutils literal"><span class="pre">Container</span></tt>: The id of the container within the predefined kit</li>
</ul>
<p>See <a class="reference internal" href="../concepts/SampleEnvironment.html#sampleenvironment"><em>Sample Environment</em></a> concept page for further details on how the creating
a definition file.</p>
<p>The name of a kit is must be unique for a given instrument. The following
procedure is used when trying to find a named definition, e.g <tt class="docutils literal"><span class="pre">CRYO-01</span></tt>:</p>
<ul class="simple">
<li>check the instrument name on the input workspace:<ul>
<li>if this is a known instrument at a known facility (is in Facilities.xml) then
use these as <tt class="docutils literal"><span class="pre">FACILITY</span></tt> &amp; <tt class="docutils literal"><span class="pre">INSTRUMENT</span></tt> respectively</li>
<li>else use the default facility and instrument as <tt class="docutils literal"><span class="pre">FACILITY</span></tt> &amp; <tt class="docutils literal"><span class="pre">INSTRUMENT</span></tt> respectively</li>
</ul>
</li>
<li>append <tt class="docutils literal"><span class="pre">.xml</span></tt> to the given kit name</li>
<li>find the current list of directories containing instrument definition files
(see <a class="reference internal" href="../concepts/InstrumentDefinitionFile.html#instrumentdefinitionfile-directories"><em>Instrument Definition Directories</em></a>
for the default directory list)</li>
<li>for each (<tt class="docutils literal"><span class="pre">INSTDIR</span></tt>) in turn:<ul>
<li>construct a test path <tt class="docutils literal"><span class="pre">INSTDIR/sampleenvironments/FACILITY/INSTRUMENT/CRYO-01.xml</span></tt></li>
<li>if this file exists then select this as the kit file and the search stops</li>
<li>otherwise if the file does not exist continue onto the next <tt class="docutils literal"><span class="pre">INSTDIR</span></tt></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="geometry">
<h3><a class="toc-backref" href="#id6">Geometry</a><a class="headerlink" href="#geometry" title="Permalink to this headline">¶</a></h3>
<p>Specifies the shape of the sample. This can be specified in 1 of 2 ways:</p>
<ul class="simple">
<li>if an environment is specified that already knows the geometry of the sample
then the fields of the known geometry container be customized. See <a class="reference internal" href="../concepts/SampleEnvironment.html#sampleenvironment"><em>Sample Environment</em></a>
concept page for further details</li>
<li>a full definition of the shape.</li>
</ul>
<p>For defining the full shape a key called <tt class="docutils literal"><span class="pre">Shape</span></tt> specifying the desired shape is
expected along with additional keys specifying the values (all values are assumed to
be in centimeters):</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">FlatPlate</span></tt>: Width, Height, Thick, Center, Angle</li>
<li><tt class="docutils literal"><span class="pre">Cylinder</span></tt>: Height, Radius, Center</li>
<li><tt class="docutils literal"><span class="pre">HollowCylinder</span></tt>: Height, InnerRadius, OuterRadius, Center</li>
<li><tt class="docutils literal"><span class="pre">CSG</span></tt>: Value is a string containing any generic shape as detailed in
<a class="reference internal" href="../concepts/HowToDefineGeometricShape.html#howtodefinegeometricshape"><em>How To Define Geometric Shape</em></a></li>
</ul>
<p>The <tt class="docutils literal"><span class="pre">Center</span></tt> key is expected to be a list of three values indicating the <tt class="code highlight docutils literal"><span class="pre">[X,Y,Z]</span></tt>
position of the center. The reference frame of the defined instrument is used to
set the coordinate system for the shape.</p>
<p>The <tt class="docutils literal"><span class="pre">Angle</span></tt> argument for a flat plate shape is expected to be in degrees and is defined as
the angle between the positive beam axis and the normal to the face perpendicular to the
beam axis when it is not rotated, increasing in an anti-clockwise sense. The rotation is
performed about the vertical axis of the instrument&#8217;s reference frame.</p>
</div>
<div class="section" id="material">
<h3><a class="toc-backref" href="#id7">Material</a><a class="headerlink" href="#material" title="Permalink to this headline">¶</a></h3>
<p>Specifies the composition of the sample using properties from the <a class="reference internal" href="SetSampleMaterial-v1.html#algm-setsamplematerial-v1"><em>SetSampleMaterial v1</em></a> algorithm.
Please see the algorithm documentation for the supported keywords.</p>
</div>
</div>
<div class="section" id="usage">
<h2><a class="toc-backref" href="#id8">Usage</a><a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p>The following example uses a test file called <tt class="docutils literal"><span class="pre">CRYO-01.xml</span></tt> in the
<tt class="docutils literal"><span class="pre">[INSTALLDIR]/instrument/sampleenvironments/TEST_LIVE/ISIS_Histogram/</span></tt> directory.</p>
<p><strong>Example - Container with preset cylinderical sample geometry</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># A fake host workspace, replace this with your real one.</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">()</span>

<span class="c"># Use geometry as is from environment definition</span>
<span class="n">SetSample</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span> <span class="n">Environment</span><span class="o">=</span><span class="p">{</span><span class="s">&#39;Name&#39;</span><span class="p">:</span> <span class="s">&#39;CRYO-01&#39;</span><span class="p">,</span> <span class="s">&#39;Container&#39;</span><span class="p">:</span> <span class="s">&#39;8mm&#39;</span><span class="p">},</span>
          <span class="n">Material</span><span class="o">=</span><span class="p">{</span><span class="s">&#39;ChemicalFormula&#39;</span><span class="p">:</span> <span class="s">&#39;(Li7)2-C-H4-N-Cl6&#39;</span><span class="p">,</span>
                    <span class="s">&#39;SampleNumberDensity&#39;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">})</span>
</pre></div>
</div>
<p><strong>Example - Override height of preset cylinder sample</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># A fake host workspace, replace this with your real one.</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">()</span>
<span class="c"># Use geometry from environment but set different height for sample</span>
<span class="n">SetSample</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span> <span class="n">Environment</span><span class="o">=</span><span class="p">{</span><span class="s">&#39;Name&#39;</span><span class="p">:</span> <span class="s">&#39;CRYO-01&#39;</span><span class="p">,</span> <span class="s">&#39;Container&#39;</span><span class="p">:</span> <span class="s">&#39;8mm&#39;</span><span class="p">},</span>
          <span class="n">Geometry</span><span class="o">=</span><span class="p">{</span><span class="s">&#39;Height&#39;</span><span class="p">:</span> <span class="mf">4.0</span><span class="p">},</span>
          <span class="n">Material</span><span class="o">=</span><span class="p">{</span><span class="s">&#39;ChemicalFormula&#39;</span><span class="p">:</span> <span class="s">&#39;(Li7)2-C-H4-N-Cl6&#39;</span><span class="p">,</span>
                    <span class="s">&#39;SampleNumberDensity&#39;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">})</span>
</pre></div>
</div>
<p><strong>Example - Override complete sample geometry</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># A fake host workspace, replace this with your real one.</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">()</span>
<span class="c"># Use geometry from environment but set different height for sample</span>
<span class="n">SetSample</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span> <span class="n">Environment</span><span class="o">=</span><span class="p">{</span><span class="s">&#39;Name&#39;</span><span class="p">:</span> <span class="s">&#39;CRYO-01&#39;</span><span class="p">,</span> <span class="s">&#39;Container&#39;</span><span class="p">:</span> <span class="s">&#39;8mm&#39;</span><span class="p">},</span>
          <span class="n">Geometry</span><span class="o">=</span><span class="p">{</span><span class="s">&#39;Shape&#39;</span><span class="p">:</span> <span class="s">&#39;HollowCylinder&#39;</span><span class="p">,</span> <span class="s">&#39;Height&#39;</span><span class="p">:</span> <span class="mf">4.0</span><span class="p">,</span>
                    <span class="s">&#39;InnerRadius&#39;</span><span class="p">:</span> <span class="mf">0.8</span><span class="p">,</span> <span class="s">&#39;OuterRadius&#39;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
                    <span class="s">&#39;Center&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">]},</span>
          <span class="n">Material</span><span class="o">=</span><span class="p">{</span><span class="s">&#39;ChemicalFormula&#39;</span><span class="p">:</span> <span class="s">&#39;(Li7)2-C-H4-N-Cl6&#39;</span><span class="p">,</span>
                    <span class="s">&#39;SampleNumberDensity&#39;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">})</span>
</pre></div>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/AlgorithmIndex.html">Algorithm Index</a> | <a class="reference external" href="categories/Sample.html">Sample</a></p>
</div>
<div class="section" id="source">
<h2><a class="toc-backref" href="#id9">Source</a><a class="headerlink" href="#source" title="Permalink to this headline">¶</a></h2>
<p>C++ source: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/de259314d655b6c31c46dac22c46bbf8fd7d5abd/Framework/DataHandling/src/SetSample.cpp">SetSample.cpp</a> <em>(last modified: 2019-02-13)</em></p>
<p>C++ header: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/de259314d655b6c31c46dac22c46bbf8fd7d5abd/Framework/DataHandling/inc/MantidDataHandling/SetSample.h">SetSample.h</a> <em>(last modified: 2019-01-08)</em></p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="SetMDUsingMask-v1.html" title="Previous Chapter: SetMDUsingMask v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; SetMDUsingMask v...</span>
    </a>
  </li>
  <li>
    <a href="SetSampleMaterial-v1.html" title="Next Chapter: SetSampleMaterial v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">SetSampleMateria... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
      Last updated on 2019-03-25.<br/>
    </p>
  </div>
</footer>
  </body>
</html>