<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Indirect Data Analysis</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '4.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="" href="../index.html" />
    <link rel="up" title="Interfaces" href="index.html" />
    <link rel="next" title="Indirect Data Reduction" href="Indirect Data Reduction.html" />
    <link rel="prev" title="Indirect Corrections" href="Indirect Corrections.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>4.0</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://docs.mantidproject.org/nightly/">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="indirect-data-analysis">
<h1>Indirect Data Analysis<a class="headerlink" href="#indirect-data-analysis" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#overview" id="id6">Overview</a><ul>
<li><a class="reference internal" href="#action-buttons" id="id7">Action Buttons</a></li>
</ul>
</li>
<li><a class="reference internal" href="#elwin" id="id8">Elwin</a><ul>
<li><a class="reference internal" href="#options" id="id9">Options</a></li>
</ul>
</li>
<li><a class="reference internal" href="#msd-fit" id="id10">MSD Fit</a><ul>
<li><a class="reference internal" href="#id1" id="id11">Options</a></li>
</ul>
</li>
<li><a class="reference internal" href="#i-q-t" id="id12">I(Q, t)</a><ul>
<li><a class="reference internal" href="#id2" id="id13">Options</a></li>
<li><a class="reference internal" href="#a-note-on-binning" id="id14">A note on Binning</a></li>
</ul>
</li>
<li><a class="reference internal" href="#i-q-t-fit" id="id15">I(Q, t) Fit</a><ul>
<li><a class="reference internal" href="#id3" id="id16">Options</a></li>
</ul>
</li>
<li><a class="reference internal" href="#conv-fit" id="id17">Conv Fit</a><ul>
<li><a class="reference internal" href="#id4" id="id18">Options</a></li>
<li><a class="reference internal" href="#theory" id="id19">Theory</a></li>
</ul>
</li>
<li><a class="reference internal" href="#f-q-fit" id="id20">F(Q) Fit</a><ul>
<li><a class="reference internal" href="#id5" id="id21">Options</a></li>
</ul>
</li>
<li><a class="reference internal" href="#qens-fitting-interfaces-features" id="id22">QENS Fitting Interfaces Features</a><ul>
<li><a class="reference internal" href="#single-multiple-input" id="id23">Single &amp; Multiple Input</a></li>
<li><a class="reference internal" href="#custom-function-groups" id="id24">Custom Function Groups</a></li>
<li><a class="reference internal" href="#fitting-range" id="id25">Fitting Range</a></li>
<li><a class="reference internal" href="#functions" id="id26">Functions</a></li>
<li><a class="reference internal" href="#settings" id="id27">Settings</a></li>
<li><a class="reference internal" href="#preview-plots" id="id28">Preview Plots</a></li>
<li><a class="reference internal" href="#output" id="id29">Output</a></li>
</ul>
</li>
<li><a class="reference internal" href="#bayesian-fabada-minimizer" id="id30">Bayesian (FABADA minimizer)</a></li>
<li><a class="reference internal" href="#sequential-fitting" id="id31">Sequential Fitting</a><ul>
<li><a class="reference internal" href="#spectrum-selection" id="id32">Spectrum Selection</a></li>
</ul>
</li>
<li><a class="reference internal" href="#convfit-fitting-model" id="id33">ConvFit fitting model</a></li>
</ul>
</div>
<div class="section" id="overview">
<h2><a class="toc-backref" href="#id6">Overview</a><a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>The Indirect Data Analysis interface is a collection of tools within MantidPlot
for analysing reduced data from indirect geometry spectrometers, such as IRIS and
OSIRIS.</p>
<p>The majority of the functions used within this interface can be used with both
reduced files (<em>_red.nxs</em>) and workspaces (<em>_red</em>) created using the Indirect Data
Reduction interface or using <img class="math" src="../_images/math/af385cf70e9aa29bed9ee6fc11c442d61c12f402.png" alt="S(Q, \omega)" style="vertical-align: -4px"/> files (<em>_sqw.nxs</em>) and
workspaces (<em>_sqw</em>) created using either the Indirect Data Reduction interface or
taken from a bespoke algorithm or auto reduction.</p>
<p>Four of the available tabs are QENS fitting interfaces and share common features and
layout. These common factors are documented in the <a class="reference internal" href="#qens-fitting-features"><em>QENS Fitting Interfaces Features</em></a> section of this document.</p>
<p>These interfaces do not support GroupWorkspace as input.</p>
<div class="figure">
<a class="screenshot reference internal image-reference" href="../_images/Data_Analysis_interface.png"><img alt="../_images/Data_Analysis_interface.png" class="screenshot" src="../_images/Data_Analysis_interface.png" style="width: 450px;" /></a>
</div>
<div class="section" id="action-buttons">
<h3><a class="toc-backref" href="#id7">Action Buttons</a><a class="headerlink" href="#action-buttons" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>?</dt>
<dd>Opens this help page.</dd>
<dt>Py</dt>
<dd>Exports a Python script which will replicate the processing done by the current tab.</dd>
<dt>Manage Directories</dt>
<dd>Opens the Manage Directories dialog allowing you to change your search directories
and default save directory and enable/disable data archive search.</dd>
</dl>
</div>
</div>
<div class="section" id="elwin">
<h2><a class="toc-backref" href="#id8">Elwin</a><a class="headerlink" href="#elwin" title="Permalink to this headline">¶</a></h2>
<p>Provides an interface for the <a class="reference internal" href="../algorithms/ElasticWindow-v1.html#algm-elasticwindow"><em>ElasticWindow</em></a>
algorithm, with the option of selecting the range to integrate over as well as
the background range. An on-screen plot is also provided.</p>
<p>For workspaces that have a sample log or have a sample log file available in the
Mantid data search paths that contains the sample environment information the
ELF workspace can also be normalised to the lowest temperature run in the range
of input files.</p>
<div class="figure">
<a class="screenshot reference internal image-reference" href="../_images/Data_Analysis_tabElwin_widget.png"><img alt="../_images/Data_Analysis_tabElwin_widget.png" class="screenshot" src="../_images/Data_Analysis_tabElwin_widget.png" style="width: 450px;" /></a>
</div>
<div class="section" id="options">
<h3><a class="toc-backref" href="#id9">Options</a><a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Input File</dt>
<dd>Specify a range of input files that are either reduced (<em>_red.nxs</em>) or
<img class="math" src="../_images/math/af385cf70e9aa29bed9ee6fc11c442d61c12f402.png" alt="S(Q, \omega)" style="vertical-align: -4px"/>.</dd>
<dt>Group Input</dt>
<dd>The <a class="reference internal" href="../algorithms/ElasticWindowMultiple-v1.html#algm-elasticwindowmultiple"><em>ElasticWindowMultiple</em></a> algorithm is performed on the input files and returns a group
workspace as the output. This option, if unchecked, will ungroup these output workspaces.</dd>
<dt>Load History</dt>
<dd>If unchecked the input workspace will be loaded without it&#8217;s history.</dd>
<dt>Integration Range</dt>
<dd>The energy range over which to integrate the values.</dd>
<dt>Background Subtraction</dt>
<dd>If checked a background will be calculated and subtracted from the raw data.</dd>
<dt>Background Range</dt>
<dd>The energy range over which a background is calculated which is subtracted from
the raw data.</dd>
<dt>Normalise to Lowest Temp</dt>
<dd>If checked the raw files will be normalised to the run with the lowest
temperature, to do this there must be a valid sample environment entry in the
sample logs for each of the input files.</dd>
<dt>SE log name</dt>
<dd>The name of the sample environment log entry in the input files sample logs
(defaults to ‘sample’).</dd>
<dt>SE log value</dt>
<dd>The value to be taken from the &#8220;SE log name&#8221; data series (defaults to the
specified value in the instrument parameters file, and in the absence of such
specification, defaults to &#8220;last value&#8221;)</dd>
<dt>Preview File</dt>
<dd>The workspace currently active in the preview plot.</dd>
<dt>Spectrum</dt>
<dd>Changes the spectrum displayed in the preview plot.</dd>
<dt>Plot Current Preview</dt>
<dd>Plots the currently selected preview plot in a separate external window</dd>
<dt>Run</dt>
<dd>Runs the processing configured on the current tab.</dd>
<dt>Plot Spectrum</dt>
<dd>If enabled it will plot the spectrum represented by the workspace index in the
neighbouring spin box. This workspace index is the index of the spectrum within the
workspace selected in the combobox.</dd>
<dt>Save Result</dt>
<dd>Saves the result in the default save directory.</dd>
</dl>
</div>
</div>
<div class="section" id="msd-fit">
<h2><a class="toc-backref" href="#id10">MSD Fit</a><a class="headerlink" href="#msd-fit" title="Permalink to this headline">¶</a></h2>
<p>Given either a saved NeXus file or workspace generated using the Elwin tab, this
tab fits <img class="math" src="../_images/math/5a7f5534dd8523ac0579dbe9d5ffe85788a69d4e.png" alt="intensity" style="vertical-align: -4px"/> vs. <img class="math" src="../_images/math/f59dd7fde255c3f2d4d4d2f0631914aa7604d031.png" alt="Q" style="vertical-align: -4px"/> with one of three functions for each
run specified to give the Mean Square Displacement (MSD). It then plots the MSD
as function of run number. This is done by means of the
<a class="reference internal" href="../algorithms/QENSFitSequential-v1.html#algm-qensfitsequential"><em>QENSFitSequential</em></a> algorithm.</p>
<p>MSDFit searches for the log files named &lt;runnumber&gt;_sample.txt in your chosen
raw file directory (the name ‘sample’ is for OSIRIS). These log files will exist
if the correct temperature was loaded using SE-log-name in the Elwin tab. If they
exist the temperature is read and the MSD is plotted versus temperature; if they do
not exist the MSD is plotted versus run number (last 3 digits).</p>
<p>The fitted parameters for all runs are in _msd_Table and the &lt;u2&gt; in _msd. To
run the Sequential fit a workspace named &lt;inst&gt;&lt;first-run&gt;_to_&lt;last-run&gt;_eq is
created of <img class="math" src="../_images/math/5a7f5534dd8523ac0579dbe9d5ffe85788a69d4e.png" alt="intensity" style="vertical-align: -4px"/> v. <img class="math" src="../_images/math/f59dd7fde255c3f2d4d4d2f0631914aa7604d031.png" alt="Q" style="vertical-align: -4px"/> for all runs. A contour or 3D plot of
this may be of interest.</p>
<p>A sequential fit is run by clicking the Run button at the bottom of the tab, a
single fit can be done using the Fit Single Spectrum button underneath the
preview plot.</p>
<p>The <a class="reference internal" href="../fitting/fitfunctions/MsdPeters.html#func-msdpeters"><em>Peters model</em></a> [1] reduces to a <a class="reference internal" href="../fitting/fitfunctions/MsdGauss.html#func-msdgauss"><em>Gaussian</em></a> at large
(towards infinity) beta. The <a class="reference internal" href="../fitting/fitfunctions/MsdYi.html#func-msdyi"><em>Yi Model</em></a> [2] reduces to a <a class="reference internal" href="../fitting/fitfunctions/MsdGauss.html#func-msdgauss"><em>Gaussian</em></a> at sigma
equal to zero.</p>
<div class="figure">
<a class="screenshot reference internal image-reference" href="../_images/Data_Analysis_tabMSD_widget.png"><img alt="../_images/Data_Analysis_tabMSD_widget.png" class="screenshot" src="../_images/Data_Analysis_tabMSD_widget.png" style="width: 450px;" /></a>
</div>
<div class="section" id="id1">
<h3><a class="toc-backref" href="#id11">Options</a><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Sample</dt>
<dd>A file with extension <em>_eq.nxs</em> that has been created using the Elwin tab with an <img class="math" src="../_images/math/86e784d473f5fc5713b6ad4bea7af624b76966c2.png" alt="x" style="vertical-align: 0px"/> axis of
<img class="math" src="../_images/math/f59dd7fde255c3f2d4d4d2f0631914aa7604d031.png" alt="Q" style="vertical-align: -4px"/>. Alternatively, a workspace may be provided.</dd>
<dt>Single Input/Multiple Input</dt>
<dd>Choose between loading a single workspace or multiple workspaces.</dd>
<dt>Function Browser</dt>
<dd>This is used to decide the details of your fit including the fit type and minimizer used. It is
possible to un-dock this browser.</dd>
<dt>Mini Plots</dt>
<dd>The top plot displays the sample data, guess and fit. The bottom plot displays the difference between
the sample data and fit. It is possible to un-dock these plots.</dd>
<dt>Plot Spectrum</dt>
<dd>Changes the spectrum displayed in the mini plots.</dd>
<dt>Fit Single Spectrum</dt>
<dd>This will Fit a single spectrum selected by the neighboring Plot Spectrum spinbox.</dd>
<dt>Plot Current Preview</dt>
<dd>Plots the currently selected preview plot in a separate external window</dd>
<dt>Plot Guess</dt>
<dd>This will a plot a guess of your fit based on the information selected in the Function Browser.</dd>
<dt>Fit Spectra</dt>
<dd>Choose a range or discontinuous list of spectra to be fitted.</dd>
<dt>Mask X Range</dt>
<dd>Energy ranges may be excluded from a fit by selecting a spectrum next to the ‘Mask X Range of Spectrum’ label
and then providing a comma-separated list of pairs, where each pair designates a range to exclude from the fit.</dd>
<dt>Run</dt>
<dd>Runs the processing configured on the current tab.</dd>
<dt>Plot</dt>
<dd>Plots the selected parameter stored in the result workspace.</dd>
<dt>Save Result</dt>
<dd>Saves the workspaces from the <em>_Results</em> group workspace in the default save directory.</dd>
</dl>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">Common options are detailed in the <a class="reference internal" href="#qens-fitting-features"><em>QENS Fitting Interfaces Features</em></a> section.</p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">Sequential fitting is available, options are detailed in the <a class="reference internal" href="#sequential-fitting-section"><em>Sequential Fitting</em></a> section.</p>
</div>
</div>
</div>
<div class="section" id="i-q-t">
<h2><a class="toc-backref" href="#id12">I(Q, t)</a><a class="headerlink" href="#i-q-t" title="Permalink to this headline">¶</a></h2>
<p>Given sample and resolution inputs, carries out a fit as per the theory detailed
in the <a class="reference internal" href="../algorithms/TransformToIqt-v1.html#algm-transformtoiqt"><em>TransformToIqt</em></a> algorithm.</p>
<div class="figure">
<a class="screenshot reference internal image-reference" href="../_images/Data_Analysis_tabIqt_widget.png"><img alt="../_images/Data_Analysis_tabIqt_widget.png" class="screenshot" src="../_images/Data_Analysis_tabIqt_widget.png" style="width: 450px;" /></a>
</div>
<div class="section" id="id2">
<h3><a class="toc-backref" href="#id13">Options</a><a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Sample</dt>
<dd>Either a reduced file (<em>_red.nxs</em>) or workspace (<em>_red</em>) or an <img class="math" src="../_images/math/a541d552e98780191bbfcbce2f098e20c42e8abb.png" alt="S(Q,
\omega)" style="vertical-align: -4px"/> file (<em>_sqw.nxs</em>) or workspace (<em>_sqw</em>).</dd>
<dt>Resolution</dt>
<dd>Either a resolution file (_res.nxs) or workspace (_res) or an <img class="math" src="../_images/math/a541d552e98780191bbfcbce2f098e20c42e8abb.png" alt="S(Q,
\omega)" style="vertical-align: -4px"/> file (<em>_sqw.nxs</em>) or workspace (<em>_sqw</em>).</dd>
<dt>ELow, EHigh</dt>
<dd>The rebinning range.</dd>
<dt>SampleBinning</dt>
<dd>The number of neighbouring bins are summed.</dd>
<dt>Plot Current Preview</dt>
<dd>Plots the currently selected preview plot in a separate external window</dd>
<dt>Calculate Errors</dt>
<dd>The calculation of errors using a Monte Carlo implementation can be skipped by unchecking
this option.</dd>
<dt>Number Of Iterations</dt>
<dd>The number of iterations to perform in the Monte Carlo routine for error calculation
in I(Q,t).</dd>
<dt>Run</dt>
<dd>Runs the processing configured on the current tab.</dd>
<dt>Plot Spectrum</dt>
<dd>If enabled will plot the spectrum selected by the neighbouring spinbox.</dd>
<dt>Tiled Plot</dt>
<dd>Produces a tiled plot of spectra included within the range for the output workspaces
generated. There is a maximum of 18 spectra allowed for a tiled plot.</dd>
<dt>Save Result</dt>
<dd>Saves the result workspace in the default save directory.</dd>
</dl>
</div>
<div class="section" id="a-note-on-binning">
<h3><a class="toc-backref" href="#id14">A note on Binning</a><a class="headerlink" href="#a-note-on-binning" title="Permalink to this headline">¶</a></h3>
<p>The bin width is determined by the energy range and the sample binning factor. The number of bins is automatically
calculated based on the <strong>SampleBinning</strong> specified. The width is determined by the width of the range divided
by the number of bins.</p>
<p>The following binning parameters are not enterable by the user and are instead automatically calculated through
the <a class="reference internal" href="../algorithms/TransformToIqt-v1.html#algm-transformtoiqt"><em>TransformToIqt</em></a> algorithm once a valid resolution file has been loaded. The calculated
binning parameters are displayed alongside the binning options:</p>
<dl class="docutils">
<dt>EWidth</dt>
<dd>The calculated bin width.</dd>
<dt>SampleBins</dt>
<dd>The number of bins in the sample after rebinning.</dd>
<dt>ResolutionBins</dt>
<dd>The number of bins in the resolution after rebinning. Typically this should be at
least 5 and a warning will be shown if it is less.</dd>
</dl>
</div>
</div>
<div class="section" id="i-q-t-fit">
<h2><a class="toc-backref" href="#id15">I(Q, t) Fit</a><a class="headerlink" href="#i-q-t-fit" title="Permalink to this headline">¶</a></h2>
<p>I(Q, t) Fit provides a simplified interface for controlling various fitting
functions (see the <a class="reference internal" href="../algorithms/Fit-v1.html#algm-fit"><em>Fit</em></a> algorithm for more info). The functions
are also available via the fit wizard.</p>
<p>The fit types available for use in IqtFit are <a class="reference internal" href="../fitting/fitfunctions/ExpDecay.html#func-expdecay"><em>Exponentials</em></a> and
<a class="reference internal" href="../fitting/fitfunctions/StretchExp.html#func-stretchexp"><em>Stretched Exponential</em></a>.</p>
<div class="figure">
<a class="screenshot reference internal image-reference" href="../_images/Data_Analysis_tabIqtFit_widget.png"><img alt="../_images/Data_Analysis_tabIqtFit_widget.png" class="screenshot" src="../_images/Data_Analysis_tabIqtFit_widget.png" style="width: 450px;" /></a>
</div>
<div class="section" id="id3">
<h3><a class="toc-backref" href="#id16">Options</a><a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Sample</dt>
<dd>Either a file (<em>_iqt.nxs</em>) or workspace (<em>_iqt</em>) that has been created using
the Iqt tab.</dd>
<dt>Single Input/Multiple Input</dt>
<dd>Choose between loading a single workspace or multiple workspaces.</dd>
<dt>Function Browser</dt>
<dd>This is used to decide the details of your fit including the fit type and minimizer used. Further options
are seen below. It is possible to un-dock this browser.</dd>
<dt>Constrain Intensities</dt>
<dd>Check to ensure that the sum of the background and intensities is always equal
to 1.</dd>
<dt>Make Beta Global</dt>
<dd>Check to use a multi-domain fitting function with the value of beta
constrained - the <a class="reference internal" href="../algorithms/IqtFitSimultaneous-v1.html#algm-iqtfitsimultaneous"><em>IqtFitSimultaneous</em></a> will be
used to perform this fit.</dd>
<dt>Extract Members</dt>
<dd>If checked, each individual member of the fit (e.g. exponential functions), will
be extracted.</dd>
<dt>Mini Plots</dt>
<dd>The top plot displays the sample data, guess and fit. The bottom plot displays the difference between
the sample data and fit. It is possible to un-dock these plots.</dd>
<dt>Plot Spectrum</dt>
<dd>Changes the spectrum displayed in the mini plots.</dd>
<dt>Fit Single Spectrum</dt>
<dd>This will Fit a single spectrum selected by the neighboring Plot Spectrum spinbox.</dd>
<dt>Plot Current Preview</dt>
<dd>Plots the currently selected preview plot in a separate external window</dd>
<dt>Plot Guess</dt>
<dd>This will a plot a guess of your fit based on the information selected in the Function Browser.</dd>
<dt>Fit Spectra</dt>
<dd>Choose a range or discontinuous list of spectra to be fitted.</dd>
<dt>Mask X Range</dt>
<dd>Energy ranges may be excluded from a fit by selecting a spectrum next to the ‘Mask X Range of Spectrum’ label
and then providing a comma-separated list of pairs, where each pair designates a range to exclude from the fit.</dd>
<dt>Run</dt>
<dd>Runs the processing configured on the current tab.</dd>
<dt>Plot</dt>
<dd>Plots the selected parameter stored in the result (or PDF) workspace.</dd>
<dt>Edit Result</dt>
<dd>Allows you to replace values within your <em>_Results</em> workspace using the <a class="reference internal" href="../algorithms/IndirectReplaceFitResult-v1.html#algm-indirectreplacefitresult"><em>IndirectReplaceFitResult</em></a>
algorithm. See below for more detail.</dd>
<dt>Save Result</dt>
<dd>Saves the workspaces from the <em>_Results</em> group workspace in the default save directory.</dd>
</dl>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">Common options are detailed in the <a class="reference internal" href="#qens-fitting-features"><em>QENS Fitting Interfaces Features</em></a> section.</p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">Sequential fitting is available, options are detailed in the <a class="reference internal" href="#sequential-fitting-section"><em>Sequential Fitting</em></a> section.</p>
</div>
</div>
</div>
<div class="section" id="conv-fit">
<h2><a class="toc-backref" href="#id17">Conv Fit</a><a class="headerlink" href="#conv-fit" title="Permalink to this headline">¶</a></h2>
<p>ConvFit provides a simplified interface for controlling
various fitting functions (see the <a class="reference internal" href="../algorithms/Fit-v1.html#algm-fit"><em>Fit</em></a> algorithm for more
info). The functions are also available via the fit wizard.</p>
<p>Additionally, in the bottom-right of the interface there are options for doing a
sequential fit. This is where the program loops through each spectrum in the
input workspace, using the fitted values from the previous spectrum as input
values for fitting the next. This is done by means of the
<a class="reference internal" href="../algorithms/ConvolutionFitSequential-v1.html#algm-convolutionfitsequential"><em>ConvolutionFitSequential</em></a> algorithm.</p>
<p>A sequential fit is run by clicking the Run button at the bottom of the tab, a
single fit can be done using the Fit Single Spectrum button underneath the
preview plot.</p>
<p>The fit types available in ConvFit are One <a class="reference internal" href="../fitting/fitfunctions/Lorentzian.html#func-lorentzian"><em>Lorentzian</em></a>, Two Lorentzian,
<a class="reference internal" href="../fitting/fitfunctions/TeixeiraWaterSQE.html#func-teixeirawatersqe"><em>TeixeiraWater (SQE)</em></a>, <a class="reference internal" href="../fitting/fitfunctions/InelasticDiffSphere.html#func-inelasticdiffsphere"><em>InelasticDiffSphere</em></a>,
<a class="reference internal" href="../fitting/fitfunctions/InelasticDiffRotDiscreteCircle.html#func-inelasticdiffrotdiscretecircle"><em>InelasticDiffRotDiscreteCircle</em></a>, <a class="reference internal" href="../fitting/fitfunctions/ElasticDiffSphere.html#func-elasticdiffsphere"><em>ElasticDiffSphere</em></a>,
<a class="reference internal" href="../fitting/fitfunctions/ElasticDiffRotDiscreteCircle.html#func-elasticdiffrotdiscretecircle"><em>ElasticDiffRotDiscreteCircle</em></a> and <a class="reference internal" href="../fitting/fitfunctions/StretchedExpFT.html#func-stretchedexpft"><em>StretchedExpFT</em></a>.</p>
<div class="figure">
<a class="screenshot reference internal image-reference" href="../_images/Data_Analysis_tabConvFit_widget.png"><img alt="../_images/Data_Analysis_tabConvFit_widget.png" class="screenshot" src="../_images/Data_Analysis_tabConvFit_widget.png" style="width: 450px;" /></a>
</div>
<div class="section" id="id4">
<h3><a class="toc-backref" href="#id18">Options</a><a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">Common options are detailed in the <a class="reference internal" href="#qens-fitting-features"><em>QENS Fitting Interfaces Features</em></a> section.</p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">Sequential fitting is available, options are detailed in the <a class="reference internal" href="#sequential-fitting-section"><em>Sequential Fitting</em></a> section.</p>
</div>
<dl class="docutils">
<dt>Sample</dt>
<dd>Either a reduced file (<em>_red.nxs</em>) or workspace (<em>_red</em>) or an <img class="math" src="../_images/math/a541d552e98780191bbfcbce2f098e20c42e8abb.png" alt="S(Q,
\omega)" style="vertical-align: -4px"/> file (<em>_sqw.nxs</em>, <em>_sqw.dave</em>) or workspace (<em>_sqw</em>).</dd>
<dt>Resolution</dt>
<dd>Either a resolution file (_res.nxs) or workspace (_res) or an <img class="math" src="../_images/math/a541d552e98780191bbfcbce2f098e20c42e8abb.png" alt="S(Q,
\omega)" style="vertical-align: -4px"/> file (<em>_sqw.nxs</em>, <em>_sqw.dave</em>) or workspace (<em>_sqw</em>).</dd>
<dt>Single Input/Multiple Input</dt>
<dd>Choose between loading a single workspace or multiple workspaces.</dd>
<dt>Function Browser</dt>
<dd>This is used to decide the details of your fit including the fit type and minimizer used. Further options
are seen below. It is possible to un-dock this browser.</dd>
<dt>Use Delta Function</dt>
<dd>Found under &#8216;Custom Function Groups&#8217;. Enables use of a delta function.</dd>
<dt>Extract Members</dt>
<dd>If checked, each individual member of the fit (e.g. exponential functions), will
be extracted into a &lt;result_name&gt;_Members group workspace.</dd>
<dt>Use Temperature Correction</dt>
<dd>Adds the custom user function for temperature correction to the fit function.</dd>
<dt>Background Options</dt>
<dd>Flat Background: Adds a flat background to the composite fit function. Linear Background: Adds a linear
background to the composite fit function.</dd>
<dt>Mini Plots</dt>
<dd>The top plot displays the sample data, guess and fit. The bottom plot displays the difference between
the sample data and fit. It is possible to un-dock these plots.</dd>
<dt>Plot Spectrum</dt>
<dd>Changes the spectrum displayed in the mini plots.</dd>
<dt>Fit Single Spectrum</dt>
<dd>This will Fit a single spectrum selected by the neighboring Plot Spectrum spinbox.</dd>
<dt>Plot Current Preview</dt>
<dd>Plots the currently selected preview plot in a separate external window</dd>
<dt>Plot Guess</dt>
<dd>This will a plot a guess of your fit based on the information selected in the Function Browser.</dd>
<dt>Fit Spectra</dt>
<dd>Choose a range or discontinuous list of spectra to be fitted.</dd>
<dt>Mask X Range</dt>
<dd>Energy ranges may be excluded from a fit by selecting a spectrum next to the ‘Mask X Range of Spectrum’ label
and then providing a comma-separated list of pairs, where each pair designates a range to exclude from the fit.</dd>
<dt>Run</dt>
<dd>Runs the processing configured on the current tab.</dd>
<dt>Plot</dt>
<dd>Plots the selected parameter stored in the result (or PDF) workspace.</dd>
<dt>Edit Result</dt>
<dd>Allows you to replace values within your <em>_Results</em> workspace using the <a class="reference internal" href="../algorithms/IndirectReplaceFitResult-v1.html#algm-indirectreplacefitresult"><em>IndirectReplaceFitResult</em></a>
algorithm. See below for more detail.</dd>
<dt>Save Result</dt>
<dd>Saves the workspaces from the <em>_Results</em> group workspace in the default save directory.</dd>
</dl>
</div>
<div class="section" id="theory">
<h3><a class="toc-backref" href="#id19">Theory</a><a class="headerlink" href="#theory" title="Permalink to this headline">¶</a></h3>
<p>For more on the theory of Conv Fit see the <a class="reference internal" href="../concepts/ConvFit.html#convfitconcept"><em>Conv Fit</em></a> concept page.</p>
</div>
</div>
<div class="section" id="f-q-fit">
<h2><a class="toc-backref" href="#id20">F(Q) Fit</a><a class="headerlink" href="#f-q-fit" title="Permalink to this headline">¶</a></h2>
<p>One of the models used to interpret diffusion is that of jump diffusion in which
it is assumed that an atom remains at a given site for a time <img class="math" src="../_images/math/b79a01e33f913a8a3fe481a0620182003a0d9c3c.png" alt="\tau" style="vertical-align: 0px"/>; and
then moves rapidly, that is, in a time negligible compared to <img class="math" src="../_images/math/b79a01e33f913a8a3fe481a0620182003a0d9c3c.png" alt="\tau" style="vertical-align: 0px"/>.</p>
<p>This interface can be used for a jump diffusion fit as well as fitting across
EISF. This is done by means of the
<a class="reference internal" href="../algorithms/QENSFitSequential-v1.html#algm-qensfitsequential"><em>QENSFitSequential</em></a> algorithm.</p>
<p>The fit types available in F(Q)Fit are <a class="reference internal" href="../fitting/fitfunctions/ChudleyElliot.html#func-chudleyelliot"><em>ChudleyElliot</em></a>, <a class="reference internal" href="../fitting/fitfunctions/HallRoss.html#func-hall-ross"><em>HallRoss</em></a>,
<a class="reference internal" href="../fitting/fitfunctions/FickDiffusion.html#func-fickdiffusion"><em>FickDiffusion</em></a>, <a class="reference internal" href="../fitting/fitfunctions/TeixeiraWater.html#func-teixeirawater"><em>TeixeiraWater</em></a>, <a class="reference internal" href="../fitting/fitfunctions/EISFDiffCylinder.html#func-eisfdiffcylinder"><em>EISFDiffCylinder</em></a>,
<a class="reference internal" href="../fitting/fitfunctions/EISFDiffSphere.html#func-eisfdiffsphere"><em>EISFDiffSphere</em></a> and <a class="reference internal" href="../fitting/fitfunctions/EISFDiffSphereAlkyl.html#func-eisfdiffspherealkyl"><em>EISFDiffSphereAlkyl</em></a>.</p>
<div class="figure">
<a class="screenshot reference internal image-reference" href="../_images/Data_Analysis_tabJumpFit_widget.png"><img alt="../_images/Data_Analysis_tabJumpFit_widget.png" class="screenshot" src="../_images/Data_Analysis_tabJumpFit_widget.png" style="width: 450px;" /></a>
</div>
<div class="section" id="id5">
<h3><a class="toc-backref" href="#id21">Options</a><a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Sample</dt>
<dd>A sample workspace created with either ConvFit or Quasi.</dd>
<dt>Single Input/Multiple Input</dt>
<dd>Choose between loading a single workspace or multiple workspaces.</dd>
<dt>Fit Parameter</dt>
<dd>This allows you to select the type of parameter displayed in the neighbouring combobox to its right (see option below).
The allowed types are &#8216;Width&#8217; and &#8216;EISF&#8217;. Changing this combobox will also change the available Fit types in the Function
Browser.</dd>
<dt>Width/EISF</dt>
<dd>Next to the &#8216;Fit Parameter&#8217; menu, will be either a &#8216;Width&#8217; or &#8216;EISF&#8217; menu, depending on which was selected.
This menu can be used to select the specific width/EISF parameter to be fit. Selecting one of these parameters will automatically
set the active spectrum index of the loaded workspace in which this parameter is located.</dd>
<dt>Function Browser</dt>
<dd>This is used to decide the details of your fit including the fit type and minimizer used. Further options
are seen below. It is possible to un-dock this browser.</dd>
<dt>Mini Plots</dt>
<dd>The top plot displays the sample data, guess and fit. The bottom plot displays the difference between
the sample data and fit. It is possible to un-dock these plots.</dd>
<dt>Plot Spectrum</dt>
<dd>Changes the spectrum displayed in the mini plots.</dd>
<dt>Fit Single Spectrum</dt>
<dd>This will Fit a single spectrum selected by the neighboring Plot Spectrum spinbox.</dd>
<dt>Plot Current Preview</dt>
<dd>Plots the currently selected preview plot in a separate external window</dd>
<dt>Plot Guess</dt>
<dd>This will a plot a guess of your fit based on the information selected in the Function Browser.</dd>
<dt>Fit Spectra</dt>
<dd>Choose a range or discontinuous list of spectra to be fitted.</dd>
<dt>Mask X Range</dt>
<dd>Energy ranges may be excluded from a fit by selecting a spectrum next to the ‘Mask X Range of Spectrum’ label
and then providing a comma-separated list of pairs, where each pair designates a range to exclude from the fit.</dd>
<dt>Run</dt>
<dd>Runs the processing configured on the current tab.</dd>
<dt>Plot</dt>
<dd>Plots the selected parameter stored in the result workspace.</dd>
<dt>Save Result</dt>
<dd>Saves the workspaces from the <em>_Results</em> group workspace in the default save directory.</dd>
</dl>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">Common options are detailed in the <a class="reference internal" href="#qens-fitting-features"><em>QENS Fitting Interfaces Features</em></a> section.</p>
</div>
</div>
</div>
<div class="section" id="qens-fitting-interfaces-features">
<span id="qens-fitting-features"></span><h2><a class="toc-backref" href="#id22">QENS Fitting Interfaces Features</a><a class="headerlink" href="#qens-fitting-interfaces-features" title="Permalink to this headline">¶</a></h2>
<p>There are four QENS fitting interfaces:</p>
<ul class="simple">
<li>MSD Fit</li>
<li>I(Q,t) Fit,</li>
<li>Conv Fit</li>
<li>F(Q)</li>
</ul>
<p>These fitting interfaces share common features, with a few unique options in each.</p>
<div class="section" id="single-multiple-input">
<h3><a class="toc-backref" href="#id23">Single &amp; Multiple Input</a><a class="headerlink" href="#single-multiple-input" title="Permalink to this headline">¶</a></h3>
<p>Each interface provides the option to choose between selecting one or multiple data files to be fit.
The selected mode can be changed by clicking either the &#8216;Single Input&#8217; tab or &#8216;Multiple Input&#8217; tab at the the top
of the interface to switch between selecting one or multiple data files respectively.
Data may either be provided as a file, or selected from workspaces which have already been loaded.</p>
<p>When selecting &#8216;Multiple Input&#8217;, a table along with two buttons &#8216;Add Workspace&#8217; and &#8216;Remove&#8217; will be displayed.
Clicking &#8216;Add Workspace&#8217; will allow you to add a new data-set to be fit (this will bring up a menu allowing you
to select a file/workspace and the spectra to load). Once data has been loaded, it will be displayed in the table.
Highlighting data in the table and selecting &#8216;Remove&#8217; will allow you to remove data from the fit. Above the preview
plots will be a drop-down menu with which you can select the active data-set, which will be shown in the plots.</p>
</div>
<div class="section" id="custom-function-groups">
<h3><a class="toc-backref" href="#id24">Custom Function Groups</a><a class="headerlink" href="#custom-function-groups" title="Permalink to this headline">¶</a></h3>
<p>Under &#8216;Custom Function Groups&#8217;, you will find utility options for quick selection of common fit functions, specific
to each fitting interface.</p>
<p>The &#8216;Fit Type&#8217; drop-down menu will be available here in each of the QENS fitting interfaces &#8211; which is useful for
selecting common fit functions but not mandatory.</p>
</div>
<div class="section" id="fitting-range">
<h3><a class="toc-backref" href="#id25">Fitting Range</a><a class="headerlink" href="#fitting-range" title="Permalink to this headline">¶</a></h3>
<p>Under &#8216;Fitting Range&#8217;, you may select the start and end <img class="math" src="../_images/math/86e784d473f5fc5713b6ad4bea7af624b76966c2.png" alt="x" style="vertical-align: 0px"/>-values (&#8216;StartX&#8217; and &#8216;EndX&#8217;) to be used in the fit.</p>
</div>
<div class="section" id="functions">
<h3><a class="toc-backref" href="#id26">Functions</a><a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h3>
<p>Under &#8216;Functions&#8217;, you can view the selected model and associated parameters as well as make modifications.
Right-clicking on &#8216;Functions&#8217; and selecting &#8216;Add Function&#8217; will allow you to add any function from Mantid&#8217;s library
of fitting functions. It is also possible to right-click on a composite function and select &#8216;Add Function&#8217; to add a
function to the composite.</p>
<p>Parameters may be tied by right-clicking on a parameter and selecting either &#8216;Tie &gt; To Function&#8217; when creating a tie
to a parameter of the same name in a different function or by selecting &#8216;Tie &gt; Custom Tie&#8217; to tie to parameters of
different names and for providing mathematical expressions. Parameters can be constrained by right-clicking and
using the available options under &#8216;Constrain&#8217;.</p>
<p>Upon performing a fit, the parameter values will be updated here to display the result of the fit for the selected
spectrum.</p>
</div>
<div class="section" id="settings">
<h3><a class="toc-backref" href="#id27">Settings</a><a class="headerlink" href="#settings" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Minimizer</dt>
<dd>The minimizer which will be used in the fit (defaults to Levenberg-Marquadt).</dd>
<dt>Ignore invalid data</dt>
<dd>Whether to ignore invalid (infinity/NaN) values when performing the fit.</dd>
<dt>Cost function</dt>
<dd>The cost function to be used in the fit (defaults to Least Squares).</dd>
<dt>Max Iterations</dt>
<dd>The maximum number of iterations used to perform the fit of each spectrum.</dd>
</dl>
</div>
<div class="section" id="preview-plots">
<h3><a class="toc-backref" href="#id28">Preview Plots</a><a class="headerlink" href="#preview-plots" title="Permalink to this headline">¶</a></h3>
<p>Two preview plots are included in each of the fitting interfaces. The top preview plot displays the sample, guess
and fit curves. The bottom preview plot displays the difference curve.</p>
<p>The preview plots will display the curves for the selected spectrum (&#8216;Plot Spectrum&#8217;) of the selected data-set
(when in multiple input mode, a drop-down menu will be available above the plots to select the active data-set).</p>
<p>The &#8216;Plot Spectrum&#8217; option can be used to select the active/displayed spectrum.</p>
<p>A button labelled &#8216;Fit Single Spectrum&#8217; is found under the preview plots and can be used to perform a fit of the
selected specturm.</p>
<p>&#8216;Plot Current Preview&#8217; can be used to plot the sample, fit and difference curves of the selected spectrum in
a separate plotting window.</p>
<p>The &#8216;Plot Guess&#8217; check-box can be used to enable/disable the guess curve in the top preview plot.</p>
</div>
<div class="section" id="output">
<h3><a class="toc-backref" href="#id29">Output</a><a class="headerlink" href="#output" title="Permalink to this headline">¶</a></h3>
<p>The results of the fit may be plotted and saved under the &#8216;Output&#8217; section of the fitting interfaces.</p>
<p>Next to the &#8216;Plot&#8217; label, you can select a parameter to plot and then click &#8216;Plot&#8217; to plot it with error
bars across the fit spectra (if multiple data-sets have been used, a separate plot will be produced for each data-set).
The &#8216;Plot Output&#8217; options will be disabled after a fit if there is only one data point for the parameters.</p>
<p>During a sequential fit, the parameters calculated for one spectrum become the start parameters for the next spectrum to be fitted.
Although this normally yields better parameter values for the later spectra, it can also lead to poorly fitted parameters if the
next spectrum is not &#8216;related&#8217; to the previous spectrum. It may be useful to replace this poorly fitted spectrum with the results
from a single fit using the &#8216;Edit Result&#8217; option.
Clicking the &#8216;Edit Result&#8217; button will allow you to modify the data within your <em>_Results</em> workspace using results
produced from a singly fit spectrum. See the algorithm <a class="reference internal" href="../algorithms/IndirectReplaceFitResult-v1.html#algm-indirectreplacefitresult"><em>IndirectReplaceFitResult</em></a>.</p>
<p>Clicking the &#8216;Save Result&#8217; button will save the result of the fit to your default save location.</p>
</div>
</div>
<div class="section" id="bayesian-fabada-minimizer">
<h2><a class="toc-backref" href="#id30">Bayesian (FABADA minimizer)</a><a class="headerlink" href="#bayesian-fabada-minimizer" title="Permalink to this headline">¶</a></h2>
<p>There is the option to perform Bayesian data analysis on the I(Q, t) Fit ConvFit
tabs on this interface by using the <a class="reference internal" href="../concepts/FABADA.html#fabada"><em>FABADA</em></a> fitting minimizer, however in
order to to use this you will need to use better starting parameters than the
defaults provided by the interface.</p>
<p>You may also experience issues where the starting parameters may give a reliable
fit on one spectra but not others, in this case the best option is to reduce
the number of spectra that are fitted in one operation.</p>
<p>In both I(Q, t) Fit and ConvFit the following options are available when fitting
using FABADA:</p>
<dl class="docutils">
<dt>Output Chain</dt>
<dd>Select to enable output of the FABADA chain when using FABADA as the fitting
minimizer.</dd>
<dt>Chain Length</dt>
<dd>Number of further steps carried out by fitting algorithm once parameters have
converged (see <em>ChainLength</em> is <a class="reference internal" href="../concepts/FABADA.html#fabada"><em>FABADA</em></a> documentation)</dd>
<dt>Convergence Criteria</dt>
<dd>The minimum variation in the cost function before the parameters are
considered to have converged (see <em>ConvergenceCriteria</em> in <a class="reference internal" href="../concepts/FABADA.html#fabada"><em>FABADA</em></a>
documentation)</dd>
<dt>Acceptance Rate</dt>
<dd>The desired percentage acceptance of new parameters (see <em>JumpAcceptanceRate</em>
in <a class="reference internal" href="../concepts/FABADA.html#fabada"><em>FABADA</em></a> documentation)</dd>
</dl>
<p>The FABADA minimizer can output a PDF group workspace when the PDF option is ticked. If this happens,
then it is possible to plot this PDF data using the output options at the bottom of the tabs.</p>
</div>
<div class="section" id="sequential-fitting">
<span id="sequential-fitting-section"></span><h2><a class="toc-backref" href="#id31">Sequential Fitting</a><a class="headerlink" href="#sequential-fitting" title="Permalink to this headline">¶</a></h2>
<p>Three of the fitting interfaces allow sequential fitting of several spectra:</p>
<ul class="simple">
<li>MSD Fit</li>
<li>I(Q, T) Fit</li>
<li>ConvFit</li>
</ul>
<p>At the bottom of the interface there are options for doing a
sequential fit. This is where the program loops through each spectrum in the
input workspace, using the fitted values from the previous spectrum as input
values for fitting the next. This is done by means of the
<a class="reference internal" href="../algorithms/IqtFitSequential-v1.html#algm-iqtfitsequential"><em>IqtFitSequential</em></a> algorithm.</p>
<p>A sequential fit is run by clicking the Run button seen just above the output
options, a single fit can be done using the Fit Single Spectrum button underneath
the preview plot.</p>
<div class="section" id="spectrum-selection">
<h3><a class="toc-backref" href="#id32">Spectrum Selection</a><a class="headerlink" href="#spectrum-selection" title="Permalink to this headline">¶</a></h3>
<p>Below the preview plots, the spectra to be fit can be selected. The &#8216;Fit Spectra&#8217; drop-down menu allows for
selecting either &#8216;Range&#8217; or &#8216;String&#8217;. If &#8216;Range&#8217; is selected, you are able to select a range of spectra to fit by
providing the upper and lower bounds. If &#8216;String&#8217; is selected you can provide the spectra to fit in a text form.
When selecting spectra using text, you can use &#8216;-&#8216; to identify a range and &#8216;,&#8217; to separate each spectrum/range.</p>
<p><img class="math" src="../_images/math/6b20f2302d5e3b4b32a7cd8bfb55204e21b36aed.png" alt="X" style="vertical-align: 0px"/>-Ranges may be excluded from the fit by selecting a spectrum next to the &#8216;Mask Bins of Spectrum&#8217; label and
then providing a comma-separated list of pairs, where each pair designates a range to exclude from the fit.</p>
</div>
</div>
<div class="section" id="convfit-fitting-model">
<h2><a class="toc-backref" href="#id33">ConvFit fitting model</a><a class="headerlink" href="#convfit-fitting-model" title="Permalink to this headline">¶</a></h2>
<p>The model used to perform fitting in ConvFit is described in the following tree, note that
everything under the Model section is optional and determined by the <em>Fit Type</em>
and <em>Use Delta Function</em> options in the interface.</p>
<ul class="simple">
<li><a class="reference internal" href="../fitting/fitfunctions/CompositeFunction.html#func-compositefunction"><em>CompositeFunction</em></a><ul>
<li><a class="reference internal" href="../fitting/fitfunctions/LinearBackground.html#func-linearbackground"><em>LinearBackground</em></a></li>
<li><a class="reference internal" href="../fitting/fitfunctions/Convolution.html#func-convolution"><em>Convolution</em></a><ul>
<li>Resolution</li>
<li>Model (<a class="reference internal" href="../fitting/fitfunctions/CompositeFunction.html#func-compositefunction"><em>CompositeFunction</em></a>)<ul>
<li>DeltaFunction</li>
<li><a class="reference internal" href="../fitting/fitfunctions/ProductFunction.html#func-productfunction"><em>ProductFunction</em></a> (One Lorentzian)<ul>
<li><a class="reference internal" href="../fitting/fitfunctions/Lorentzian.html#func-lorentzian"><em>Lorentzian</em></a></li>
<li>Temperature Correction</li>
</ul>
</li>
<li><a class="reference internal" href="../fitting/fitfunctions/ProductFunction.html#func-productfunction"><em>ProductFunction</em></a> (Two Lorentzians)<ul>
<li><a class="reference internal" href="../fitting/fitfunctions/Lorentzian.html#func-lorentzian"><em>Lorentzian</em></a></li>
<li>Temperature Correction</li>
</ul>
</li>
<li><a class="reference internal" href="../fitting/fitfunctions/ProductFunction.html#func-productfunction"><em>ProductFunction</em></a> (InelasticDiffSphere)<ul>
<li><a class="reference internal" href="../fitting/fitfunctions/DiffSphere.html#func-diffsphere"><em>Inelastic Diff Sphere</em></a></li>
<li>Temperature Correction</li>
</ul>
</li>
<li><a class="reference internal" href="../fitting/fitfunctions/ProductFunction.html#func-productfunction"><em>ProductFunction</em></a> (InelasticDiffRotDiscreteCircle)<ul>
<li><a class="reference internal" href="../fitting/fitfunctions/DiffRotDiscreteCircle.html#func-diffrotdiscretecircle"><em>Inelastic Diff Rot Discrete Circle</em></a></li>
<li>Temperature Correction</li>
</ul>
</li>
<li><a class="reference internal" href="../fitting/fitfunctions/ProductFunction.html#func-productfunction"><em>ProductFunction</em></a> (ElasticDiffSphere)<ul>
<li><a class="reference internal" href="../fitting/fitfunctions/DiffSphere.html#func-diffsphere"><em>Elastic Diff Sphere</em></a></li>
<li>Temperature Correction</li>
</ul>
</li>
<li><a class="reference internal" href="../fitting/fitfunctions/ProductFunction.html#func-productfunction"><em>ProductFunction</em></a> (ElasticDiffRotDiscreteCircle)<ul>
<li><a class="reference internal" href="../fitting/fitfunctions/DiffRotDiscreteCircle.html#func-diffrotdiscretecircle"><em>Elastic Diff Rot Discrete Circle</em></a></li>
<li>Temperature Correction</li>
</ul>
</li>
<li><a class="reference internal" href="../fitting/fitfunctions/ProductFunction.html#func-productfunction"><em>ProductFunction</em></a> (StretchedExpFT)<ul>
<li><a class="reference internal" href="../fitting/fitfunctions/StretchedExpFT.html#func-stretchedexpft"><em>StretchedExpFT</em></a></li>
<li>Temperature Correction</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>The Temperature Correction is a <a class="reference internal" href="../fitting/fitfunctions/UserFunction.html#func-userfunction"><em>UserFunction</em></a> with the
formula <img class="math" src="../_images/math/c5d3fa457c0e479f4f1e023e47acac650dab357b.png" alt="((x * 11.606) / T) / (1 - exp(-((x * 11.606) / T)))" style="vertical-align: -5px"/> where
<img class="math" src="../_images/math/5830b1441ec19bff0c7f338ee28ccd12654c1f69.png" alt="T" style="vertical-align: 0px"/> is the temperature in Kelvin.</p>
<p><strong>References</strong></p>
<ol class="arabic simple">
<li>Peters &amp; Kneller, Journal of Chemical Physics, 139, 165102 (2013)</li>
<li>Yi et al, J Phys Chem B 116, 5028 (2012)</li>
</ol>
<p><strong>Categories</strong>: <a class="reference external" href="categories/Interfaces.html">Interfaces</a> | <a class="reference external" href="categories/Indirect.html">Indirect</a></p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="Indirect Corrections.html" title="Previous Chapter: Indirect Corrections"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Indirect Correct...</span>
    </a>
  </li>
  <li>
    <a href="Indirect Data Reduction.html" title="Next Chapter: Indirect Data Reduction"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Indirect Data Re... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
      Last updated on 2019-03-25.<br/>
    </p>
  </div>
</footer>
  </body>
</html>