<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>ISIS Reflectometry Interface</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '4.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="" href="../index.html" />
    <link rel="up" title="Interfaces" href="index.html" />
    <link rel="next" title="ISIS SANS" href="ISIS SANS v2.html" />
    <link rel="prev" title="HFIR Single Crystal Reduction Interface" href="HFIR Single Crystal Reduction.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>4.0</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://docs.mantidproject.org/nightly/">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="isis-reflectometry-interface">
<span id="interface-isis-refl"></span><h1>ISIS Reflectometry Interface<a class="headerlink" href="#isis-reflectometry-interface" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#purpose" id="id1">Purpose</a></li>
<li><a class="reference internal" href="#example-workflow" id="id2">Example Workflow</a></li>
<li><a class="reference internal" href="#layout" id="id3">Layout</a><ul>
<li><a class="reference internal" href="#runs-tab" id="id4">Runs tab</a><ul>
<li><a class="reference internal" href="#menu-bar" id="id5">Menu bar</a></li>
<li><a class="reference internal" href="#processing-table" id="id6">Processing Table</a></li>
<li><a class="reference internal" href="#tool-bar" id="id7">Tool Bar</a></li>
<li><a class="reference internal" href="#columns" id="id8">Columns</a></li>
<li><a class="reference internal" href="#search-interface" id="id9">Search Interface</a><ul>
<li><a class="reference internal" href="#description-based-search-transfer" id="id10">Description Based Search Transfer</a></li>
<li><a class="reference internal" href="#measure-based-search-transfer" id="id11">Measure Based Search Transfer</a></li>
<li><a class="reference internal" href="#failed-transfers" id="id12">Failed transfers</a></li>
<li><a class="reference internal" href="#autoprocess" id="id13">Autoprocess</a></li>
</ul>
</li>
<li><a class="reference internal" href="#live-data-monitoring" id="id14">Live Data Monitoring</a></li>
</ul>
</li>
<li><a class="reference internal" href="#event-handling-tab" id="id15">Event Handling tab</a></li>
<li><a class="reference internal" href="#settings-tab" id="id16">Settings tab</a></li>
<li><a class="reference internal" href="#save-ascii-tab" id="id17">Save ASCII tab</a></li>
</ul>
</li>
<li><a class="reference internal" href="#groups" id="id18">Groups</a></li>
<li><a class="reference internal" href="#options" id="id19">Options</a></li>
<li><a class="reference internal" href="#troubleshooting" id="id20">Troubleshooting</a><ul>
<li><a class="reference internal" href="#when-i-try-to-process-i-get-an-error-invalid-value-for-property-filename-list-of-str-lists" id="id21">When I try to process I get an error: &#8220;Invalid value for property Filename (list of str lists) ...&#8221;</a></li>
<li><a class="reference internal" href="#when-i-try-to-process-i-get-an-error-error-encountered-while-stitching-group" id="id22">When I try to process I get an error: &#8220;Error encountered while stitching group ...&#8221;</a></li>
<li><a class="reference internal" href="#when-i-try-to-process-i-get-an-error-invalid-key-value-pair" id="id23">When I try to process I get an error: &#8220;Invalid key value pair, &#8216;...&#8217;&#8221;</a></li>
<li><a class="reference internal" href="#when-i-try-to-process-i-get-an-error-invalid-value-for-property-can-not-convert-false-true-to-boolean" id="id24">When I try to process I get an error: &#8220;Invalid value for property ... Can not convert &#8220;False/True&#8221; to boolean&#8221;</a></li>
<li><a class="reference internal" href="#the-open-table-menu-doesn-t-do-anything" id="id25">The <em>Open Table</em> menu doesn&#8217;t do anything</a></li>
<li><a class="reference internal" href="#my-ivsq-workspaces-are-not-being-stitched-correctly" id="id26">My IvsQ workspaces are not being stitched correctly</a></li>
<li><a class="reference internal" href="#the-save-table-option-does-not-output-a-tbl-file" id="id27">The <em>Save Table</em> option does not output a .TBL file</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="purpose">
<h2><a class="toc-backref" href="#id1">Purpose</a><a class="headerlink" href="#purpose" title="Permalink to this headline">¶</a></h2>
<p>This user interface allows for batch processing of data reduction for
reflectometry data. The actual data reduction is performed with
<a class="reference internal" href="../algorithms/ReflectometryReductionOneAuto-v2.html#algm-reflectometryreductiononeauto"><em>ReflectometryReductionOneAuto</em></a>.
Wherever possible, this interface attempts to use reasonable defaults,
either loaded from the instruments&#8217; parameter files, or calculated from
the provided data, to minimise the amount of user input required.
This interface also strives to be transparent, making it clear how your
data is being processed, and easy to adjust any of the options used.</p>
<p>Integration with data archives is also provided, allowing for data to
be located and prepared for reduction automatically.</p>
<p>IPython notebooks which document the processing steps and output
relevant plots can also be produced from the interface.</p>
<p>Information on how to resolve common problems can be found in the
<a class="reference internal" href="#troubleshooting">Troubleshooting</a> section of this document.</p>
</div>
<div class="section" id="example-workflow">
<h2><a class="toc-backref" href="#id2">Example Workflow</a><a class="headerlink" href="#example-workflow" title="Permalink to this headline">¶</a></h2>
<p>To follow this example you will need the ISIS reflectometry example materials:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">INTER_NR_test2.tbl</span></tt></li>
<li><tt class="docutils literal"><span class="pre">INTER00013460.nxs</span></tt></li>
<li><tt class="docutils literal"><span class="pre">INTER00013462.nxs</span></tt></li>
<li><tt class="docutils literal"><span class="pre">INTER00013463.nxs</span></tt></li>
<li><tt class="docutils literal"><span class="pre">INTER00013464.nxs</span></tt></li>
</ul>
<p>These can be downloaded as part of the <a class="reference external" href="http://download.mantidproject.org/">ISIS example data</a>.</p>
<p>Once they are downloaded, place the nxs files in one of Mantid&#8217;s user directories.
To see a list of directories, click on <strong>File -&gt; Manage User Directories</strong>.
<tt class="docutils literal"><span class="pre">INTER_NR_test2.tbl</span></tt> can be saved anywhere you like, as long as you know where it is.</p>
<p>Open MantidPlot, and open the ISIS Reflectometry interface.
<strong>Interfaces -&gt; Reflectometry -&gt; ISIS Reflectometry</strong></p>
<p>Within the interface, we first want to import the tbl file as a TableWorkspace.
To do this, click on <strong>Reflectometry -&gt; Import .TBL</strong>. A <a class="reference internal" href="../algorithms/LoadTBL-v1.html#algm-loadtbl"><em>LoadTBL</em></a>
dialog will open. Select <tt class="docutils literal"><span class="pre">INTER_NR_test2.tbl</span></tt> as the file, and enter <tt class="docutils literal"><span class="pre">MyTable</span></tt>
as the output workspace.</p>
<p>A table workspace called <tt class="docutils literal"><span class="pre">MyTable</span></tt> should now exist in the ADS (<a class="reference internal" href="../concepts/AnalysisDataService.html#analysis-data-service"><em>Analysis Data Service</em></a>).
In addition the table workspace should be opened as well and the processing table
(shown below) should now contain four rows (13460, 13462, 13469, 13470).</p>
<div class="figure align-center">
<img alt="../_images/ISISReflectometryPolref_INTER_table.png" src="../_images/ISISReflectometryPolref_INTER_table.png" />
</div>
<p>Let&#8217;s process the first group, which consists of the first two rows of the
table (13460 and 13462). The simplest way to do this is simply to select the
group we want to process, and then click on <strong>Process</strong>.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">If you receive an error, consult the <a class="reference internal" href="#troubleshooting">Troubleshooting</a> section of this document for guidance on fixing it.</p>
</div>
<p>You should now have eleven workspaces in the ADS.</p>
<p>Amongst them should be:</p>
<dl class="docutils">
<dt>TOF_13460</dt>
<dd>This is the data before processing. The X axis is time of flight in µs.</dd>
<dt>TRANS_13463_13464</dt>
<dd>This is a transmission run, created by running <a class="reference internal" href="../algorithms/CreateTransmissionWorkspace-v2.html#algm-createtransmissionworkspace"><em>CreateTransmissionWorkspace</em></a>
on <tt class="docutils literal"><span class="pre">TOF_13463</span></tt> and <tt class="docutils literal"><span class="pre">TOF_13464</span></tt>. The X axis is wavelength in Å.</dd>
<dt>IvsQ_13460</dt>
<dd>This is the output workspace of <a class="reference internal" href="../algorithms/ReflectometryReductionOneAuto-v2.html#algm-reflectometryreductiononeauto"><em>ReflectometryReductionOneAuto</em></a>. The X
axis is momentum transfer in Å<sup>-1</sup>.</dd>
<dt>IvsLam_13460</dt>
<dd>This is the wavelength output workspace of <a class="reference internal" href="../algorithms/ReflectometryReductionOneAuto-v2.html#algm-reflectometryreductiononeauto"><em>ReflectometryReductionOneAuto</em></a>.
The X axis is wavelength in Å.</dd>
<dt>IvsQ_13460_13462</dt>
<dd>This workspace is the result of stitching <tt class="docutils literal"><span class="pre">IvsQ_13460</span></tt> and <tt class="docutils literal"><span class="pre">IvsQ_13462</span></tt> together using
<a class="reference internal" href="../algorithms/Stitch1DMany-v1.html#algm-stitch1dmany"><em>Stitch1DMany</em></a>. The X axis is momentum transfer in Å<sup>-1</sup>.</dd>
</dl>
</div>
<div class="section" id="layout">
<h2><a class="toc-backref" href="#id3">Layout</a><a class="headerlink" href="#layout" title="Permalink to this headline">¶</a></h2>
<div class="section" id="runs-tab">
<h3><a class="toc-backref" href="#id4">Runs tab</a><a class="headerlink" href="#runs-tab" title="Permalink to this headline">¶</a></h3>
<p>This section describes the different elements in the <em>Runs</em> tab.</p>
<div class="figure">
<a class="screenshot reference internal image-reference" href="../_images/ISIS_Reflectometry_interface.png"><img alt="../_images/ISIS_Reflectometry_interface.png" class="screenshot" src="../_images/ISIS_Reflectometry_interface.png" style="width: 740px;" /></a>
</div>
<div class="section" id="menu-bar">
<h4><a class="toc-backref" href="#id5">Menu bar</a><a class="headerlink" href="#menu-bar" title="Permalink to this headline">¶</a></h4>
<div class="figure">
<a class="screenshot reference internal image-reference" href="../_images/ISIS_Reflectometry_menuBar_widget.png"><img alt="../_images/ISIS_Reflectometry_menuBar_widget.png" class="screenshot" src="../_images/ISIS_Reflectometry_menuBar_widget.png" style="width: 951px;" /></a>
</div>
<p>The <strong>Reflectometry</strong> menu provides access to the following functionality:</p>
<table border="1" class="docutils">
<colgroup>
<col width="24%" />
<col width="76%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Action</th>
<th class="head">Effect</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Open Table</td>
<td>Opens a valid <em>TableWorkspace</em> in the <a class="reference internal" href="#processing-table">Processing Table</a>
for processing.</td>
</tr>
<tr class="row-odd"><td>New Table</td>
<td>Discards the current contents of the <a class="reference internal" href="#processing-table">Processing Table</a>
presenting a blank table.</td>
</tr>
<tr class="row-even"><td>Save Table</td>
<td>Saves the current contents of the <a class="reference internal" href="#processing-table">Processing Table</a> to
the <em>TableWorkspace</em> it came from. If no such workspace
already exists, a new one can be created.</td>
</tr>
<tr class="row-odd"><td>Save Table As</td>
<td>Saves the current contents of the <a class="reference internal" href="#processing-table">Processing Table</a> to
a new <em>TableWorkspace</em>.</td>
</tr>
<tr class="row-even"><td>Import .TBL</td>
<td>Opens a <a class="reference internal" href="../algorithms/LoadTBL-v1.html#algm-loadtbl"><em>LoadTBL</em></a> dialog,
enabling you to load a <tt class="docutils literal"><span class="pre">.tbl</span></tt> file into a
<em>TableWorkspace</em>.</td>
</tr>
<tr class="row-odd"><td>Export .TBL</td>
<td>Opens a <a class="reference internal" href="../algorithms/SaveTBL-v1.html#algm-savetbl"><em>SaveTBL</em></a> dialog,
enabling you to save a <em>TableWorkspace</em> to a <tt class="docutils literal"><span class="pre">.tbl</span></tt>
file.</td>
</tr>
<tr class="row-even"><td>Options</td>
<td>Opens the <a class="reference internal" href="#options">Options</a>                             menu.</td>
</tr>
<tr class="row-odd"><td>Slit Calculator</td>
<td>Opens the slit calculator: a tool to help calculate the
correct geometry for the instruments&#8217; slits. It&#8217;s powered
by the <a class="reference internal" href="../algorithms/CalculateSlits-v1.html#algm-calculateslits"><em>CalculateSlits</em></a>
algorithm.</td>
</tr>
</tbody>
</table>
<p>The <strong>Edit</strong> menu provides access to the same actions found in the tool bar.
These are documented in the <a class="reference internal" href="#tool-bar">Tool Bar</a> section of this document.</p>
</div>
<div class="section" id="processing-table">
<h4><a class="toc-backref" href="#id6">Processing Table</a><a class="headerlink" href="#processing-table" title="Permalink to this headline">¶</a></h4>
<div class="figure">
<a class="screenshot reference internal image-reference" href="../_images/ISIS_Reflectometry_groupProcessPane_widget.png"><img alt="../_images/ISIS_Reflectometry_groupProcessPane_widget.png" class="screenshot" src="../_images/ISIS_Reflectometry_groupProcessPane_widget.png" style="width: 685px;" /></a>
</div>
<p>The processing table is where the bulk of the work takes place. It is used to
specify which runs to process, the properties that should be used to process
them, and how the different runs should be joined together.</p>
<p>Each row represents a single reduction (i.e. execution of
<a class="reference internal" href="../algorithms/ReflectometryReductionOneAuto-v2.html#algm-reflectometryreductiononeauto"><em>ReflectometryReductionOneAuto</em></a>),
and belongs to a group. Rows that are grouped together will have their output stitched
together using <a class="reference internal" href="../algorithms/Stitch1DMany-v1.html#algm-stitch1dmany"><em>Stitch1DMany</em></a>.</p>
<p>Above the processing table is a tool bar containing various actions for
manipulating the processing table.</p>
<p>Below the table is a progress bar, which shows the current progress of any
processing that is in progress. And at the bottom, near the <strong>Process</strong>
button is the processing instrument selector. The processing instrument is
used to help identify the correct data to load when processing runs.</p>
<p>While processing, any runs that have been successfully processed will have their
row highlighted green. Any groups that have been post-processed successfully
will also be highlighted. Starting a new reduction will clear all highlighted
rows and groups.</p>
<p>If reduction is paused and then resumed again, the interface will check if any
data in previously processed rows and groups had been manually changed in
between. If data within a row has been altered, the row and its containing group
will be reprocessed. If rows are added or removed from a group, the group will
need to be processed again as well. Deleting or renaming the output workspaces
for processed rows or groups will cause only that item to be processed again. It
is also possible to change the selection of rows and groups and doing so will
process new data items while ignoring any deselected ones.</p>
<p>Next to the <strong>Process</strong> button there is a checkbox which allows enabling and
disabling output to an ipython notebook. If the checkbox is enabled, a dialog
window will ask for a save location for the notebook after processing is
complete. A generated notebook contains python code to repeat the processing
steps and output relevant plots.</p>
<p><strong>Note</strong>: The interface cannot be closed while runs are being processed. To close
the interface, you must first stop the reduction by clicking on the <strong>Pause</strong> button.</p>
</div>
<div class="section" id="tool-bar">
<h4><a class="toc-backref" href="#id7">Tool Bar</a><a class="headerlink" href="#tool-bar" title="Permalink to this headline">¶</a></h4>
<p>This table details the behaviour of the actions in the tool bar, from left to right.</p>
<div class="figure">
<a class="screenshot reference internal image-reference" href="../_images/ISIS_Reflectometry_rowToolBar_widget.png"><img alt="../_images/ISIS_Reflectometry_rowToolBar_widget.png" class="screenshot" src="../_images/ISIS_Reflectometry_rowToolBar_widget.png" style="width: 677px;" /></a>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="24%" />
<col width="76%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Action</th>
<th class="head">Effect</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Process</td>
<td>Processes the selected runs, or, if no runs are selected,
all of the runs in the table. When a group is selected,
runs belonging to the same group are stitched together.</td>
</tr>
<tr class="row-odd"><td>Pause</td>
<td>Pauses processing any selected runs. Processing may be
resumed by clicking on the &#8216;Process&#8217; button.</td>
</tr>
<tr class="row-even"><td>Expand Selection</td>
<td>Expands your selection such that the group containing the
row you have selected is selected.</td>
</tr>
<tr class="row-odd"><td>Expand Groups</td>
<td>Expands all currently collapsed groups in the table,
revealing their individual runs.</td>
</tr>
<tr class="row-even"><td>Collapse Groups</td>
<td>Collapse all currently expanded groups in the table,
hiding their individual runs.</td>
</tr>
<tr class="row-odd"><td>Plot Selected
Rows</td>
<td>Creates a plot of the IvsQ workspaces generated by any of
the selected rows.</td>
</tr>
<tr class="row-even"><td>Plot Selected
Groups</td>
<td>Creates a plot of the stitched IvsQ workspaces generated
by any of the selected groups.</td>
</tr>
<tr class="row-odd"><td>Insert Row</td>
<td>Adds a new row after the first selected row, or at the
end of the group if a group was selected. If nothing
was selected the new row is appended at the end of the
last group.</td>
</tr>
<tr class="row-even"><td>Insert Group</td>
<td>Adds a new group after the first selected group, or at
the end of the table if no groups were selected.</td>
</tr>
<tr class="row-odd"><td>Group Rows</td>
<td>Takes all the selected rows and places them in a group
together, separate from any other group.</td>
</tr>
<tr class="row-even"><td>Copy Rows</td>
<td>Copies the selected rows to the clipboard. In the
clipboard, each column&#8217;s value is separated by a tab, and
each row is placed on a new line.</td>
</tr>
<tr class="row-odd"><td>Cut Rows</td>
<td>Copies the selected rows, and then deletes them.</td>
</tr>
<tr class="row-even"><td>Paste Rows</td>
<td>Pastes the contents of the clipboard into the selected
rows. If no rows are selected, new rows are inserted.</td>
</tr>
<tr class="row-odd"><td>Clear Rows</td>
<td>Resets the cells in any selected rows to their initial
value, in other words, blank.</td>
</tr>
<tr class="row-even"><td>Delete Row</td>
<td>Deletes any selected rows. If no rows are selected,
nothing happens. If the single row of a group is selected
for deletion, the group will also be deleted.</td>
</tr>
<tr class="row-odd"><td>Delete Group</td>
<td>Deletes any selected Groups. If no groups are selected,
nothing happens.</td>
</tr>
<tr class="row-even"><td>What&#8217;s This</td>
<td>Provides guidance on what various parts of the interface
are for.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="columns">
<h4><a class="toc-backref" href="#id8">Columns</a><a class="headerlink" href="#columns" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="10%" />
<col width="72%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Column Title</th>
<th class="head">Required?</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Run(s)</td>
<td><strong>Yes</strong></td>
<td><p class="first">Contains the sample runs to be processed.
Runs may be given as run numbers or workspace
names. Multiple runs may be added together by
separating them with a &#8216;+&#8217;.</p>
<p class="last">Example: <tt class="docutils literal"><span class="pre">1234+1235+1236</span></tt></p>
</td>
</tr>
<tr class="row-odd"><td>Angle</td>
<td>No</td>
<td><p class="first">Contains the angle used during the run, in
degrees. If left blank,
<a class="reference internal" href="../algorithms/ReflectometryReductionOneAuto-v2.html#algm-reflectometryreductiononeauto"><em>ReflectometryReductionOneAuto</em></a>
will calculate theta using
<a class="reference internal" href="../algorithms/SpecularReflectionCalculateTheta-v2.html#algm-specularreflectioncalculatetheta"><em>SpecularReflectionCalculateTheta</em></a>.</p>
<p class="last">Example: <tt class="docutils literal"><span class="pre">0.7</span></tt></p>
</td>
</tr>
<tr class="row-even"><td>Transmission Run(s)</td>
<td>No</td>
<td><p class="first">Contains the transmission run(s) used to
normalise the sample runs. To specify two
transmission runs, separate them with a comma.
If left blank, the sample runs will be
normalised by monitor only.</p>
<p class="last">Example: <tt class="docutils literal"><span class="pre">1234,1235</span></tt></p>
</td>
</tr>
<tr class="row-odd"><td>Q min</td>
<td>No</td>
<td><p class="first">Contains the minimum value of Q to be used in
Å<sup>−1</sup>. Data with a value of Q lower
than this will be discarded. If left blank,
this is set to the lowest Q value found. This
is useful for discarding noisy data.</p>
<p class="last">Example: <tt class="docutils literal"><span class="pre">0.1</span></tt></p>
</td>
</tr>
<tr class="row-even"><td>Q max</td>
<td>No</td>
<td><p class="first">Contains the maximum value of Q to be used in
Å<sup>−1</sup>. Data with a value of Q higher
than this will be discarded. If left blank,
this is set to the highest Q value found. This
is useful for discarding noisy data.</p>
<p class="last">Example: <tt class="docutils literal"><span class="pre">0.9</span></tt></p>
</td>
</tr>
<tr class="row-odd"><td>dQ/Q</td>
<td>No</td>
<td><p class="first">Contains the resolution used when rebinning
output workspaces. If left blank, this is
calculated for you using the
NRCalculateSlitResolution algorithm. This value is
negated so that Logarithmic binning can be
applied for the IvsQ workspace.
If you desire linear binning then you
may negate the value in the processing table
and a linear binning will be applied.</p>
<p class="last">Example: <tt class="docutils literal"><span class="pre">0.9</span></tt></p>
</td>
</tr>
<tr class="row-even"><td>Scale</td>
<td>No</td>
<td><p class="first">Contains the factor used to scale output
IvsQ workspaces. The IvsQ workspaces are
scaled by <tt class="docutils literal"><span class="pre">1/i</span></tt> where i is the value of
this column.</p>
<p class="last">Example: <tt class="docutils literal"><span class="pre">1.0</span></tt></p>
</td>
</tr>
<tr class="row-odd"><td>Options</td>
<td>No</td>
<td><p class="first">Contains options that allow you to override
ReflectometryReductionOne&#8217;s properties. To
override a property, just use the property&#8217;s
name as a key, and the desired value as the
value.
Options are specified in <tt class="docutils literal"><span class="pre">key=value</span></tt> pairs,
separated by commas. Values containing commas
must be quoted. Options specified via this
column will prevail over options specified
in the <strong>Settings</strong> tab.</p>
<p class="last">Example: <tt class="docutils literal"><span class="pre">RegionOfDirectBeam=&quot;0,2&quot;,</span> <span class="pre">Params=&quot;1,2,3&quot;</span></tt></p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="search-interface">
<h4><a class="toc-backref" href="#id9">Search Interface</a><a class="headerlink" href="#search-interface" title="Permalink to this headline">¶</a></h4>
<div class="figure align-right">
<a class="screenshot reference internal image-reference" href="../_images/ISIS_Reflectometry_groupSearchPane_widget.png"><img alt="../_images/ISIS_Reflectometry_groupSearchPane_widget.png" class="screenshot" src="../_images/ISIS_Reflectometry_groupSearchPane_widget.png" style="width: 287px;" /></a>
</div>
<p>To search for runs, select the instrument the runs are from, enter the id of
the investigation the runs are part of, and click on <strong>Search</strong>.</p>
<p>In the table below, valid runs and their descriptions will be listed. You
can then transfer runs to the processing table by selecting the runs you
wish to transfer, and click the <strong>Transfer</strong> button. You can also right-click
on one of the selected runs and select <em>Transfer</em> in the context menu that
appears.</p>
<div class="section" id="description-based-search-transfer">
<h5><a class="toc-backref" href="#id10">Description Based Search Transfer</a><a class="headerlink" href="#description-based-search-transfer" title="Permalink to this headline">¶</a></h5>
<p>Description based search transfer uses the descriptions associated with raw files from the experiment.</p>
<p>If a run&#8217;s description contains the text <tt class="docutils literal"><span class="pre">in</span> <span class="pre">0.7</span> <span class="pre">theta</span></tt>, or <tt class="docutils literal"><span class="pre">th=0.7</span></tt>, or
<tt class="docutils literal"><span class="pre">th:0.7</span></tt>, then the interface will deduce that the run&#8217;s angle (also known
as theta), was <tt class="docutils literal"><span class="pre">0.7</span></tt>, and enter this value into the angle column for you.
This holds true for any numeric value.</p>
<p>When multiple runs are selected and transferred simultaneously, the interface
will attempt to organise them appropriately in the processing table. The exact
behaviour of this is as follows:</p>
<ul class="simple">
<li>Any runs with the same description, excluding their theta value, will be
placed into the same group.</li>
<li>Any runs with the same description, including their theta value, will be
merged into a single row, with all the runs listed in the <strong>Run(s)</strong> column
in the format, <tt class="docutils literal"><span class="pre">123+124+125</span></tt>.</li>
</ul>
</div>
<div class="section" id="measure-based-search-transfer">
<span id="interface-isis-refl-measure-based-search-transfer"></span><h5><a class="toc-backref" href="#id11">Measure Based Search Transfer</a><a class="headerlink" href="#measure-based-search-transfer" title="Permalink to this headline">¶</a></h5>
<p>Measure based search transfer uses the log-values within nexus files from the experiment to assemble the batch. Since the files themselves are required, not just the overview metadata, the files must be accessible by mantid. One way of doing this is to mount the archive and set the user property <tt class="docutils literal"><span class="pre">icatDownload.mountPoint</span></tt> to your mount point. It may end up looking something like this <tt class="docutils literal"><span class="pre">icatDownload.mountPoint=/Volumes/inst$</span></tt>. Alternately, you can download the files to your local disk and simply add that directory to the managed search directories in <tt class="docutils literal"><span class="pre">Manage</span> <span class="pre">User</span> <span class="pre">Directories</span></tt>.</p>
<ul class="simple">
<li>Any runs with the <tt class="docutils literal"><span class="pre">measurement_id</span></tt> log, will be
placed into the same group.</li>
<li>Any runs with the same <tt class="docutils literal"><span class="pre">measurement_id</span></tt> and the same <tt class="docutils literal"><span class="pre">measurement_subid</span></tt> logs, will be merged into a single row, with all the runs listed in the <strong>Run(s)</strong> column in the format, <tt class="docutils literal"><span class="pre">123+124+125</span></tt>.</li>
</ul>
</div>
<div class="section" id="failed-transfers">
<h5><a class="toc-backref" href="#id12">Failed transfers</a><a class="headerlink" href="#failed-transfers" title="Permalink to this headline">¶</a></h5>
<p>When transferring a run from the Search table to the Processing table there may exist invalid runs. For example, if a Measure-based run has an invalid measurement id.
In the image below we select three runs from the Search table that we wish to transfer to the processing table.</p>
<div class="figure">
<img alt="Selecting runs from search table to transfer to processing table" src="../_images/ISISReflectometryPolref_selecting_transfer_runs.png" />
</div>
<p>Attempting to transfer an invalid run will result in that run not being transferred to the processing table. If the transfer was not successful then that specific
run will be highlighted in the Search table.</p>
<div class="figure">
<img alt="Failed transfer will be highlighted in orange, successful transfer is put into processing table" src="../_images/ISISReflectometryPolref_failed_transfer_run.png" />
</div>
<p>Hovering over the highlighted run with your cursor will allow you to see why the run was invalid.</p>
<div class="figure">
<img alt="Showing tooltip from failed transfer." src="../_images/ISISReflectometryPolref_tooltip_failed_run.jpg" />
</div>
</div>
<div class="section" id="autoprocess">
<h5><a class="toc-backref" href="#id13">Autoprocess</a><a class="headerlink" href="#autoprocess" title="Permalink to this headline">¶</a></h5>
<p>The <strong>Autoprocess</strong> button allows fully automatic processing of runs for a
particular investigation. Enter the instrument and investigation ID and then
click <cite>Autoprocess</cite> to start. This then:</p>
<ul class="simple">
<li>Searches for runs that are part of the investigation the id was supplied for.</li>
<li>Transfers any initial runs found for that investigation from the Search table
into the Processing table and processes them.</li>
<li>Polls for new runs and transfers and processes any as they are found.</li>
</ul>
<p>If the investigation has not started yet, polling will begin straight away and
the Processing table will remain empty until runs are created.</p>
<p>Like the <cite>Process</cite> button in the Processing table, the <cite>Autoprocess</cite> button
will be disabled while autoprocessing is in progress. If autoprocessing has
been paused, the button will be enabled again. Clicking <cite>Autoprocess</cite> again
will resume processing from where it left off.</p>
<p>Rows that do not contain a valid theta value will not be included in
autoprocessing - they will be highlighted as failed rows in the Search
table. The error message will be displayed as a tooltip if you hover over the
row. These rows can be transferred manually by first pausing autoprocessing and
then selecting the rows and clicking <cite>Transfer</cite>.</p>
<p>Successfully reduced rows are highlighted in green. If a group has been
post-processed successfully then it is also highlighted in green. If the group
only contains a single row then post-processing is not applicable, and the
group will be highlighted in a paler shade of green to indicate that all of its
rows have been reduced successfully but that post-processing was not performed.</p>
<p>If row or group processing fails, the row will be highlighted in blue. The
error message will be displayed as a tooltip if you hover over the row. Failed
rows will not be reprocessed automatically, but you can manually re-process
them by pausing autoprocessing, selecting the required rows, and clicking
<cite>Process</cite>.</p>
<p>The Processing table is not editable while autoprocessing is running but can be
edited while paused. Any changes to a row that will affect the result of the
reduction will cause the row&#8217;s state to be reset to unprocessed, and the row
will be re-processed when autoprocessing is resumed. You can also manually
process selected rows while autoprocessing is paused using the <cite>Process</cite> button.</p>
<p>Rows can be deleted and new rows can be added to the table while autoprocessing
is paused. Use the buttons at the top of the Processing table, or manually
transfer them from the Search table. They will then be included when you resume
autoprocessing.</p>
<p>If workspaces are deleted while autoprocessing is running, or before resuming
autoprocessing, then affected rows/groups will be reprocessed if their
mandatory output workspaces no longer exist. If you do not want a row/group to
be reprocessed, then you must first remove it from the table. Deleting interim
workspaces such as IvsLam will not cause rows to be reprocessed.</p>
<p>Changing the instrument, investigation id or transfer method while paused and
then clicking <cite>Autoprocess</cite> will start a new autoprocessing operation, and the
current contents of the Processing table will be cleared. You will be warned if
this will cause unsaved changes to be lost.</p>
</div>
</div>
<div class="section" id="live-data-monitoring">
<h4><a class="toc-backref" href="#id14">Live Data Monitoring</a><a class="headerlink" href="#live-data-monitoring" title="Permalink to this headline">¶</a></h4>
<p>The <em>Live data</em> section on the <em>Runs</em> tab allows you to start a monitoring
algorithm that will periodically load live data from the instrument and reduce
it with <a class="reference internal" href="../algorithms/ReflectometryReductionOneAuto-v2.html#algm-reflectometryreductiononeauto"><em>ReflectometryReductionOneAuto</em></a>. It outputs two workspaces, <cite>TOF_live</cite>
for the original data and <cite>IvsQ_binned_live</cite> for the reduced data.</p>
<p>Live values for <cite>ThetaIn</cite> and the slit gaps are checked and used each time the
reduction runs. Other algorithm properties are taken from <cite>Group 1</cite> on the
<em>Settings</em> tab. Make any changes you want to the settings and press <cite>Start
monitor</cite> to begin monitoring. Note that <strong>any changes to the settings will not
be updated</strong> in the live data reduction unless you stop and re-start
monitoring.</p>
<p>You can stop monitoring at any time using the <cite>Stop monitor</cite> button or by
cancelling the algorithm from the <em>Algorithm progress</em> dialog. If you close the
interface, monitoring will continue running in the background. You can cancel
the <cite>MonitorLiveData</cite> algorithm from the <em>Algorithm progress</em> dialog.</p>
<p>If <cite>MonitorLiveData</cite> stops due to an error, the <cite>Start monitor</cite> button will be
re-enabled so that it can be re-started from the Interface.</p>
<p>Note that if you close and re-open the Interface, the link to any running
monitor algorithm will be lost. You will not be able to start a new version of
the monitor due to a clash in the output names. Stop the algorithm from the
<em>Algorithm process</em> dialog and re-start it from the new instance of the
Interface to re-link it.</p>
<p>Live data monitoring has the following requirements:</p>
<ul class="simple">
<li>CaChannel must be installed in Mantid. See the instructions <a class="reference external" href="https://www.mantidproject.org/CaChannel_In_Mantid">here</a>.</li>
<li>The instrument must be on IBEX or have additional processes installed to supply the EPICS values. If it does not, you will get an error that live values could not be found for <cite>Theta</cite> and the slits.</li>
</ul>
</div>
</div>
<div class="section" id="event-handling-tab">
<h3><a class="toc-backref" href="#id15">Event Handling tab</a><a class="headerlink" href="#event-handling-tab" title="Permalink to this headline">¶</a></h3>
<div class="figure">
<img alt="Showing view of the settings tab." src="../_images/ISISReflectometryPolref_event_handling_tab.png" />
</div>
<p>The <em>Event Handling</em> tab can be used to analyze event workspaces. It contains four text boxes for
specifying uniform even, uniform, custom and log value slicing respectively. Each of these slicing
options are exclusive, no more than one can be applied. If the text box for the selected slicing
method is empty no event analysis will be performed, runs will be loaded using
<a class="reference internal" href="../algorithms/LoadISISNexus-v2.html#algm-loadisisnexus"><em>LoadISISNexus</em></a> and analyzed as histogram workspaces. When this text box
is not empty, runs will be loaded using <a class="reference internal" href="../algorithms/LoadEventNexus-v1.html#algm-loadeventnexus"><em>LoadEventNexus</em></a> and the
interface will try to parse the user input to obtain a set of start and stop values. These define
different time slices that will be passed on to an appropriate filtering algorithm
(<a class="reference internal" href="../algorithms/FilterByTime-v1.html#algm-filterbytime"><em>FilterByTime</em></a> for uniform even, uniform and custom slicing,
<a class="reference internal" href="../algorithms/FilterByLogValue-v1.html#algm-filterbylogvalue"><em>FilterByLogValue</em></a> for log value slicing). Each time slice will be
normalized by the total proton charge and reduced as described in the previous section. Note that,
if any of the runs in a group could not be loaded as an event workspace, the interface will load
the runs within that group as histogram workspaces and no event analysis will be performed for that
group. A warning message will be shown when the reduction is complete indicating that some groups
could not be processed as event data.</p>
<p>The four slicing options are described in more detail below:</p>
<ul class="simple">
<li><strong>Uniform Even</strong> - The interface obtains the start and end times of the run and divides it into
a specified number of evenly-sized slices. For example given a run of duration 100 seconds,
specifying 4 uniform even slices will produce slices with ranges of <tt class="docutils literal"><span class="pre">0</span> <span class="pre">-</span> <span class="pre">25</span></tt>, <tt class="docutils literal"><span class="pre">25</span> <span class="pre">-</span> <span class="pre">50</span></tt>,
<tt class="docutils literal"><span class="pre">50</span> <span class="pre">-</span> <span class="pre">75</span></tt> and <tt class="docutils literal"><span class="pre">75</span> <span class="pre">-</span> <span class="pre">100</span></tt> seconds respectively.</li>
<li><strong>Uniform</strong> - The interface obtains the start and end times of the run and divides it into
several slices of a specified duration. If the total duration does not divide evenly by the
slice duration, then the last slice will be shorter than the others. For example, given a run
of duration 100 seconds, specifying slices of duration 30 seconds will produce slices with
ranges of <tt class="docutils literal"><span class="pre">0</span> <span class="pre">-</span> <span class="pre">30</span></tt>, <tt class="docutils literal"><span class="pre">30</span> <span class="pre">-</span> <span class="pre">60</span></tt>, <tt class="docutils literal"><span class="pre">60</span> <span class="pre">-</span> <span class="pre">90</span></tt> and <tt class="docutils literal"><span class="pre">90</span> <span class="pre">-</span> <span class="pre">100</span></tt> seconds respectively.</li>
<li><strong>Custom</strong> - This takes a list if comma-separated numbers that indicate the start and end of
each time slice. There are different possibilities:<ul>
<li>If a single number is provided, e.g. <tt class="docutils literal"><span class="pre">100</span></tt>, the interface will extract a single slice
starting at the start of the run, and ending at <tt class="docutils literal"><span class="pre">100</span></tt> seconds.</li>
<li>If two numbers are provided, e.g. <tt class="docutils literal"><span class="pre">100,</span> <span class="pre">200</span></tt>, the interface will extract a single slice
starting <tt class="docutils literal"><span class="pre">100</span></tt> seconds after the start of the run and stopping at 200 seconds after the
start of the run.</li>
<li>If more than two numbers are provided, e.g. <tt class="docutils literal"><span class="pre">100,</span> <span class="pre">200,</span> <span class="pre">300</span></tt>, the interface will extract two
slices, the first one starting at <tt class="docutils literal"><span class="pre">100</span></tt> seconds after the start of the run and ending at
<tt class="docutils literal"><span class="pre">200</span></tt> seconds after the start of the run, and the second one starting at <tt class="docutils literal"><span class="pre">200</span></tt> seconds
and ending at <tt class="docutils literal"><span class="pre">300</span></tt> seconds.</li>
</ul>
</li>
<li><strong>LogValue</strong> - Like custom slicing this takes a list of comma-separated numbers and are parsed
in the same manner as shown above. The values however indicate the minimum and maximum values of
the logs we wish to filter rather than times. In addition, this takes a second entry &#8216;Log Name&#8217;
which is the name of the log we wish to filter the run for. For example, given a run and entries
of <tt class="docutils literal"><span class="pre">100,</span> <span class="pre">200,</span> <span class="pre">300</span></tt> and <tt class="docutils literal"><span class="pre">proton_charge</span></tt> for slicing values and log name respectively, we would
produce two slices - the first containing all log values between <tt class="docutils literal"><span class="pre">100</span></tt> and <tt class="docutils literal"><span class="pre">200</span></tt> seconds, the
second containing all log values between <tt class="docutils literal"><span class="pre">200</span></tt> and <tt class="docutils literal"><span class="pre">300</span></tt> seconds.</li>
</ul>
<p>Workspaces will be named according to the index of the slice, e.g <tt class="docutils literal"><span class="pre">IvsQ_13460_slice_0</span></tt>, <tt class="docutils literal"><span class="pre">IvsQ_13460_slice_1</span></tt>, etc.</p>
</div>
<div class="section" id="settings-tab">
<h3><a class="toc-backref" href="#id16">Settings tab</a><a class="headerlink" href="#settings-tab" title="Permalink to this headline">¶</a></h3>
<div class="figure">
<img alt="Showing view of the settings tab." src="../_images/ISISReflectometryPolref_settings_tab.png" />
</div>
<p>The <em>Settings</em> tab can be used to specify options for the reduction and post-processing.
These options are used by the interface to provide argument values for the pre-processing,
processing and post-processing algorithms. Each of these respectively refer to the
following algorithms:</p>
<ul class="simple">
<li><a class="reference internal" href="../algorithms/CreateTransmissionWorkspaceAuto-v2.html#algm-createtransmissionworkspaceauto"><em>CreateTransmissionWorkspaceAuto</em></a>
(applied to <strong>Transmission Run(s)</strong>).</li>
<li><a class="reference internal" href="../algorithms/ReflectometryReductionOneAuto-v2.html#algm-reflectometryreductiononeauto"><em>ReflectometryReductionOneAuto</em></a>, main reduction algorithm.</li>
<li><a class="reference internal" href="../algorithms/Stitch1DMany-v1.html#algm-stitch1dmany"><em>Stitch1DMany</em></a> (note that at least a bin width must be
specified for this algorithm to run successfully, for instance <em>Params=&#8221;-0.03&#8221;</em>).</li>
</ul>
<p>Note that when conflicting options are specified for the reduction, i.e. different
values for the same property are specified via the <em>Settings</em> tab and the <strong>Options</strong>
column in the <em>Runs</em> tab, the latter will prevail. Therefore, the <strong>ReflectometryReductionOneAuto</strong>
settings should be used to specify global options that will be applied to all the
rows in the table, whereas the <strong>Options</strong> column will only be applicable to the
specific row for which those options are defined.</p>
<p>The <em>Settings</em> tab is split into two sections, <strong>Experiment settings</strong> and <strong>Instrument
settings</strong>. The former refers to variables set mostly by the user, while the latter
refers to variables set by the instrument used to perform the reduction. Both have
a <strong>Get Defaults</strong> button that fills some of the variables with default values.
For experiment settings, these are pulled from the <strong>ReflectometryReductionOneAuto</strong>
algorithm whereas for instrument settings, they are pulled from the current instrument
being used in the run.</p>
<p>If either the <em>Experiment</em> or the <em>Instrument</em> settings sections are unchecked, this will disable
all the of the entries for each respective section. In addition, the reduction will not make use of
the values from any of the disabled entries.</p>
</div>
<div class="section" id="save-ascii-tab">
<h3><a class="toc-backref" href="#id17">Save ASCII tab</a><a class="headerlink" href="#save-ascii-tab" title="Permalink to this headline">¶</a></h3>
<div class="figure">
<img alt="Showing view of the save ASCII tab." src="../_images/ISISReflectometryPolref_save_tab.png" />
</div>
<p>The <em>Save ASCII</em> tab allows for processed workspaces to be saved in specific
ASCII formats. The filenames are saved in the form [Prefix][Workspace Name].[ext].</p>
<table border="1" class="docutils">
<colgroup>
<col width="36%" />
<col width="64%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Save path</td>
<td>At present this dialog doesn&#8217;t have a standard
file dialog so that path must be filled in manually.
The path must already exist as this dialog doesn&#8217;t
have the ability to create directories. As the
naming of files is automatic, the path must also
point to a directory rather than a file.</td>
</tr>
<tr class="row-odd"><td>Prefix</td>
<td>The prefix is what is added to the beginning of
the workspace name to create the file name. No
underscore or space is added between them so they
must be manually added.</td>
</tr>
<tr class="row-even"><td>Filter</td>
<td>This can be specified to filter out workspaces
in the workspace list whose name does not match
that of the filter text.</td>
</tr>
<tr class="row-odd"><td>Regex</td>
<td>Checking this option allows a regular expression
to be used for filtering workspace names.</td>
</tr>
<tr class="row-even"><td>List Of Workspaces</td>
<td>The left listbox will contain any workspaces loaded
into mantid (excluding group and table workspaces).
Double clicking on one will fill the right list box
with the parameters it contains. This listbox
supports multi-select in order to allow for multiple
workspaces to be saved out at the same time with the
same settings.</td>
</tr>
<tr class="row-odd"><td>List Of Logged Parameters</td>
<td>The right listbox starts out empty, but will fill
with parameter names when a workspace in the left
listbox is double clicked. This listbox supports
multi-select in order to allow for the save output
to contain multiple parameter notes.</td>
</tr>
<tr class="row-even"><td>File format</td>
<td>This dialog can save to ANSTO, ILL cosmos, 3-column,
and a customisable format. It doesn&#8217;t save from
the main interface&#8217;s table, but from workspaces
loaded into mantid. All algorithms are also
available as save algorithms from mantid itself.</td>
</tr>
<tr class="row-odd"><td>Custom Format Options</td>
<td>When saving in &#8216;Custom&#8217; this section allows you
to specify if you want a Title and/or Q Resolution
column as well as specifying the delimiter.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="groups">
<h2><a class="toc-backref" href="#id18">Groups</a><a class="headerlink" href="#groups" title="Permalink to this headline">¶</a></h2>
<p>Tabs <strong>Runs</strong>, <strong>Event Handling</strong> and <strong>Settings</strong> contain a tool box with two different groups. These groups
are useful when users need to apply different options to runs measured during the same experiment. For instance,
if some runs need to be analyzed with a wavelength range of <tt class="docutils literal"><span class="pre">LambdaMin=1,</span> <span class="pre">LambdaMax=17</span></tt> but others need a
wavelength range of <tt class="docutils literal"><span class="pre">LambdaMin=1.5,</span> <span class="pre">LambdaMax=15</span></tt>, users may want to transfer the first set to the processing
table in the first group and the second set to the processing table in the second group. The interface will
use the settings in the first group to reduce runs in the first processing table, and the settings in the
second group to reduce runs in the second processing table. The process is analogous for time slicing options
specified in the <strong>Event Handling</strong> tab.</p>
</div>
<div class="section" id="options">
<span id="isis-reflectomety-options"></span><h2><a class="toc-backref" href="#id19">Options</a><a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h2>
<p>Through the options menu, a small number of options may be configured to adjust
the behaviour of the interface.</p>
<p>To open the options menu, click on <strong>Reflectometry -&gt; Options</strong>.</p>
<table border="1" class="docutils">
<colgroup>
<col width="36%" />
<col width="64%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Warn when processing all rows</td>
<td>When the <strong>Process</strong> button is pressed with no rows
selected, all rows will be processed.
If this is enabled, you will be asked if you&#8217;re sure
you want to process all rows first.</td>
</tr>
<tr class="row-odd"><td>Warn when processing only
part of a group</td>
<td>If this is enabled and you press <strong>Process</strong> with
only a subset of a group&#8217;s rows selected, you will be
asked if you&#8217;re sure you that&#8217;s what you intended to
do.</td>
</tr>
<tr class="row-even"><td>Warn when discarding unsaved
changes</td>
<td>If this is enabled and you try to open an existing
table, or start a new table, with unsaved changes to
the current table, you will be asked if you&#8217;re sure
you want to discard the current table.</td>
</tr>
<tr class="row-odd"><td>Rounding</td>
<td>When a column is left blank, the Reflectometry
interface will try to fill it with a sensible value
for you. This option allows you to configure whether
the value should be rounded, and if so, to how many
decimal places.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="troubleshooting">
<h2><a class="toc-backref" href="#id20">Troubleshooting</a><a class="headerlink" href="#troubleshooting" title="Permalink to this headline">¶</a></h2>
<div class="section" id="when-i-try-to-process-i-get-an-error-invalid-value-for-property-filename-list-of-str-lists">
<h3><a class="toc-backref" href="#id21">When I try to process I get an error: &#8220;Invalid value for property Filename (list of str lists) ...&#8221;</a><a class="headerlink" href="#when-i-try-to-process-i-get-an-error-invalid-value-for-property-filename-list-of-str-lists" title="Permalink to this headline">¶</a></h3>
<p>This occurs when Mantid is unable to load a run. If the run was given as a
workspace name, check the spelling. If the run was given as a number, check
that the run number is correct. If the run number is incorrect, check the
number given in the <strong>Run(s)</strong> or <strong>Transmission Run(s)</strong> columns. If the run
number is correct, check the instrument named in the error message is correct.
If the instrument is incorrect, check that the processing instrument selector
(at the bottom right of the interface) is correct.</p>
<p>If the run still isn&#8217;t loading check Mantid&#8217;s user directories are set
correctly, and that the desired run is in one of the given directories. To
manage the user directories, open <strong>File -&gt; Manage User Directories</strong>.</p>
</div>
<div class="section" id="when-i-try-to-process-i-get-an-error-error-encountered-while-stitching-group">
<h3><a class="toc-backref" href="#id22">When I try to process I get an error: &#8220;Error encountered while stitching group ...&#8221;</a><a class="headerlink" href="#when-i-try-to-process-i-get-an-error-error-encountered-while-stitching-group" title="Permalink to this headline">¶</a></h3>
<p>This occurs when Mantid is unable to stitch a group. Please check that at you have
specified at least the bin width. This can be done either by setting a value in column
<strong>dQ/Q</strong> before processing the data, or by using the <em>Stitch1DMany</em> text
box in the <strong>Settings</strong> tab to provide the <em>Params</em> input property like this:
<tt class="docutils literal"><span class="pre">Params=&quot;-0.03&quot;</span></tt> (you may want to replace <tt class="docutils literal"><span class="pre">0.03</span></tt> with a bin size suitable for
your reduction). Note that the &#8220;-&#8221; sign in this case will produce a logarithmic binning in the
stitched workspace. For linear binning, use <tt class="docutils literal"><span class="pre">Params=&quot;0.03&quot;</span></tt>.</p>
</div>
<div class="section" id="when-i-try-to-process-i-get-an-error-invalid-key-value-pair">
<h3><a class="toc-backref" href="#id23">When I try to process I get an error: &#8220;Invalid key value pair, &#8216;...&#8217;&#8221;</a><a class="headerlink" href="#when-i-try-to-process-i-get-an-error-invalid-key-value-pair" title="Permalink to this headline">¶</a></h3>
<p>This occurs when the contents of the options column are invalid.
Key value pairs must be given in the form <tt class="docutils literal"><span class="pre">key</span> <span class="pre">=</span> <span class="pre">value</span></tt>, and if the value
contains commas it <strong>must</strong> be quoted, like so: <tt class="docutils literal"><span class="pre">key</span> <span class="pre">=</span> <span class="pre">&quot;v,a,l,u,e&quot;</span></tt>.</p>
</div>
<div class="section" id="when-i-try-to-process-i-get-an-error-invalid-value-for-property-can-not-convert-false-true-to-boolean">
<h3><a class="toc-backref" href="#id24">When I try to process I get an error: &#8220;Invalid value for property ... Can not convert &#8220;False/True&#8221; to boolean&#8221;</a><a class="headerlink" href="#when-i-try-to-process-i-get-an-error-invalid-value-for-property-can-not-convert-false-true-to-boolean" title="Permalink to this headline">¶</a></h3>
<p>This occurs when a boolean property is set to &#8220;True&#8221; or &#8220;False&#8221;. Please, use <tt class="docutils literal"><span class="pre">1</span></tt> or <tt class="docutils literal"><span class="pre">0</span></tt> instead.</p>
</div>
<div class="section" id="the-open-table-menu-doesn-t-do-anything">
<h3><a class="toc-backref" href="#id25">The <em>Open Table</em> menu doesn&#8217;t do anything</a><a class="headerlink" href="#the-open-table-menu-doesn-t-do-anything" title="Permalink to this headline">¶</a></h3>
<p>The <strong>Open Table</strong> menu contains a list of valid table workspaces to open in the
processing table. If a workspace is not compatible, it will not be listed. So,
if there are no compatible workspaces the <strong>Open Table</strong> menu will be empty.</p>
</div>
<div class="section" id="my-ivsq-workspaces-are-not-being-stitched-correctly">
<h3><a class="toc-backref" href="#id26">My IvsQ workspaces are not being stitched correctly</a><a class="headerlink" href="#my-ivsq-workspaces-are-not-being-stitched-correctly" title="Permalink to this headline">¶</a></h3>
<p>Stitching is controlled by the group a row is in. For stitching to occur, the
rows must be in the same group, and be processed simultaneously.</p>
<p>An easy way to select all the rows in the same group for stitching is to select one of the
rows you want stitched, and then in the menu bar select <strong>Edit -&gt; Expand Selection</strong>.
This will select the group your row is in. If you have another row that you
would like to add to the group, you can do this easily by adding it to the
selection, and then in the menu bar selecting <strong>Edit -&gt; Group Selected</strong>.</p>
</div>
<div class="section" id="the-save-table-option-does-not-output-a-tbl-file">
<h3><a class="toc-backref" href="#id27">The <em>Save Table</em> option does not output a .TBL file</a><a class="headerlink" href="#the-save-table-option-does-not-output-a-tbl-file" title="Permalink to this headline">¶</a></h3>
<p>In the old interface (ISIS Reflectometry) the &#8220;Save Table&#8221; and &#8220;Save Table as..&#8221; options
were used to output a .TBL file into a directory of your choice. This functionality is now
provided by the &#8220;Export .TBL&#8221; option in the Options Menu. This will allow you to save a .TBL file
to a directory of your choice. The &#8220;Save Table&#8221; option in the Options menu now provides a way for you
to save the processing table in a TableWorkspace where the name of the TableWorkspace is provided by the user.</p>
<p><strong>Categories</strong>: <a class="reference external" href="categories/Interfaces.html">Interfaces</a> | <a class="reference external" href="../algorithms/categories/Reflectometry.html">Reflectometry</a></p>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="HFIR Single Crystal Reduction.html" title="Previous Chapter: HFIR Single Crystal Reduction Interface"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; HFIR Single Crys...</span>
    </a>
  </li>
  <li>
    <a href="ISIS SANS v2.html" title="Next Chapter: ISIS SANS"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">ISIS SANS &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
      Last updated on 2019-03-25.<br/>
    </p>
  </div>
</footer>
  </body>
</html>