<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>ISIS SANS</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '4.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="" href="../index.html" />
    <link rel="up" title="Interfaces" href="index.html" />
    <link rel="next" title="Indirect Bayes" href="Indirect Bayes.html" />
    <link rel="prev" title="ISIS Reflectometry Interface" href="ISIS Reflectometry.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>4.0</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://docs.mantidproject.org/nightly/">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="isis-sans">
<span id="isis-sans-v2-ref"></span><h1>ISIS SANS<a class="headerlink" href="#isis-sans" title="Permalink to this headline">¶</a></h1>
<a class="reference internal image-reference" href="../_images/sans_isis_v2_whole_gui.png"><img alt="../_images/sans_isis_v2_whole_gui.png" class="align-right" src="../_images/sans_isis_v2_whole_gui.png" style="width: 800px;" /></a>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#interface-overview" id="id23">Interface Overview</a></li>
<li><a class="reference internal" href="#runs" id="id24">Runs</a><ul>
<li><a class="reference internal" href="#data-table" id="id25">Data Table</a></li>
<li><a class="reference internal" href="#columns" id="id26">Columns</a></li>
<li><a class="reference internal" href="#save-options" id="id27">Save Options</a></li>
</ul>
</li>
<li><a class="reference internal" href="#settings" id="id28">Settings</a><ul>
<li><a class="reference internal" href="#general-wavelength-scale-event-slice-sample" id="id29">General, Wavelength, Scale, Event Slice, Sample</a><ul>
<li><a class="reference internal" href="#general" id="id30">General</a></li>
<li><a class="reference internal" href="#event-slice" id="id31">Event Slice</a></li>
<li><a class="reference internal" href="#compatibility-mode" id="id32">Compatibility Mode</a></li>
<li><a class="reference internal" href="#scale-and-sample" id="id33">Scale and Sample</a></li>
</ul>
</li>
<li><a class="reference internal" href="#mask" id="id34">Mask</a><ul>
<li><a class="reference internal" href="#masking-information" id="id35">Masking information</a></li>
</ul>
</li>
<li><a class="reference internal" href="#adjustment" id="id36">Adjustment</a><ul>
<li><a class="reference internal" href="#monitor-normalization" id="id37">Monitor normalization</a></li>
<li><a class="reference internal" href="#transmission-calculation" id="id38">Transmission calculation</a><ul>
<li><a class="reference internal" href="#incident-monitor" id="id39">Incident monitor</a></li>
<li><a class="reference internal" href="#transmission-targets" id="id40">Transmission targets</a></li>
<li><a class="reference internal" href="#fit-settings" id="id41">Fit settings</a></li>
<li><a class="reference internal" href="#adjustment-files" id="id42">Adjustment files</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#q" id="id43">Q</a><ul>
<li><a class="reference internal" href="#phi-limit" id="id44">Phi limit</a></li>
<li><a class="reference internal" href="#radius-limit" id="id45">Radius limit</a></li>
<li><a class="reference internal" href="#wavelength" id="id46">Wavelength</a></li>
<li><a class="reference internal" href="#cuts" id="id47">Cuts</a></li>
<li><a class="reference internal" href="#q-limits" id="id48">Q limits</a></li>
<li><a class="reference internal" href="#gravity-correction" id="id49">Gravity correction</a></li>
<li><a class="reference internal" href="#q-resolution" id="id50">Q Resolution</a></li>
</ul>
</li>
<li><a class="reference internal" href="#state-diagnostic" id="id51">State Diagnostic</a></li>
</ul>
</li>
<li><a class="reference internal" href="#beam-centre-tab" id="id52">Beam centre tab</a></li>
<li><a class="reference internal" href="#run-summation" id="id53">Run Summation</a><ul>
<li><a class="reference internal" href="#runs-to-sum" id="id54">Runs To Sum</a></li>
<li><a class="reference internal" href="#histogram-binning" id="id55">Histogram Binning</a><ul>
<li><a class="reference internal" href="#custom-binning" id="id56">Custom Binning</a></li>
<li><a class="reference internal" href="#use-binning-from-monitors" id="id57">Use Binning From Monitors</a></li>
<li><a class="reference internal" href="#save-as-event-data" id="id58">Save As Event Data</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#diagnostic-tab" id="id59">Diagnostic tab</a></li>
<li><a class="reference internal" href="#feedback-comments" id="id60">Feedback &amp; Comments</a></li>
</ul>
</div>
<div class="section" id="interface-overview">
<h2><a class="toc-backref" href="#id23">Interface Overview</a><a class="headerlink" href="#interface-overview" title="Permalink to this headline">¶</a></h2>
<p>This interface is used to reduce ISIS SANS data for SANS2D, LOQ,LARMOR and ZOOM.
The interface can be accessed from the main menu of MantidPlot, in <em>Interfaces → SANS → ISIS SANS</em>.
This interface is intended as a gradual replacement for the old ISIS SANS
interface. As of version 4.0 this interface was renamed from <em>ISIS SANS v2 experimental</em> to <em>ISIS SANS</em>, and the
previous SANS interface was deprecated. This change signifies that this interface provides all major functionality and
will be the only ISIS SANS interface subject to active development.</p>
</div>
<div class="section" id="runs">
<h2><a class="toc-backref" href="#id24">Runs</a><a class="headerlink" href="#runs" title="Permalink to this headline">¶</a></h2>
<p id="id1">The <em>Runs</em> tab is the ISIS SANS entry-point. It allows the user to specify the user file and
batch file. Alternatively the user can set the data sets for reduction manually on the data table.
In addition it allows the user to specify her preferred save settings (see more below). The actual
parameters which are loaded from the user file are accessible from the sub-tabs on the <a class="reference internal" href="#id2">Settings</a> tab.</p>
<div class="section" id="data-table">
<h3><a class="toc-backref" href="#id25">Data Table</a><a class="headerlink" href="#data-table" title="Permalink to this headline">¶</a></h3>
<a class="reference internal image-reference" href="../_images/sans_isis_v2_run_tab_data_table.png" id="runsdatatable"><img alt="../_images/sans_isis_v2_run_tab_data_table.png" class="align-center" id="runsdatatable" src="../_images/sans_isis_v2_run_tab_data_table.png" style="width: 800px;" /></a>
<table border="1" class="docutils">
<colgroup>
<col width="6%" />
<col width="21%" />
<col width="73%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>1</strong></td>
<td><strong>Process</strong></td>
<td>If no individual row is selected in the data table, then this will start a reduction.
In this case the user will be asked if she is sure that she wants to reduce all
rows. If rows are selected, then only these will be processed.</td>
</tr>
<tr class="row-even"><td><strong>2</strong></td>
<td><strong>Pause</strong></td>
<td>Allows the user to pause a reduction, change her row selection and continue
the reduction with possibly a different selection.</td>
</tr>
<tr class="row-odd"><td><strong>3</strong></td>
<td><strong>Insert row after</strong></td>
<td>Adds a row after the currently selected row.</td>
</tr>
<tr class="row-even"><td><strong>4</strong></td>
<td><strong>Copy selected</strong></td>
<td>Creates a copy of the selected rows.</td>
</tr>
<tr class="row-odd"><td><strong>5</strong></td>
<td><strong>Cut selected</strong></td>
<td>Cuts the selected rows.</td>
</tr>
<tr class="row-even"><td><strong>6</strong></td>
<td><strong>Paste selected</strong></td>
<td>Pastes rows from the clipboard.</td>
</tr>
<tr class="row-odd"><td><strong>7</strong></td>
<td><strong>Clear selected</strong></td>
<td>Clears the entries from selected rows.
It however does not the delete the rows themselves.</td>
</tr>
<tr class="row-even"><td><strong>8</strong></td>
<td><strong>Delete row</strong></td>
<td>Deletes a selected row.</td>
</tr>
<tr class="row-odd"><td><strong>9</strong></td>
<td><strong>Select instrument</strong></td>
<td>Selects the instrument to use. Note that this setting is used to resolve run numbers.</td>
</tr>
<tr class="row-even"><td><strong>10</strong></td>
<td><strong>Unused Functionality</strong></td>
<td>These icons are not used</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="columns">
<h3><a class="toc-backref" href="#id26">Columns</a><a class="headerlink" href="#columns" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="21%" />
<col width="79%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>SampleScatter</strong></td>
<td>Scatter data file to use. This is the only mandatory field</td>
</tr>
<tr class="row-even"><td><strong>ssp</strong></td>
<td>Sample scatter period, if not specified all periods will be used (where applicable)</td>
</tr>
<tr class="row-odd"><td><strong>SampleTrans</strong></td>
<td>Transmission data file to use.</td>
</tr>
<tr class="row-even"><td><strong>stp</strong></td>
<td>Sample scatter period, if not specified all periods will be used (where applicable)</td>
</tr>
<tr class="row-odd"><td><strong>SampleDirect</strong></td>
<td>Direct data file to use</td>
</tr>
<tr class="row-even"><td><strong>sdp</strong></td>
<td>Sample direct period, if not specified all periods will be used (where applicable)</td>
</tr>
<tr class="row-odd"><td><strong>CanScatter</strong></td>
<td>Scatter datafile for can run</td>
</tr>
<tr class="row-even"><td><strong>csp</strong></td>
<td>Can scatter period, if not specified all periods will be used (where applicable)</td>
</tr>
<tr class="row-odd"><td><strong>CanTrans</strong></td>
<td>Transmission datafile for can run</td>
</tr>
<tr class="row-even"><td><strong>ctp</strong></td>
<td>Can transmission period, if not specified all periods will be used (where applicable)</td>
</tr>
<tr class="row-odd"><td><strong>CanDirect</strong></td>
<td>Direct datafile for can run</td>
</tr>
<tr class="row-even"><td><strong>OutputName</strong></td>
<td>Name of output workspace</td>
</tr>
<tr class="row-odd"><td><strong>User File</strong></td>
<td>User file to use for this row. If specified it will override any options set in the GUI,
otherwise the default file will be used.</td>
</tr>
<tr class="row-even"><td><strong>Sample Thickness</strong></td>
<td>Sets the sample thickness to be used in the reduction.</td>
</tr>
<tr class="row-odd"><td><strong>Options</strong></td>
<td>This column allows the user to provide row specific settings. Currently only <strong>WavelengthMin</strong>
, <strong>WavelengthMax</strong> and <strong>EventSlices</strong> can be set here.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="save-options">
<h3><a class="toc-backref" href="#id27">Save Options</a><a class="headerlink" href="#save-options" title="Permalink to this headline">¶</a></h3>
<a class="reference internal image-reference" href="../_images/sans_isis_save_options.png"><img alt="../_images/sans_isis_save_options.png" class="align-center" src="../_images/sans_isis_save_options.png" style="width: 500px;" /></a>
<table border="1" class="docutils">
<colgroup>
<col width="6%" />
<col width="21%" />
<col width="73%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>1</strong></td>
<td><strong>Save Other</strong></td>
<td>Opens up the save other dialog box <a class="reference internal" href="sans_save_other.html#id1"><em>Save Other</em></a> which allows
for manual saving of reduced data.</td>
</tr>
<tr class="row-even"><td><strong>2</strong></td>
<td><strong>Save location</strong></td>
<td>This sets where the reduced data will be made available for the user. The user
can select to have it only in memory (RAM) with the <strong>Memory</strong> option, saved out as
a file with the <strong>File</strong> option or saved both to file and memory with the <strong>Both</strong>
option.</td>
</tr>
<tr class="row-odd"><td><strong>3</strong></td>
<td><strong>Save file formats</strong></td>
<td>Allows the user to specify the save file format for the reduced data.</td>
</tr>
<tr class="row-even"><td><strong>4</strong></td>
<td><strong>Other</strong></td>
<td>The <strong>zero error free</strong> option ensures that zero error entries get artificially
inflated when the data is saved to a file. This is beneficial if the data is to be
loaded into other analysis software.
The <strong>Use optimizations</strong> option will reuse already loaded data. This can speed up the
data reduction considerably. It is recommended to have this option enabled.
The <strong>Plot results</strong> option controls whether the reduced data is automatically plotted
to a graph or not.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="settings">
<h2><a class="toc-backref" href="#id28">Settings</a><a class="headerlink" href="#settings" title="Permalink to this headline">¶</a></h2>
<a class="reference internal image-reference" href="../_images/sans_isis_v2_general_tab_whole.png"><img alt="../_images/sans_isis_v2_general_tab_whole.png" class="align-right" src="../_images/sans_isis_v2_general_tab_whole.png" style="width: 800px;" /></a>
<p id="id2">The Settings tab and its sub-tabs allow for manipulating and inspecting the reduction parameters which were
initially set through loading a user file.  Currently there are five sub-tabs:</p>
<ul class="simple">
<li><strong>General, Scale, Event Slice, Sample</strong> This tab contains settings which are not associated
with the other tabs. This includes settings regarding the general reduction, the absolute scaling of the data,
event slicing and sample volume scaling.</li>
<li><strong>Mask</strong> The mask tab contains the masking information. It displays the selected masks in the
familiar mask table.</li>
<li><strong>Adjustment</strong> This tab contains settings which are required to generate the adjustment workspaces. This
includes information for the monitor normalization, transmission calculation, pixel-adjustment files and
wavelength-adjustment files.</li>
<li><strong>Q</strong> This tab contains settings which are required for the conversion to momentum space.</li>
<li><strong>State Diagnostic</strong> This tab is currently being made available on an experimental basis. The tab provides
insight into the actual settings which are being passed to the reduction algorithm. Once this interface
reaches maturity this tab should be removed.</li>
</ul>
<div class="section" id="general-wavelength-scale-event-slice-sample">
<h3><a class="toc-backref" href="#id29">General, Wavelength, Scale, Event Slice, Sample</a><a class="headerlink" href="#general-wavelength-scale-event-slice-sample" title="Permalink to this headline">¶</a></h3>
<p>The first tab contains settings which are not associated with the wider themes of the other tabs.</p>
<div class="section" id="general">
<h4><a class="toc-backref" href="#id30">General</a><a class="headerlink" href="#general" title="Permalink to this headline">¶</a></h4>
<a class="reference internal image-reference" href="../_images/sans_isis_v2_general_tab_general.png" id="id3"><img alt="../_images/sans_isis_v2_general_tab_general.png" class="align-center" id="id3" src="../_images/sans_isis_v2_general_tab_general.png" style="width: 800px;" /></a>
<table border="1" class="docutils">
<colgroup>
<col width="5%" />
<col width="23%" />
<col width="72%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>1</strong></td>
<td><strong>Reduction mode</strong></td>
<td>The user can choose to either perform a reduction on the low angle bank (<strong>LAB</strong>),
the high angle bank (<strong>HAB</strong>), on both (<strong>Both</strong>) or she can perform a merged (<strong>Merged</strong>).
If a merged reduction is enabled, then further settings are required (see below).
A merged reduction essentially means that the reduced result from the
low angle bank and the high angle bank are stitched together.</td>
</tr>
<tr class="row-even"><td><strong>2</strong></td>
<td><strong>Merge scale</strong></td>
<td>Sets the scale of a merged reduction. If the <strong>Fit</strong> check-box is enabled, then this scale is
being fitted.</td>
</tr>
<tr class="row-odd"><td><strong>3</strong></td>
<td><strong>Merge shift</strong></td>
<td>Sets the shift of a merged reduction. If the <strong>Fit</strong> check-box is enabled, then this shift is
being fitted.</td>
</tr>
<tr class="row-even"><td><strong>4</strong></td>
<td><strong>Merge fit custom q range</strong></td>
<td>Describes the q region which should be used to determine the merge parameters.</td>
</tr>
<tr class="row-odd"><td><strong>5</strong></td>
<td><strong>Merge custom q range</strong></td>
<td>Describes the q region in which the merged data should be used. Outside of this region the
uncombined <strong>HAB</strong> or <strong>LAB</strong> data is used.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="event-slice">
<h4><a class="toc-backref" href="#id31">Event Slice</a><a class="headerlink" href="#event-slice" title="Permalink to this headline">¶</a></h4>
<a class="reference internal image-reference" href="../_images/sans_isis_v2_general_tab_event_slice.png" id="id4"><img alt="../_images/sans_isis_v2_general_tab_event_slice.png" class="align-center" id="id4" src="../_images/sans_isis_v2_general_tab_event_slice.png" style="width: 800px;" /></a>
<p>In case of data which was measured in event-mode, it is possible to perform
time-of-flight slices of the data and reduce these separately. The input can be:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">start:step:stop</span></tt> specifies time slices from a <tt class="docutils literal"><span class="pre">start</span></tt> value for the <tt class="docutils literal"><span class="pre">stop</span></tt> value
in steps of <tt class="docutils literal"><span class="pre">step</span></tt>.</li>
<li><tt class="docutils literal"><span class="pre">start-stop</span></tt> which specifies a time slice from the <tt class="docutils literal"><span class="pre">start</span></tt> value to the <tt class="docutils literal"><span class="pre">stop</span></tt> value.</li>
<li><tt class="docutils literal"><span class="pre">&gt;start</span></tt> specifies a slice form the <tt class="docutils literal"><span class="pre">start</span></tt> value to the end of the data set.</li>
<li><tt class="docutils literal"><span class="pre">&lt;stop</span></tt> specifies a slice form the start of the data set to the <tt class="docutils literal"><span class="pre">stop</span></tt> value</li>
</ul>
<p>In addition it is possible to concatenate these specifications using comma-separation.
An example would be <em>5-10,12:2:16,20-30</em>.</p>
</div>
<div class="section" id="compatibility-mode">
<h4><a class="toc-backref" href="#id32">Compatibility Mode</a><a class="headerlink" href="#compatibility-mode" title="Permalink to this headline">¶</a></h4>
<a class="reference internal image-reference" href="../_images/sans_isis_v2_general_tab_event_binning.png" id="id5"><img alt="../_images/sans_isis_v2_general_tab_event_binning.png" class="align-center" id="id5" src="../_images/sans_isis_v2_general_tab_event_binning.png" style="width: 800px;" /></a>
<p>The old SANS GUI allows event-mode data as input but will convert it early on
into histogram-mode data, either using the time-of-flight binning parameters
specified by the user or by using the binning inherent to the monitors. The new
SANS GUI can handle event-mode data up to the conversion to momentum transfer. This leads
to more precise results. However if the user wishes to compare the results between
the two GUIs she is advised to enable the compatibility mode. This will ensure
that event-mode data will be converted to histogram-mode data early on, even
in the new reduction framework and will lead to the same results as one
expects from the old GUI.</p>
<p>If the check-box is enabled, then the time-of-flight binning parameters will be
taken from the <em>Event binning</em> input. If this is not set, then the binning
parameters will be taken from the monitor workspace.</p>
</div>
<div class="section" id="scale-and-sample">
<h4><a class="toc-backref" href="#id33">Scale and Sample</a><a class="headerlink" href="#scale-and-sample" title="Permalink to this headline">¶</a></h4>
<a class="reference internal image-reference" href="../_images/sans_isis_v2_general_tab_sample.png" id="id6"><img alt="../_images/sans_isis_v2_general_tab_sample.png" class="align-right" id="id6" src="../_images/sans_isis_v2_general_tab_sample.png" style="width: 800px;" /></a>
<p>This grouping allows the user to specify the absolute scale and sample geometry
information. Note that the geometry information is in millimetres.</p>
<table border="1" class="docutils">
<colgroup>
<col width="8%" />
<col width="22%" />
<col width="71%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>1</strong></td>
<td><strong>Absolute scale</strong></td>
<td>The absolute, dimensionless scale factor.</td>
</tr>
<tr class="row-even"><td><strong>2</strong></td>
<td><strong>Geometry</strong></td>
<td>A geometry selection. <em>Read from file</em> will use the settings
that are stored in the data file. The other options are
<em>Cylinder</em>, <em>FlatPlate</em> and <em>Disc</em>.</td>
</tr>
<tr class="row-odd"><td><strong>3</strong></td>
<td><strong>Height</strong></td>
<td>The sample height. If this is not specified,
the information from the file will be used.</td>
</tr>
<tr class="row-even"><td><strong>4</strong></td>
<td><strong>Width</strong></td>
<td>The sample width. If this is not specified,
the information from the file will be used.</td>
</tr>
<tr class="row-odd"><td><strong>5</strong></td>
<td><strong>Thickness</strong></td>
<td>The sample thickness. If this is not specified,
the information from the file will be used.</td>
</tr>
<tr class="row-even"><td><strong>6</strong></td>
<td><strong>Z offset</strong></td>
<td>The sample offset.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="mask">
<h3><a class="toc-backref" href="#id34">Mask</a><a class="headerlink" href="#mask" title="Permalink to this headline">¶</a></h3>
<a class="reference internal image-reference" href="../_images/sans_isis_v2_mask_tab_whole.png" id="id7"><img alt="../_images/sans_isis_v2_mask_tab_whole.png" class="align-center" id="id7" src="../_images/sans_isis_v2_mask_tab_whole.png" style="width: 800px;" /></a>
<p>The elements on this tab relate to settings which are used during the masking step.</p>
<div class="section" id="masking-information">
<h4><a class="toc-backref" href="#id35">Masking information</a><a class="headerlink" href="#masking-information" title="Permalink to this headline">¶</a></h4>
<a class="reference internal image-reference" href="../_images/sans_isis_v2_masking_tab_masking_table.png" id="id8"><img alt="../_images/sans_isis_v2_masking_tab_masking_table.png" class="align-right" id="id8" src="../_images/sans_isis_v2_masking_tab_masking_table.png" style="width: 400px;" /></a>
<p>The masking table shows detailed information about the masks which will be applied.
These masks include bin masks, cylinder masks, mask files, spectrum masks, angle masks
and line masks for the beam stop arm. If a mask is applied only to a particular detector
then this will be shown in the masking table. Note that data needs to be specified
in order to see the masking information. Also note if a manual change to the
data table or other settings, requires you to update the row selection by
pressing <em>Update Rows</em>.</p>
<table border="1" class="docutils">
<colgroup>
<col width="8%" />
<col width="19%" />
<col width="73%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>1</strong></td>
<td><strong>Table</strong></td>
<td>The masking table which displays all masks which will be applied
to the data set.</td>
</tr>
<tr class="row-even"><td><strong>2</strong></td>
<td><strong>Select row</strong></td>
<td>The masking information is shown for a particular data set in
in the data table. The information for the selected row is
shown.</td>
</tr>
<tr class="row-odd"><td><strong>3</strong></td>
<td><strong>Update rows</strong></td>
<td>Press this button if you have manually updated the data table.
These changes are currently not picked up automatically.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="adjustment">
<h3><a class="toc-backref" href="#id36">Adjustment</a><a class="headerlink" href="#adjustment" title="Permalink to this headline">¶</a></h3>
<a class="reference internal image-reference" href="../_images/sans_isis_v2_adjustment_tab_whole.png" id="id9"><img alt="../_images/sans_isis_v2_adjustment_tab_whole.png" class="align-center" id="id9" src="../_images/sans_isis_v2_adjustment_tab_whole.png" style="width: 800px;" /></a>
<p>This tab provides settings which are required for the creation of the adjustment
workspaces. These adjustments include monitor normalization, transmission
calculation and the application of adjustment files.</p>
<div class="section" id="monitor-normalization">
<h4><a class="toc-backref" href="#id37">Monitor normalization</a><a class="headerlink" href="#monitor-normalization" title="Permalink to this headline">¶</a></h4>
<a class="reference internal image-reference" href="../_images/sans_isis_v2_adjustment_tab_monitor_normalization.png" id="id10"><img alt="../_images/sans_isis_v2_adjustment_tab_monitor_normalization.png" class="align-center" id="id10" src="../_images/sans_isis_v2_adjustment_tab_monitor_normalization.png" style="width: 800px;" /></a>
<table border="1" class="docutils">
<colgroup>
<col width="8%" />
<col width="32%" />
<col width="60%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>1</strong></td>
<td><strong>Incident monitor</strong></td>
<td>The incident monitor spectrum number.</td>
</tr>
<tr class="row-even"><td><strong>2</strong></td>
<td><strong>Use interpolating rebin</strong></td>
<td>Check if an interpolating rebin should be used instead
of a normal rebin.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="transmission-calculation">
<h4><a class="toc-backref" href="#id38">Transmission calculation</a><a class="headerlink" href="#transmission-calculation" title="Permalink to this headline">¶</a></h4>
<p id="id11">The main inputs for the transmission calculation are concerned with the incident monitor,
the monitors/detectors which measure the transmission and the fit parameters for the
transmission calculation.</p>
<div class="section" id="incident-monitor">
<h5><a class="toc-backref" href="#id39">Incident monitor</a><a class="headerlink" href="#incident-monitor" title="Permalink to this headline">¶</a></h5>
<a class="reference internal image-reference" href="../_images/sans_isis_v2_adjustment_tab_monitor_normalization.png"><img alt="../_images/sans_isis_v2_adjustment_tab_monitor_normalization.png" class="align-center" src="../_images/sans_isis_v2_adjustment_tab_monitor_normalization.png" style="width: 800px;" /></a>
<table border="1" class="docutils">
<colgroup>
<col width="8%" />
<col width="32%" />
<col width="60%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>1</strong></td>
<td><strong>Incident monitor</strong></td>
<td>The incident monitor spectrum number.</td>
</tr>
<tr class="row-even"><td><strong>2</strong></td>
<td><strong>Use interpolating rebin</strong></td>
<td>Check if an interpolating rebin should be used instead
of a normal rebin.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="transmission-targets">
<h5><a class="toc-backref" href="#id40">Transmission targets</a><a class="headerlink" href="#transmission-targets" title="Permalink to this headline">¶</a></h5>
<a class="reference internal image-reference" href="../_images/sans_isis_v2_adjustment_tab_transmission_monitor.png"><img alt="../_images/sans_isis_v2_adjustment_tab_transmission_monitor.png" class="align-center" src="../_images/sans_isis_v2_adjustment_tab_transmission_monitor.png" style="width: 800px;" /></a>
<table border="1" class="docutils">
<colgroup>
<col width="5%" />
<col width="20%" />
<col width="74%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>1</strong></td>
<td><strong>Transmission targets</strong></td>
<td>This combo box allows the user to select the transmission target. <em>Transmission monitor</em> will
take the transmission data from the monitor which has been selected in the
<strong>Transmission monitor</strong> field. <em>Region of interest on bank</em> will take the transmission data
from the fields <strong>Radius</strong>, <strong>ROI files</strong> and <strong>Mask files</strong>.</td>
</tr>
<tr class="row-even"><td><strong>2</strong></td>
<td><strong>Transmission monitor</strong></td>
<td>The monitor which will be used for the transmission calculation.</td>
</tr>
<tr class="row-odd"><td><strong>3</strong></td>
<td><strong>M4 shift</strong></td>
<td>An optional shift for the M4 monitor.</td>
</tr>
<tr class="row-even"><td><strong>4</strong></td>
<td><strong>Radius</strong></td>
<td>This will select all detectors in the specified radius around the beam centre to contribute
to the transmission data.</td>
</tr>
<tr class="row-odd"><td><strong>5</strong></td>
<td><strong>ROI files</strong></td>
<td>A comma-separated list of paths to ROI files. The detectors specified in the ROI files
contribute to the transmission data.</td>
</tr>
<tr class="row-even"><td><strong>6</strong></td>
<td><strong>Mask files</strong></td>
<td>A comma-separated list of paths to Mask files. The detectors specified in the Mask files
are excluded from the transmission data.</td>
</tr>
</tbody>
</table>
<p>Additional information:</p>
<p>As mentioned above the transmission target can be a monitor (e.g. M3 or M4) or a region of interest on the detector bank itself.
If the preferred target is a selection of pixels on the detector bank itself, then the user can specify a region of interest.
The pixels in the region of interest contribute to the transmission calculation. There are several ways to specify the region of interest:</p>
<ul class="simple">
<li>Radius: A radius in mm with its centre at the beam centre can be specified. Pixels in this radius are added to the region of interest.</li>
<li>A list of Region-Of-Interest files (ROI files) can be specified. The ROI file is equivalent to a mask file created in the Instrument View Window.</li>
</ul>
<p>The combination of both methods can also be specified. This results in the union of all relevant pixels. In order to avoid certain areas on the detector,
a list of Mask-files can be specified. The Mask file is equivalent to a mask file created in the Instrument View Window.
Note that this mask file is only used for the transmission calculation.</p>
<p>The most general selection on the detector bank will be a specified radius, a list of ROI files and a list of Mask files. Note that individual
pixels which are specified by either the radius setting or a ROI file and at the same time by the Mask file, will not be considered
for the transmission calculation.</p>
<p>The following example/image should help to clarify the selection process:</p>
<a class="reference internal image-reference" href="../_images/sans_isis_v2_trans_calc_example.png"><img alt="../_images/sans_isis_v2_trans_calc_example.png" class="align-center" src="../_images/sans_isis_v2_trans_calc_example.png" style="width: 400px;" /></a>
<p>The radius selection (red) picks pixels 8, 9, 13 and14. The ROI files (red) select pixels 9, 10, 11, 12, 14, 15, 16 and 17.
This means pixels 8 to 17 are selected. The Mask file (black) selects pixels 14, 15, 19, 20, 24 and 25.
This means that pixels 14 and 15 are dropped and pixels 8, 9, 10, 11, 12, 13, 16 and 17 are being used in the final
transmission calculation.</p>
</div>
<div class="section" id="fit-settings">
<h5><a class="toc-backref" href="#id41">Fit settings</a><a class="headerlink" href="#fit-settings" title="Permalink to this headline">¶</a></h5>
<a class="reference internal image-reference" href="../_images/sans_isis_v2_adjustment_tab_transmission_fit.png"><img alt="../_images/sans_isis_v2_adjustment_tab_transmission_fit.png" class="align-center" src="../_images/sans_isis_v2_adjustment_tab_transmission_fit.png" style="width: 800px;" /></a>
<table border="1" class="docutils">
<colgroup>
<col width="6%" />
<col width="13%" />
<col width="6%" />
<col width="24%" />
<col width="51%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>1</strong></td>
<td colspan="4"><dl class="first last docutils">
<dt><strong>Fit selection</strong>        | If <em>Both</em> is selected, then the Sample and Can will have the same fit settings applied to them.</dt>
<dd><div class="first last line-block">
<div class="line">If <em>Separate</em> is selected, then the Sample and Can will have different fit settings applied</div>
<div class="line">to them. In this case a second row with fit options will appear.</div>
</div>
</dd>
</dl>
</td>
</tr>
<tr class="row-even"><td><strong>2</strong></td>
<td colspan="2"><strong>Use fit</strong></td>
<td colspan="2">If fitting should be used for the transmission calculation.</td>
</tr>
<tr class="row-odd"><td><strong>3</strong></td>
<td colspan="2"><strong>Fit type</strong></td>
<td colspan="2">The type of fitting for the transmission calculation
This can be <em>Linear</em>, <em>Logarithmic</em> or <em>Polynomial</em>.</td>
</tr>
<tr class="row-even"><td><strong>4</strong></td>
<td colspan="2"><strong>Polynomal order</strong></td>
<td colspan="2">If <em>Polynomial</em> has been chosen in the <strong>Fit type</strong> input, then the polynomial order of the
fit can be set here.</td>
</tr>
<tr class="row-odd"><td><strong>5</strong></td>
<td colspan="2"><strong>Custom wavelength</strong></td>
<td colspan="2">A custom wavelength range for the fit can be specified here.</td>
</tr>
<tr class="row-even"><td><strong>6</strong></td>
<td colspan="2"><strong>Show Transmission</strong></td>
<td colspan="2">Controls whether the transmission workspaces are output during reduction.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="adjustment-files">
<h5><a class="toc-backref" href="#id42">Adjustment files</a><a class="headerlink" href="#adjustment-files" title="Permalink to this headline">¶</a></h5>
<a class="reference internal image-reference" href="../_images/sans_isis_v2_adjustment_tab_files.png"><img alt="../_images/sans_isis_v2_adjustment_tab_files.png" class="align-center" src="../_images/sans_isis_v2_adjustment_tab_files.png" style="width: 800px;" /></a>
<table border="1" class="docutils">
<colgroup>
<col width="5%" />
<col width="24%" />
<col width="71%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>1</strong></td>
<td><strong>Pixel adjustment det 1</strong></td>
<td>File name of the pixel adjustment file for the first detector.
The file to be loaded is a &#8216;flat cell&#8217; (flood source) calibration file containing the relative
efficiency of individual detector pixels. Note that the numbers in this file include solid
angle corrections for the sample-detector distance at which the flood field was measured.
On SANS2D this flood field data is then rescaled for whatever sample-detector distance
the experimental data was collected at. This file must be in the RKH format and the
first column a spectrum number.</td>
</tr>
<tr class="row-even"><td><strong>2</strong></td>
<td><strong>Pixel adjustment det 2</strong></td>
<td>File name of the pixel adjustment file for the second detector. See more information above.</td>
</tr>
<tr class="row-odd"><td><strong>3</strong></td>
<td><strong>Wavelength adjustment det 1</strong></td>
<td>File name of the wavelength adjustment file for the first detector.
The content specifies the detector efficiency ratio vs. wavelength.
These files must be in the RKH format.</td>
</tr>
<tr class="row-even"><td><strong>4</strong></td>
<td><strong>Wavelength adjustment det 2</strong></td>
<td>File name of the wavelength adjustment file for the second detector.
See more information above.</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="section" id="q">
<h3><a class="toc-backref" href="#id43">Q</a><a class="headerlink" href="#q" title="Permalink to this headline">¶</a></h3>
<a class="reference internal image-reference" href="../_images/sans_isis_v2_q_tab_whole.png" id="id12"><img alt="../_images/sans_isis_v2_q_tab_whole.png" class="align-center" id="id12" src="../_images/sans_isis_v2_q_tab_whole.png" style="width: 800px;" /></a>
<p>The elements on this tab relate to settings which are used during the conversion to momentum transfer step of the reduction.</p>
<div class="section" id="phi-limit">
<h4><a class="toc-backref" href="#id44">Phi limit</a><a class="headerlink" href="#phi-limit" title="Permalink to this headline">¶</a></h4>
<a class="reference internal image-reference" href="../_images/sans_isis_v2_masking_tab_phi.png" id="id13"><img alt="../_images/sans_isis_v2_masking_tab_phi.png" class="align-right" id="id13" src="../_images/sans_isis_v2_masking_tab_phi.png" style="width: 400px;" /></a>
<p>This group allows the user to specify an angle (pizza-slice) mask. The angles
are in degree.</p>
<table border="1" class="docutils">
<colgroup>
<col width="11%" />
<col width="27%" />
<col width="62%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>1</strong></td>
<td><strong>Start angle</strong></td>
<td>The starting angle.</td>
</tr>
<tr class="row-even"><td><strong>2</strong></td>
<td><strong>Stop angle</strong></td>
<td>The stop angle.</td>
</tr>
<tr class="row-odd"><td><strong>3</strong></td>
<td><strong>Use mirror</strong></td>
<td>If the mirror sector should be used.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="radius-limit">
<h4><a class="toc-backref" href="#id45">Radius limit</a><a class="headerlink" href="#radius-limit" title="Permalink to this headline">¶</a></h4>
<a class="reference internal image-reference" href="../_images/sans_isis_v2_masking_tab_radius.png" id="id14"><img alt="../_images/sans_isis_v2_masking_tab_radius.png" class="align-right" id="id14" src="../_images/sans_isis_v2_masking_tab_radius.png" style="width: 400px;" /></a>
<p>These settings allow for a hollow cylinder mask. The <em>Min</em> entry is the inner
radius and the <em>Max</em> entry is the outer radius of the
hollow cylinder.</p>
</div>
<div class="section" id="wavelength">
<h4><a class="toc-backref" href="#id46">Wavelength</a><a class="headerlink" href="#wavelength" title="Permalink to this headline">¶</a></h4>
<a class="reference internal image-reference" href="../_images/sans_isis_v2_general_tab_wavelength_conversion.png" id="id15"><img alt="../_images/sans_isis_v2_general_tab_wavelength_conversion.png" class="align-center" id="id15" src="../_images/sans_isis_v2_general_tab_wavelength_conversion.png" style="width: 800px;" /></a>
<p>The settings provide the binning for the conversion from
time-of-flight units to wavelength units. Note that all units are Angstrom.
Depending on which Step type you have chosen you will be asked to enter either
a Max and Min wavelength value between which to do the reduction or to specify a
set of wavelength ranges to reduce between. The syntax for the latter case is the
same as that used to specify event slices and is</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">start:step:stop</span></tt> specifies wavelength slices from a <tt class="docutils literal"><span class="pre">start</span></tt> value for the <tt class="docutils literal"><span class="pre">stop</span></tt> value
in steps of <cite>step</cite>.</li>
<li><tt class="docutils literal"><span class="pre">start-stop</span></tt> which specifies a wavelength slice from the <tt class="docutils literal"><span class="pre">start</span></tt> value to the <tt class="docutils literal"><span class="pre">stop</span></tt> value.</li>
<li><tt class="docutils literal"><span class="pre">&gt;start</span></tt> specifies a slice from the <tt class="docutils literal"><span class="pre">start</span></tt> value to the end of the data set.</li>
<li><tt class="docutils literal"><span class="pre">&lt;stop</span></tt> specifies a slice from the start of the data set to the <tt class="docutils literal"><span class="pre">stop</span></tt> value</li>
</ul>
<p>In addition it is possible to concatenate these specifications using comma-separation.
An example would be <tt class="docutils literal"><span class="pre">5-10,12:2:16,20-30</span></tt>.</p>
<table border="1" class="docutils">
<colgroup>
<col width="11%" />
<col width="23%" />
<col width="66%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>1</strong></td>
<td><strong>Min</strong></td>
<td>The lower bound of the wavelength bins.</td>
</tr>
<tr class="row-even"><td><strong>2</strong></td>
<td><strong>Max</strong></td>
<td>The upper bound of the wavelength bins.</td>
</tr>
<tr class="row-odd"><td><strong>3</strong></td>
<td><strong>Step</strong></td>
<td>The step of the wavelength bins.</td>
</tr>
<tr class="row-even"><td><strong>4</strong></td>
<td><strong>Step type</strong></td>
<td>The step type of the wavelength bins,
i.e. linear, logarithmic range linear or
ranged logarithmic.</td>
</tr>
<tr class="row-odd"><td><strong>5</strong></td>
<td><strong>Ranges</strong></td>
<td>A set of wavelength ranges. This option
only appears if a range step type is
selected.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="cuts">
<h4><a class="toc-backref" href="#id47">Cuts</a><a class="headerlink" href="#cuts" title="Permalink to this headline">¶</a></h4>
<a class="reference internal image-reference" href="../_images/sans_isis_v2_q_tab_cuts.png" id="id16"><img alt="../_images/sans_isis_v2_q_tab_cuts.png" class="align-center" id="id16" src="../_images/sans_isis_v2_q_tab_cuts.png" style="width: 800px;" /></a>
<p>These allow radius and wavelength cuts to be set. They
are passed to <a class="reference internal" href="../algorithms/Q1D-v2.html#algm-q1d"><em>Q1D</em></a> as the RadiusCut and
WaveCut respectively.</p>
</div>
<div class="section" id="q-limits">
<h4><a class="toc-backref" href="#id48">Q limits</a><a class="headerlink" href="#q-limits" title="Permalink to this headline">¶</a></h4>
<a class="reference internal image-reference" href="../_images/sans_isis_v2_q_tab_q_limits.png" id="id17"><img alt="../_images/sans_isis_v2_q_tab_q_limits.png" class="align-center" id="id17" src="../_images/sans_isis_v2_q_tab_q_limits.png" style="width: 800px;" /></a>
<p>The entries here allow for the providing the binning settings during the momentum transfer conversion. In the
case of a 1D reduction the user can specify standard bin information. In the case of a 2D reduction the user can only
specify the maximal momentum transfer value, as well as the step size and the step type.</p>
<table border="1" class="docutils">
<colgroup>
<col width="6%" />
<col width="14%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>1</strong></td>
<td><strong>1D settings</strong></td>
<td>The 1D settings will be used if the reduction dimensionality has been set to 1D. The user can
specify the start, stop, step size and step type of the momentum transfer bins.</td>
</tr>
<tr class="row-even"><td><strong>2</strong></td>
<td><strong>2D settings</strong></td>
<td>The 2D settings will be used if the reduction dimensionality has been set to 2D. The user can
specify the stop value, step size and step type of the momentum transfer bins. The start
value is 0. Note that the binning is same for both dimensions.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="gravity-correction">
<h4><a class="toc-backref" href="#id49">Gravity correction</a><a class="headerlink" href="#gravity-correction" title="Permalink to this headline">¶</a></h4>
<a class="reference internal image-reference" href="../_images/sans_isis_v2_q_tab_gravity_correction.png" id="id18"><img alt="../_images/sans_isis_v2_q_tab_gravity_correction.png" class="align-center" id="id18" src="../_images/sans_isis_v2_q_tab_gravity_correction.png" style="width: 800px;" /></a>
<p>Enabling the check-box will enable the gravity correction. In this case an additional length can be specified.</p>
</div>
<div class="section" id="q-resolution">
<h4><a class="toc-backref" href="#id50">Q Resolution</a><a class="headerlink" href="#q-resolution" title="Permalink to this headline">¶</a></h4>
<a class="reference internal image-reference" href="../_images/sans_isis_v2_q_tab_q_resolution.png" id="id19"><img alt="../_images/sans_isis_v2_q_tab_q_resolution.png" class="align-center" id="id19" src="../_images/sans_isis_v2_q_tab_q_resolution.png" style="width: 800px;" /></a>
<p>If you want to perform a momentum transfer resolution calculation then enable the check-box of this group.
For detailed information please refer to <a class="reference internal" href="../algorithms/TOFSANSResolutionByPixel-v1.html#algm-tofsansresolutionbypixel"><em>TOFSANSResolutionByPixel</em></a>.</p>
<table border="1" class="docutils">
<colgroup>
<col width="5%" />
<col width="27%" />
<col width="68%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>1</strong></td>
<td><strong>Aperture type</strong></td>
<td>The aperture for the momentum transfer resolution calculation can either be <em>Circular</em> or
<em>Rectangular</em>.</td>
</tr>
<tr class="row-even"><td><strong>2</strong></td>
<td><strong>Settings for rectangular aperture</strong></td>
<td>If the <em>Rectangular</em> aperture has been selected, then fields <em>H1</em> (source height), <em>W1</em> (source
width), <em>H2</em> (sample height) and <em>W2</em> (sample width) will have to be provided.</td>
</tr>
<tr class="row-odd"><td><strong>3</strong></td>
<td><strong>Settings for circular aperture</strong></td>
<td>If the <em>Circular</em> aperture has been selected, then fields <em>A1</em> (source diameter) and <em>A2</em>
(sample diameter) will have to be provided.</td>
</tr>
<tr class="row-even"><td><strong>4</strong></td>
<td><strong>Collimation length</strong></td>
<td>The collimation length.</td>
</tr>
<tr class="row-odd"><td><strong>5</strong></td>
<td><strong>Moderator file</strong></td>
<td>This file contains the moderator time spread as a function of wavelength.</td>
</tr>
<tr class="row-even"><td><strong>6</strong></td>
<td><strong>Delta r</strong></td>
<td>The virtual ring width on the detector.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="state-diagnostic">
<h3><a class="toc-backref" href="#id51">State Diagnostic</a><a class="headerlink" href="#state-diagnostic" title="Permalink to this headline">¶</a></h3>
<a class="reference internal image-reference" href="../_images/sans_isis_v2_state_diagnostic.png" id="id20"><img alt="../_images/sans_isis_v2_state_diagnostic.png" class="align-right" id="id20" src="../_images/sans_isis_v2_state_diagnostic.png" style="width: 800px;" /></a>
<p>This tab only exits for diagnostic purposes and might be removed (or hidden) when the GUI has
reached maturity. The interface allows instrument scientists and developers to inspect all settings in one place and
check for potential inconsistencies. The settings are presented in a tree view which reflects the hierarchical nature
of the SANS state implementation of the reduction back-end.</p>
<p>To inspect the reduction settings for a particular data set it is necessary to press the <em>Update rows</em> button to ensure
that the most recent setting changes have been captured. Then the desired row can be selected from the drop-down
menu. The result will be displayed in the tree view.</p>
<p>Note that the settings are logically grouped by significant stages in the reduction. On a high level these are:</p>
<table border="1" class="docutils">
<colgroup>
<col width="17%" />
<col width="24%" />
<col width="10%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>adjustment</strong></td>
<td colspan="3">This group has four sub-groups: <em>calculate_transmission</em>, <em>normalize_to_monitor</em>,
<em>wavelength_and_pixel_adjustment</em> and <em>wide_angle_correction</em>.
<em>calculate_transmission</em> contains information regarding the transmission calculation, e.g.
the transmission monitor.
<em>normalize_to_monitor</em> contains information regarding the monitor normalization, e.g.
the incident monitor.
<em>wavelength_and_pixel_adjustment</em> contains information required to generate the wavelength- and
pixel-adjustment workspaces, e.g. the adjustment files.
<em>wide_angle_correction</em> contains information if the wide angle correction should be used.</td>
</tr>
<tr class="row-even"><td><strong>compatibility</strong></td>
<td colspan="3">This group contains information for the compatibility mode, e.g. the time-of-flight binning.</td>
</tr>
<tr class="row-odd"><td><strong>convert_to_q</strong></td>
<td colspan="3">This group contains information for the the momentum transfer conversion, e.g. the momentum
transfer binning information.</td>
</tr>
<tr class="row-even"><td><strong>data</strong></td>
<td colspan="3">This group contains information about the data which is to be reduced.</td>
</tr>
<tr class="row-odd"><td><strong>mask</strong></td>
<td colspan="3">This group contains information about masking, e.g. the mask files</td>
</tr>
<tr class="row-even"><td><strong>move</strong></td>
<td colspan="3">This group contains information about the position of the instrument. This is for example used
when a data set is being loaded.</td>
</tr>
<tr class="row-odd"><td><strong>reduction</strong></td>
<td colspan="3">This group contains general reduction information, e.g. the reduction dimensionality.</td>
</tr>
<tr class="row-even"><td><strong>save</strong></td>
<td colspan="3">This group contains information about how the data should be saved, e.g. the file formats.</td>
</tr>
<tr class="row-odd"><td><strong>scale</strong></td>
<td colspan="3">This group contains information about the absolute scaling and the volume scaling of the data
set. This means it contains the information for the sample geometry.</td>
</tr>
<tr class="row-even"><td><strong>slice</strong></td>
<td colspan="3">This group contains information about event slicing.</td>
</tr>
<tr class="row-odd"><td><strong>wavelength</strong></td>
<td colspan="3">This group contains information about the wavelength conversion.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="beam-centre-tab">
<h2><a class="toc-backref" href="#id52">Beam centre tab</a><a class="headerlink" href="#beam-centre-tab" title="Permalink to this headline">¶</a></h2>
<a class="reference internal image-reference" href="../_images/sans_isis_v2_beam_centre_tab.png"><img alt="../_images/sans_isis_v2_beam_centre_tab.png" class="align-right" src="../_images/sans_isis_v2_beam_centre_tab.png" style="width: 800px;" /></a>
<p id="beam">The beam centre tab allows the position of the beam centre to be set either manually by the user or by running the beam centre
finder.</p>
<table border="1" class="docutils">
<colgroup>
<col width="6%" />
<col width="21%" />
<col width="73%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>1</strong></td>
<td><strong>Centre Position LAB</strong></td>
<td>The centre position of the low angle bank. The first coordinate is horizontal
and the second vertical. These boxes are populated by the user file and the values here
are used by the reduction.</td>
</tr>
<tr class="row-even"><td><strong>2</strong></td>
<td><strong>Centre Position HAB</strong></td>
<td>The centre position of the high angle bank. The first coordinate is horizontal
and the second vertical. These boxes are populated by the user file and the values here
are used by the reduction.</td>
</tr>
<tr class="row-odd"><td><strong>3</strong></td>
<td><strong>Minimum radius limit</strong></td>
<td>The minimum radius of the region used to ascertain centre position.</td>
</tr>
<tr class="row-even"><td><strong>4</strong></td>
<td><strong>Maximum radius limit</strong></td>
<td>The maximum radius of the region used to ascertain centre position.</td>
</tr>
<tr class="row-odd"><td><strong>5</strong></td>
<td><strong>Minimum Q limit</strong></td>
<td>The minimum Q of the region used to ascertain centre position.</td>
</tr>
<tr class="row-even"><td><strong>6</strong></td>
<td><strong>Maximum Q limit</strong></td>
<td>The maximum Q of the region used to ascertain centre position.</td>
</tr>
<tr class="row-odd"><td><strong>7</strong></td>
<td><strong>Max iterations</strong></td>
<td>The maximum number of iterations the algorithm will perform before concluding its
search.</td>
</tr>
<tr class="row-even"><td><strong>8</strong></td>
<td><strong>Tolerance</strong></td>
<td>If the centre position moves by less than this in an iteration the algorithm will
conclude its search.</td>
</tr>
<tr class="row-odd"><td><strong>9</strong></td>
<td><strong>General Options</strong></td>
<td>The <strong>Verbose</strong> option will store the output workspaces from all iterations in memory.
The <strong>Initial COM</strong> option will if checked use a centre of mass estimate as the starting
point of the search rather than the user input value.</td>
</tr>
<tr class="row-even"><td><strong>10</strong></td>
<td><strong>Left/Right</strong></td>
<td>Controls whether the beam centre finder searches for the centre in the
left/right and up/down directions.</td>
</tr>
<tr class="row-odd"><td><strong>11</strong></td>
<td><strong>Run</strong></td>
<td>Runs the beam centre finder the boxes <strong>1</strong> and <strong>2</strong> are updated with new
values upon completion.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="run-summation">
<h2><a class="toc-backref" href="#id53">Run Summation</a><a class="headerlink" href="#run-summation" title="Permalink to this headline">¶</a></h2>
<a class="reference internal image-reference" href="../_images/sans_isis_v2_add_runs_tab.png"><img alt="../_images/sans_isis_v2_add_runs_tab.png" class="align-center" src="../_images/sans_isis_v2_add_runs_tab.png" style="width: 800px;" /></a>
<p id="id21">The Run Summation tab is used to perform addition of two or more run files, saving the output to a
single file. The user builds a list of multiple histogram or event files (but not mixed) before
pressing the sum button to produce a single output file in the mantid output directory.</p>
<div class="section" id="runs-to-sum">
<h3><a class="toc-backref" href="#id54">Runs To Sum</a><a class="headerlink" href="#runs-to-sum" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="6%" />
<col width="22%" />
<col width="72%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>1</strong></td>
<td><strong>Run Query Box</strong></td>
<td>This box is used to add runs to the summation table below. The user can enter one or
more comma separated run numbers and press <strong>Add</strong> or the enter key to search for runs
with a matching number.</td>
</tr>
<tr class="row-even"><td><strong>2</strong></td>
<td><strong>Run Summation List</strong></td>
<td>This list contains the files to be summed.</td>
</tr>
<tr class="row-odd"><td><strong>3</strong></td>
<td><strong>Browse</strong></td>
<td>This button is used to select one or more nexus files to be added to the summation
table.</td>
</tr>
<tr class="row-even"><td><strong>4</strong></td>
<td><strong>Manage Directories</strong></td>
<td>Opens the &#8216;Manage User Directories&#8217; window allowing the user to add/remove directories
from the mantid search path and to set the &#8216;Output Folder&#8217; where the summation result
will be saved.</td>
</tr>
<tr class="row-odd"><td><strong>5</strong></td>
<td><strong>Remove</strong></td>
<td>Removes an entry from the summation table. Note, this does not delete the file itself,
it just removes it from the list of files to be summed.</td>
</tr>
<tr class="row-even"><td><strong>6</strong></td>
<td><strong>Remove All</strong></td>
<td>Removes all entries from the summation table. As above, this will only remove the
entries from the table, not the files themselves.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="histogram-binning">
<h3><a class="toc-backref" href="#id55">Histogram Binning</a><a class="headerlink" href="#histogram-binning" title="Permalink to this headline">¶</a></h3>
<p>This panel allows the user to specify the binning parameters to be applied when summing event data.
There are three different ways to add files containing event data <a class="footnote-reference" href="#no-effect-when-non-event" id="id22">[1]</a>.</p>
<div class="section" id="custom-binning">
<h4><a class="toc-backref" href="#id56">Custom Binning</a><a class="headerlink" href="#custom-binning" title="Permalink to this headline">¶</a></h4>
<p>If this option is chosen a line edit field becomes available which the user can use to set the
preferred binning boundaries. The format of this input is identical to the format required by the
<a class="reference internal" href="../algorithms/Rebin-v1.html"><em>Rebin Algorithm</em></a>.</p>
<blockquote>
<div>A comma separated list of first bin boundary, width, last bin boundary. Optionally this can be
followed by a comma and more widths and last boundary pairs. Optionally this can also be a single
number, which is the bin width. In this case, the boundary of binning will be determined by minimum
and maximum TOF values among all events, or previous binning boundary, in case of event Workspace,
or non-event Workspace, respectively. Negative width values indicate logarithmic binning.</div></blockquote>
</div>
<div class="section" id="use-binning-from-monitors">
<h4><a class="toc-backref" href="#id57">Use Binning From Monitors</a><a class="headerlink" href="#use-binning-from-monitors" title="Permalink to this headline">¶</a></h4>
<p>If this option is chosen the binning is taken from the monitors.</p>
</div>
<div class="section" id="save-as-event-data">
<h4><a class="toc-backref" href="#id58">Save As Event Data</a><a class="headerlink" href="#save-as-event-data" title="Permalink to this headline">¶</a></h4>
<p>If this option is chosen, the output file will contain event data. The output is not an event
workspace but rather a group workspace, which contains two child event workspaces, one for the
added event data and one for the added monitor data.</p>
<p>With <strong>&#8216;Overlay Event Workspaces&#8217; Disabled</strong> the event data from the files is added using the event
the <a class="reference internal" href="../algorithms/Plus-v1.html"><em>Plus Algorithm</em></a>. Timestamps of the events and of the logs are not
changed as indicated in the image below.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/sans_isis_v2_add_tabs_no_overlay.png"><img alt="../_images/sans_isis_v2_add_tabs_no_overlay.png" src="../_images/sans_isis_v2_add_tabs_no_overlay.png" style="width: 600px;" /></a>
<p class="caption">Simple addition of event data</p>
</div>
<p>With <strong>&#8216;Overlay Event Workspaces&#8217; Enabled</strong> and <strong>no Additional Time Shifts</strong> specified, the event data of
the different files is shifted on top of each other.</p>
<p>In the case of two workspaces the time difference between them is determined by the difference
between their first entry in the proton charge log. This time difference is then applied to all
timestamps of the second workspace. The second workspace is essentially laid on the first. The same
principle applies if more than two workspaces are involved as this is a pairwise operation. The
working principle is illustrated below:</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/sans_isis_v2_add_tabs_overlay.png"><img alt="../_images/sans_isis_v2_add_tabs_overlay.png" src="../_images/sans_isis_v2_add_tabs_overlay.png" style="width: 600px;" /></a>
<p class="caption">Adding two workspaces by overlaying them</p>
</div>
<p>Note that the underlying mechanism for time shifting is provided by the
<a class="reference internal" href="../algorithms/ChangeTimeZero-v1.html"><em>ChangeTimeZero Algorithm</em></a>. Using this option will result in a
change to the history of the underlying data.</p>
<p>With <strong>&#8216;Overlay Event Workspaces&#8217; Enabled</strong> you can specify <strong>Additional Time Shifts</strong>.
Additional time shifts are specified as a comma separated list of numbers where each shift is the
time to shift by in seconds. The list should contain exactly <em>N-1</em> entries where <em>N</em> is the number of
runs to be summed.</p>
<p>Similar to the case above the workspaces are overlaid. This specified time shift is in addition to
the actual overlay operation. A positive time shift will shift the second workspace into the future,
whereas a negative time shift causes a shift into the past. This allows the user to fine tune the
overlay mechanism. Both situations are illustrated below.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/sans_isis_v2_add_tabs_pos_time_shift.png"><img alt="../_images/sans_isis_v2_add_tabs_pos_time_shift.png" src="../_images/sans_isis_v2_add_tabs_pos_time_shift.png" style="width: 500px;" /></a>
<p class="caption">Overlaid workspaces with a positive time shift (into the future).</p>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/sans_isis_v2_add_tabs_neg_time_shift.png"><img alt="../_images/sans_isis_v2_add_tabs_neg_time_shift.png" src="../_images/sans_isis_v2_add_tabs_neg_time_shift.png" style="width: 500px;" /></a>
<p class="caption">Overlaid workspaces with a negative time shift (into the past).</p>
</div>
<p>Just as above, using this option means that the history of the underlying data will be changed.</p>
<table class="docutils footnote" frame="void" id="no-effect-when-non-event" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id22">[1]</a></td><td>These options have no effect when adding non-event data files.</td></tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="section" id="diagnostic-tab">
<h2><a class="toc-backref" href="#id59">Diagnostic tab</a><a class="headerlink" href="#diagnostic-tab" title="Permalink to this headline">¶</a></h2>
<a class="reference internal image-reference" href="../_images/sans_isis_v2_diagnostic.png"><img alt="../_images/sans_isis_v2_diagnostic.png" class="align-right" src="../_images/sans_isis_v2_diagnostic.png" style="width: 800px;" /></a>
<p id="diagnostic">The diagnistic tab allows quick integrations to be done on a workspace.</p>
<table border="1" class="docutils">
<colgroup>
<col width="6%" />
<col width="21%" />
<col width="73%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>1</strong></td>
<td><strong>User File</strong></td>
<td>The currently loaded user file, this is loaded on the runs tab</td>
</tr>
<tr class="row-even"><td><strong>2</strong></td>
<td><strong>Run</strong></td>
<td>The run number of file name to be considered the instrument is taken from the run tab</td>
</tr>
<tr class="row-odd"><td><strong>3</strong></td>
<td><strong>Detector</strong></td>
<td>The detector to be considered</td>
</tr>
<tr class="row-even"><td><strong>4</strong></td>
<td><strong>Period</strong></td>
<td>The period to be considered if applicable if left blank will do all periods</td>
</tr>
<tr class="row-odd"><td><strong>5</strong></td>
<td><strong>Integration buttons</strong></td>
<td>These three buttons start an integration on the selected workspace. The horizontal
integral sums up each row, the vertical integral each column and the time integral
sums across time bins.</td>
</tr>
<tr class="row-even"><td><strong>6</strong></td>
<td><strong>Range</strong></td>
<td>The range over which to do the integration. If integrating columns this is a range of
rows, if summing rows a range of columns and if summing bins a range of spectra.
Dashes signify a range so 1-5 for instance will integrate between rows 1 and 5
Commas signify different ranges so for example 1-5, 10-20 will intrgrate over both
ranges and plot two lines
Colons signify a list to integrate individually for example 5:7 is the same as
typing 5,6,7 and will produce three curves.</td>
</tr>
<tr class="row-odd"><td><strong>7</strong></td>
<td><strong>Mask</strong></td>
<td>If ticked the masks specified in the userfile will be applied before integrating</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="feedback-comments">
<h2><a class="toc-backref" href="#id60">Feedback &amp; Comments</a><a class="headerlink" href="#feedback-comments" title="Permalink to this headline">¶</a></h2>
<p>If you have any questions or comments about this interface or this help page, please
contact the <a class="reference external" href="http://www.mantidproject.org/Contact">Mantid team</a>.</p>
<p><strong>Categories</strong>: <a class="reference external" href="categories/Interfaces.html">Interfaces</a> | <a class="reference external" href="../algorithms/categories/SANS.html">SANS</a></p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="ISIS Reflectometry.html" title="Previous Chapter: ISIS Reflectometry Interface"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; ISIS Reflectomet...</span>
    </a>
  </li>
  <li>
    <a href="Indirect Bayes.html" title="Next Chapter: Indirect Bayes"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Indirect Bayes &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
      Last updated on 2019-03-25.<br/>
    </p>
  </div>
</footer>
  </body>
</html>