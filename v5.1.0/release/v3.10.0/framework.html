<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Framework Changes</title>
    <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap-3.3.6/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap-3.3.6/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '5.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="UI &amp; Usability Changes" href="ui.html" />
    <link rel="prev" title="Mantid 3.10.0 Release Notes" href="index.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>5.1</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://docs.mantidproject.org/nightly/">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="framework-changes">
<h1>Framework Changes<a class="headerlink" href="#framework-changes" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#api" id="id4">API</a></li>
<li><a class="reference internal" href="#algorithms" id="id5">Algorithms</a><ul>
<li><a class="reference internal" href="#new" id="id6">New</a></li>
<li><a class="reference internal" href="#improved" id="id7">Improved</a></li>
<li><a class="reference internal" href="#bug-fixes" id="id8">Bug Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#performance" id="id9">Performance</a></li>
<li><a class="reference internal" href="#bugs" id="id10">Bugs</a></li>
<li><a class="reference internal" href="#curvefitting" id="id11">CurveFitting</a><ul>
<li><a class="reference internal" href="#id1" id="id12">Improved</a></li>
</ul>
</li>
<li><a class="reference internal" href="#python" id="id13">Python</a></li>
</ul>
</div>
<div class="section" id="api">
<h2><a class="toc-backref" href="#id4">API</a><a class="headerlink" href="#api" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>The default multiple file limit is now made facility dependent. It is 1000 for ILL, and 100 for all the others.</li>
<li>Frequency unit (GHz) included as an option to represent energy transfer.</li>
<li>Framework changes now mean scanning workspaces (workspaces with moving detectors) can be created. Currently this can be tested using a new option in <a class="reference internal" href="../../algorithms/CreateSampleWorkspace-v1.html#algm-createsampleworkspace-v1"><span class="std std-ref">CreateSampleWorkspace</span></a>, by setting <cite>NumScanPoints</cite>. This is still experimental, as such the instrument view, saving workspaces and some algorithms will not work correctly with the scanning workspaces.</li>
<li>Fixed a bug where certain validators would crash with SingleValuedWorkspaces instead of rejecting them.</li>
<li>New unit <img class="math" src="../../_images/math/b14b9ebcdd4656741332b26045e32ea00ba15f48.png" alt="d_{\perp}" style="vertical-align: -3px"/> (Angstrom) is implemented for TOF powder diffraction.</li>
</ul>
</div>
<div class="section" id="algorithms">
<h2><a class="toc-backref" href="#id5">Algorithms</a><a class="headerlink" href="#algorithms" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Removed the optional flag <code class="docutils literal"><span class="pre">LocationParameters</span></code> from <code class="docutils literal"><span class="pre">ClearInstrumentParameters</span></code>.</li>
<li>New method <cite>IAlgorithm::helpURL</cite> returns an optional documentation webpage. Useful when registering Python
algorithms at runtime that are not part of the Mantid distribution.</li>
</ul>
<div class="section" id="new">
<h3><a class="toc-backref" href="#id6">New</a><a class="headerlink" href="#new" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference internal" href="../../algorithms/DeleteWorkspaces-v1.html#algm-deleteworkspaces"><span class="std std-ref">DeleteWorkspaces</span></a> will delete a list of workspaces.</li>
<li><a class="reference internal" href="../../algorithms/IntegrateEllipsoidsTwoStep-v1.html#algm-integrateellipsoidstwostep"><span class="std std-ref">IntegrateEllipsoidsTwoStep v1</span></a> which can be used to integrate weak single crystal peaks by using parameters derived from strong peaks.</li>
<li><a class="reference internal" href="../../algorithms/FindEPP-v2.html#algm-findepp-v2"><span class="std std-ref">FindEPP-v2</span></a> reimplements <cite>FindEPP-v1</cite> in C++, providing an order of magnitude gain in execution time for large workspaces.</li>
<li><a class="reference internal" href="../../algorithms/LineProfile-v1.html#algm-lineprofile"><span class="std std-ref">LineProfile</span></a> will give a horizontal or vertical line profile over a workspace.</li>
<li><a class="reference internal" href="../../algorithms/SaveYDA-v1.html#algm-saveyda"><span class="std std-ref">SaveYDA</span></a> do export <a class="reference internal" href="../../concepts/Workspace2D.html#workspace2d"><span class="std std-ref">Workspace2D</span></a> to <a class="reference external" href="http://apps.jcns.fz-juelich.de/doku/frida/start">Frida 2.0</a> YAML format.</li>
</ul>
</div>
<div class="section" id="improved">
<h3><a class="toc-backref" href="#id7">Improved</a><a class="headerlink" href="#improved" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference internal" href="../../algorithms/RawFileInfo-v1.html#algm-rawfileinfo-v1"><span class="std std-ref">RawFileInfo</span></a> now provides sample information.</li>
<li><a class="reference internal" href="../../algorithms/SetInstrumentParameter-v1.html#algm-setinstrumentparameter-v1"><span class="std std-ref">SetInstrumentParameter</span></a> now supports also boolean parameters, and better validates the inputs.</li>
<li><a class="reference internal" href="../../algorithms/FilterEvents-v1.html#algm-filterevents-v1"><span class="std std-ref">FilterEvents</span></a> now accepts a general TableWorkspace as the splitters workspace.  The TableWorkspace must have at least 3 columns.  The first 3 columns are for relative starting time, relative stopping time and target workspace tag for splitters, respectively.</li>
<li><a class="reference internal" href="../../algorithms/GenerateEventsFilter-v1.html#algm-generateeventsfilter-v1"><span class="std std-ref">GenerateEventsFilter</span></a> now set the unit of X-axis of the MatrixWorkspace (i.e., output splitters workspace) to second.</li>
<li><a class="reference internal" href="../../algorithms/FilterEvents-v1.html#algm-filterevents-v1"><span class="std std-ref">FilterEvents</span></a> now generates a sample log named <em>splitter</em> of each output workspace (i.e., splitted workspace) to represent the event filter that is applied to it.</li>
<li><a class="reference internal" href="../../algorithms/FilterEvents-v1.html#algm-filterevents-v1"><span class="std std-ref">FilterEvents</span></a> now splits all the sample logs if the input splitters are given by MatrixWorkspace or a general TableWorkspace.</li>
<li><a class="reference internal" href="../../algorithms/FilterEvents-v1.html#algm-filterevents-v1"><span class="std std-ref">FilterEvents</span></a> now supports to filter by pulse time with input splitters in format of MatrixWorkspace and general TableWorkspace.</li>
<li><a class="reference internal" href="../../algorithms/FilterEvents-v1.html#algm-filterevents-v1"><span class="std std-ref">FilterEvents</span></a> now sorts events before filtering.  There is no need to call <a class="reference internal" href="../../algorithms/SortEvents-v1.html#algm-sortevents-v1"><span class="std std-ref">SortEvents</span></a> before calling <code class="docutils literal"><span class="pre">FilterEvents</span></code>.</li>
<li><a class="reference internal" href="../../algorithms/FilterEvents-v1.html#algm-filterevents-v1"><span class="std std-ref">FilterEvents</span></a> now accept splitters from <code class="docutils literal"><span class="pre">TableWorkspace</span></code> and <code class="docutils literal"><span class="pre">MatrixWorkspace</span></code> in both relative time and epoch time.</li>
<li><a class="reference internal" href="../../algorithms/FilterEvents-v1.html#algm-filterevents-v1"><span class="std std-ref">FilterEvents</span></a> now only accept splitters from <code class="docutils literal"><span class="pre">TableWorkspace</span></code> and <code class="docutils literal"><span class="pre">MatrixWrokspace</span></code> in unit as second.</li>
<li>Two new properties were added to <a class="reference internal" href="../../algorithms/Integration-v1.html#algm-integration"><span class="std std-ref">Integration v1</span></a> <em>RangeLowerList</em> and <em>RangeUpperList</em> can be used to give histogram-specific integration ranges.</li>
<li><a class="reference internal" href="../../algorithms/FindEPP-v2.html#algm-findepp"><span class="std std-ref">FindEPP v2</span></a> does not output the two extra workspaces from the <a class="reference internal" href="../../algorithms/Fit-v1.html#algm-fit"><span class="std std-ref">Fit v1</span></a> anymore.</li>
<li><a class="reference internal" href="../../algorithms/ApplyDetailedBalance-v1.html#algm-applydetailedbalance"><span class="std std-ref">ApplyDetailedBalance</span></a>: User can select the dynamic susceptibility versus energy or frequency.</li>
<li><a class="reference internal" href="../../algorithms/PredictPeaks-v1.html#algm-predictpeaks-v1"><span class="std std-ref">PredictPeaks</span></a> is now faster on instruments that do not have rectangular detectors. The speed up with vary from instrument to instrument, but for CORELLI this was shown to reduce execution time from ~64 mins to &lt; 1 min.</li>
<li><a class="reference internal" href="../../algorithms/MergeRuns-v1.html#algm-mergeruns"><span class="std std-ref">MergeRuns</span></a> now has a sum option and more control over failure when binning is different or sample logs do not match.</li>
<li>Made it possible for LiveListeners to read properties from the calling Algorithm. This gives greater flexiblity for authors of LiveListener plugins.</li>
<li>Improved verification of IDFs</li>
<li><a class="reference internal" href="../../algorithms/AddSampleLog-v1.html#algm-addsamplelog"><span class="std std-ref">AddSampleLog</span></a> now can optionionally take a MatrixWorkspace for the time and value of the newly-added TimeSeriesProperty sample log.</li>
<li><a class="reference internal" href="../../algorithms/ExportTimeSeriesLog-v1.html#algm-exporttimeserieslog"><span class="std std-ref">ExportTimeSeriesLog</span></a> now can export the first derivative of the sample log as an opotion.</li>
<li><a class="reference internal" href="../../algorithms/ExportTimeSeriesLog-v1.html#algm-exporttimeserieslog"><span class="std std-ref">ExportTimeSeriesLog</span></a> now add information of exported log to the output work, which
<a class="reference internal" href="../../algorithms/AddSampleLog-v1.html#algm-addsamplelog"><span class="std std-ref">AddSampleLog</span></a> can retrieve automatically.</li>
<li><code class="docutils literal"><span class="pre">ThreadPool</span></code> now respects the value of <code class="docutils literal"><span class="pre">OMP_NUM_THREADS</span></code> environment variable (documented in [gcc](<a class="reference external" href="https://gcc.gnu.org/onlinedocs/libgomp/OMP_005fNUM_005fTHREADS.html">https://gcc.gnu.org/onlinedocs/libgomp/OMP_005fNUM_005fTHREADS.html</a>))</li>
<li>Improved parallel scaling of <a class="reference internal" href="../../algorithms/MDNormSCD-v1.html#algm-mdnormscd"><span class="std std-ref">MDNormSCD</span></a> with &gt; 4 cores.</li>
</ul>
<div class="figure" id="id2">
<a class="screenshot reference internal image-reference" href="../../_images/MDNormSCDv3.10.png"><img alt="../../_images/MDNormSCDv3.10.png" class="screenshot" src="../../_images/MDNormSCDv3.10.png" style="width: 550px;" /></a>
<p class="caption"><span class="caption-text">Benchmark machine: 4 x Intel Xeon E5-4650 &#64; 2.7GHz (32 cores / 64 threads)</span></p>
</div>
<ul class="simple">
<li>Improved parallel scaling of <a class="reference internal" href="../../algorithms/MDNormDirectSC-v1.html#algm-mdnormdirectsc"><span class="std std-ref">MDNormDirectSCD</span></a> with &gt; 4 cores.</li>
</ul>
<div class="figure" id="id3">
<a class="screenshot reference internal image-reference" href="../../_images/MDNormDirectSCv3.10.png"><img alt="../../_images/MDNormDirectSCv3.10.png" class="screenshot" src="../../_images/MDNormDirectSCv3.10.png" style="width: 550px;" /></a>
<p class="caption"><span class="caption-text">Benchmark machine: 4 x Intel Xeon E5-4650 &#64; 2.7GHz (32 cores / 64 threads)</span></p>
</div>
<ul class="simple">
<li>Added optional inputs <cite>TemporaryDataWorkspace</cite> and <cite>TemporaryNormalizationWorkspace</cite> to <a class="reference internal" href="../../algorithms/MDNormSCD-v1.html#algm-mdnormscd"><span class="std std-ref">MDNormSCD</span></a> and <a class="reference internal" href="../../algorithms/MDNormDirectSC-v1.html#algm-mdnormdirectsc"><span class="std std-ref">MDNormDirectSCD</span></a> for accumulating data and normalization from multiple runs. This avoids allocating and deallocating temporary workspaces.</li>
<li>Reduced execution time of <code class="docutils literal"><span class="pre">EventList::sortTof</span></code> by over 2x, improving performance in algorithms such as <a class="reference internal" href="../../algorithms/CompressEvents-v1.html#algm-compressevents"><span class="std std-ref">CompressEvents v1</span></a> and <a class="reference internal" href="../../algorithms/SortEvents-v1.html#algm-sortevents"><span class="std std-ref">SortEvents v1</span></a> which call it.</li>
<li><a class="reference internal" href="../../algorithms/LoadDNSLegacy-v1.html#algm-loaddnslegacy-v1"><span class="std std-ref">LoadDNSLegacy</span></a> can now read the TOF data. CoilCurrentsTable is now optional. The default coil currents are now in the instrument parameters file.</li>
<li><a class="reference internal" href="../../algorithms/LoadNexusProcessed-v2.html#algm-loadnexusprocessed"><span class="std std-ref">LoadNexusProcessed</span></a> is now approximately 33x faster when loading a <code class="docutils literal"><span class="pre">PeaksWorkspace</span></code> with a large instrument attached.</li>
<li>The default values for guessed peak widths in <a class="reference internal" href="../../algorithms/PDCalibration-v1.html#algm-pdcalibration"><span class="std std-ref">PDCalibration</span></a> have been changed to match the values used in  <a class="reference internal" href="../../algorithms/FindPeaks-v1.html#algm-findpeaks"><span class="std std-ref">FindPeaks</span></a>.</li>
</ul>
</div>
<div class="section" id="bug-fixes">
<h3><a class="toc-backref" href="#id8">Bug Fixes</a><a class="headerlink" href="#bug-fixes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Fixed two issues with absolute rotations that affected <a class="reference internal" href="../../algorithms/RotateInstrumentComponent-v1.html#algm-rotateinstrumentcomponent"><span class="std std-ref">RotateInstrumentComponent</span></a>. Previously, setting the absolute rotation of a component to <code class="docutils literal"><span class="pre">R</span></code> would result in its rotation being <code class="docutils literal"><span class="pre">parent-rotation</span> <span class="pre">*</span> <span class="pre">R</span> <span class="pre">*</span> <span class="pre">inverse(relative-parent-rotation)</span></code>.</li>
<li><a class="reference internal" href="../../algorithms/MonteCarloAbsorption-v1.html#algm-montecarloabsorption"><span class="std std-ref">MonteCarloAbsorption</span></a> has been modified to allow <code class="docutils literal"><span class="pre">EventWorkspace</span></code> as input</li>
<li>Fixed an issue where the log <code class="docutils literal"><span class="pre">proton_charge_by_period</span></code> was not loaded for <a class="reference internal" href="../../algorithms/LoadEventNexus-v1.html#algm-loadeventnexus"><span class="std std-ref">LoadEventNexus</span></a>.</li>
<li>Fixed an issue where <a class="reference internal" href="../../algorithms/MonteCarloAbsorption-v1.html#algm-montecarloabsorption"><span class="std std-ref">MonteCarloAbsorption v1</span></a> would use the wavelengths from the first histogram of <em>InputWorkspace</em> only making the algorithm unusable for workspaces with varying bins.</li>
<li>Fixed an issue with the <code class="docutils literal"><span class="pre">GroupingPattern</span></code> property in <a class="reference internal" href="../../algorithms/GroupDetectors-v2.html#algm-groupdetectors"><span class="std std-ref">GroupDetectors v2</span></a>, where incorrect spectra were being used if spectrum numbers are not 1-based indices.</li>
<li>Fixed an issue with <a class="reference internal" href="../../algorithms/CreateWorkspace-v1.html#algm-createworkspace"><span class="std std-ref">CreateWorkspace v1</span></a> where giving bin edges as <code class="docutils literal"><span class="pre">VerticalAxisValues</span></code> would fail.</li>
<li>Fixed an issue with the <cite>TimeInterval</cite> property in <a class="reference internal" href="../../algorithms/GenerateEventsFilter-v1.html#algm-generateeventsfilter"><span class="std std-ref">GenerateEventsFilter</span></a>, where the algorithm would get stuck in an infinite loop if no non-zero values were provided to the property.</li>
<li>Fixed progress reporting in <a class="reference internal" href="../../algorithms/LoadNexusProcessed-v2.html#algm-loadnexusprocessed"><span class="std std-ref">LoadNexusProcessed</span></a>.</li>
</ul>
</div>
</div>
<div class="section" id="performance">
<h2><a class="toc-backref" href="#id9">Performance</a><a class="headerlink" href="#performance" title="Permalink to this headline">¶</a></h2>
<p>Following a large effort to change some of the core instrument  aspects of Mantid, we are pleased to announce very significant improvements in performance as part of the 3.10.0 release. <a class="reference internal" href="../../algorithms/ConvertUnits-v1.html#algm-convertunits"><span class="std std-ref">ConvertUnits</span></a>, for example, is running &gt;2x times faster than possible in our last major 3.9.0 release. Amongst others, <a class="reference internal" href="../../algorithms/NormaliseVanadium-v1.html#algm-normalisevanadium"><span class="std std-ref">NormaliseVanadium</span></a> and <a class="reference internal" href="../../algorithms/MaskDetectorsInShape-v1.html#algm-maskdetectorsinshape"><span class="std std-ref">MaskDetectorsInShape</span></a> now give a 2x speedup. <a class="reference internal" href="../../algorithms/ConvertSpectrumAxis-v2.html#algm-convertspectrumaxis"><span class="std std-ref">ConvertSpectrumAxis</span></a> and <a class="reference internal" href="../../algorithms/AnvredCorrection-v1.html#algm-anvredcorrection"><span class="std std-ref">AnvredCorrection</span></a> are examples, of a few monitored algorithms, that are demonstrating a more modest 10% improvement in speed over the last major Mantid release. Aside from granular improvements at the algorithm level, we have observed that many of the Direct Inelastic technique area workflows are 2x faster than before.</p>
<p>As a consequence of these changes, <a class="reference internal" href="../../algorithms/CopyInstrumentParameters-v1.html#algm-copyinstrumentparameters"><span class="std std-ref">CopyInstrumentParmeters</span></a>, <a class="reference internal" href="../../algorithms/LoadInstrument-v1.html#algm-loadinstrument"><span class="std std-ref">LoadInstrument</span></a> and several other Load Algorithms are reporting a modest slowdown. We hope to address these as part of our scheduled future work in this area.</p>
</div>
<div class="section" id="bugs">
<h2><a class="toc-backref" href="#id10">Bugs</a><a class="headerlink" href="#bugs" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>We have fixed a bug where Mantid could crash when deleting a large number of workspaces.</li>
<li>Fixed a bug in <a class="reference internal" href="../../algorithms/ConvertToMD-v1.html#algm-converttomd"><span class="std std-ref">ConvertToMD</span></a> causing it to fail with the error “Run::storeEnergyBinBoundaries - Inconsistent start &amp; end values” if monitors were all NaN, Inf, or zero.</li>
<li>Fixed a bug in illuminated volume calculation which could make <a class="reference internal" href="../../algorithms/MonteCarloAbsorption-v1.html#algm-montecarloabsorption"><span class="std std-ref">MonteCarloAbsorption</span></a> fail.</li>
</ul>
</div>
<div class="section" id="curvefitting">
<h2><a class="toc-backref" href="#id11">CurveFitting</a><a class="headerlink" href="#curvefitting" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id1">
<h3><a class="toc-backref" href="#id12">Improved</a><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference internal" href="../../fitting/fitfunctions/UserFunction.html#func-userfunction"><span class="std std-ref">UserFunction</span></a> now supports <img class="math" src="../../_images/math/0a838bdbb60392bfa0f69878395c3eac000e1093.png" alt="erf" style="vertical-align: -4px"/> and <img class="math" src="../../_images/math/f6e06dc0f320ef47a0d5d4b2b71b5f3c33bb6e0a.png" alt="erfc" style="vertical-align: -4px"/>.</li>
<li><a class="reference internal" href="../../fitting/fitfunctions/IkedaCarpenterPV.html#func-ikedacarpenterpv"><span class="std std-ref">IkedaCarpenterPV</span></a> now constrains all parameters to be non-negative which helps the fits converge faster and produces better fits.</li>
</ul>
</div>
</div>
<div class="section" id="python">
<h2><a class="toc-backref" href="#id13">Python</a><a class="headerlink" href="#python" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">For multiple output parameters, python algorithms now return a <code class="docutils literal"><span class="pre">namedtuple</span></code> instead of a <code class="docutils literal"><span class="pre">tuple</span></code>. Old scripts should still work,
but one can now do</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="n">GetEi</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">results</span><span class="o">.</span><span class="n">IncidentEnergy</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">results</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
<p>This will yield:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">GetEi_returns</span><span class="p">(</span><span class="n">IncidentEnergy</span><span class="o">=</span><span class="mf">3.0</span><span class="p">,</span> <span class="n">FirstMonitorPeak</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">FirstMonitorIndex</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">Tzero</span><span class="o">=</span><span class="mf">61.77080180287334</span><span class="p">)</span>
<span class="mf">3.0</span>
<span class="mf">3.0</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="xref py py-class docutils literal"><span class="pre">mantid.geometry.Object</span></code> has a new method <code class="docutils literal"><span class="pre">volume()</span></code> which calculates the volume of the shape.</p>
</li>
<li><p class="first">A <code class="docutils literal"><span class="pre">SpectraAxis</span></code> object can now be created from Python, in a similar way to the other Axis types:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">ws1</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">()</span>
<span class="c1"># Create a new axis reference</span>
<span class="n">s_axis</span> <span class="o">=</span> <span class="n">SpectraAxis</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">ws1</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">CrystalStructure</span></code>, <code class="docutils literal"><span class="pre">UnitCell</span></code>, <code class="docutils literal"><span class="pre">PointGroup</span></code>, and <code class="docutils literal"><span class="pre">SpaceGroup</span></code> all have better console printing</p>
</li>
<li><p class="first">Fixed a bug on MDHistogramWorkspaces where passing an index larger than the size of the dimensions of the workspace to <code class="docutils literal"><span class="pre">setSignalAt</span></code> would crash Mantid.</p>
</li>
</ul>
<p>Full list of
<a class="reference external" href="http://github.com/mantidproject/mantid/pulls?q=is%3Apr+milestone%3A%22Release+3.10%22+is%3Amerged+label%3A%22Component%3A+Framework%22">Framework</a>
and
<a class="reference external" href="http://github.com/mantidproject/mantid/pulls?q=is%3Apr+milestone%3A%22Release+3.10%22+is%3Amerged+label%3A%22Component%3A+Python%22">Python</a>
changes on GitHub</p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="index.html" title="Previous Chapter: Mantid 3.10.0 Release Notes"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Mantid 3.10.0...</span>
    </a>
  </li>
  <li>
    <a href="ui.html" title="Next Chapter: UI & Usability Changes"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">UI & Usabilit... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
      Last updated on 2020-09-29.<br/>
    </p>
  </div>
</footer>
  </body>
</html>