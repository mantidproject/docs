<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>SANS TOML Files</title>
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '5.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="API" href="../api/index.html" />
    <link rel="prev" title="ISIS Reflectometry" href="ISIS_Reflectometry.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>5.1</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://docs.mantidproject.org/nightly/">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="sans-toml-files">
<span id="sans-toml-v1-ref"></span><h1>SANS TOML Files<a class="headerlink" href="#sans-toml-files" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#conversion-from-legacy-user-files" id="id1">Conversion From Legacy User Files</a><ul>
<li><a class="reference internal" href="#layout" id="id2">Layout</a></li>
<li><a class="reference internal" href="#tips-for-converting" id="id3">Tips for converting</a></li>
<li><a class="reference internal" href="#back-mon-times" id="id4">BACK/MON/TIMES</a></li>
<li><a class="reference internal" href="#back-m-n-times-x-y" id="id5">BACK/M[n]/TIMES x y</a></li>
<li><a class="reference internal" href="#det-corr-front-rear-x-y-z-rot-a" id="id6">DET/CORR [FRONT][REAR] [X][Y][Z][ROT] a</a></li>
<li><a class="reference internal" href="#fit-centre-x-y" id="id7">FIT/CENTRE x y</a></li>
<li><a class="reference internal" href="#fit-mid" id="id8">FIT/MID</a></li>
<li><a class="reference internal" href="#fit-monitor-x-y" id="id9">FIT/MONITOR x y</a></li>
<li><a class="reference internal" href="#fit-trans-lin-x-y" id="id10">FIT/TRANS/LIN x y</a></li>
<li><a class="reference internal" href="#l-eventstime-str" id="id11">L/EVENTSTIME str</a></li>
<li><a class="reference internal" href="#l-phi-nomirror-x-y" id="id12">L/PHI [/NOMIRROR] x y</a></li>
<li><a class="reference internal" href="#l-q-rebin-string" id="id13">L/Q rebin_string</a></li>
<li><a class="reference internal" href="#l-q-rcut-x" id="id14">L/Q/RCUT x</a></li>
<li><a class="reference internal" href="#l-q-wcut-x" id="id15">L/Q/WCUT x</a></li>
<li><a class="reference internal" href="#l-qxy-start-stop-step-lin" id="id16">L/QXY start stop step [/LIN]</a></li>
<li><a class="reference internal" href="#l-r-x-y-step" id="id17">L/R x y [step]</a></li>
<li><a class="reference internal" href="#l-sp" id="id18">L/SP</a></li>
<li><a class="reference internal" href="#l-wav-min-max-step-lin" id="id19">L/WAV min max step [/LIN]</a></li>
<li><a class="reference internal" href="#maskfile-str" id="id20">MASKFILE str</a></li>
<li><a class="reference internal" href="#mask-h" id="id21">MASK h</a></li>
<li><a class="reference internal" href="#mask-hx-hy" id="id22">MASK hx&gt;hy</a></li>
<li><a class="reference internal" href="#mask-v" id="id23">MASK v</a></li>
<li><a class="reference internal" href="#mask-vx-vy" id="id24">MASK vx&gt;vy</a></li>
<li><a class="reference internal" href="#mask-sn" id="id25">MASK Sn</a></li>
<li><a class="reference internal" href="#mask-t-x-y" id="id26">MASK/T x y</a></li>
<li><a class="reference internal" href="#mask-clear-time" id="id27">MASK/CLEAR[/TIME]</a></li>
<li><a class="reference internal" href="#mask-line-x-y" id="id28">MASK/LINE x y</a></li>
<li><a class="reference internal" href="#mon-direct-filename" id="id29">MON/DIRECT=”filename”</a></li>
<li><a class="reference internal" href="#mon-flat-str" id="id30">MON/FLAT=str</a></li>
<li><a class="reference internal" href="#mon-length" id="id31">MON/LENGTH</a></li>
<li><a class="reference internal" href="#mon-trans-spectrum-n-interpolate" id="id32">MON [/TRANS] /SPECTRUM=n [/INTERPOLATE]</a></li>
<li><a class="reference internal" href="#set-centre-a-b-c-d" id="id33">set centre a b c d</a></li>
<li><a class="reference internal" href="#set-scales-a-b-c-d" id="id34">set scales a b c d</a></li>
<li><a class="reference internal" href="#trans-transspec-n" id="id35">TRANS/TRANSSPEC=n</a></li>
<li><a class="reference internal" href="#tubecalibfile-str" id="id36">TUBECALIBFILE=str</a></li>
<li><a class="reference internal" href="#qresol-on-off" id="id37">QRESOL[/ON][/OFF]</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="conversion-from-legacy-user-files">
<h2><a class="toc-backref" href="#id1">Conversion From Legacy User Files</a><a class="headerlink" href="#conversion-from-legacy-user-files" title="Permalink to this headline">¶</a></h2>
<div class="section" id="layout">
<h3><a class="toc-backref" href="#id2">Layout</a><a class="headerlink" href="#layout" title="Permalink to this headline">¶</a></h3>
<p>This section is designed like a reference that users can paste straight into
existing TOML files.</p>
<p><em>Note: TOML files use SI units rather than a mix of unit prefixes. For example,
you will need to convert any measurements in millimetres to meters.</em></p>
<p>The following is used to note optional qualifiers which were available in
the existing user file format: <code class="docutils literal"><span class="pre">[</span></code> <code class="docutils literal"><span class="pre">]</span></code>.</p>
<p>Examples are given in a way that they can be merged together where headers
match, for example these three examples:</p>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="k">[binning]</span>
  <span class="na">wavelength</span> <span class="o">=</span> <span class="s">{start = 2.0, step=0.125, stop=14.0, type = &quot;Lin&quot;}</span>
</pre></div>
</div>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="k">[binning]</span>
  <span class="k">[binning.1d_reduction]</span>
    <span class="na">binning</span> <span class="o">=</span> <span class="s">&quot;0.02,0.05,0.5,-0.1,10.0&quot;</span>
</pre></div>
</div>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="k">[binning]</span>
  <span class="k">[binning.2d_reduction]</span>
    <span class="na">step</span> <span class="o">=</span> <span class="s">0.002</span>
<span class="s">    stop = 0.1</span>
<span class="s">    type = &quot;Lin&quot;</span>
</pre></div>
</div>
<p>Are combined into the following when writing the TOML file:</p>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="k">[binning]</span>
  <span class="na">wavelength</span> <span class="o">=</span> <span class="s">{start = 2.0, step=0.125, stop=14.0, type = &quot;Lin&quot;}</span>

  <span class="k">[binning.1d_reduction]</span>
    <span class="na">binning</span> <span class="o">=</span> <span class="s">&quot;0.02,0.05,0.5,-0.1,10.0&quot;</span>

  <span class="k">[binning.2d_reduction]</span>
    <span class="na">step</span> <span class="o">=</span> <span class="s">0.002</span>
<span class="s">    stop = 0.1</span>
<span class="s">    type = &quot;Lin&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="tips-for-converting">
<h3><a class="toc-backref" href="#id3">Tips for converting</a><a class="headerlink" href="#tips-for-converting" title="Permalink to this headline">¶</a></h3>
<p>For converting existing files I recommend the following process:</p>
<ul class="simple">
<li>Copy your existing user file</li>
<li>Remove any commented out lines (starting with <code class="docutils literal"><span class="pre">!</span></code>)</li>
<li>Go line by line with this guide adding to a <strong>blank</strong> TOML file</li>
<li>Delete each line from the copied user file as it’s converted</li>
</ul>
</div>
<div class="section" id="back-mon-times">
<h3><a class="toc-backref" href="#id4">BACK/MON/TIMES</a><a class="headerlink" href="#back-mon-times" title="Permalink to this headline">¶</a></h3>
<p><strong>Replacement</strong>
Unsupported - Monitor ranges must be set directly</p>
</div>
<div class="section" id="back-m-n-times-x-y">
<h3><a class="toc-backref" href="#id5">BACK/M[n]/TIMES x y</a><a class="headerlink" href="#back-m-n-times-x-y" title="Permalink to this headline">¶</a></h3>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="k">[normalization]</span>
  <span class="k">[normalisation.monitor.Mn]</span>
    <span class="na">spectrum_number</span> <span class="o">=</span> <span class="s">n</span>
<span class="s">    background = [x, y]</span>
</pre></div>
</div>
<p><em>OR</em></p>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="k">[transmission]</span>
  <span class="k">[transmission.monitor.Mn]</span>
    <span class="na">spectrum_number</span> <span class="o">=</span> <span class="s">n</span>
<span class="s">        use_own_background = true</span>
<span class="s">    background = [x, y]</span>
</pre></div>
</div>
<p><strong>Existing Example</strong></p>
<div class="highlight-none"><div class="highlight"><pre><span></span>BACK/M1/TIMES 30000 40000
</pre></div>
</div>
<p><strong>Existing Replacement</strong></p>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="k">[normalization]</span>
  <span class="k">[normalisation.monitor.M1]</span>
    <span class="na">spectrum_number</span> <span class="o">=</span> <span class="s">1</span>
<span class="s">    background = [30000.0, 40000.0]</span>
</pre></div>
</div>
</div>
<div class="section" id="det-corr-front-rear-x-y-z-rot-a">
<h3><a class="toc-backref" href="#id6">DET/CORR [FRONT][REAR] [X][Y][Z][ROT] a</a><a class="headerlink" href="#det-corr-front-rear-x-y-z-rot-a" title="Permalink to this headline">¶</a></h3>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="k">[detector]</span>
  <span class="k">[detector.calibration.position]</span>
    <span class="na">front_x</span> <span class="o">=</span> <span class="s">a</span>
<span class="s">    front_y = b</span>
<span class="s">    front_z = c</span>
<span class="s">    front_rot = d</span>
<span class="s">    rear_x = e</span>
<span class="s">    rear_z = f</span>
</pre></div>
</div>
<p><strong>Existing Example</strong></p>
<div class="highlight-none"><div class="highlight"><pre><span></span>DET/CORR REAR X 0.0
DET/CORR REAR Z 58
DET/CORR FRONT X -33
DET/CORR FRONT Y -20
DET/CORR FRONT Z -47
DET/CORR FRONT ROT 0.0
</pre></div>
</div>
<p><strong>Existing Replacement</strong></p>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="k">[detector]</span>
  <span class="k">[detector.calibration.position]</span>
    <span class="na">front_x</span> <span class="o">=</span> <span class="s">-0.033</span>
<span class="s">    front_y = -0.020</span>
<span class="s">    front_z = -0.047</span>
<span class="s">    front_rot = 0.0</span>
<span class="s">    rear_x = 0.0</span>
<span class="s">    rear_z = 0.058</span>
</pre></div>
</div>
</div>
<div class="section" id="fit-centre-x-y">
<h3><a class="toc-backref" href="#id7">FIT/CENTRE x y</a><a class="headerlink" href="#fit-centre-x-y" title="Permalink to this headline">¶</a></h3>
<p><strong>Replacement</strong>
Unsupported</p>
</div>
<div class="section" id="fit-mid">
<h3><a class="toc-backref" href="#id8">FIT/MID</a><a class="headerlink" href="#fit-mid" title="Permalink to this headline">¶</a></h3>
<p><strong>Replacement</strong>
Unsupported</p>
</div>
<div class="section" id="fit-monitor-x-y">
<h3><a class="toc-backref" href="#id9">FIT/MONITOR x y</a><a class="headerlink" href="#fit-monitor-x-y" title="Permalink to this headline">¶</a></h3>
<p><em>Note:</em> This was only enabled for LOQ in source code, so
if you are not converting a LOQ file this should not be copied
as it will produce different results</p>
<p><strong>Replacement</strong></p>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="k">[mask]</span>
  <span class="na">prompt_peak</span> <span class="o">=</span> <span class="s">{start = x, stop = y}</span>
</pre></div>
</div>
<p><strong>Existing Example</strong></p>
<div class="highlight-none"><div class="highlight"><pre><span></span>FIT/MONITOR 19900 20500
</pre></div>
</div>
<p><strong>Existing Replacement</strong></p>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="k">[mask]</span>
  <span class="na">prompt_peak</span> <span class="o">=</span> <span class="s">{start = 19900.0, stop = 20500.0}</span>
</pre></div>
</div>
</div>
<div class="section" id="fit-trans-lin-x-y">
<h3><a class="toc-backref" href="#id10">FIT/TRANS/LIN x y</a><a class="headerlink" href="#fit-trans-lin-x-y" title="Permalink to this headline">¶</a></h3>
<p><strong>Replacement</strong></p>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="k">[transmission]</span>
  <span class="k">[transmission.fitting]</span>
    <span class="na">enabled</span> <span class="o">=</span> <span class="s">true</span>
<span class="s">    parameters = {lambda_min = x, lambda_max = x}</span>
<span class="s">    # Can be: Linear / Logarithmic / Polynomial</span>
<span class="s">    function = &quot;Linear&quot;</span>
<span class="s">    # Only used when set to Polynomial</span>
<span class="s">    polynomial_order = 2</span>
</pre></div>
</div>
<p><strong>Existing Example</strong></p>
<div class="highlight-none"><div class="highlight"><pre><span></span>FIT/TRANS/LIN 3.0 11.0
</pre></div>
</div>
<p><strong>Existing Replacement</strong></p>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="k">[transmission]</span>
  <span class="k">[transmission.fitting]</span>
    <span class="na">enabled</span> <span class="o">=</span> <span class="s">true</span>
<span class="s">    parameters = {lambda_min = 3.0, lambda_max = 11.0}</span>
<span class="s">    function = &quot;Linear&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="l-eventstime-str">
<h3><a class="toc-backref" href="#id11">L/EVENTSTIME str</a><a class="headerlink" href="#l-eventstime-str" title="Permalink to this headline">¶</a></h3>
<p><strong>Replacement</strong></p>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="k">[reduction.events]</span>
  <span class="na">binning</span> <span class="o">=</span> <span class="s">&quot;str&quot;</span>
</pre></div>
</div>
<p><strong>Existing Example</strong></p>
<div class="highlight-none"><div class="highlight"><pre><span></span>L/EVENTSTIME 7000.0,500.0,60000.0
</pre></div>
</div>
<p><strong>Existing Replacement</strong></p>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="k">[reduction.events]</span>
  <span class="c1"># A negative step indicates Log</span>
  <span class="na">binning</span> <span class="o">=</span> <span class="s">&quot;7000.0,500.0,60000.0&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="l-phi-nomirror-x-y">
<h3><a class="toc-backref" href="#id12">L/PHI [/NOMIRROR] x y</a><a class="headerlink" href="#l-phi-nomirror-x-y" title="Permalink to this headline">¶</a></h3>
<p><strong>Replacement</strong></p>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="k">[mask]</span>
  <span class="k">[mask.phi]</span>
    <span class="na">mirror</span> <span class="o">=</span> <span class="s">bool</span>
<span class="s">    start = x</span>
<span class="s">    stop = y</span>
</pre></div>
</div>
<p><strong>Existing Example</strong></p>
<div class="highlight-none"><div class="highlight"><pre><span></span>L/PHI/NOMIRROR -45 45
</pre></div>
</div>
<p><strong>Existing Replacement</strong></p>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="k">[mask]</span>
  <span class="k">[mask.phi]</span>
    <span class="na">mirror</span> <span class="o">=</span> <span class="s">false</span>
<span class="s">    start = x</span>
<span class="s">    stop = y</span>
</pre></div>
</div>
</div>
<div class="section" id="l-q-rebin-string">
<h3><a class="toc-backref" href="#id13">L/Q rebin_string</a><a class="headerlink" href="#l-q-rebin-string" title="Permalink to this headline">¶</a></h3>
<p><strong>Replacement</strong></p>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="k">[binning.1d_reduction]</span>
    <span class="c1"># Negative indicates log</span>
    <span class="na">binning</span> <span class="o">=</span> <span class="s">&quot;rebin_string&quot;</span>
</pre></div>
</div>
<p><strong>Existing Example</strong></p>
<div class="highlight-none"><div class="highlight"><pre><span></span>L/Q .02,0.05,0.5,-0.1,10
</pre></div>
</div>
<p><strong>Existing Replacement</strong></p>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="k">[binning]</span>
  <span class="k">[binning.1d_reduction]</span>
    <span class="c1"># Negative indicates log</span>
    <span class="na">binning</span> <span class="o">=</span> <span class="s">&quot;0.02,0.05,0.5,-0.1,10.0&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="l-q-rcut-x">
<h3><a class="toc-backref" href="#id14">L/Q/RCUT x</a><a class="headerlink" href="#l-q-rcut-x" title="Permalink to this headline">¶</a></h3>
<p><strong>Replacement</strong></p>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="k">[binning.1d_reduction]</span>
    <span class="na">radius_cut</span> <span class="o">=</span> <span class="s">x</span>
</pre></div>
</div>
<p><strong>Existing Example</strong></p>
<div class="highlight-none"><div class="highlight"><pre><span></span>L/Q/RCUT 100
</pre></div>
</div>
<p><strong>Existing Replacement</strong></p>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="k">[binning]</span>
  <span class="k">[binning.1d_reduction]</span>
    <span class="na">radius_cut</span> <span class="o">=</span> <span class="s">0.1</span>
</pre></div>
</div>
</div>
<div class="section" id="l-q-wcut-x">
<h3><a class="toc-backref" href="#id15">L/Q/WCUT x</a><a class="headerlink" href="#l-q-wcut-x" title="Permalink to this headline">¶</a></h3>
<p><strong>Replacement</strong></p>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="k">[binning.1d_reduction]</span>
    <span class="na">wavelength_cut</span> <span class="o">=</span> <span class="s">x</span>
</pre></div>
</div>
<p><strong>Existing Example</strong></p>
<div class="highlight-none"><div class="highlight"><pre><span></span>L/Q/WCUT 8
</pre></div>
</div>
<p><strong>Existing Replacement</strong></p>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="k">[binning]</span>
  <span class="k">[binning.1d_reduction]</span>
    <span class="na">wavelength_cut</span> <span class="o">=</span> <span class="s">8.0</span>
</pre></div>
</div>
</div>
<div class="section" id="l-qxy-start-stop-step-lin">
<h3><a class="toc-backref" href="#id16">L/QXY start stop step [/LIN]</a><a class="headerlink" href="#l-qxy-start-stop-step-lin" title="Permalink to this headline">¶</a></h3>
<p><strong>Replacement</strong></p>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="k">[binning]</span>
  <span class="k">[binning.2d_reduction]</span>
    <span class="c1">#binning MUST start at 0.0</span>
    <span class="na">step</span> <span class="o">=</span> <span class="s">step</span>
<span class="s">    stop = stop</span>
<span class="s">    #type can be &quot;Lin&quot; or &quot;Log&quot;</span>
<span class="s">    type = &quot;Lin&quot;</span>
</pre></div>
</div>
<p><strong>Existing Example</strong></p>
<div class="highlight-none"><div class="highlight"><pre><span></span>L/QXY 0 0.1 .002/lin
</pre></div>
</div>
<p><strong>Existing Replacement</strong></p>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="k">[binning]</span>
  <span class="k">[binning.2d_reduction]</span>
    <span class="na">step</span> <span class="o">=</span> <span class="s">0.002</span>
<span class="s">    stop = 0.1</span>
<span class="s">    type = &quot;Lin&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="l-r-x-y-step">
<h3><a class="toc-backref" href="#id17">L/R x y [step]</a><a class="headerlink" href="#l-r-x-y-step" title="Permalink to this headline">¶</a></h3>
<p>Note step was ignored previously.</p>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="k">[detector]</span>
  <span class="na">radius_limit</span> <span class="o">=</span> <span class="s">{min = 0.038, max = -0.001}</span>
</pre></div>
</div>
<p><strong>Existing Example</strong></p>
<div class="highlight-none"><div class="highlight"><pre><span></span>L/R 38 -1
</pre></div>
</div>
<p><strong>Existing Replacement</strong></p>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="k">[detector]</span>
  <span class="na">radius_limit</span> <span class="o">=</span> <span class="s">{min = 0.038, max = -0.001}</span>
</pre></div>
</div>
</div>
<div class="section" id="l-sp">
<h3><a class="toc-backref" href="#id18">L/SP</a><a class="headerlink" href="#l-sp" title="Permalink to this headline">¶</a></h3>
<p><strong>Replacement</strong>
Unsupported</p>
</div>
<div class="section" id="l-wav-min-max-step-lin">
<h3><a class="toc-backref" href="#id19">L/WAV min max step [/LIN]</a><a class="headerlink" href="#l-wav-min-max-step-lin" title="Permalink to this headline">¶</a></h3>
<p><strong>Replacement</strong></p>
<div class="highlight-guess"><div class="highlight"><pre><span></span>wavelength = {start = min, step = step, stop = max, type = &quot;Lin&quot;}
</pre></div>
</div>
<p><strong>Existing Example</strong></p>
<div class="highlight-none"><div class="highlight"><pre><span></span>L/WAV 2.0 14.0 0.125/LIN
</pre></div>
</div>
<p><strong>Existing Replacement</strong></p>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="k">[binning]</span>
  <span class="c1">#type can only be &quot;Lin&quot;, &quot;Log&quot;</span>
  <span class="na">wavelength</span> <span class="o">=</span> <span class="s">{start = 2.0, step=0.125, stop=14.0, type = &quot;Lin&quot;}</span>
</pre></div>
</div>
</div>
<div class="section" id="maskfile-str">
<h3><a class="toc-backref" href="#id20">MASKFILE str</a><a class="headerlink" href="#maskfile-str" title="Permalink to this headline">¶</a></h3>
<p><strong>Replacement</strong></p>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="k">[mask]</span>
<span class="na">mask_files</span> <span class="o">=</span> <span class="s">[&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]</span>
</pre></div>
</div>
<p><strong>Existing Example</strong></p>
<div class="highlight-none"><div class="highlight"><pre><span></span>MASKFILE=a.xml,b.xml,c.xml
</pre></div>
</div>
<p><strong>Existing Replacement</strong></p>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="k">[mask]</span>
<span class="na">mask_files</span> <span class="o">=</span> <span class="s">[&quot;a.xml&quot;, &quot;b.xml&quot;, &quot;c.xml&quot;]</span>
</pre></div>
</div>
</div>
<div class="section" id="mask-h">
<h3><a class="toc-backref" href="#id21">MASK h</a><a class="headerlink" href="#mask-h" title="Permalink to this headline">¶</a></h3>
<p><strong>Replacement</strong></p>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="k">[mask]</span>
  <span class="na">[mask.spatial.rear]  # Or front</span>
    <span class="na">detector_rows</span> <span class="o">=</span> <span class="s">[h1, h2, h3, ...hn]</span>
</pre></div>
</div>
<p><strong>Existing Example</strong></p>
<div class="highlight-none"><div class="highlight"><pre><span></span>mask/rear h100
mask/rear h200
</pre></div>
</div>
<p><strong>Existing Replacement</strong></p>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="k">[mask]</span>
  <span class="k">[mask.spatial.rear]</span>
    <span class="c1"># Masks horizontal 100 and 200</span>
    <span class="na">detector_rows</span> <span class="o">=</span> <span class="s">[100, 200]</span>
</pre></div>
</div>
</div>
<div class="section" id="mask-hx-hy">
<h3><a class="toc-backref" href="#id22">MASK hx&gt;hy</a><a class="headerlink" href="#mask-hx-hy" title="Permalink to this headline">¶</a></h3>
<p><strong>Replacement</strong></p>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="k">[mask]</span>
  <span class="na">[mask.spatial.rear]  # Or front</span>
    <span class="na">detector_row_ranges</span> <span class="o">=</span> <span class="s">[[x, y]]</span>
</pre></div>
</div>
<p><strong>Existing Example</strong></p>
<div class="highlight-none"><div class="highlight"><pre><span></span>mask h126&gt;h127
</pre></div>
</div>
<p><strong>Existing Replacement</strong></p>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="k">[mask]</span>
  <span class="k">[mask.spatial.rear]</span>
    <span class="c1"># Masks horizontal 126 AND 127</span>
    <span class="c1"># Also includes 130-135 to show multiple can be masked</span>
    <span class="na">detector_row_ranges</span> <span class="o">=</span> <span class="s">[[126, 127], [130, 135]]</span>
</pre></div>
</div>
</div>
<div class="section" id="mask-v">
<h3><a class="toc-backref" href="#id23">MASK v</a><a class="headerlink" href="#mask-v" title="Permalink to this headline">¶</a></h3>
<p><strong>Replacement</strong></p>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="k">[mask]</span>
  <span class="na">[mask.spatial.rear]  # Or front</span>
    <span class="na">detector_rows</span> <span class="o">=</span> <span class="s">[v1, v2, v3, ...vn]</span>
</pre></div>
</div>
<p><strong>Existing Example</strong></p>
<div class="highlight-none"><div class="highlight"><pre><span></span>mask/rear v100
mask/rear v200
</pre></div>
</div>
<p><strong>Existing Replacement</strong></p>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="k">[mask]</span>
  <span class="k">[mask.spatial.rear]</span>
    <span class="c1"># Masks vertical 100 and 200</span>
    <span class="na">detector_columns</span> <span class="o">=</span> <span class="s">[100, 200]</span>
</pre></div>
</div>
</div>
<div class="section" id="mask-vx-vy">
<h3><a class="toc-backref" href="#id24">MASK vx&gt;vy</a><a class="headerlink" href="#mask-vx-vy" title="Permalink to this headline">¶</a></h3>
<p><strong>Replacement</strong></p>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="k">[mask]</span>
  <span class="na">[mask.spatial.rear]  # Or front</span>
    <span class="na">detector_column_ranges</span> <span class="o">=</span> <span class="s">[[x, y]]</span>
</pre></div>
</div>
<p><strong>Existing Example</strong></p>
<div class="highlight-none"><div class="highlight"><pre><span></span>mask v126&gt;v127
</pre></div>
</div>
<p><strong>Existing Replacement</strong></p>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="k">[mask]</span>
  <span class="k">[mask.spatial.rear]</span>
    <span class="c1"># Masks vertical 126 AND 127</span>
    <span class="c1"># Also includes 130-135 to show multiple can be masked</span>
    <span class="na">detector_column_ranges</span> <span class="o">=</span> <span class="s">[[126, 127], [130, 135]]</span>
</pre></div>
</div>
</div>
<div class="section" id="mask-sn">
<h3><a class="toc-backref" href="#id25">MASK Sn</a><a class="headerlink" href="#mask-sn" title="Permalink to this headline">¶</a></h3>
<p><strong>Replacement</strong></p>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="k">[mask]</span>
  <span class="na">mask_pixels</span> <span class="o">=</span> <span class="s">[n1, n2, ...n]</span>
</pre></div>
</div>
<p><strong>Existing Example</strong></p>
<div class="highlight-none"><div class="highlight"><pre><span></span>MASK S123
MASK S456
</pre></div>
</div>
<p><strong>Existing Replacement</strong></p>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="k">[mask]</span>
  <span class="na">mask_pixels</span> <span class="o">=</span> <span class="s">[123, 456]</span>
</pre></div>
</div>
</div>
<div class="section" id="mask-t-x-y">
<h3><a class="toc-backref" href="#id26">MASK/T x y</a><a class="headerlink" href="#mask-t-x-y" title="Permalink to this headline">¶</a></h3>
<p><strong>Replacement</strong></p>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="k">[mask]</span>
  <span class="k">[mask.time]</span>
    <span class="na">tof</span> <span class="o">=</span> <span class="s">[</span>
<span class="s">        {start = x1, stop = y1},</span>
<span class="s">        {start = x2, stop = y2},</span>
<span class="s">        # ...etc</span>
<span class="s">    ]</span>
</pre></div>
</div>
<p><strong>Existing Example</strong></p>
<div class="highlight-none"><div class="highlight"><pre><span></span># Note multiple lines can be collapsed into one section
MASK/T 19711.5 21228.5
MASK/T 39354.5 41348.5
</pre></div>
</div>
<p><strong>Existing Replacement</strong></p>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="k">[mask]</span>
  <span class="k">[mask.time]</span>
    <span class="na">tof</span> <span class="o">=</span> <span class="s">[</span>
<span class="s">      {start = 19711.5, stop = 21228.5},</span>
<span class="s">      {start = 39354.5, stop = 41348.5}</span>
<span class="s">    ]</span>
</pre></div>
</div>
</div>
<div class="section" id="mask-clear-time">
<h3><a class="toc-backref" href="#id27">MASK/CLEAR[/TIME]</a><a class="headerlink" href="#mask-clear-time" title="Permalink to this headline">¶</a></h3>
<p><strong>Replacement</strong>
Unsupported</p>
</div>
<div class="section" id="mask-line-x-y">
<h3><a class="toc-backref" href="#id28">MASK/LINE x y</a><a class="headerlink" href="#mask-line-x-y" title="Permalink to this headline">¶</a></h3>
<p><strong>Replacement</strong></p>
<div class="highlight-guess"><div class="highlight"><pre><span></span>beamstop_shadow = {width = x, angle = y}
</pre></div>
</div>
<p><strong>Existing Example:</strong></p>
<div class="highlight-none"><div class="highlight"><pre><span></span>MASK/LINE 30 170
</pre></div>
</div>
<p><strong>Existing Replacement</strong></p>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="k">[mask]</span>
  <span class="na">beamstop_shadow</span> <span class="o">=</span> <span class="s">{width = 0.03, angle = 170.0}</span>
</pre></div>
</div>
</div>
<div class="section" id="mon-direct-filename">
<h3><a class="toc-backref" href="#id29">MON/DIRECT=”filename”</a><a class="headerlink" href="#mon-direct-filename" title="Permalink to this headline">¶</a></h3>
<p><strong>Replacement</strong></p>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="k">[detector]</span>
  <span class="k">[detector.calibration.direct]</span>
    <span class="na">rear_file</span> <span class="o">=</span> <span class="s">&quot;filename&quot;</span>
<span class="s">    front_file = &quot;filename&quot;</span>
</pre></div>
</div>
<p><strong>Existing Example:</strong></p>
<div class="highlight-none"><div class="highlight"><pre><span></span>MON/DIRECT=DIRECT_RUN524.dat
</pre></div>
</div>
<p><strong>Existing Replacement</strong></p>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="k">[detector]</span>
  <span class="k">[detector.calibration.direct]</span>
    <span class="na">rear_file</span> <span class="o">=</span> <span class="s">&quot;DIRECT_RUN524.dat&quot;</span>
<span class="s">    front_file = &quot;DIRECT_RUN524.dat&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="mon-flat-str">
<h3><a class="toc-backref" href="#id30">MON/FLAT=str</a><a class="headerlink" href="#mon-flat-str" title="Permalink to this headline">¶</a></h3>
<p><strong>Replacement</strong></p>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="k">[detector]</span>
  <span class="k">[detector.calibration.flat]</span>
    <span class="na">rear_file</span> <span class="o">=</span> <span class="s">&quot;str&quot;</span>
</pre></div>
</div>
<p><strong>Existing Example:</strong></p>
<div class="highlight-none"><div class="highlight"><pre><span></span>MON/FLAT=&quot;flat_file.091&quot;
</pre></div>
</div>
<p><strong>Existing Replacement</strong></p>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="k">[detector]</span>
  <span class="k">[detector.calibration.flat]</span>
    <span class="na">rear_file</span> <span class="o">=</span> <span class="s">&quot;flat_file.091&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="mon-length">
<h3><a class="toc-backref" href="#id31">MON/LENGTH</a><a class="headerlink" href="#mon-length" title="Permalink to this headline">¶</a></h3>
<p><strong>Replacement</strong>
Unsupported</p>
</div>
<div class="section" id="mon-trans-spectrum-n-interpolate">
<h3><a class="toc-backref" href="#id32">MON [/TRANS] /SPECTRUM=n [/INTERPOLATE]</a><a class="headerlink" href="#mon-trans-spectrum-n-interpolate" title="Permalink to this headline">¶</a></h3>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="k">[normalisation]</span>
  <span class="c1">#Normalisation monitor</span>

  <span class="c1"># This name is used below so if there was a monitor called FOO1</span>
  <span class="c1"># this would work with it</span>
  <span class="na">selected_monitor</span> <span class="o">=</span> <span class="s">&quot;M1&quot;</span>

  <span class="k">[normalisation.monitor.M1]</span>
    <span class="na">spectrum_number</span> <span class="o">=</span> <span class="s">n</span>
</pre></div>
</div>
<p><strong>Existing Example:</strong></p>
<div class="highlight-none"><div class="highlight"><pre><span></span>MON/SPECTRUM=1
</pre></div>
</div>
<p><strong>Existing Replacement</strong></p>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="k">[normalisation]</span>
  <span class="c1">#Normalisation monitor</span>

  <span class="c1"># This name is used below so if there was a monitor called FOO1</span>
  <span class="c1"># this would work with it</span>
  <span class="na">selected_monitor</span> <span class="o">=</span> <span class="s">&quot;M1&quot;</span>

  <span class="k">[normalisation.monitor.M1]</span>
    <span class="na">spectrum_number</span> <span class="o">=</span> <span class="s">1</span>
</pre></div>
</div>
</div>
<div class="section" id="set-centre-a-b-c-d">
<h3><a class="toc-backref" href="#id33">set centre a b c d</a><a class="headerlink" href="#set-centre-a-b-c-d" title="Permalink to this headline">¶</a></h3>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="k">[detector]</span>
  <span class="k">[detector.configuration]</span>
    <span class="na">front_centre</span> <span class="o">=</span> <span class="s">{x=a, y=b}</span>
<span class="s">    rear_centre = {x=c, y=d}</span>
</pre></div>
</div>
<p><strong>Existing Example:</strong></p>
<div class="highlight-none"><div class="highlight"><pre><span></span>set centre 84.2 -196.5 5.1 5.1
</pre></div>
</div>
<p><strong>Existing Replacement</strong></p>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="k">[detector]</span>
  <span class="k">[detector.configuration]</span>
    <span class="c1"># Note for identical results the values will</span>
    <span class="c1"># only take a and b in the above example due to a bug</span>
    <span class="c1"># with the legacy user file parser</span>
    <span class="na">front_centre</span> <span class="o">=</span> <span class="s">{x=0.0842, y=-0.1965}</span>
<span class="s">    rear_centre = {x=0.0842, y=-0.1965}</span>
</pre></div>
</div>
</div>
<div class="section" id="set-scales-a-b-c-d">
<h3><a class="toc-backref" href="#id34">set scales a b c d</a><a class="headerlink" href="#set-scales-a-b-c-d" title="Permalink to this headline">¶</a></h3>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="k">[detector]</span>
  <span class="k">[detector.configuration]</span>
    <span class="na">front_scale</span> <span class="o">=</span> <span class="s">b</span>
<span class="s">    rear_scale = a</span>
</pre></div>
</div>
<p><strong>Existing Example:</strong></p>
<div class="highlight-none"><div class="highlight"><pre><span></span>set scales 1.497 1.0 1.0 1.0 1.0
</pre></div>
</div>
<p><strong>Existing Replacement</strong></p>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="k">[detector]</span>
  <span class="k">[detector.configuration]</span>
    <span class="na">front_scale</span> <span class="o">=</span> <span class="s">1.0</span>
<span class="s">    rear_scale = 1.497</span>
</pre></div>
</div>
</div>
<div class="section" id="trans-transspec-n">
<h3><a class="toc-backref" href="#id35">TRANS/TRANSSPEC=n</a><a class="headerlink" href="#trans-transspec-n" title="Permalink to this headline">¶</a></h3>
<p><strong>Replacement</strong></p>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="k">[transmission]</span>
  <span class="c1"># Where Mn is arbitrary but must match the section label</span>
  <span class="na">selected_monitor</span> <span class="o">=</span> <span class="s">&quot;Mn&quot;</span>

  <span class="k">[transmission.monitor.Mn]</span>
    <span class="na">spectrum_number</span> <span class="o">=</span> <span class="s">n</span>
</pre></div>
</div>
<p><strong>Existing Example:</strong></p>
<div class="highlight-none"><div class="highlight"><pre><span></span>TRANS/TRANSPEC=3
</pre></div>
</div>
<p><strong>Existing Replacement</strong></p>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="k">[transmission]</span>
  <span class="na">selected_monitor</span> <span class="o">=</span> <span class="s">&quot;M3&quot;</span>

  <span class="k">[transmission.monitor.M3]</span>
    <span class="na">spectrum_number</span> <span class="o">=</span> <span class="s">3</span>
</pre></div>
</div>
</div>
<div class="section" id="tubecalibfile-str">
<h3><a class="toc-backref" href="#id36">TUBECALIBFILE=str</a><a class="headerlink" href="#tubecalibfile-str" title="Permalink to this headline">¶</a></h3>
<p><strong>Replacement</strong></p>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="k">[detector]</span>

<span class="k">[detector.calibration.tube]</span>
  <span class="na">file</span> <span class="o">=</span> <span class="s">&quot;str&quot;</span>
</pre></div>
</div>
<p><strong>Existing Example:</strong></p>
<div class="highlight-none"><div class="highlight"><pre><span></span>TUBECALIBFILE=Tube.nxs
</pre></div>
</div>
<p><strong>Existing Replacement</strong></p>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="k">[detector]</span>

<span class="k">[detector.calibration.tube]</span>
  <span class="na">file</span> <span class="o">=</span> <span class="s">&quot;Tube.nxs&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="qresol-on-off">
<h3><a class="toc-backref" href="#id37">QRESOL[/ON][/OFF]</a><a class="headerlink" href="#qresol-on-off" title="Permalink to this headline">¶</a></h3>
<p><strong>Replacement</strong></p>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="k">[q_resolution]</span>
  <span class="na">enabled</span> <span class="o">=</span> <span class="s">true  # Or false</span>
</pre></div>
</div>
<p><strong>Existing Example:</strong></p>
<div class="highlight-none"><div class="highlight"><pre><span></span>QRESOL/ON
</pre></div>
</div>
<p><strong>Existing Replacement</strong></p>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="k">[q_resolution]</span>
  <span class="na">enabled</span> <span class="o">=</span> <span class="s">true  # Or false</span>
</pre></div>
</div>
<p><strong>Category</strong>: <a class="reference external" href="categories/Techniques.html">Techniques</a></p>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="ISIS_Reflectometry.html" title="Previous Chapter: ISIS Reflectometry"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; ISIS Reflectometry</span>
    </a>
  </li>
  <li>
    <a href="../api/index.html" title="Next Chapter: API"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">API &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
      Last updated on 2020-09-29.<br/>
    </p>
  </div>
</footer>
  </body>
</html>