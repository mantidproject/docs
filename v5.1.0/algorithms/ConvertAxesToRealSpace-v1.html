<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>ConvertAxesToRealSpace v1</title>
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '5.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="ConvertAxisByFormula v1" href="ConvertAxisByFormula-v1.html" />
    <link rel="prev" title="ConjoinXRuns v1" href="ConjoinXRuns-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>5.1</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://docs.mantidproject.org/nightly/">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="convertaxestorealspace-v1">
<span id="algm-convertaxestorealspace"></span><span id="algm-convertaxestorealspace-v1"></span><h1>ConvertAxesToRealSpace v1<a class="headerlink" href="#convertaxestorealspace-v1" title="Permalink to this headline">¶</a></h1>
<div class="figure align-right" id="id1">
<span id="index-0"></span><a class="screenshot reference internal image-reference" href="../_images/ConvertAxesToRealSpace-v1_dlg.png"><img alt="../_images/ConvertAxesToRealSpace-v1_dlg.png" class="screenshot" src="../_images/ConvertAxesToRealSpace-v1_dlg.png" style="width: 308px;" /></a>
<p class="caption"><span class="caption-text"><strong>ConvertAxesToRealSpace</strong> dialog.</span></p>
</div>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#summary" id="id4">Summary</a><ul>
<li><a class="reference internal" href="#see-also" id="id5">See Also</a></li>
</ul>
</li>
<li><a class="reference internal" href="#properties" id="id6">Properties</a></li>
<li><a class="reference internal" href="#description" id="id7">Description</a><ul>
<li><a class="reference internal" href="#axes-units" id="id8">Axes Units</a></li>
</ul>
</li>
<li><a class="reference internal" href="#usage" id="id9">Usage</a></li>
<li><a class="reference internal" href="#source" id="id10">Source</a></li>
</ul>
</div>
<div class="section" id="summary">
<h2><a class="toc-backref" href="#id4">Summary</a><a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>Converts the spectrum and TOF axes to real space values, integrating the data in the process</p>
<div class="section" id="see-also">
<h3><a class="toc-backref" href="#id5">See Also</a><a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="ConvertSpectrumAxis-v2.html#algm-convertspectrumaxis"><span class="std std-ref">ConvertSpectrumAxis</span></a>, <a class="reference internal" href="ConvertUnits-v1.html#algm-convertunits"><span class="std std-ref">ConvertUnits</span></a></p>
</div>
</div>
<div class="section" id="properties">
<h2><a class="toc-backref" href="#id6">Properties</a><a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="11%" />
<col width="4%" />
<col width="21%" />
<col width="6%" />
<col width="58%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Direction</th>
<th class="head">Type</th>
<th class="head">Default</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>InputWorkspace</td>
<td>Input</td>
<td><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><span class="std std-ref">MatrixWorkspace</span></a></td>
<td><em>Mandatory</em></td>
<td>An input workspace.</td>
</tr>
<tr class="row-odd"><td>OutputWorkspace</td>
<td>Output</td>
<td><a class="reference internal" href="../concepts/Workspace2D.html#workspace2d"><span class="std std-ref">Workspace2D</span></a></td>
<td>&#160;</td>
<td>An output workspace.</td>
</tr>
<tr class="row-even"><td>VerticalAxis</td>
<td>Input</td>
<td>string</td>
<td>y</td>
<td>What will be the vertical axis ?  Allowed values: [‘x’, ‘y’, ‘z’, ‘r’, ‘theta’, ‘phi’, ‘2theta’, ‘signed2theta’]</td>
</tr>
<tr class="row-odd"><td>HorizontalAxis</td>
<td>Input</td>
<td>string</td>
<td>2theta</td>
<td>What will be the horizontal axis?  Allowed values: [‘x’, ‘y’, ‘z’, ‘r’, ‘theta’, ‘phi’, ‘2theta’, ‘signed2theta’]</td>
</tr>
<tr class="row-even"><td>NumberVerticalBins</td>
<td>Input</td>
<td>number</td>
<td>100</td>
<td>The number of bins along the vertical axis.</td>
</tr>
<tr class="row-odd"><td>NumberHorizontalBins</td>
<td>Input</td>
<td>number</td>
<td>100</td>
<td>The number of bins along the horizontal axis.</td>
</tr>
</tbody>
</table>
<div class="figure align-right" id="id2">
<img alt="ConvertAxesToRealSpace_LET_y_x.png" src="../_images/ConvertAxesToRealSpace_LET_y_x.png" />
<p class="caption"><span class="caption-text">LET converted to X and Y</span></p>
</div>
</div>
<div class="section" id="description">
<h2><a class="toc-backref" href="#id7">Description</a><a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>This converts the workspace into a 2D view of real space detector positions based on the detector positions.  This is intended for rapid visualization and has been optimized for speed for use in Live data streams.
If the data provided has data binned in Time of flight or any other unit this will be integrated into a single value per detector, before converting to the selected detector and rebinning to the new grid.
The output grid is based in the maximum and minimum values of the detectors for axes selected, and the number of bins selected.  The rebinning is simply based on centre point rebinning,
and as such can be prone to moire based artefacts, however it is fast.</p>
<p>As the rebinning approach is simple centre point rebinning then the quality of the final plot is sensitive to the number of bins selected for each axis, too many will cause gaps between the detectors, and too few will cause overlap in certain bins.</p>
<div class="figure align-center" id="id3">
<img alt="ConvertAxesToRealSpace_LET_y_2theta.png" src="../_images/ConvertAxesToRealSpace_LET_y_2theta.png" />
<p class="caption"><span class="caption-text">LET in 2Theta and Y</span></p>
</div>
<div class="section" id="axes-units">
<h3><a class="toc-backref" href="#id8">Axes Units</a><a class="headerlink" href="#axes-units" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="28%" />
<col width="9%" />
<col width="63%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Units</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>x, y ,z</td>
<td>meters</td>
<td>The absolute position of the detector as defined
in the instrument definition.</td>
</tr>
<tr class="row-odd"><td>r</td>
<td>meters</td>
<td rowspan="2">The absolute position of the detector in
spherical coordinates, relative to 0,0,0 as
defined in the instrument definition.</td>
</tr>
<tr class="row-even"><td>theta, phi</td>
<td>degrees</td>
</tr>
<tr class="row-odd"><td>2theta</td>
<td>radians</td>
<td>The theta position of the detector relative to
sample position and the beam direction.
if the sample is at 0,0,0 and the beam direction
matches, then this will match theta above.</td>
</tr>
<tr class="row-even"><td>signed2Theta</td>
<td>radians</td>
<td>Similar to 2theta, but with a sign calculated
relative to the instrument reference frame, with
the upper quadrants taking the positive value</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="usage">
<h2><a class="toc-backref" href="#id9">Usage</a><a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p><strong>Example - ConvertAxesToRealSpace</strong></p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">ws</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">(</span><span class="n">BankPixelWidth</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="c1">#move the 2nd bank to a better position</span>
<span class="n">MoveInstrumentComponent</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span><span class="s2">&quot;bank2&quot;</span><span class="p">,</span><span class="n">X</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span><span class="n">Z</span><span class="o">=-</span><span class="mi">5</span><span class="p">,</span><span class="n">RelativePosition</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">wsOut</span> <span class="o">=</span> <span class="n">ConvertAxesToRealSpace</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span><span class="s2">&quot;y&quot;</span><span class="p">,</span><span class="s2">&quot;2theta&quot;</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">20</span><span class="p">)</span>

<span class="c1"># Print the result</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The output workspace has axes of </span><span class="si">{}</span><span class="s2"> with </span><span class="si">{}</span><span class="s2"> bins&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">wsOut</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">getUnit</span><span class="p">()</span><span class="o">.</span><span class="n">caption</span><span class="p">(),</span> <span class="n">wsOut</span><span class="o">.</span><span class="n">getNumberHistograms</span><span class="p">()))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;and </span><span class="si">{}</span><span class="s2"> with </span><span class="si">{}</span><span class="s2"> bins.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">wsOut</span><span class="o">.</span><span class="n">getAxis</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">getUnit</span><span class="p">()</span><span class="o">.</span><span class="n">caption</span><span class="p">(),</span> <span class="n">wsOut</span><span class="o">.</span><span class="n">blocksize</span><span class="p">()))</span>
</pre></div>
</div>
<div class="figure align-right">
<img alt="ConvertAxesToRealSpace_Example.png" src="../_images/ConvertAxesToRealSpace_Example.png" />
</div>
<p>Output:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>The output workspace has axes of y with 20 bins
and 2theta with 20 bins.
</pre></div>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/AlgorithmIndex.html">AlgorithmIndex</a> | <a class="reference external" href="categories/Transforms/Units.html">Transforms\Units</a> | <a class="reference external" href="categories/Transforms/Axes.html">Transforms\Axes</a></p>
</div>
<div class="section" id="source">
<h2><a class="toc-backref" href="#id10">Source</a><a class="headerlink" href="#source" title="Permalink to this headline">¶</a></h2>
<p>C++ header: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/4bf80a7e778829043647a0f1f1511c68ec66963d/Framework/Algorithms/inc/MantidAlgorithms/ConvertAxesToRealSpace.h">ConvertAxesToRealSpace.h</a> <em>(last modified: 2020-03-20)</em></p>
<p>C++ source: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/4bf80a7e778829043647a0f1f1511c68ec66963d/Framework/Algorithms/src/ConvertAxesToRealSpace.cpp">ConvertAxesToRealSpace.cpp</a> <em>(last modified: 2020-04-07)</em></p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="ConjoinXRuns-v1.html" title="Previous Chapter: ConjoinXRuns v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; ConjoinXRuns v1</span>
    </a>
  </li>
  <li>
    <a href="ConvertAxisByFormula-v1.html" title="Next Chapter: ConvertAxisByFormula v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">ConvertAxisBy... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
      Last updated on 2020-09-29.<br/>
    </p>
  </div>
</footer>
  </body>
</html>