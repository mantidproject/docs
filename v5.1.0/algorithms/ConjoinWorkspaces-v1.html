<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>ConjoinWorkspaces v1</title>
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '5.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="ConjoinXRuns v1" href="ConjoinXRuns-v1.html" />
    <link rel="prev" title="ConjoinSpectra v1" href="ConjoinSpectra-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>5.1</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://docs.mantidproject.org/nightly/">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="conjoinworkspaces-v1">
<span id="algm-conjoinworkspaces"></span><span id="algm-conjoinworkspaces-v1"></span><h1>ConjoinWorkspaces v1<a class="headerlink" href="#conjoinworkspaces-v1" title="Permalink to this headline">¶</a></h1>
<div class="figure align-right" id="id1">
<span id="index-0"></span><a class="screenshot reference internal image-reference" href="../_images/ConjoinWorkspaces-v1_dlg.png"><img alt="../_images/ConjoinWorkspaces-v1_dlg.png" class="screenshot" src="../_images/ConjoinWorkspaces-v1_dlg.png" style="width: 308px;" /></a>
<p class="caption"><span class="caption-text"><strong>ConjoinWorkspaces</strong> dialog.</span></p>
</div>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#summary" id="id2">Summary</a><ul>
<li><a class="reference internal" href="#see-also" id="id3">See Also</a></li>
</ul>
</li>
<li><a class="reference internal" href="#properties" id="id4">Properties</a></li>
<li><a class="reference internal" href="#description" id="id5">Description</a></li>
<li><a class="reference internal" href="#conjoinworkspaces-operation" id="id6">ConjoinWorkspaces operation</a><ul>
<li><a class="reference internal" href="#conflict-spectrum-numbers" id="id7">Conflict Spectrum Numbers</a></li>
<li><a class="reference internal" href="#restrictions-on-the-input-workspace" id="id8">Restrictions on the input workspace</a></li>
<li><a class="reference internal" href="#y-axis-units-and-labels" id="id9">Y axis units and labels</a></li>
<li><a class="reference internal" href="#exception" id="id10">Exception</a></li>
</ul>
</li>
<li><a class="reference internal" href="#usage" id="id11">Usage</a></li>
<li><a class="reference internal" href="#source" id="id12">Source</a></li>
</ul>
</div>
<div class="section" id="summary">
<h2><a class="toc-backref" href="#id2">Summary</a><a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>Join two workspaces together by appending their spectra.</p>
<div class="section" id="see-also">
<h3><a class="toc-backref" href="#id3">See Also</a><a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="ConjoinSpectra-v1.html#algm-conjoinspectra"><span class="std std-ref">ConjoinSpectra</span></a>, <a class="reference internal" href="ConjoinXRuns-v1.html#algm-conjoinxruns"><span class="std std-ref">ConjoinXRuns</span></a>, <a class="reference internal" href="MergeRuns-v1.html#algm-mergeruns"><span class="std std-ref">MergeRuns</span></a></p>
</div>
</div>
<div class="section" id="properties">
<h2><a class="toc-backref" href="#id4">Properties</a><a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="5%" />
<col width="34%" />
<col width="10%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Direction</th>
<th class="head">Type</th>
<th class="head">Default</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>InputWorkspace1</td>
<td>InOut</td>
<td><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><span class="std std-ref">MatrixWorkspace</span></a></td>
<td><em>Mandatory</em></td>
<td>The name of the first input workspace</td>
</tr>
<tr class="row-odd"><td>InputWorkspace2</td>
<td>Input</td>
<td><a class="reference internal" href="../concepts/MatrixWorkspace.html#matrixworkspace"><span class="std std-ref">MatrixWorkspace</span></a></td>
<td><em>Mandatory</em></td>
<td>The name of the second input workspace</td>
</tr>
<tr class="row-even"><td>CheckOverlapping</td>
<td>Input</td>
<td>boolean</td>
<td>True</td>
<td>Verify that the supplied data do not overlap</td>
</tr>
<tr class="row-odd"><td>YAxisLabel</td>
<td>Input</td>
<td>string</td>
<td>&#160;</td>
<td>The label to set the Y axis to</td>
</tr>
<tr class="row-even"><td>YAxisUnit</td>
<td>Input</td>
<td>string</td>
<td>&#160;</td>
<td>The unit to set the Y axis to</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="description">
<h2><a class="toc-backref" href="#id5">Description</a><a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>This algorithm can be useful when working with large datasets. It
enables the raw file to be loaded in two parts (not necessarily of equal
size), the data processed in turn and the results joined back together
into a single dataset. This can help avoid memory problems either
because intermediate workspaces will be smaller and/or because the data
will be much reduced after processing.</p>
<p>The output of the algorithm, in which the data from the second input
workspace will be appended to the first, will be stored under the name
of the first input workspace. Workspace data members other than the data
(e.g. instrument etc.) will be copied from the first input workspace
(but if they’re not identical anyway, then you probably shouldn’t be
using this algorithm!). Both input workspaces will be deleted.</p>
</div>
<div class="section" id="conjoinworkspaces-operation">
<h2><a class="toc-backref" href="#id6">ConjoinWorkspaces operation</a><a class="headerlink" href="#conjoinworkspaces-operation" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="48%" />
<col width="52%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Example case with input workspaces having
2 and 3 spectra respectively.</td>
<td><a class="first last reference internal image-reference" href="../_images/ConjoinWorkspaces.png"><img alt="ConjoinWorkspaces operation" src="../_images/ConjoinWorkspaces.png" style="width: 400px; height: 150px;" /></a>
</td>
</tr>
</tbody>
</table>
<div class="section" id="conflict-spectrum-numbers">
<h3><a class="toc-backref" href="#id7">Conflict Spectrum Numbers</a><a class="headerlink" href="#conflict-spectrum-numbers" title="Permalink to this headline">¶</a></h3>
<p>The algorithm adds the spectra from the first workspace and then the
second workspace.</p>
<ul class="simple">
<li>The original spectrum Nos will be respected if there is no conflict
of spectrum Nos between the first workspace and the second.</li>
<li>If there are conflict in spectrum Nos, such that some spectrum Nos
appear in both workspace1 and workspace2, then it will be resolved
such that the spectrum Nos of spectra coming from workspace2 will be
reset to some integer numbers larger than the largest spectrum No of
the spectra from workspace1. Assuming that the largest spectrum No of
workspace1 is S, then for any spectrum of workspace wi in workspace2,
its spectrum No is equal to (S+1)+wi+offset, where offset is a
non-negative integer.</li>
</ul>
</div>
<div class="section" id="restrictions-on-the-input-workspace">
<h3><a class="toc-backref" href="#id8">Restrictions on the input workspace</a><a class="headerlink" href="#restrictions-on-the-input-workspace" title="Permalink to this headline">¶</a></h3>
<p>The input workspaces must come from the same instrument, have common
units and bins and no detectors that contribute to spectra should
overlap.</p>
</div>
<div class="section" id="y-axis-units-and-labels">
<h3><a class="toc-backref" href="#id9">Y axis units and labels</a><a class="headerlink" href="#y-axis-units-and-labels" title="Permalink to this headline">¶</a></h3>
<p>The optional parameters YAxisUnit and YAxisLabel can be used to change the
y axis unit and label when conjoining workspaces. Changing YAxisUnit updates
YAxisLabel automatically with the value of YAxisUnit, unless a separate value
is supplied.</p>
</div>
<div class="section" id="exception">
<h3><a class="toc-backref" href="#id10">Exception</a><a class="headerlink" href="#exception" title="Permalink to this headline">¶</a></h3>
<p>If property ‘CheckOverlapping’ is set to true, and there are spectra and/or detectors
are overlapping between two input workspaces,
then an ‘invalid_argument’ exception will be thrown from function ‘CheckForOverlap’.</p>
</div>
</div>
<div class="section" id="usage">
<h2><a class="toc-backref" href="#id11">Usage</a><a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p><strong>ConjoinWorkspaces Example</strong></p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">ws1</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">(</span><span class="n">WorkspaceType</span><span class="o">=</span><span class="s2">&quot;Histogram&quot;</span><span class="p">,</span> <span class="n">NumBanks</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">BankPixelWidth</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">BinWidth</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">Xmax</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Number of spectra in first workspace = </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ws1</span><span class="o">.</span><span class="n">getNumberHistograms</span><span class="p">()))</span>
<span class="n">ws2</span> <span class="o">=</span> <span class="n">CreateSampleWorkspace</span><span class="p">(</span><span class="n">WorkspaceType</span><span class="o">=</span><span class="s2">&quot;Histogram&quot;</span><span class="p">,</span> <span class="n">NumBanks</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">BankPixelWidth</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">BinWidth</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">Xmax</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Number of spectra in second workspace = </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ws2</span><span class="o">.</span><span class="n">getNumberHistograms</span><span class="p">()))</span>
<span class="n">ConjoinWorkspaces</span><span class="p">(</span><span class="n">InputWorkspace1</span><span class="o">=</span><span class="n">ws1</span><span class="p">,</span> <span class="n">InputWorkspace2</span><span class="o">=</span><span class="n">ws2</span><span class="p">,</span> <span class="n">CheckOverlapping</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">YAxisUnit</span><span class="o">=</span><span class="s2">&quot;New unit&quot;</span><span class="p">,</span> <span class="n">YAxisLabel</span><span class="o">=</span><span class="s2">&quot;New label&quot;</span><span class="p">)</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">mtd</span><span class="p">[</span><span class="s1">&#39;ws1&#39;</span><span class="p">]</span> <span class="c1"># Have to update workspace from ADS, as it is an in-out parameter</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Number of spectra after ConjoinWorkspaces = </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ws</span><span class="o">.</span><span class="n">getNumberHistograms</span><span class="p">()))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Y unit is </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ws</span><span class="o">.</span><span class="n">YUnit</span><span class="p">()))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Y label </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ws</span><span class="o">.</span><span class="n">YUnitLabel</span><span class="p">()))</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>Number of spectra in first workspace = 2
Number of spectra in second workspace = 3
Number of spectra after ConjoinWorkspaces = 5
Y unit is New unit
Y label New label
</pre></div>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/AlgorithmIndex.html">AlgorithmIndex</a> | <a class="reference external" href="categories/Transforms/Merging.html">Transforms\Merging</a></p>
</div>
<div class="section" id="source">
<h2><a class="toc-backref" href="#id12">Source</a><a class="headerlink" href="#source" title="Permalink to this headline">¶</a></h2>
<p>C++ header: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/4bf80a7e778829043647a0f1f1511c68ec66963d/Framework/Algorithms/inc/MantidAlgorithms/ConjoinWorkspaces.h">ConjoinWorkspaces.h</a> <em>(last modified: 2020-03-20)</em></p>
<p>C++ source: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/4bf80a7e778829043647a0f1f1511c68ec66963d/Framework/Algorithms/src/ConjoinWorkspaces.cpp">ConjoinWorkspaces.cpp</a> <em>(last modified: 2020-04-07)</em></p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="ConjoinSpectra-v1.html" title="Previous Chapter: ConjoinSpectra v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; ConjoinSpectra v1</span>
    </a>
  </li>
  <li>
    <a href="ConjoinXRuns-v1.html" title="Next Chapter: ConjoinXRuns v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">ConjoinXRuns v1 &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
      Last updated on 2020-09-29.<br/>
    </p>
  </div>
</footer>
  </body>
</html>