<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>LoadWAND v1</title>
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '6.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="LoadWANDSCD v1" href="LoadWANDSCD-v1.html" />
    <link rel="prev" title="LoadVisionInelastic v1" href="LoadVisionInelastic-v1.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.0</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://docs.mantidproject.org/nightly/">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <p><span class="math">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<div class="section" id="loadwand-v1">
<span id="algm-loadwand"></span><span id="algm-loadwand-v1"></span><h1>LoadWAND v1<a class="headerlink" href="#loadwand-v1" title="Permalink to this headline">¶</a></h1>
<div class="figure align-right" id="id1">
<span id="index-0"></span><a class="screenshot reference internal image-reference" href="../_images/LoadWAND-v1_dlg.png"><img alt="../_images/LoadWAND-v1_dlg.png" class="screenshot" src="../_images/LoadWAND-v1_dlg.png" style="width: 329px;" /></a>
<p class="caption"><span class="caption-text"><strong>LoadWAND</strong> dialog.</span></p>
</div>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#summary" id="id2">Summary</a></li>
<li><a class="reference internal" href="#properties" id="id3">Properties</a></li>
<li><a class="reference internal" href="#description" id="id4">Description</a></li>
<li><a class="reference internal" href="#usage" id="id5">Usage</a></li>
<li><a class="reference internal" href="#source" id="id6">Source</a></li>
</ul>
</div>
<div class="section" id="summary">
<h2><a class="toc-backref" href="#id2">Summary</a><a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>Loads Event Nexus file, integrates events, sets wavelength, mask, and goniometer, and sets proton charge to monitor counts</p>
</div>
<div class="section" id="properties">
<h2><a class="toc-backref" href="#id3">Properties</a><a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="6%" />
<col width="24%" />
<col width="10%" />
<col width="48%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Direction</th>
<th class="head">Type</th>
<th class="head">Default</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Filename</td>
<td>Input</td>
<td>list of str lists</td>
<td>&#160;</td>
<td>Files to Load. Allowed extensions: [‘.nxs.h5’]</td>
</tr>
<tr class="row-odd"><td>IPTS</td>
<td>Input</td>
<td>number</td>
<td><em>Optional</em></td>
<td>IPTS number to load from</td>
</tr>
<tr class="row-even"><td>RunNumbers</td>
<td>Input</td>
<td>long list</td>
<td>&#160;</td>
<td>Run numbers to load</td>
</tr>
<tr class="row-odd"><td>Wavelength</td>
<td>Input</td>
<td>number</td>
<td>1.488</td>
<td>Wavelength to set the workspace</td>
</tr>
<tr class="row-even"><td>ApplyMask</td>
<td>Input</td>
<td>boolean</td>
<td>True</td>
<td>If True standard masking will be applied to the workspace</td>
</tr>
<tr class="row-odd"><td>Grouping</td>
<td>Input</td>
<td>string</td>
<td>None</td>
<td>Group pixels. Allowed values: [‘None’, ‘2x2’, ‘4x4’]</td>
</tr>
<tr class="row-even"><td>OutputWorkspace</td>
<td>Output</td>
<td><a class="reference internal" href="../concepts/Workspace.html#workspace"><span class="std std-ref">Workspace</span></a></td>
<td><em>Mandatory</em></td>
<td>&#160;</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="description">
<h2><a class="toc-backref" href="#id4">Description</a><a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>This algorithm uses <a class="reference internal" href="LoadEventNexus-v1.html#algm-loadeventnexus"><span class="std std-ref">LoadEventNexus v1</span></a> to load a WAND² data
file after which it will integrate out the events, apply a standard
mask, change units to wavelength and set the wavelength, set the
goniometer, and set the proton charge to be the number of monitor
counts.</p>
<p>The standard mask includes the top and bottom 2 rows of pixels and the
last 6 columns for run numbers up to 26600 or the first and last 2
columns for larger run numbers.</p>
<p>After this algorithm loads the workspace it can be correctly converted
to Q sample or HKL using <a class="reference internal" href="ConvertToMD-v1.html#algm-converttomd"><span class="std std-ref">ConvertToMD v1</span></a>. If it’s a powder
sample it can be reduced with <a class="reference internal" href="WANDPowderReduction-v1.html#algm-wandpowderreduction"><span class="std std-ref">WANDPowderReduction v1</span></a>.</p>
<p>If you need to do event filtering don’t use this algorithm, simply use
<a class="reference internal" href="LoadEventNexus-v1.html#algm-loadeventnexus"><span class="std std-ref">LoadEventNexus v1</span></a> and convert to data manually.</p>
<p>You can specify multiple files in the filename property or set the
IPTS and RunNumbers, where RunNumbers can be a range or list of
numbers, see Usage example below. If multiple files are loaded they
will be named ‘OutputWorkspace’+’_runnumber’ and be grouped in
‘OutputWorkspace’.</p>
<p>There is a grouping option to group pixels by either 2x2 or 4x4 which
will help in reducing memory usage and speed up the later reduction
steps. In most cases you will not see a difference in reduced data
with 4x4 pixel grouping.</p>
</div>
<div class="section" id="usage">
<h2><a class="toc-backref" href="#id5">Usage</a><a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p><strong>Example - LoadWAND</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">silicon</span> <span class="o">=</span> <span class="n">LoadWAND</span><span class="p">(</span><span class="s1">&#39;/HFIR/HB2C/IPTS-7776/nexus/HB2C_26506.nxs.h5&#39;</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s2">&quot;Workspace has {0} spectrum and {1} point in units {2}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">silicon</span><span class="o">.</span><span class="n">getNumberHistograms</span><span class="p">(),</span>
                                                                     <span class="n">silicon</span><span class="o">.</span><span class="n">blocksize</span><span class="p">(),</span>
                                                                     <span class="n">silicon</span><span class="o">.</span><span class="n">getXDimension</span><span class="p">()</span><span class="o">.</span><span class="n">name</span><span class="p">))</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>Workspace has 1966080 spectrum and 1 point in units Wavelength
</pre></div>
</div>
<p><strong>Load using Multiple file</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">silicon</span> <span class="o">=</span> <span class="n">LoadWAND</span><span class="p">(</span><span class="s1">&#39;/HFIR/HB2C/IPTS-7776/nexus/HB2C_26506.nxs.h5,/HFIR/HB2C/IPTS-7776/nexus/HB2C_26507.nxs.h5&#39;</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s2">&quot;Workspace group {0} has {1} workspaces {2} and {3}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">silicon</span><span class="o">.</span><span class="n">name</span><span class="p">(),</span>
                                                                  <span class="n">silicon</span><span class="o">.</span><span class="n">getNumberOfEntries</span><span class="p">(),</span>
                                                                  <span class="n">silicon</span><span class="o">.</span><span class="n">getNames</span><span class="p">()[</span><span class="mi">0</span><span class="p">],</span>
                                                                  <span class="n">silicon</span><span class="o">.</span><span class="n">getNames</span><span class="p">()[</span><span class="mi">1</span><span class="p">]))</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>Workspace group silicon has 2 workspaces silicon_26506 and silicon_26507
</pre></div>
</div>
<p><strong>Load using IPTS and run numbers</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># Comma-separated list</span>
<span class="n">silicon</span> <span class="o">=</span> <span class="n">LoadWAND</span><span class="p">(</span><span class="n">IPTS</span><span class="o">=</span><span class="mi">7776</span><span class="p">,</span><span class="n">RunNumbers</span><span class="o">=</span><span class="s1">&#39;26506,26507&#39;</span><span class="p">)</span>
<span class="c1"># or range</span>
<span class="n">silicon</span> <span class="o">=</span> <span class="n">LoadWAND</span><span class="p">(</span><span class="n">IPTS</span><span class="o">=</span><span class="mi">7776</span><span class="p">,</span><span class="n">RunNumbers</span><span class="o">=</span><span class="s1">&#39;26506-26507&#39;</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s2">&quot;Workspace group {0} has {1} workspaces {2} and {3}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">silicon</span><span class="o">.</span><span class="n">name</span><span class="p">(),</span>
                                                                  <span class="n">silicon</span><span class="o">.</span><span class="n">getNumberOfEntries</span><span class="p">(),</span>
                                                                  <span class="n">silicon</span><span class="o">.</span><span class="n">getNames</span><span class="p">()[</span><span class="mi">0</span><span class="p">],</span>
                                                                  <span class="n">silicon</span><span class="o">.</span><span class="n">getNames</span><span class="p">()[</span><span class="mi">1</span><span class="p">]))</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>Workspace group silicon has 2 workspaces silicon_26506 and silicon_26507
</pre></div>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/AlgorithmIndex.html">AlgorithmIndex</a> | <a class="reference external" href="categories/DataHandling/Nexus.html">DataHandling\Nexus</a></p>
</div>
<div class="section" id="source">
<h2><a class="toc-backref" href="#id6">Source</a><a class="headerlink" href="#source" title="Permalink to this headline">¶</a></h2>
<p>Python: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/be3e0b0ee38557d9593e311f5a2f06503b508191/Framework/PythonInterface/plugins/algorithms/WorkflowAlgorithms/LoadWAND.py">LoadWAND.py</a> <em>(last modified: 2020-04-08)</em></p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="LoadVisionInelastic-v1.html" title="Previous Chapter: LoadVisionInelastic v1"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; LoadVisionIne...</span>
    </a>
  </li>
  <li>
    <a href="LoadWANDSCD-v1.html" title="Next Chapter: LoadWANDSCD v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">LoadWANDSCD v1 &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
      Last updated on 2021-02-09.<br/>
    </p>
  </div>
</footer>
  </body>
</html>