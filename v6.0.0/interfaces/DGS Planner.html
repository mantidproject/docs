<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>DGS Planner</title>
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '6.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="DataProcessor widget: a guide for Mantid developers" href="DataProcessorWidget.html" />
    <link rel="prev" title="Crystal Field Python Interface" href="Crystal Field Python Interface.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.0</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://docs.mantidproject.org/nightly/">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <p><span class="math">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<div class="section" id="dgs-planner">
<h1>DGS Planner<a class="headerlink" href="#dgs-planner" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#overview" id="id1">Overview</a></li>
<li><a class="reference internal" href="#instrument-options" id="id2">Instrument options</a></li>
<li><a class="reference internal" href="#sample-settings" id="id3">Sample settings</a></li>
<li><a class="reference internal" href="#viewing-axes" id="id4">Viewing axes</a></li>
<li><a class="reference internal" href="#plotting" id="id5">Plotting</a></li>
</ul>
</div>
<div class="figure align-right">
<a class="reference internal image-reference" href="../_images/DGSPlanner.png"><img alt="DGSPlanner.png" src="../_images/DGSPlanner.png" style="width: 734px;" /></a>
</div>
<div class="section" id="overview">
<h2><a class="toc-backref" href="#id1">Overview</a><a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>DGSPlanner is an interface for plotting expected coverage
for direct geometry time-of-flight instruments. It is based on the
<a class="reference internal" href="../algorithms/CalculateCoverageDGS-v1.html#algm-calculatecoveragedgs"><span class="std std-ref">CalculateCoverageDGS</span></a> algorithm.</p>
</div>
<div class="section" id="instrument-options">
<h2><a class="toc-backref" href="#id2">Instrument options</a><a class="headerlink" href="#instrument-options" title="Permalink to this headline">¶</a></h2>
<p>One can select an <strong>Instrument</strong> from the list. Please contact
the Mantid developer team to add more options. The latest instrument
geometry is loaded from the instrument definition file. In the case
of HYSPEC, a value for the <strong>S2</strong> angle is required. The monochromator to sample distance is
chosen to be msd=1798.5.
The <strong>Incident Energy</strong> is in mili-electron-Volts. The <strong>Fast</strong> option will use only 25% of the detectors
to calculate the coverage.
One can use a previously saved Mantid workspace containing a mask, the <strong>Mask file</strong> option,
to eliminate from the coverage calculations detectors that are masked in the experiment.</p>
<p>The <strong>Goniometer</strong> settings follow the Mantid convention (see <a class="reference internal" href="../algorithms/SetGoniometer-v1.html#algm-setgoniometer"><span class="std std-ref">SetGoniometer</span></a>.
The default values follow the goniometer description in <a class="reference external" href="http://horace.isis.rl.ac.uk/Generating_SQW_files">Horace</a>.
The name of the axis is just used for plotting. z direction (0,0,1) is along the beam, y direction (0,1,0)
is pointing vertically upward, and the x direction (1,0,0) is in the horizontal plane, perpendicular to z.
The <strong>Sense</strong> is either 1 for counterclockwise rotations, or -1 for clockwise rotation.
The minimum, maximum, and step values for each goniometer axis describe all sample positions for which the
trajectories calculation are made. If more than 10 orientations are selected, the user will be promted
to proceed, since this might take longer.</p>
</div>
<div class="section" id="sample-settings">
<h2><a class="toc-backref" href="#id3">Sample settings</a><a class="headerlink" href="#sample-settings" title="Permalink to this headline">¶</a></h2>
<p>Information about the sample can be introduced either in terms of <strong>Lattice parameters</strong> and orientation vectors,
or the <strong>UB matrix</strong>. One can also load an ISAW UB matrix or load the UB matrix from the Nexus metadata. For
more information, look at <a class="reference internal" href="../algorithms/SetUB-v1.html#algm-setub"><span class="std std-ref">SetUB</span></a></p>
</div>
<div class="section" id="viewing-axes">
<h2><a class="toc-backref" href="#id4">Viewing axes</a><a class="headerlink" href="#viewing-axes" title="Permalink to this headline">¶</a></h2>
<p>The default projection axes are [H,0,0], [0,K,0], [0,0,L], and DeltaE. One can modify
the momentum transfer components by changing the <strong>Projection Basis</strong>. Modifying these values
will automatically change the viewing axes labels on the left.
For example, if Projection u is 1,1,1, the first label on the left
side is going to be [H,H,H].</p>
<p>The first viewing axis is going to be the x axis of the plot, the second is the y axis.
One can choose an integration range in the other two directions. When swapping viewing axes, the
program remembers settings for minimum, maximum, and step.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If the angle between the x and y viewing axes is not 90 degrees, the plot will have non-orthogonal axes</p>
</div>
</div>
<div class="section" id="plotting">
<h2><a class="toc-backref" href="#id5">Plotting</a><a class="headerlink" href="#plotting" title="Permalink to this headline">¶</a></h2>
<p>Clicking on the <strong>Plot</strong> button will generate a plot of the coverage for the selected instrument, for all the
goniometer settings. One can <strong>Overplot</strong> a different configuration (goniometer setting, incident energy, or
instrument). If the lattice parameters are different, or the projection basis / viewing axes have changed, the
<strong>Overplot</strong> will just automatically revert to <strong>Plot</strong>. If <strong>Color by angle</strong> option is selected,
each goniometer setting will have a different color. The blue indicates lower first angle.</p>
<p>In some case, for example when sample has a hexagonal lattice, one might wish to use the <strong>Aspect ratio 1:1</strong> option,
which would force the x and y to have the same lengths. Please do not use it if one of the axis is DeltaE, since this
can yield very elongated figures.</p>
<p>The <strong>?</strong> button will show this help page.</p>
<p>The <strong>Save Figure</strong> button will save the image on the right, and information about the instrument, goniometer, sample,
and integration limits into a png file.</p>
<p><strong>Category</strong>: <a class="reference external" href="categories/Interfaces.html">Interfaces</a></p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="Crystal Field Python Interface.html" title="Previous Chapter: Crystal Field Python Interface"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Crystal Field...</span>
    </a>
  </li>
  <li>
    <a href="DataProcessorWidget.html" title="Next Chapter: DataProcessor widget: a guide for Mantid developers"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">DataProcessor... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
      Last updated on 2021-02-09.<br/>
    </p>
  </div>
</footer>
  </body>
</html>