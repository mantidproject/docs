<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>LoadDNSLegacy v1</title>
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.6/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '5.1.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="LoadDNSSCD v1" href="LoadDNSSCD-v1.html" />
    <link rel="prev" title="LoadCanSAS1D v2" href="LoadCanSAS1D-v2.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org"><img src="../_static/Mantid_Logo_Transparent.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>5.1</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://www.mantidproject.org">Home</a></li>
                <li><a href="http://download.mantidproject.org">Download</a></li>
                <li><a href="http://docs.mantidproject.org/nightly/">Documentation</a></li>
                <li><a href="http://www.mantidproject.org/Contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="loaddnslegacy-v1">
<span id="algm-loaddnslegacy"></span><span id="algm-loaddnslegacy-v1"></span><h1>LoadDNSLegacy v1<a class="headerlink" href="#loaddnslegacy-v1" title="Permalink to this headline">¶</a></h1>
<div class="figure align-right" id="id1">
<span id="index-0"></span><a class="screenshot reference internal image-reference" href="../_images/LoadDNSLegacy-v1_dlg.png"><img alt="../_images/LoadDNSLegacy-v1_dlg.png" class="screenshot" src="../_images/LoadDNSLegacy-v1_dlg.png" style="width: 344px;" /></a>
<p class="caption"><span class="caption-text"><strong>LoadDNSLegacy</strong> dialog.</span></p>
</div>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#summary" id="id2">Summary</a></li>
<li><a class="reference internal" href="#properties" id="id3">Properties</a></li>
<li><a class="reference internal" href="#description" id="id4">Description</a></li>
<li><a class="reference internal" href="#usage" id="id5">Usage</a></li>
<li><a class="reference internal" href="#source" id="id6">Source</a></li>
</ul>
</div>
<div class="section" id="summary">
<h2><a class="toc-backref" href="#id2">Summary</a><a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>Load the DNS Legacy data file to the mantid workspace.</p>
</div>
<div class="section" id="properties">
<h2><a class="toc-backref" href="#id3">Properties</a><a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="11%" />
<col width="4%" />
<col width="18%" />
<col width="7%" />
<col width="59%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Direction</th>
<th class="head">Type</th>
<th class="head">Default</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Filename</td>
<td>Input</td>
<td>string</td>
<td><em>Mandatory</em></td>
<td>Name of DNS experimental data file. Allowed extensions: [‘.d_dat’]</td>
</tr>
<tr class="row-odd"><td>CoilCurrentsTable</td>
<td>Input</td>
<td>string</td>
<td>&#160;</td>
<td>Name of file containing table of coil currents and polarisations. Allowed extensions: [‘.txt’]</td>
</tr>
<tr class="row-even"><td>OutputWorkspace</td>
<td>Output</td>
<td><a class="reference internal" href="../concepts/Workspace.html#workspace"><span class="std std-ref">Workspace</span></a></td>
<td><em>Mandatory</em></td>
<td>Name of the workspace to store the experimental data.</td>
</tr>
<tr class="row-odd"><td>Normalization</td>
<td>Input</td>
<td>string</td>
<td>duration</td>
<td>Kind of data normalization. Allowed values: [‘duration’, ‘monitor’, ‘no’]</td>
</tr>
<tr class="row-even"><td>ElasticChannel</td>
<td>Input</td>
<td>number</td>
<td>0</td>
<td>Time channel number where elastic peak is observed. Only for TOF data.</td>
</tr>
<tr class="row-odd"><td>Wavelength</td>
<td>Input</td>
<td>number</td>
<td>0</td>
<td>Wavelength in nm. If 0 will be read from data file.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="description">
<h2><a class="toc-backref" href="#id4">Description</a><a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This algorithm is being developed for a specific instrument. It might get changed or even
removed without a notification, should instrument scientists decide to do so.</p>
</div>
<p>This algorithm loads a DNS legacy data file into a <a class="reference internal" href="../concepts/Workspace2D.html#workspace2d"><span class="std std-ref">Workspace2D</span></a>. The loader rotates the detector bank
in the position given in the data file.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If the data file contains wrong neutron wavelength, the correct wavelength (in Angstrom) can be specified in the <strong>Wavelength</strong> field.
Leave it 0 if you are not sure. In this case wavelength will be read from the data file.</p>
</div>
<p><strong>Output</strong></p>
<ul class="simple">
<li>For diffraction mode data (only one time channel) output is the <a class="reference internal" href="../concepts/Workspace2D.html#workspace2d"><span class="std std-ref">Workspace2D</span></a> with the X-axis in the wavelength units.</li>
<li>For TOF data (more than one time channel) output is the <a class="reference internal" href="../concepts/Workspace2D.html#workspace2d"><span class="std std-ref">Workspace2D</span></a> with the X-axis in TOF units. The lower bin boundary for the channel <img class="math" src="../_images/math/4cc7324e0d6c8c591e4d865a21144bda81fd3011.png" alt="i" style="vertical-align: 0px"/>, <img class="math" src="../_images/math/7f9dce9227228b2163d33d6dbbdecccacda4f0c4.png" alt="t_i" style="vertical-align: -3px"/> is calculated as <img class="math" src="../_images/math/11de59e22bcb7851104d8a0cb4fddd417d0e7b51.png" alt="t_i = t_1 + t_{delay} + i*\Delta t" style="vertical-align: -6px"/>, where <img class="math" src="../_images/math/cabd7c47f34308d79dcac4792e1997876e1873cd.png" alt="\Delta t" style="vertical-align: 0px"/> is the channel width and <img class="math" src="../_images/math/af5a28ca8a321b443076a2fa13d823926ea6a26e.png" alt="t_1" style="vertical-align: -4px"/> is the time-of-flight from the source (chopper) to sample. Given in the data file channel width is scaled by the <em>channel_width_factor</em> which can be set in the <a class="reference internal" href="../concepts/InstrumentParameterFile.html#instrumentparameterfile"><span class="std std-ref">parameter file</span></a>.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Since zero time channel is not specified, the algorithm can roll the TOF data to get elastic peak at the right position.
For this the <strong>ElasticChannel</strong> - channel number where the elastic peak is observed without correction - should be specified.
For commissioning period, the algorithm ignores the elastic channel number given in the data file.</p>
</div>
<p><strong>Normalization</strong></p>
<p>The <strong>Normalization</strong> option offers the following choices:</p>
<ul class="simple">
<li><strong>duration</strong>: data in the output workspace will be divided by experiment duration. The <em>normalized</em> sample log will be set to <em>duration</em>.</li>
<li><strong>monitor</strong>: data in the output workspace will be divided by monitor counts. The <em>normalized</em> sample log will be set to <em>monitor</em>.</li>
<li><strong>no</strong>: no normalization will be performed, data will be loaded as is. The <em>normalized</em> sample log will be set to <em>no</em>.</li>
</ul>
<p><strong>Polarisation</strong></p>
<p>Since polarisation is not specified in the DNS legacy files, coil currents table is required to lookup for the polarisation and set the <em>polarisation</em> sample log. The default coil currents are given as <em>x_currents</em>, <em>y_currents</em> and <em>z_currents</em> parameters in the <a class="reference internal" href="../concepts/InstrumentParameterFile.html#instrumentparameterfile"><span class="std std-ref">parameter file</span></a> for x, y, and z polarisations, respectively.</p>
<p>Alternatively, the text file with the coil currents table may be provided (optionally). The coil currents table is a text file containing the following table.</p>
<table border="1" class="docutils">
<colgroup>
<col width="27%" />
<col width="19%" />
<col width="13%" />
<col width="13%" />
<col width="13%" />
<col width="13%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">polarisation</th>
<th class="head">comment</th>
<th class="head">C_a</th>
<th class="head">C_b</th>
<th class="head">C_c</th>
<th class="head">C_z</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>x</td>
<td>7</td>
<td>0</td>
<td>-2</td>
<td>-0.77</td>
<td>2.21</td>
</tr>
<tr class="row-odd"><td>y</td>
<td>7</td>
<td>0</td>
<td>1.6</td>
<td>-2.77</td>
<td>2.21</td>
</tr>
<tr class="row-even"><td>z</td>
<td>7</td>
<td>0</td>
<td>0.11</td>
<td>-0.50</td>
<td>0</td>
</tr>
<tr class="row-odd"><td>x</td>
<td>7</td>
<td>0</td>
<td>-2.1</td>
<td>-0.97</td>
<td>2.21</td>
</tr>
</tbody>
</table>
<p>First row must contain the listed column headers, other rows contain coil currents for each polarisation. Rows with different currents for one polarisation are allowed. Columns are separated by tab symbols.</p>
<p>This algorithm only supports DNS instrument in its configuration with one detector bank (polarisation analysis).</p>
</div>
<div class="section" id="usage">
<h2><a class="toc-backref" href="#id5">Usage</a><a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p><strong>Example 1 - Load DNS diffraction mode .d_dat file:</strong></p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># data file</span>
<span class="n">datafile</span> <span class="o">=</span> <span class="s1">&#39;dn134011vana.d_dat&#39;</span>

<span class="c1"># Load dataset</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">LoadDNSLegacy</span><span class="p">(</span><span class="n">datafile</span><span class="p">,</span> <span class="n">Normalization</span><span class="o">=</span><span class="s1">&#39;monitor&#39;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;This workspace has </span><span class="si">{}</span><span class="s2"> dimensions and has </span><span class="si">{}</span><span class="s2"> histograms.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ws</span><span class="o">.</span><span class="n">getNumDims</span><span class="p">(),</span> <span class="n">ws</span><span class="o">.</span><span class="n">getNumberHistograms</span><span class="p">()))</span>
</pre></div>
</div>
<p><strong>Output:</strong></p>
<div class="highlight-none"><div class="highlight"><pre><span></span>This workspace has 2 dimensions and has 24 histograms.
</pre></div>
</div>
<p><strong>Example 2 - Load DNS TOF mode .d_dat file and find the elastic channel:</strong></p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># data file</span>
<span class="n">datafile</span> <span class="o">=</span> <span class="s1">&#39;dnstof.d_dat&#39;</span>

<span class="c1"># Load dataset</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">LoadDNSLegacy</span><span class="p">(</span><span class="n">datafile</span><span class="p">,</span> <span class="n">Normalization</span><span class="o">=</span><span class="s1">&#39;no&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;This workspace has </span><span class="si">{}</span><span class="s2"> dimensions and has </span><span class="si">{}</span><span class="s2"> histograms.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ws</span><span class="o">.</span><span class="n">getNumDims</span><span class="p">(),</span> <span class="n">ws</span><span class="o">.</span><span class="n">getNumberHistograms</span><span class="p">()))</span>

<span class="c1"># sum spectra over all detectors</span>
<span class="n">ws_sum</span> <span class="o">=</span> <span class="n">SumSpectra</span><span class="p">(</span><span class="n">ws</span><span class="p">)</span>
<span class="c1"># perform fit</span>
<span class="c1"># Warning: this will work only if elastic peak is stronger than the other peaks!</span>
<span class="n">peak_center</span><span class="p">,</span> <span class="n">sigma</span> <span class="o">=</span> <span class="n">FitGaussian</span><span class="p">(</span><span class="n">ws_sum</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Elastic peak center is at </span><span class="si">{:.0f}</span><span class="s2"> microseconds and has sigma=</span><span class="si">{:.0f}</span><span class="s2">.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">peak_center</span><span class="p">),</span> <span class="nb">round</span><span class="p">(</span><span class="n">sigma</span><span class="p">)))</span>

<span class="c1"># calculate the elastic channel number</span>
<span class="n">channel_width</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">getRun</span><span class="p">()</span><span class="o">.</span><span class="n">getProperty</span><span class="p">(</span><span class="s2">&quot;channel_width&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">value</span>
<span class="n">tof1</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">getRun</span><span class="p">()</span><span class="o">.</span><span class="n">getProperty</span><span class="p">(</span><span class="s2">&quot;TOF1&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">value</span>
<span class="n">t_delay</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">getRun</span><span class="p">()</span><span class="o">.</span><span class="n">getProperty</span><span class="p">(</span><span class="s2">&quot;delay_time&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">value</span>
<span class="n">epp</span> <span class="o">=</span> <span class="nb">round</span><span class="p">((</span><span class="n">peak_center</span> <span class="o">-</span> <span class="n">tof1</span> <span class="o">-</span> <span class="n">t_delay</span><span class="p">)</span><span class="o">/</span><span class="n">channel_width</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The channel width is </span><span class="si">{}</span><span class="s2"> microseconds.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">channel_width</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The elastic channel number is: </span><span class="si">{:.0f}</span><span class="s2">.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">epp</span><span class="p">))</span>
</pre></div>
</div>
<p><strong>Output:</strong></p>
<div class="highlight-none"><div class="highlight"><pre><span></span>This workspace has 2 dimensions and has 24 histograms.
Elastic peak center is at 3023 microseconds and has sigma=62.
The channel width is 40.1 microseconds.
The elastic channel number is: 65.
</pre></div>
</div>
<p><strong>Example 3 - Load DNS TOF mode .d_dat file and specify the elastic channel and wavelength:</strong></p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># data file</span>
<span class="n">datafile</span> <span class="o">=</span> <span class="s1">&#39;dnstof.d_dat&#39;</span>

<span class="c1"># Load dataset</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">LoadDNSLegacy</span><span class="p">(</span><span class="n">datafile</span><span class="p">,</span> <span class="n">ElasticChannel</span><span class="o">=</span><span class="mi">65</span><span class="p">,</span> <span class="n">Normalization</span><span class="o">=</span><span class="s1">&#39;no&#39;</span><span class="p">,</span> <span class="n">Wavelength</span><span class="o">=</span><span class="mf">4.2</span><span class="p">)</span>

<span class="c1"># let&#39;s check that the elastic peak is at the right position</span>
<span class="kn">from</span> <span class="nn">scipy.constants</span> <span class="k">import</span> <span class="n">m_n</span><span class="p">,</span> <span class="n">h</span>

<span class="n">l1</span> <span class="o">=</span> <span class="mf">0.4</span>     <span class="c1"># distance from chopper to sample, m</span>
<span class="n">l2</span> <span class="o">=</span> <span class="mf">0.85</span>   <span class="c1"># distance from sample to detector, m</span>
<span class="n">wavelength</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">getRun</span><span class="p">()</span><span class="o">.</span><span class="n">getProperty</span><span class="p">(</span><span class="s2">&quot;wavelength&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">value</span>   <span class="c1"># neutron wavelength, Angstrom</span>

<span class="c1"># neutron velocity</span>
<span class="n">velocity</span> <span class="o">=</span> <span class="n">h</span><span class="o">/</span><span class="p">(</span><span class="n">m_n</span><span class="o">*</span><span class="n">wavelength</span><span class="o">*</span><span class="mf">1e-10</span><span class="p">)</span>

<span class="c1"># calculate elastic TOF (total)</span>
<span class="n">tof2_elastic</span> <span class="o">=</span> <span class="mf">1e+06</span><span class="o">*</span><span class="n">l2</span><span class="o">/</span><span class="n">velocity</span>
<span class="n">tof1</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">getRun</span><span class="p">()</span><span class="o">.</span><span class="n">getProperty</span><span class="p">(</span><span class="s2">&quot;TOF1&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">value</span>
<span class="n">t_delay</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">getRun</span><span class="p">()</span><span class="o">.</span><span class="n">getProperty</span><span class="p">(</span><span class="s2">&quot;delay_time&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">value</span>
<span class="n">tof_elastic</span> <span class="o">=</span> <span class="n">t_delay</span> <span class="o">+</span> <span class="n">tof1</span> <span class="o">+</span> <span class="n">tof2_elastic</span>
<span class="nb">print</span> <span class="p">(</span><span class="s2">&quot;Calculated elastic TOF: </span><span class="si">{:.0f}</span><span class="s2"> microseconds&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">tof_elastic</span><span class="p">)))</span>

<span class="c1"># get elastic TOF from file</span>
<span class="n">ws_sum</span> <span class="o">=</span> <span class="n">SumSpectra</span><span class="p">(</span><span class="n">ws</span><span class="p">)</span>
<span class="n">peak_center</span><span class="p">,</span> <span class="n">sigma</span> <span class="o">=</span> <span class="n">FitGaussian</span><span class="p">(</span><span class="n">ws_sum</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="nb">print</span> <span class="p">(</span><span class="s2">&quot;Elastic TOF in the workspace: </span><span class="si">{:.0f}</span><span class="s2"> microseconds&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">peak_center</span><span class="p">)))</span>

<span class="c1"># compare difference to the channel width</span>
<span class="n">channel_width</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">getRun</span><span class="p">()</span><span class="o">.</span><span class="n">getProperty</span><span class="p">(</span><span class="s2">&quot;channel_width&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">value</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Difference = </span><span class="si">{:.0f}</span><span class="s2"> microseconds &lt; channel width = </span><span class="si">{}</span><span class="s2"> microseconds.&quot;</span>
      <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">tof_elastic</span> <span class="o">-</span> <span class="n">peak_center</span><span class="p">),</span> <span class="n">channel_width</span><span class="p">,</span> <span class="nb">round</span><span class="p">(</span><span class="n">sigma</span><span class="p">)))</span>
<span class="n">channel_width</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">getRun</span><span class="p">()</span><span class="o">.</span><span class="n">getProperty</span><span class="p">(</span><span class="s2">&quot;channel_width&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">value</span>
</pre></div>
</div>
<p><strong>Output:</strong></p>
<div class="highlight-none"><div class="highlight"><pre><span></span>Calculated elastic TOF: 1327 microseconds
Elastic TOF in the workspace: 1299 microseconds
Difference = 28 microseconds &lt; channel width = 40.1 microseconds.
</pre></div>
</div>
<p><strong>Categories</strong>: <a class="reference external" href="categories/AlgorithmIndex.html">AlgorithmIndex</a> | <a class="reference external" href="categories/Workflow/MLZ/DNS.html">Workflow\MLZ\DNS</a> | <a class="reference external" href="categories/DataHandling/Text.html">DataHandling\Text</a></p>
</div>
<div class="section" id="source">
<h2><a class="toc-backref" href="#id6">Source</a><a class="headerlink" href="#source" title="Permalink to this headline">¶</a></h2>
<p>Python: <a class="reference external" href="https://github.com/mantidproject/mantid/blob/98431db1d0022558632d1e088c9c4b21d35b9356/Framework/PythonInterface/plugins/algorithms/LoadDNSLegacy.py">LoadDNSLegacy.py</a> <em>(last modified: 2020-03-27)</em></p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="LoadCanSAS1D-v2.html" title="Previous Chapter: LoadCanSAS1D v2"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; LoadCanSAS1D v2</span>
    </a>
  </li>
  <li>
    <a href="LoadDNSSCD-v1.html" title="Next Chapter: LoadDNSSCD v1"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">LoadDNSSCD v1 &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
      Last updated on 2020-10-23.<br/>
    </p>
  </div>
</footer>
  </body>
</html>